diff --git "a/tests\\app.js" "b/tests\\app_deobf_pretty.js"
index 411a842..8439397 100644
--- "a/tests\\app.js"
+++ "b/tests\\app_deobf_pretty.js"
@@ -1,15 +1,12 @@
 !(function (funcsArray) {
   var allFuncs = {};
-
   function getterFunc(index) {
     if (allFuncs[index]) return allFuncs[index].exports;
-
     var newFunc = (allFuncs[index] = {
       i: index,
       l: false,
       exports: {},
     });
-
     funcsArray[index].call(
       newFunc.exports,
       newFunc,
@@ -17,32 +14,24 @@
       getterFunc,
     );
     newFunc.l = true;
-
     return newFunc.exports;
   }
-
   getterFunc.m = funcsArray;
   getterFunc.c = allFuncs;
-
   getterFunc.d = function (e, t, n) {
-    getterFunc.o(e, t) ||
+    if (!getterFunc.o(e, t)) {
       Object.defineProperty(e, t, {
         enumerable: true,
         get: n,
       });
+    }
   };
-
   getterFunc.r = function (e) {
     ("undefined" != typeof Symbol &&
       Symbol.toStringTag &&
-      Object.defineProperty(e, Symbol.toStringTag, {
-        value: "Module",
-      }),
-      Object.defineProperty(e, "__esModule", {
-        value: true,
-      }));
+      Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
+      Object.defineProperty(e, "__esModule", { value: true }));
   };
-
   getterFunc.t = function (e, t) {
     if ((1 & t && (e = getterFunc(e)), 8 & t)) return e;
     if (4 & t && "object" == typeof e && e && e.__esModule) return e;
@@ -65,7 +54,6 @@
         );
     return n;
   };
-
   getterFunc.n = function (e) {
     var t =
       e && e.__esModule
@@ -77,11 +65,9 @@
           };
     return (getterFunc.d(t, "a", t), t);
   };
-
   getterFunc.o = function (e, t) {
     return Object.prototype.hasOwnProperty.call(e, t);
   };
-
   getterFunc.p = "/";
   getterFunc((getterFunc.s = 228));
 })([
@@ -91,7 +77,6 @@
     var o = getterFunc(23);
     var a = getterFunc(19);
     var s = getterFunc(34);
-
     var c = function e(t, i, c) {
       var u;
       var l;
@@ -108,7 +93,6 @@
           : (windowObject[i] || {}).prototype;
       var v = p ? r : r[i] || (r[i] = {});
       var y = v.prototype || (v.prototype = {});
-
       for (u in (p && (c = i), c)) {
         h = ((l = !d && _ && void 0 !== _[u]) ? _ : c)[u];
         f =
@@ -117,12 +101,17 @@
             : m && "function" == typeof h
               ? s(Function.call, h)
               : h;
-        _ && a(_, u, h, t & e.U);
-        v[u] != h && o(v, u, f);
-        m && y[u] != h && (y[u] = h);
+        if (_) {
+          a(_, u, h, t & e.U);
+        }
+        if (v[u] != h) {
+          o(v, u, f);
+        }
+        if (m && y[u] != h) {
+          y[u] = h;
+        }
       }
     };
-
     windowObject.core = r;
     c.F = 1;
     c.G = 2;
@@ -166,14 +155,14 @@
     }
     (r.from && r.alloc && r.allocUnsafe && r.allocUnsafeSlow
       ? (e.exports = n)
-      : (o(n, t), (t.Buffer = a)),
-      o(r, a),
-      (a.from = function (e, t, i) {
+      : (o(n, t), (t.Buffer = r)),
+      o(r, r),
+      (r.from = function (e, t, i) {
         if ("number" == typeof e)
           throw new TypeError("Argument must not be a number");
         return r(e, t, i);
       }),
-      (a.alloc = function (e, t, i) {
+      (r.alloc = function (e, t, i) {
         if ("number" != typeof e)
           throw new TypeError("Argument must be a number");
         var n = r(e);
@@ -186,12 +175,12 @@
           n
         );
       }),
-      (a.allocUnsafe = function (e) {
+      (r.allocUnsafe = function (e) {
         if ("number" != typeof e)
           throw new TypeError("Argument must be a number");
         return r(e);
       }),
-      (a.allocUnsafeSlow = function (e) {
+      (r.allocUnsafeSlow = function (e) {
         if ("number" != typeof e)
           throw new TypeError("Argument must be a number");
         return n.SlowBuffer(e);
@@ -221,7 +210,6 @@
         : "undefined" != typeof self && self.Math == Math
           ? self
           : Function("return this")());
-
     if (typeof __g == "number") __g = _window;
   },
   function (exp, t) {
@@ -299,7 +287,9 @@
                   (this.worldSize = t.worldSize),
                   (this.version = void 0 !== t.version ? t.version : 0));
               }
-              0 === this.version && this.clearData();
+              if (0 === this.version) {
+                this.clearData();
+              }
             },
           },
           {
@@ -462,14 +452,18 @@
             })(e, t, i, n)
           : "string" == typeof t
             ? (function (e, t, i) {
-                ("string" == typeof i && "" !== i) || (i = "utf8");
+                if (!("string" == typeof i && "" !== i)) {
+                  i = "utf8";
+                }
                 if (!Buffer.isEncoding(i))
                   throw new TypeError(
                     '"encoding" must be a valid string encoding',
                   );
                 var n = 0 | p(t, i),
                   r = (e = s(e, n)).write(t, i);
-                r !== n && (e = e.slice(0, r));
+                if (r !== n) {
+                  e = e.slice(0, r);
+                }
                 return e;
               })(e, t, i)
             : (function (e, t) {
@@ -531,7 +525,9 @@
           (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)
         )
           return e.byteLength;
-        "string" != typeof e && (e = "" + e);
+        if ("string" != typeof e) {
+          e = "" + e;
+        }
         var i = e.length;
         if (0 === i) return 0;
         for (var n = false; ; )
@@ -638,7 +634,9 @@
         n ? (n = Number(n)) > r && (n = r) : (n = r);
         var o = t.length;
         if (o % 2 != 0) throw new TypeError("Invalid hex string");
-        n > o / 2 && (n = o / 2);
+        if (n > o / 2) {
+          n = o / 2;
+        }
         for (var a = 0; a < n; ++a) {
           var s = parseInt(t.substr(2 * a, 2), 16);
           if (isNaN(s)) return a;
@@ -695,13 +693,13 @@
       function S(e, t, i) {
         i = Math.min(e.length, i);
         for (var n = [], r = t; r < i; ) {
-          var o,
-            a,
-            s,
-            c,
-            u = e[r],
-            l = null,
-            h = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
+          var o;
+          var a;
+          var s;
+          var c;
+          var u = e[r];
+          var l = null;
+          var h = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
           if (r + h <= i)
             switch (h) {
               case 1:
@@ -758,7 +756,9 @@
       }
       ((t.Buffer = Buffer),
         (t.SlowBuffer = function (e) {
-          +e != e && (e = 0);
+          if (+e != e) {
+            e = 0;
+          }
           return Buffer.alloc(+e);
         }),
         (t.INSPECT_MAX_BYTES = 50),
@@ -1020,7 +1020,9 @@
             (e.length > 0 && (i < 0 || t < 0)) || t > this.length)
           )
             throw new RangeError("Attempt to write outside buffer bounds");
-          n || (n = "utf8");
+          if (!n) {
+            n = "utf8";
+          }
           for (var o = false; ; )
             switch (n) {
               case "hex":
@@ -1088,13 +1090,17 @@
         if (i + n > e.length) throw new RangeError("Index out of range");
       }
       function D(e, t, i, n) {
-        t < 0 && (t = 65535 + t + 1);
+        if (t < 0) {
+          t = 65535 + t + 1;
+        }
         for (var r = 0, o = Math.min(e.length - i, 2); r < o; ++r)
           e[i + r] =
             (t & (255 << (8 * (n ? r : 1 - r)))) >>> (8 * (n ? r : 1 - r));
       }
       function L(e, t, i, n) {
-        t < 0 && (t = 4294967295 + t + 1);
+        if (t < 0) {
+          t = 4294967295 + t + 1;
+        }
         for (var r = 0, o = Math.min(e.length - i, 4); r < o; ++r)
           e[i + r] = (t >>> (8 * (n ? r : 3 - r))) & 255;
       }
@@ -1181,12 +1187,16 @@
           );
         }),
         (Buffer.prototype.readInt16LE = function (e, t) {
-          t || w(e, 2, this.length);
+          if (!t) {
+            w(e, 2, this.length);
+          }
           var i = this[e] | (this[e + 1] << 8);
           return 32768 & i ? 4294901760 | i : i;
         }),
         (Buffer.prototype.readInt16BE = function (e, t) {
-          t || w(e, 2, this.length);
+          if (!t) {
+            w(e, 2, this.length);
+          }
           var i = this[e + 1] | (this[e] << 8);
           return 32768 & i ? 4294901760 | i : i;
         }),
@@ -1221,8 +1231,9 @@
           return (t || w(e, 8, this.length), r.read(this, e, false, 52, 8));
         }),
         (Buffer.prototype.writeUIntLE = function (e, t, i, n) {
-          ((e = +e), (t |= 0), (i |= 0), n) ||
+          if (!((e = +e), (t |= 0), (i |= 0), n)) {
             I(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
+          }
           var r = 1,
             o = 0;
           for (this[t] = 255 & e; ++o < i && (r *= 256); )
@@ -1230,8 +1241,9 @@
           return t + i;
         }),
         (Buffer.prototype.writeUIntBE = function (e, t, i, n) {
-          ((e = +e), (t |= 0), (i |= 0), n) ||
+          if (!((e = +e), (t |= 0), (i |= 0), n)) {
             I(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
+          }
           var r = i - 1,
             o = 1;
           for (this[t + r] = 255 & e; --r >= 0 && (o *= 256); )
@@ -1433,7 +1445,9 @@
               1 === e.length)
             ) {
               var r = e.charCodeAt(0);
-              r < 256 && (e = r);
+              if (r < 256) {
+                e = r;
+              }
             }
             if (void 0 !== n && "string" != typeof n)
               throw new TypeError("encoding must be a string");
@@ -1452,8 +1466,8 @@
           )
             for (o = t; o < i; ++o) this[o] = e;
           else {
-            var a = Buffer.isBuffer(e) ? e : V(new Buffer(e, n).toString()),
-              s = a.length;
+            var a = Buffer.isBuffer(e) ? e : V(new Buffer(e, n).toString());
+            var s = a.length;
             for (o = 0; o < i - t; ++o) this[o + t] = a[o % s];
           }
           return this;
@@ -1469,11 +1483,15 @@
           if ((i = e.charCodeAt(a)) > 55295 && i < 57344) {
             if (!r) {
               if (i > 56319) {
-                (t -= 3) > -1 && o.push(239, 191, 189);
+                if ((t -= 3) > -1) {
+                  o.push(239, 191, 189);
+                }
                 continue;
               }
               if (a + 1 === n) {
-                (t -= 3) > -1 && o.push(239, 191, 189);
+                if ((t -= 3) > -1) {
+                  o.push(239, 191, 189);
+                }
                 continue;
               }
               r = i;
@@ -1813,8 +1831,8 @@
           if (((t = 0 | t || 1), 16 === (e = e || 10) || "hex" === e)) {
             i = "";
             for (var n = 0, o = 0, a = 0; a < this.length; a++) {
-              var s = this.words[a],
-                c = (16777215 & ((s << n) | o)).toString(16);
+              var s = this.words[a];
+              var c = (16777215 & ((s << n) | o)).toString(16);
               ((i =
                 0 !== (o = (s >>> (24 - n)) & 16777215) || a !== this.length - 1
                   ? l[6 - c.length] + c + i
@@ -1826,8 +1844,8 @@
             return (0 !== this.negative && (i = "-" + i), i);
           }
           if (e === (0 | e) && e >= 2 && e <= 36) {
-            var u = h[e],
-              d = f[e];
+            var u = h[e];
+            var d = f[e];
             i = "";
             var p = this.clone();
             for (p.negative = 0; !p.isZero(); ) {
@@ -1891,11 +1909,11 @@
                 var t = e,
                   i = 0;
                 return (
-                  t >= 4096 && ((i += 13), (t >>>= 13)),
-                  t >= 64 && ((i += 7), (t >>>= 7)),
-                  t >= 8 && ((i += 4), (t >>>= 4)),
-                  t >= 2 && ((i += 2), (t >>>= 2)),
-                  i + t
+                  e >= 4096 && ((i += 13), (t >>>= 13)),
+                  e >= 64 && ((i += 7), (t >>>= 7)),
+                  e >= 8 && ((i += 4), (t >>>= 4)),
+                  e >= 2 && ((i += 2), (t >>>= 2)),
+                  i + e
                 );
               }),
           (a.prototype._zeroBits = function (e) {
@@ -1903,11 +1921,11 @@
             var t = e,
               i = 0;
             return (
-              0 == (8191 & t) && ((i += 13), (t >>>= 13)),
-              0 == (127 & t) && ((i += 7), (t >>>= 7)),
-              0 == (15 & t) && ((i += 4), (t >>>= 4)),
-              0 == (3 & t) && ((i += 2), (t >>>= 2)),
-              0 == (1 & t) && i++,
+              0 == (8191 & e) && ((i += 13), (t >>>= 13)),
+              0 == (127 & e) && ((i += 7), (t >>>= 7)),
+              0 == (15 & e) && ((i += 4), (t >>>= 4)),
+              0 == (3 & e) && ((i += 2), (t >>>= 2)),
+              0 == (1 & e) && i++,
               i
             );
           }),
@@ -2706,9 +2724,9 @@
                           u <= c;
                           u++
                         ) {
-                          var l = o - u,
-                            h = (0 | e.words[l]) * (0 | t.words[u]),
-                            f = 67108863 & h;
+                          var l = o - u;
+                          var h = (0 | e.words[l]) * (0 | t.words[u]);
+                          var f = 67108863 & h;
                           ((s = 67108863 & (f = (f + s) | 0)),
                             (r +=
                               (a =
@@ -2717,7 +2735,7 @@
                                 0) >>> 26),
                             (a &= 67108863));
                         }
-                        ((i.words[o] = s), (n = a), (a = r));
+                        ((i.words[o] = s), (n = r), (a = r));
                       }
                       return (
                         0 !== n ? (i.words[o] = n) : i.length--,
@@ -2756,11 +2774,11 @@
                 l += s
               )
                 for (var h = c, f = u, d = 0; d < a; d++) {
-                  var p = i[l + d],
-                    m = n[l + d],
-                    g = i[l + d + a],
-                    _ = n[l + d + a],
-                    v = h * g - f * _;
+                  var p = i[l + d];
+                  var m = n[l + d];
+                  var g = i[l + d + a];
+                  var _ = n[l + d + a];
+                  var v = h * g - f * _;
                   ((_ = h * _ + f * g),
                     (g = v),
                     (i[l + d] = p + g),
@@ -2864,8 +2882,8 @@
           (a.prototype.imuln = function (e) {
             (assert("number" == typeof e), assert(e < 67108864));
             for (var t = 0, i = 0; i < this.length; i++) {
-              var n = (0 | this.words[i]) * e,
-                o = (67108863 & n) + (67108863 & t);
+              var n = (0 | this.words[i]) * e;
+              var o = (67108863 & n) + (67108863 & t);
               ((t >>= 26),
                 (t += (n / 67108864) | 0),
                 (t += o >>> 26),
@@ -2885,8 +2903,8 @@
           (a.prototype.pow = function (e) {
             var t = (function (e) {
               for (var t = new Array(e.bitLength()), i = 0; i < t.length; i++) {
-                var n = (i / 26) | 0,
-                  r = i % 26;
+                var n = (i / 26) | 0;
+                var r = i % 26;
                 t[i] = (e.words[n] & (1 << r)) >>> r;
               }
               return t;
@@ -2911,11 +2929,13 @@
             if (0 !== i) {
               var a = 0;
               for (t = 0; t < this.length; t++) {
-                var s = this.words[t] & o,
-                  c = ((0 | this.words[t]) - s) << i;
+                var s = this.words[t] & o;
+                var c = ((0 | this.words[t]) - s) << i;
                 ((this.words[t] = c | a), (a = s >>> (26 - i)));
               }
-              a && ((this.words[t] = a), this.length++);
+              if (a) {
+                ((this.words[t] = a), this.length++);
+              }
             }
             if (0 !== n) {
               for (t = this.length - 1; t >= 0; t--)
@@ -2936,22 +2956,22 @@
               a = Math.min((e - o) / 26, this.length),
               s = 67108863 ^ ((67108863 >>> o) << o),
               c = i;
-            if (((n -= a), (n = Math.max(0, n)), c)) {
+            if (((n -= a), (n = Math.max(0, n)), i)) {
               for (var u = 0; u < a; u++) c.words[u] = this.words[u];
               c.length = a;
             }
-            if (0 === a);
-            else if (this.length > a)
-              for (this.length -= a, u = 0; u < this.length; u++)
-                this.words[u] = this.words[u + a];
-            else ((this.words[0] = 0), (this.length = 1));
+            if (!(0 === a))
+              if (this.length > a)
+                for (this.length -= a, u = 0; u < this.length; u++)
+                  this.words[u] = this.words[u + a];
+              else ((this.words[0] = 0), (this.length = 1));
             var l = 0;
             for (u = this.length - 1; u >= 0 && (0 !== l || u >= n); u--) {
               var h = 0 | this.words[u];
               ((this.words[u] = (l << (26 - o)) | (h >>> o)), (l = h & s));
             }
             return (
-              c && 0 !== l && (c.words[c.length++] = l),
+              i && 0 !== l && (i.words[i.length++] = l),
               0 === this.length && ((this.words[0] = 0), (this.length = 1)),
               this.strip()
             );
@@ -3084,18 +3104,21 @@
             var i = (this.length, e.length),
               n = this.clone(),
               r = e,
-              o = 0 | r.words[r.length - 1];
-            0 !== (i = 26 - this._countBits(o)) &&
-              ((r = r.ushln(i)), n.iushln(i), (o = 0 | r.words[r.length - 1]));
+              o = 0 | e.words[e.length - 1];
+            if (0 !== (i = 26 - this._countBits(o))) {
+              ((r = e.ushln(i)), n.iushln(i), (o = 0 | e.words[e.length - 1]));
+            }
             var s,
-              c = n.length - r.length;
+              c = n.length - e.length;
             if ("mod" !== t) {
               (((s = new a(null)).length = c + 1),
                 (s.words = new Array(s.length)));
               for (var u = 0; u < s.length; u++) s.words[u] = 0;
             }
-            var l = n.clone()._ishlnsubmul(r, 1, c);
-            0 === l.negative && ((n = l), s && (s.words[c] = 1));
+            var l = n.clone()._ishlnsubmul(e, 1, c);
+            if (0 === l.negative) {
+              ((n = l), s && (s.words[c] = 1));
+            }
             for (var h = c - 1; h >= 0; h--) {
               var f =
                 67108864 * (0 | n.words[r.length + h]) +
@@ -3108,7 +3131,9 @@
                   (n.negative = 0),
                   n._ishlnsubmul(r, 1, h),
                   n.isZero() || (n.negative ^= 1));
-              s && (s.words[h] = f);
+              if (s) {
+                s.words[h] = f;
+              }
             }
             return (
               s && s.strip(),
@@ -3300,7 +3325,7 @@
               var r = t.cmp(i);
               if (r < 0) {
                 var o = t;
-                ((t = i), (i = o));
+                ((t = i), (i = t));
               } else if (0 === r || 0 === i.cmpn(1)) break;
               t.isub(i);
             }
@@ -3357,8 +3382,8 @@
             if (this.length > e.length) return 1;
             if (this.length < e.length) return -1;
             for (var t = 0, i = this.length - 1; i >= 0; i--) {
-              var n = 0 | this.words[i],
-                r = 0 | e.words[i];
+              var n = 0 | this.words[i];
+              var r = 0 | e.words[i];
               if (n !== r) {
                 n < r ? (t = -1) : n > r && (t = 1);
                 break;
@@ -3524,29 +3549,22 @@
             (this.tmp = this._tmp()));
         }
         function y() {
-          v.call(
-            this,
+          v(
             "k256",
             "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
           );
         }
         function b() {
-          v.call(
-            this,
+          v(
             "p224",
             "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
           );
         }
         function E() {
-          v.call(
-            this,
-            "p192",
-            "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
-          );
+          v("p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");
         }
         function T() {
-          v.call(
-            this,
+          v(
             "25519",
             "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
           );
@@ -3561,7 +3579,7 @@
               (this.prime = null));
         }
         function x(e) {
-          (A.call(this, e),
+          (A(e),
             (this.shift = this.m.bitLength()),
             this.shift % 26 != 0 && (this.shift += 26 - (this.shift % 26)),
             (this.r = new a(1).iushln(this.shift)),
@@ -3582,14 +3600,14 @@
               (this.split(i, this.tmp),
                 (t = (i = (i = this.imulK(i)).iadd(this.tmp)).bitLength()));
             } while (t > this.n);
-            var n = t < this.n ? -1 : i.ucmp(this.p);
+            var n = t < this.n ? -1 : e.ucmp(this.p);
             return (
               0 === n
-                ? ((i.words[0] = 0), (i.length = 1))
+                ? ((e.words[0] = 0), (e.length = 1))
                 : n > 0
-                  ? i.isub(this.p)
-                  : i.strip(),
-              i
+                  ? e.isub(this.p)
+                  : e.strip(),
+              e
             );
           }),
           (v.prototype.split = function (e, t) {
@@ -3634,8 +3652,8 @@
           o(T, v),
           (T.prototype.imulK = function (e) {
             for (var t = 0, i = 0; i < e.length; i++) {
-              var n = 19 * (0 | e.words[i]) + t,
-                r = 67108863 & n;
+              var n = 19 * (0 | e.words[i]) + t;
+              var r = 67108863 & n;
               ((n >>>= 26), (e.words[i] = r), (t = n));
             }
             return (0 !== t && (e.words[e.length++] = t), e);
@@ -3747,7 +3765,7 @@
           }),
           (A.prototype.invm = function (e) {
             var t = e._invmp(this.m);
-            return 0 !== t.negative
+            return 0 !== 0
               ? ((t.negative = 0), this.imod(t).redNeg())
               : this.imod(t);
           }),
@@ -3810,7 +3828,7 @@
               r.cmp(this.m) >= 0
                 ? (o = r.isub(this.m))
                 : r.cmpn(0) < 0 && (o = r.iadd(this.m)),
-              o._forceRed(this)
+              r._forceRed(this)
             );
           }),
           (x.prototype.mul = function (e, t) {
@@ -3827,7 +3845,7 @@
               r.cmp(this.m) >= 0
                 ? (o = r.isub(this.m))
                 : r.cmpn(0) < 0 && (o = r.iadd(this.m)),
-              o._forceRed(this)
+              r._forceRed(this)
             );
           }),
           (x.prototype.invm = function (e) {
@@ -3866,11 +3884,10 @@
     });
   },
   function (exp, t) {
-    var i = (exp.exports = {
-      version: "2.6.0",
-    });
-
-    "number" == typeof __e && (__e = i);
+    var i = (exp.exports = { version: "2.6.0" });
+    if ("number" == typeof __e) {
+      __e = i;
+    }
   },
   function (e, t) {
     function i(e) {
@@ -3889,14 +3906,15 @@
             })(e);
     }
     var n;
-    n = (function () {
-      return this;
-    })();
+    n = this;
     try {
-      n = n || new Function("return this")();
+      n = n || this;
     } catch (e) {
-      "object" === ("undefined" == typeof window ? "undefined" : i(window)) &&
-        (n = window);
+      if (
+        "object" === ("undefined" == typeof window ? "undefined" : i(window))
+      ) {
+        n = window;
+      }
     }
     e.exports = n;
   },
@@ -3953,21 +3971,21 @@
   function (e, t, getterFunc) {
     "use strict";
     var n = t;
-    ((n.version = getterFunc(549).version),
-      (n.utils = getterFunc(550)),
-      (n.rand = getterFunc(213)),
-      (n.curve = getterFunc(91)),
-      (n.curves = getterFunc(555)),
-      (n.ec = getterFunc(563)),
-      (n.eddsa = getterFunc(567)));
+    ((t.version = getterFunc(549).version),
+      (t.utils = getterFunc(550)),
+      (t.rand = getterFunc(213)),
+      (t.curve = getterFunc(91)),
+      (t.curves = getterFunc(555)),
+      (t.ec = getterFunc(563)),
+      (t.eddsa = getterFunc(567)));
   },
   function (e, t, i) {
     "use strict";
     (function (e) {
       function n(t, i, n, r, o, a, s) {
         try {
-          var c = t[a](s),
-            u = c.value;
+          var c = t[a](s);
+          var u = c.value;
         } catch (e) {
           return void n(e);
         }
@@ -4107,7 +4125,7 @@
                     }),
                   );
                   return function (t, i) {
-                    return e.apply(this, arguments);
+                    return e();
                   };
                 })(),
               },
@@ -4176,7 +4194,7 @@
                                         ),
                                       );
                                       return function (t, i) {
-                                        return e.apply(this, arguments);
+                                        return e();
                                       };
                                     })(),
                                   ),
@@ -4192,7 +4210,7 @@
                     }),
                   );
                   return function (e, t) {
-                    return i.apply(this, arguments);
+                    return i();
                   };
                 })(),
               },
@@ -4252,7 +4270,7 @@
                                         ),
                                       );
                                       return function (t, i) {
-                                        return e.apply(this, arguments);
+                                        return e();
                                       };
                                     })(),
                                   ),
@@ -4268,7 +4286,7 @@
                     }),
                   );
                   return function (e, t) {
-                    return i.apply(this, arguments);
+                    return i();
                   };
                 })(),
               },
@@ -4299,9 +4317,7 @@
                                     t: i,
                                     o: "message",
                                   },
-                                  p: {
-                                    signal: JSON.stringify(r),
-                                  },
+                                  p: { signal: JSON.stringify(r) },
                                 }),
                                   self.socket.send(JSON.stringify(o)));
                               case 5:
@@ -4315,7 +4331,7 @@
                     }),
                   );
                   return function (t, i, n, r) {
-                    return e.apply(this, arguments);
+                    return e();
                   };
                 })(),
               },
@@ -4367,7 +4383,7 @@
                     }),
                   );
                   return function (t, i) {
-                    return e.apply(this, arguments);
+                    return e();
                   };
                 })(),
               },
@@ -4395,7 +4411,9 @@
                       a = t.pathUrl(i);
                     (o.open(n, a),
                       (o.onreadystatechange = function () {
-                        4 !== o.readyState || 404 !== o.status || r();
+                        if (!(4 !== o.readyState || 404 !== o.status)) {
+                          r();
+                        }
                       }),
                       o.send(),
                       (o.onload = function () {
@@ -4439,7 +4457,7 @@
                   : r(e, t, i)
                 : (delete e[t], r(e, t, i))));
       })(Function.prototype, "toString", function () {
-        return ("function" == typeof this && this[a]) || s.call(this);
+        return ("function" == typeof this && this[a]) || s();
       }));
   },
   function (e, t, i) {
@@ -4517,7 +4535,7 @@
       return (
         !!e &&
         n(function () {
-          t ? e.call(null, function () {}, 1) : e.call(null);
+          t ? e(function () {}, 1) : e();
         })
       );
     };
@@ -4540,9 +4558,9 @@
         return i(e, 0);
       } catch (t) {
         try {
-          return i.call(null, e, 0);
+          return i(e, 0);
         } catch (t) {
-          return i.call(this, e, 0);
+          return i(e, 0);
         }
       }
     }
@@ -4563,9 +4581,9 @@
       l = false,
       h = -1;
     function f() {
-      l &&
-        c &&
+      if (l && c) {
         ((l = false), c.length ? (u = c.concat(u)) : (h = -1), u.length && d());
+      }
     }
     function d() {
       if (!l) {
@@ -4585,9 +4603,9 @@
               n(e);
             } catch (t) {
               try {
-                return n.call(null, e);
+                return n(e);
               } catch (t) {
-                return n.call(this, e);
+                return n(e);
               }
             }
           })(e));
@@ -4604,7 +4622,7 @@
       (u.push(new p(e, t)), 1 !== u.length || l || s(d));
     }),
       (p.prototype.run = function () {
-        this.fun.apply(null, this.array);
+        this.fun();
       }),
       (r.title = "browser"),
       (r.browser = true),
@@ -4708,7 +4726,7 @@
           b > E;
           E++
         )
-          if ((f || E in v) && ((g = y((m = v[E]), E, _)), e))
+          if ((f || E in v) && ((g = y((m = v[E]), E, _)), e)) {
             if (i) T[E] = g;
             else if (g)
               switch (e) {
@@ -4722,6 +4740,7 @@
                   T.push(m);
               }
             else if (l) return false;
+          }
         return h ? -1 : u || l ? l : T;
       };
     };
@@ -4982,9 +5001,9 @@
         var c = 0,
           u = t;
         return (
-          (c += (u = (u + n) >>> 0) < t ? 1 : 0),
-          (c += (u = (u + o) >>> 0) < o ? 1 : 0),
-          (e + i + r + a + (c += (u = (u + s) >>> 0) < s ? 1 : 0)) >>> 0
+          (c += (u = (t + n) >>> 0) < t ? 1 : 0),
+          (c += (u = (t + o) >>> 0) < o ? 1 : 0),
+          (e + i + r + a + (c += (u = (t + s) >>> 0) < s ? 1 : 0)) >>> 0
         );
       }),
       (t.sum64_4_lo = function (e, t, i, n, r, o, a, s) {
@@ -4994,10 +5013,10 @@
         var l = 0,
           h = t;
         return (
-          (l += (h = (h + n) >>> 0) < t ? 1 : 0),
-          (l += (h = (h + o) >>> 0) < o ? 1 : 0),
-          (l += (h = (h + s) >>> 0) < s ? 1 : 0),
-          (e + i + r + a + c + (l += (h = (h + u) >>> 0) < u ? 1 : 0)) >>> 0
+          (l += (h = (t + n) >>> 0) < t ? 1 : 0),
+          (l += (h = (t + o) >>> 0) < o ? 1 : 0),
+          (l += (h = (t + s) >>> 0) < s ? 1 : 0),
+          (e + i + r + a + c + (l += (h = (t + u) >>> 0) < u ? 1 : 0)) >>> 0
         );
       }),
       (t.sum64_5_lo = function (e, t, i, n, r, o, a, s, c, u) {
@@ -5075,301 +5094,276 @@
             })(e);
     }
     if (i(13)) {
-      var r = i(47),
-        o = i(5),
-        a = i(3),
-        s = i(0),
-        c = i(84),
-        u = i(121),
-        l = i(34),
-        h = i(60),
-        f = i(45),
-        d = i(23),
-        p = i(61),
-        m = i(28),
-        g = i(10),
-        _ = i(164),
-        v = i(49),
-        y = i(39),
-        b = i(22),
-        E = i(66),
-        T = i(6),
-        A = i(20),
-        x = i(113),
-        S = i(50),
-        C = i(52),
-        P = i(51).f,
-        R = i(115),
-        M = i(46),
-        O = i(8),
-        w = i(31),
-        I = i(74),
-        D = i(67),
-        L = i(117),
-        F = i(57),
-        B = i(77),
-        N = i(59),
-        k = i(116),
-        U = i(155),
-        V = i(12),
-        G = i(29),
-        z = V.f,
-        j = G.f,
-        H = o.RangeError,
-        W = o.TypeError,
-        X = o.Uint8Array,
-        Y = Array.prototype,
-        K = u.ArrayBuffer,
-        Q = u.DataView,
-        q = w(0),
-        Z = w(2),
-        J = w(3),
-        $ = w(4),
-        ee = w(5),
-        te = w(6),
-        ie = I(true),
-        ne = I(false),
-        re = L.values,
-        oe = L.keys,
-        ae = L.entries,
-        se = Y.lastIndexOf,
-        ce = Y.reduce,
-        ue = Y.reduceRight,
-        le = Y.join,
-        he = Y.sort,
-        fe = Y.slice,
-        de = Y.toString,
-        pe = Y.toLocaleString,
-        me = O("iterator"),
-        ge = O("toStringTag"),
-        _e = M("typed_constructor"),
-        ve = M("def_constructor"),
-        ye = c.CONSTR,
-        be = c.TYPED,
-        Ee = c.VIEW,
-        Te = w(1, function (e, t) {
-          return Pe(D(e, e[ve]), t);
-        }),
-        Ae = a(function () {
-          return 1 === new X(new Uint16Array([1]).buffer)[0];
-        }),
-        xe =
-          !!X &&
-          !!X.prototype.set &&
-          a(function () {
-            new X(1).set({});
-          }),
-        Se = function (e, t) {
-          var i = m(e);
-          if (i < 0 || i % t) throw H("Wrong offset!");
-          return i;
+      var r = i(47);
+      var o = i(5);
+      var a = i(3);
+      var s = i(0);
+      var c = i(84);
+      var u = i(121);
+      var l = i(34);
+      var h = i(60);
+      var f = i(45);
+      var d = i(23);
+      var p = i(61);
+      var m = i(28);
+      var g = i(10);
+      var _ = i(164);
+      var v = i(49);
+      var y = i(39);
+      var b = i(22);
+      var E = i(66);
+      var T = i(6);
+      var A = i(20);
+      var x = i(113);
+      var S = i(50);
+      var C = i(52);
+      var P = i(51).f;
+      var R = i(115);
+      var M = i(46);
+      var O = i(8);
+      var w = i(31);
+      var I = i(74);
+      var D = i(67);
+      var L = i(117);
+      var F = i(57);
+      var B = i(77);
+      var N = i(59);
+      var k = i(116);
+      var U = i(155);
+      var V = i(12);
+      var G = i(29);
+      var z = V.f;
+      var j = G.f;
+      var H = o.RangeError;
+      var W = o.TypeError;
+      var X = o.Uint8Array;
+      var Y = Array.prototype;
+      var K = u.ArrayBuffer;
+      var Q = u.DataView;
+      var q = w(0);
+      var Z = w(2);
+      var J = w(3);
+      var $ = w(4);
+      var ee = w(5);
+      var te = w(6);
+      var ie = I(true);
+      var ne = I(false);
+      var re = L.values;
+      var oe = L.keys;
+      var ae = L.entries;
+      var se = Y.lastIndexOf;
+      var ce = Y.reduce;
+      var ue = Y.reduceRight;
+      var le = Y.join;
+      var he = Y.sort;
+      var fe = Y.slice;
+      var de = Y.toString;
+      var pe = Y.toLocaleString;
+      var me = O("iterator");
+      var ge = O("toStringTag");
+      var _e = M("typed_constructor");
+      var ve = M("def_constructor");
+      var ye = c.CONSTR;
+      var be = c.TYPED;
+      var Ee = c.VIEW;
+      var Te = w(1, function (e, t) {
+        return Pe(D(e, e[ve]), t);
+      });
+      var Ae = a(function () {
+        return 1 === new X(new Uint16Array([1]).buffer)[0];
+      });
+      var xe =
+        !!X &&
+        !!X.prototype.set &&
+        a(function () {
+          new X(1).set({});
+        });
+      var Se = function (e, t) {
+        var i = m(e);
+        if (i < 0 || i % t) throw H("Wrong offset!");
+        return i;
+      };
+      var Ce = function (e) {
+        if (T(e) && be in e) return e;
+        throw W(e + " is not a typed array!");
+      };
+      var Pe = function (e, t) {
+        if (!(T(e) && _e in e)) throw W("It is not a typed array constructor!");
+        return new e(t);
+      };
+      var Re = function (e, t) {
+        return Me(D(e, e[ve]), t);
+      };
+      var Me = function (e, t) {
+        for (var i = 0, n = t.length, r = Pe(e, n); n > i; ) r[i] = t[i++];
+        return r;
+      };
+      var Oe = function (e, t, i) {
+        z(e, t, {
+          get: function () {
+            return this._d[i];
+          },
+        });
+      };
+      var we = function (e) {
+        var t,
+          i,
+          n,
+          r,
+          o,
+          a,
+          s = A(e),
+          c = arguments.length,
+          u = c > 1 ? arguments[1] : void 0,
+          h = void 0 !== u,
+          f = R(s);
+        if (null != f && !x(f)) {
+          for (a = f.call(s), n = [], t = 0; !(o = a.next()).done; t++)
+            n.push(o.value);
+          s = n;
+        }
+        for (
+          h && c > 2 && (u = l(u, arguments[2], 2)),
+            t = 0,
+            i = g(s.length),
+            r = Pe(this, i);
+          i > t;
+          t++
+        )
+          r[t] = h ? u(s[t], t) : s[t];
+        return r;
+      };
+      var Ie = function () {
+        for (var e = 0, t = arguments.length, i = Pe(this, t); t > e; )
+          i[e] = arguments[e++];
+        return i;
+      };
+      var De =
+        !!X &&
+        a(function () {
+          pe.call(new X(1));
+        });
+      var Le = function () {
+        return pe.apply(De ? fe.call(Ce(this)) : Ce(this), arguments);
+      };
+      var Fe = {
+        copyWithin: function (e, t) {
+          return U.call(
+            Ce(this),
+            e,
+            t,
+            arguments.length > 2 ? arguments[2] : void 0,
+          );
         },
-        Ce = function (e) {
-          if (T(e) && be in e) return e;
-          throw W(e + " is not a typed array!");
+        every: function (e) {
+          return $(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
         },
-        Pe = function (e, t) {
-          if (!(T(e) && _e in e))
-            throw W("It is not a typed array constructor!");
-          return new e(t);
+        fill: function (e) {
+          return k.apply(Ce(this), arguments);
         },
-        Re = function (e, t) {
-          return Me(D(e, e[ve]), t);
+        filter: function (e) {
+          return Re(
+            this,
+            Z(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0),
+          );
         },
-        Me = function (e, t) {
-          for (var i = 0, n = t.length, r = Pe(e, n); n > i; ) r[i] = t[i++];
-          return r;
+        find: function (e) {
+          return ee(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
         },
-        Oe = function (e, t, i) {
-          z(e, t, {
-            get: function () {
-              return this._d[i];
-            },
-          });
+        findIndex: function (e) {
+          return te(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
         },
-        we = function (e) {
-          var t,
-            i,
-            n,
-            r,
-            o,
-            a,
-            s = A(e),
-            c = arguments.length,
-            u = c > 1 ? arguments[1] : void 0,
-            h = void 0 !== u,
-            f = R(s);
-          if (null != f && !x(f)) {
-            for (a = f.call(s), n = [], t = 0; !(o = a.next()).done; t++)
-              n.push(o.value);
-            s = n;
-          }
-          for (
-            h && c > 2 && (u = l(u, arguments[2], 2)),
-              t = 0,
-              i = g(s.length),
-              r = Pe(this, i);
-            i > t;
-            t++
-          )
-            r[t] = h ? u(s[t], t) : s[t];
-          return r;
+        forEach: function (e) {
+          q(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
         },
-        Ie = function () {
-          for (var e = 0, t = arguments.length, i = Pe(this, t); t > e; )
-            i[e] = arguments[e++];
-          return i;
+        indexOf: function (e) {
+          return ne(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
         },
-        De =
-          !!X &&
-          a(function () {
-            pe.call(new X(1));
-          }),
-        Le = function () {
-          return pe.apply(De ? fe.call(Ce(this)) : Ce(this), arguments);
+        includes: function (e) {
+          return ie(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
         },
-        Fe = {
-          copyWithin: function (e, t) {
-            return U.call(
-              Ce(this),
-              e,
-              t,
-              arguments.length > 2 ? arguments[2] : void 0,
-            );
-          },
-          every: function (e) {
-            return $(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
-          },
-          fill: function (e) {
-            return k.apply(Ce(this), arguments);
-          },
-          filter: function (e) {
-            return Re(
-              this,
-              Z(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0),
-            );
-          },
-          find: function (e) {
-            return ee(
-              Ce(this),
-              e,
-              arguments.length > 1 ? arguments[1] : void 0,
-            );
-          },
-          findIndex: function (e) {
-            return te(
-              Ce(this),
-              e,
-              arguments.length > 1 ? arguments[1] : void 0,
-            );
-          },
-          forEach: function (e) {
-            q(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
-          },
-          indexOf: function (e) {
-            return ne(
-              Ce(this),
-              e,
-              arguments.length > 1 ? arguments[1] : void 0,
-            );
-          },
-          includes: function (e) {
-            return ie(
-              Ce(this),
-              e,
-              arguments.length > 1 ? arguments[1] : void 0,
-            );
-          },
-          join: function (e) {
-            return le.apply(Ce(this), arguments);
-          },
-          lastIndexOf: function (e) {
-            return se.apply(Ce(this), arguments);
-          },
-          map: function (e) {
-            return Te(
-              Ce(this),
-              e,
-              arguments.length > 1 ? arguments[1] : void 0,
-            );
-          },
-          reduce: function (e) {
-            return ce.apply(Ce(this), arguments);
-          },
-          reduceRight: function (e) {
-            return ue.apply(Ce(this), arguments);
-          },
-          reverse: function () {
-            for (
-              var e, t = Ce(this).length, i = Math.floor(t / 2), n = 0;
-              n < i;
-            )
-              ((e = this[n]), (this[n++] = this[--t]), (this[t] = e));
-            return this;
-          },
-          some: function (e) {
-            return J(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
-          },
-          sort: function (e) {
-            return he.call(Ce(this), e);
-          },
-          subarray: function (e, t) {
-            var i = Ce(this),
-              n = i.length,
-              r = v(e, n);
-            return new (D(i, i[ve]))(
-              i.buffer,
-              i.byteOffset + r * i.BYTES_PER_ELEMENT,
-              g((void 0 === t ? n : v(t, n)) - r),
-            );
-          },
+        join: function (e) {
+          return le.apply(Ce(this), arguments);
         },
-        Be = function (e, t) {
-          return Re(this, fe.call(Ce(this), e, t));
+        lastIndexOf: function (e) {
+          return se.apply(Ce(this), arguments);
         },
-        Ne = function (e) {
-          Ce(this);
-          var t = Se(arguments[1], 1),
-            i = this.length,
-            n = A(e),
-            r = g(n.length),
-            o = 0;
-          if (r + t > i) throw H("Wrong length!");
-          for (; o < r; ) this[t + o] = n[o++];
+        map: function (e) {
+          return Te(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
         },
-        ke = {
-          entries: function () {
-            return ae.call(Ce(this));
-          },
-          keys: function () {
-            return oe.call(Ce(this));
-          },
-          values: function () {
-            return re.call(Ce(this));
-          },
+        reduce: function (e) {
+          return ce.apply(Ce(this), arguments);
         },
-        Ue = function (e, t) {
-          return (
-            T(e) &&
-            e[be] &&
-            "symbol" != n(t) &&
-            t in e &&
-            String(+t) == String(t)
+        reduceRight: function (e) {
+          return ue.apply(Ce(this), arguments);
+        },
+        reverse: function () {
+          for (
+            var e, t = Ce(this).length, i = Math.floor(t / 2), n = 0;
+            n < i;
+          )
+            ((e = this[n]), (this[n++] = this[--t]), (this[t] = e));
+          return this;
+        },
+        some: function (e) {
+          return J(Ce(this), e, arguments.length > 1 ? arguments[1] : void 0);
+        },
+        sort: function (e) {
+          return he.call(Ce(this), e);
+        },
+        subarray: function (e, t) {
+          var i = Ce(this),
+            n = i.length,
+            r = v(e, n);
+          return new (D(i, i[ve]))(
+            i.buffer,
+            i.byteOffset + r * i.BYTES_PER_ELEMENT,
+            g((void 0 === t ? n : v(t, n)) - r),
           );
         },
-        Ve = function (e, t) {
-          return Ue(e, (t = y(t, true))) ? f(2, e[t]) : j(e, t);
+      };
+      var Be = function (e, t) {
+        return Re(this, fe.call(Ce(this), e, t));
+      };
+      var Ne = function (e) {
+        Ce(this);
+        var t = Se(arguments[1], 1),
+          i = this.length,
+          n = A(e),
+          r = g(n.length),
+          o = 0;
+        if (r + t > i) throw H("Wrong length!");
+        for (; o < r; ) this[t + o] = n[o++];
+      };
+      var ke = {
+        entries: function () {
+          return ae.call(Ce(this));
         },
-        Ge = function (e, t, i) {
-          return !(Ue(e, (t = y(t, true))) && T(i) && b(i, "value")) ||
-            b(i, "get") ||
-            b(i, "set") ||
-            i.configurable ||
-            (b(i, "writable") && !i.writable) ||
-            (b(i, "enumerable") && !i.enumerable)
-            ? z(e, t, i)
-            : ((e[t] = i.value), e);
-        };
+        keys: function () {
+          return oe.call(Ce(this));
+        },
+        values: function () {
+          return re.call(Ce(this));
+        },
+      };
+      var Ue = function (e, t) {
+        return (
+          T(e) && e[be] && "symbol" != n(t) && t in e && String(+t) == String(t)
+        );
+      };
+      var Ve = function (e, t) {
+        return Ue(e, (t = y(t, true))) ? f(2, e[t]) : j(e, t);
+      };
+      var Ge = function (e, t, i) {
+        return !(Ue(e, (t = y(t, true))) && T(i) && b(i, "value")) ||
+          b(i, "get") ||
+          b(i, "set") ||
+          i.configurable ||
+          (b(i, "writable") && !i.writable) ||
+          (b(i, "enumerable") && !i.enumerable)
+          ? z(e, t, i)
+          : ((e[t] = i.value), e);
+      };
       (ye || ((G.f = Ve), (V.f = Ge)),
         s(s.S + s.F * !ye, "Object", {
           getOwnPropertyDescriptor: Ve,
@@ -5380,7 +5374,7 @@
         }) &&
           (de = pe =
             function () {
-              return le.call(this);
+              return le();
             }));
       var ze = p({}, Fe);
       (p(ze, ke),
@@ -5502,7 +5496,9 @@
               q(
                 v !== Function.prototype ? P(m).concat(P(v)) : P(m),
                 function (e) {
-                  e in p || d(p, e, m[e]);
+                  if (!(e in p)) {
+                    d(p, e, m[e]);
+                  }
                 },
               ),
               (p.prototype = A),
@@ -5522,9 +5518,7 @@
               }),
             (b[u] = p),
             s(s.G + s.W + s.F * (p != m), b),
-            s(s.S, u, {
-              BYTES_PER_ELEMENT: t,
-            }),
+            s(s.S, u, { BYTES_PER_ELEMENT: t }),
             s(
               s.S +
                 s.F *
@@ -5540,9 +5534,7 @@
             "BYTES_PER_ELEMENT" in A || d(A, "BYTES_PER_ELEMENT", t),
             s(s.P, u, Fe),
             N(u),
-            s(s.P + s.F * xe, u, {
-              set: Ne,
-            }),
+            s(s.P + s.F * xe, u, { set: Ne }),
             s(s.P + s.F * !M, u, ke),
             r || A.toString == de || (A.toString = de),
             s(
@@ -5552,9 +5544,7 @@
                     new p(1).slice();
                   }),
               u,
-              {
-                slice: Be,
-              },
+              { slice: Be },
             ),
             s(
               s.P +
@@ -5568,9 +5558,7 @@
                       A.toLocaleString.call([1, 2]);
                     })),
               u,
-              {
-                toLocaleString: Le,
-              },
+              { toLocaleString: Le },
             ),
             (F[u] = M ? R : O),
             r || M || d(A, me, O));
@@ -5713,17 +5701,16 @@
         if (r(i))
           switch (arguments.length) {
             case 1:
-              i.call(this);
+              i();
               break;
             case 2:
-              i.call(this, arguments[1]);
+              i(arguments[1]);
               break;
             case 3:
-              i.call(this, arguments[1], arguments[2]);
+              i(arguments[1], arguments[2]);
               break;
             default:
-              ((s = Array.prototype.slice.call(arguments, 1)),
-                i.apply(this, s));
+              ((s = Array.prototype.slice.call(arguments, 1)), i());
           }
         else if (o(i))
           for (
@@ -5733,7 +5720,7 @@
             c < n;
             c++
           )
-            u[c].apply(this, s);
+            u[c]();
         return true;
       }),
       (n.prototype.addListener = function (e, t) {
@@ -5769,8 +5756,7 @@
         if (!r(t)) throw TypeError("listener must be a function");
         var i = false;
         function n() {
-          (this.removeListener(e, n),
-            i || ((i = true), t.apply(this, arguments)));
+          (this.removeListener(e, n), i || ((i = true), t()));
         }
         return ((n.listener = t), this.on(e, n), this);
       }),
@@ -5792,9 +5778,7 @@
               break;
             }
           if (n < 0) return this;
-          (1 === i.length
-            ? ((i.length = 0), delete this._events[e])
-            : i.splice(n, 1),
+          (1 === 0 ? ((i.length = 0), delete this._events[e]) : i.splice(n, 1),
             this._events.removeListener && this.emit("removeListener", e, t));
         }
         return this;
@@ -5861,7 +5845,9 @@
         }),
           (this.add = function (e) {
             var t = performance.now();
-            o.indexOf(e) < 0 && o.push(e);
+            if (o.indexOf(e) < 0) {
+              o.push(e);
+            }
             var i = o.indexOf(e);
             (r[i] || (r[i] = 0), (r[i] += t - s), (s = t));
           }),
@@ -5896,7 +5882,7 @@
       r = i(128).Transform,
       o = i(124).StringDecoder;
     function a(e) {
-      (r.call(this),
+      (r(),
         (this.hashMode = "string" == typeof e),
         this.hashMode
           ? (this[e] = this._finalOrDigest)
@@ -5907,7 +5893,9 @@
     }
     (i(1)(a, r),
       (a.prototype.update = function (e, t, i) {
-        "string" == typeof e && (e = n.from(e, t));
+        if ("string" == typeof e) {
+          e = n.from(e, t);
+        }
         var r = this._update(e);
         return this.hashMode ? this : (i && (r = this._toString(r, i)), r);
       }),
@@ -6072,7 +6060,9 @@
         ? (e.exports = function (e, i) {
             if (e > 65536) throw new Error("requested too many random bytes");
             var a = new t.Uint8Array(e);
-            e > 0 && o.getRandomValues(a);
+            if (e > 0) {
+              o.getRandomValues(a);
+            }
             var s = r.from(a.buffer);
             if ("function" == typeof i)
               return n.nextTick(function () {
@@ -6105,12 +6095,14 @@
     o.inherits(h, a);
     for (var c = r(s.prototype), u = 0; u < c.length; u++) {
       var l = c[u];
-      h.prototype[l] || (h.prototype[l] = s.prototype[l]);
+      if (!h.prototype[l]) {
+        h.prototype[l] = s.prototype[l];
+      }
     }
     function h(e) {
       if (!(this instanceof h)) return new h(e);
-      (a.call(this, e),
-        s.call(this, e),
+      (a(e),
+        s(e),
         e && false === e.readable && (this.readable = false),
         e && false === e.writable && (this.writable = false),
         (this.allowHalfOpen = true),
@@ -6118,7 +6110,9 @@
         this.once("end", f));
     }
     function f() {
-      this.allowHalfOpen || this._writableState.ended || n.nextTick(d, this);
+      if (!(this.allowHalfOpen || this._writableState.ended)) {
+        n.nextTick(d, this);
+      }
     }
     function d(e) {
       e.end();
@@ -6139,10 +6133,13 @@
           );
         },
         set: function (e) {
-          void 0 !== this._readableState &&
-            void 0 !== this._writableState &&
+          if (
+            void 0 !== this._readableState &&
+            void 0 !== this._writableState
+          ) {
             ((this._readableState.destroyed = e),
-            (this._writableState.destroyed = e));
+              (this._writableState.destroyed = e));
+          }
         },
       }),
       (h.prototype._destroy = function (e, t) {
@@ -6240,19 +6237,25 @@
           {
             key: "sendJoined",
             value: function () {
-              null != this.network && this.network.sendJoined(this.state.name);
+              if (null != this.network) {
+                this.network.sendJoined(this.state.name);
+              }
             },
           },
           {
             key: "sendMessage",
             value: function (e) {
-              null != this.network && this.network.sendMessage(e);
+              if (null != this.network) {
+                this.network.sendMessage(e);
+              }
             },
           },
           {
             key: "emitFireEvent",
             value: function (e) {
-              null != this.network && this.network.emitFireEvent(e);
+              if (null != this.network) {
+                this.network.emitFireEvent(e);
+              }
             },
           },
         ]) && r(t.prototype, i),
@@ -6267,12 +6270,12 @@
       r = i(22),
       o = i(8)("toStringTag");
     e.exports = function (e, t, i) {
-      e &&
-        !r((e = i ? e : e.prototype), o) &&
+      if (e && !r((e = i ? e : e.prototype), o)) {
         n(e, o, {
           configurable: true,
           value: t,
         });
+      }
     };
   },
   function (e, t) {
@@ -6294,15 +6297,14 @@
       a = i(8)("species");
     e.exports = function (e) {
       var t = n[e];
-      o &&
-        t &&
-        !t[a] &&
+      if (o && t && !t[a]) {
         r.f(t, a, {
           configurable: true,
           get: function () {
             return this;
           },
         });
+      }
     };
   },
   function (e, t) {
@@ -6336,7 +6338,9 @@
         (this._len = 0));
     }
     ((r.prototype.update = function (e, t) {
-      "string" == typeof e && ((t = t || "utf8"), (e = n.from(e, t)));
+      if ("string" == typeof e) {
+        ((t = t || "utf8"), (e = n.from(e, t)));
+      }
       for (
         var i = this._block,
           r = this._blockSize,
@@ -6360,8 +6364,8 @@
         var i = 8 * this._len;
         if (i <= 4294967295) this._block.writeUInt32BE(i, this._blockSize - 4);
         else {
-          var n = (4294967295 & i) >>> 0,
-            r = (i - n) / 4294967296;
+          var n = (4294967295 & i) >>> 0;
+          var r = (i - n) / 4294967296;
           (this._block.writeUInt32BE(r, this._blockSize - 8),
             this._block.writeUInt32BE(n, this._blockSize - 4));
         }
@@ -6388,13 +6392,7 @@
   function (e, t, i) {
     var n = i(36),
       r = i(8)("toStringTag"),
-      o =
-        "Arguments" ==
-        n(
-          (function () {
-            return arguments;
-          })(),
-        );
+      o = "Arguments" == n(arguments);
     e.exports = function (e) {
       var t, i, a;
       return void 0 === e
@@ -6505,7 +6503,7 @@
       a = i(130),
       s = i(44);
     function c(e) {
-      (s.call(this, "digest"), (this._hash = e));
+      (s("digest"), (this._hash = e));
     }
     (n(c, s),
       (c.prototype._update = function (e) {
@@ -6613,19 +6611,19 @@
   },
   function (e, t, i) {
     var n = t;
-    ((n.bignum = i(11)),
-      (n.define = i(571).define),
-      (n.base = i(73)),
-      (n.constants = i(219)),
-      (n.decoders = i(577)),
-      (n.encoders = i(579)));
+    ((t.bignum = i(11)),
+      (t.define = i(571).define),
+      (t.base = i(73)),
+      (t.constants = i(219)),
+      (t.decoders = i(577)),
+      (t.encoders = i(579)));
   },
   function (e, t, i) {
     var n = t;
-    ((n.Reporter = i(574).Reporter),
-      (n.DecoderBuffer = i(218).DecoderBuffer),
-      (n.EncoderBuffer = i(218).EncoderBuffer),
-      (n.Node = i(575)));
+    ((t.Reporter = i(574).Reporter),
+      (t.DecoderBuffer = i(218).DecoderBuffer),
+      (t.EncoderBuffer = i(218).EncoderBuffer),
+      (t.Node = i(575)));
   },
   function (e, t, i) {
     var n = i(24),
@@ -6691,19 +6689,17 @@
       if (!t && !r) return false;
       var i = false;
       try {
-        var o = [7],
-          a = o[n]();
+        var o = [7];
+        var a = o[n]();
         ((a.next = function () {
-          return {
-            done: (i = true),
-          };
+          return { done: (i = true) };
         }),
           (o[n] = function () {
             return a;
           }),
           e(o));
       } catch (e) {}
-      return i;
+      return false;
     };
   },
   function (e, t, i) {
@@ -6769,23 +6765,18 @@
       l = !o(function () {
         var e = /./;
         return (
-          (e.exec = function () {
+          (/./.exec = function () {
             var e = [];
-            return (
-              (e.groups = {
-                a: "7",
-              }),
-              e
-            );
+            return ((e.groups = { a: "7" }), e);
           }),
-          "7" !== "".replace(e, "$<a>")
+          "7" !== "".replace(/./, "$<a>")
         );
       }),
       h = (function () {
         var e = /(?:)/,
           t = e.exec;
         e.exec = function () {
-          return t.apply(this, arguments);
+          return t();
         };
         var i = "ab".split(e);
         return 2 === i.length && "a" === i[0] && "b" === i[1];
@@ -6806,38 +6797,36 @@
               var t = false,
                 i = /a/;
               return (
-                (i.exec = function () {
+                (/a/.exec = function () {
                   return ((t = true), null);
                 }),
                 "split" === e &&
-                  ((i.constructor = {}),
-                  (i.constructor[u] = function () {
+                  ((/a/.constructor = {}),
+                  (/a/.constructor[u] = function () {
                     return i;
                   })),
                 i[f](""),
-                !t
+                !false
               );
             })
           : void 0;
       if (!d || !p || ("replace" === e && !l) || ("split" === e && !h)) {
-        var m = /./[f],
-          g = i(a, f, ""[e], function (e, t, i, n, r) {
-            return t.exec === c
-              ? d && !r
-                ? {
-                    done: true,
-                    value: m.call(t, i, n),
-                  }
-                : {
-                    done: true,
-                    value: e.call(i, t, n),
-                  }
+        var m = /./[f];
+        var g = i(a, f, ""[e], function (e, t, i, n, r) {
+          return t.exec === c
+            ? d && !r
+              ? {
+                  done: true,
+                  value: m.call(t, i, n),
+                }
               : {
-                  done: false,
-                };
-          }),
-          _ = g[0],
-          v = g[1];
+                  done: true,
+                  value: e.call(i, t, n),
+                }
+            : { done: false };
+        });
+        var _ = g[0];
+        var v = g[1];
         (n(String.prototype, e, _),
           r(
             RegExp.prototype,
@@ -6908,7 +6897,7 @@
       var v = n[e],
         y = v,
         b = g ? "set" : "add",
-        E = y && y.prototype,
+        E = v && v.prototype,
         T = {},
         A = function (e) {
           var t = E[e];
@@ -6917,49 +6906,47 @@
             e,
             "delete" == e
               ? function (e) {
-                  return !(_ && !l(e)) && t.call(this, 0 === e ? 0 : e);
+                  return !(_ && !l(e)) && t(0 === e ? 0 : e);
                 }
               : "has" == e
                 ? function (e) {
-                    return !(_ && !l(e)) && t.call(this, 0 === e ? 0 : e);
+                    return !(_ && !l(e)) && t(0 === e ? 0 : e);
                   }
                 : "get" == e
                   ? function (e) {
-                      return _ && !l(e)
-                        ? void 0
-                        : t.call(this, 0 === e ? 0 : e);
+                      return _ && !l(e) ? void 0 : t(0 === e ? 0 : e);
                     }
                   : "add" == e
                     ? function (e) {
-                        return (t.call(this, 0 === e ? 0 : e), this);
+                        return (t(0 === e ? 0 : e), this);
                       }
                     : function (e, i) {
-                        return (t.call(this, 0 === e ? 0 : e, i), this);
+                        return (t(0 === e ? 0 : e, i), this);
                       },
           );
         };
       if (
-        "function" == typeof y &&
+        "function" == typeof v &&
         (_ ||
           (E.forEach &&
             !h(function () {
               new y().entries().next();
             })))
       ) {
-        var x = new y(),
-          S = x[b](_ ? {} : -0, 1) != x,
-          C = h(function () {
-            x.has(1);
-          }),
-          P = f(function (e) {
-            new y(e);
-          }),
-          R =
-            !_ &&
-            h(function () {
-              for (var e = new y(), t = 5; t--; ) e[b](t, t);
-              return !e.has(-0);
-            });
+        var x = new y();
+        var S = x[b](_ ? {} : -0, 1) != x;
+        var C = h(function () {
+          x.has(1);
+        });
+        var P = f(function (e) {
+          new y(e);
+        });
+        var R =
+          !_ &&
+          h(function () {
+            for (var e = new y(), t = 5; t--; ) e[b](t, t);
+            return !e.has(-0);
+          });
         (P ||
           (((y = t(function (t, i) {
             u(t, y, e);
@@ -6972,14 +6959,14 @@
           _ && E.clear && delete E.clear);
       } else
         ((y = m.getConstructor(t, e, g, b)),
-          a(y.prototype, i),
+          a(v.prototype, i),
           (s.NEED = true));
       return (
-        d(y, e),
-        (T[e] = y),
-        r(r.G + r.W + r.F * (y != v), T),
-        _ || m.setStrong(y, e, g),
-        y
+        d(v, e),
+        (T[e] = v),
+        r(r.G + r.W + r.F * (v != v), T),
+        _ || m.setStrong(v, e, g),
+        v
       );
     };
   },
@@ -7037,21 +7024,21 @@
                   return t.nextTick(e);
                 case 2:
                   return t.nextTick(function () {
-                    e.call(null, i);
+                    e(i);
                   });
                 case 3:
                   return t.nextTick(function () {
-                    e.call(null, i, n);
+                    e(i, n);
                   });
                 case 4:
                   return t.nextTick(function () {
-                    e.call(null, i, n, r);
+                    e(i, n, r);
                   });
                 default:
                   for (o = new Array(s - 1), a = 0; a < o.length; )
                     o[a++] = arguments[a];
                   return t.nextTick(function () {
-                    e.apply(null, o);
+                    e();
                   });
               }
             },
@@ -7061,9 +7048,7 @@
   },
   function (exp, t, getterFunc) {
     exp.exports = r;
-
     var vec3Math = getterFunc(16);
-
     function r(e, t) {
       if (!(this instanceof r)) return new r(e, t);
       var i = vec3Math.create();
@@ -7175,7 +7160,9 @@
     }
     function c(e, t) {
       var i = ["View", t, "d", e].join("");
-      t < 0 && (i = "View_Nil" + e);
+      if (t < 0) {
+        i = "View_Nil" + e;
+      }
       var r = "generic" === e;
       if (-1 === t) {
         var o =
@@ -7558,7 +7545,9 @@
   function (e, t, getterFunc) {
     var buf = getterFunc(2).Buffer;
     function r(e) {
-      buf.isBuffer(e) || (e = buf.from(e));
+      if (!buf.isBuffer(e)) {
+        e = buf.from(e);
+      }
       for (var t = (e.length / 4) | 0, i = new Array(t), r = 0; r < t; r++)
         i[r] = e.readUInt32BE(4 * r);
       return i;
@@ -7658,10 +7647,10 @@
         ) {
           var u = s ^ (s << 1) ^ (s << 2) ^ (s << 3) ^ (s << 4);
           ((u = (u >>> 8) ^ (255 & u) ^ 99), (i[a] = u), (n[u] = a));
-          var l = e[a],
-            h = e[l],
-            f = e[h],
-            d = (257 * e[u]) ^ (16843008 * u);
+          var l = e[a];
+          var h = e[l];
+          var f = e[h];
+          var d = (257 * e[u]) ^ (16843008 * u);
           ((r[0][a] = (d << 24) | (d >>> 8)),
             (r[1][a] = (d << 16) | (d >>> 16)),
             (r[2][a] = (d << 8) | (d >>> 24)),
@@ -7719,8 +7708,8 @@
             (r[o] = r[o - t] ^ a));
         }
         for (var u = [], l = 0; l < n; l++) {
-          var h = n - l,
-            f = r[h - (l % 4 ? 0 : 4)];
+          var h = n - l;
+          var f = r[h - (l % 4 ? 0 : 4)];
           u[l] =
             l < 4 || h <= 4
               ? f
@@ -7798,8 +7787,8 @@
           ((h = Math.min(a, u.length)), u.copy(s, f, 0, h), (a -= h));
         }
         if (h < u.length && o > 0) {
-          var d = c.length - o,
-            p = Math.min(o, u.length - h);
+          var d = c.length - o;
+          var p = Math.min(o, u.length - h);
           (u.copy(c, d, h, h + p), (o -= p));
         }
       }
@@ -7815,10 +7804,10 @@
   function (e, t, i) {
     "use strict";
     var n = t;
-    ((n.base = i(551)),
-      (n.short = i(552)),
-      (n.mont = i(553)),
-      (n.edwards = i(554)));
+    ((t.base = i(551)),
+      (t.short = i(552)),
+      (t.mont = i(553)),
+      (t.edwards = i(554)));
   },
   function (e, t, i) {
     (function (t) {
@@ -7957,8 +7946,8 @@
     (function (t, n) {
       function r(e, i, n, r, o, a, s) {
         try {
-          var c = e[a](s),
-            u = c.value;
+          var c = e[a](s);
+          var u = c.value;
         } catch (e) {
           return void n(e);
         }
@@ -7994,12 +7983,7 @@
         if (
           ((r._id = u(4).toString("hex").slice(0, 7)),
           r._debug("new peer %o", e),
-          (e = Object.assign(
-            {
-              allowHalfOpen: false,
-            },
-            e,
-          )),
+          (e = Object.assign({ allowHalfOpen: false }, e)),
           l.Duplex.call(r, e),
           (r.channelName = e.initiator
             ? e.channelName || u(20).toString("hex")
@@ -8141,12 +8125,8 @@
         (SimplePeer.WEBRTC_SUPPORT = !!s()),
         (SimplePeer.config = {
           iceServers: [
-            {
-              urls: "stun:stun.l.google.com:19302",
-            },
-            {
-              urls: "stun:global.stun.twilio.com:3478?transport=udp",
-            },
+            { urls: "stun:stun.l.google.com:19302" },
+            { urls: "stun:global.stun.twilio.com:3478?transport=udp" },
           ],
         }),
         (SimplePeer.constraints = {}),
@@ -8185,13 +8165,14 @@
               t._pc
                 .setRemoteDescription(new t._wrtc.RTCSessionDescription(e))
                 .then(function () {
-                  t.destroyed ||
+                  if (!t.destroyed) {
                     (t._pendingCandidates.forEach(function (e) {
                       t._addIceCandidate(e);
                     }),
-                    (t._pendingCandidates = []),
-                    "offer" === t._pc.remoteDescription.type &&
-                      t._createAnswer());
+                      (t._pendingCandidates = []),
+                      "offer" === t._pc.remoteDescription.type &&
+                        t._createAnswer());
+                  }
                 })
                 .catch(function (e) {
                   t.destroy(p(e, "ERR_SET_REMOTE_DESCRIPTION"));
@@ -8298,17 +8279,18 @@
                 });
               });
           return function (e, t, n) {
-            return i.apply(this, arguments);
+            return i();
           };
         })()),
         (SimplePeer.prototype.removeTrack = function (e, t) {
           this._debug("removeSender()");
           var i = this._senderMap.get(e),
             n = i ? i.get(t) : null;
-          n ||
+          if (!n) {
             this.destroy(
               new Error("Cannot remove track that was never added."),
             );
+          }
           try {
             this._pc.removeTrack(n);
           } catch (e) {
@@ -8327,7 +8309,7 @@
         (SimplePeer.prototype._needsNegotiation = function () {
           var e = this;
           (e._debug("_needsNegotiation"),
-            e._batchedNegotiation ||
+            true ||
               ((e._batchedNegotiation = true),
               setTimeout(function () {
                 ((e._batchedNegotiation = false),
@@ -8343,9 +8325,7 @@
               : (this._debug("start negotiation"), this._createOffer())
             : this._isNegotiating ||
               (this._debug("requesting negotiation from initiator"),
-              this.emit("signal", {
-                renegotiate: true,
-              })),
+              this.emit("signal", { renegotiate: true })),
             (this._isNegotiating = true));
         }),
         (SimplePeer.prototype.destroy = function (e) {
@@ -8469,23 +8449,23 @@
               e.destroy();
             }, 1e3);
           }
-          e.destroyed || (e.connected ? t() : e.once("connect", t));
+          if (!e.destroyed) {
+            e.connected ? t() : e.once("connect", t);
+          }
         }),
         (SimplePeer.prototype._startIceCompleteTimeout = function () {
           a("started iceComplete timeout");
           var e = this;
-          e.destroyed ||
-            e._iceCompleteTimer ||
-            (e._iceCompleteTimer = setTimeout(function () {
-              e._iceComplete ||
-                ((e._iceComplete = true),
-                e.emit("iceTimeout"),
-                e.emit("_iceComplete"));
-            }, this.iceCompleteTimeout));
+          if (!(e.destroyed || e._iceCompleteTimer)) {
+            e._iceCompleteTimer = setTimeout(
+              function () {},
+              this.iceCompleteTimeout,
+            );
+          }
         }),
         (SimplePeer.prototype._createOffer = function () {
           var e = this;
-          e.destroyed ||
+          if (!e.destroyed) {
             e._pc
               .createOffer(e.offerConstraints)
               .then(function (t) {
@@ -8499,29 +8479,31 @@
                       }));
                   }
                 }
-                e.destroyed ||
+                if (!e.destroyed) {
                   (e.trickle || e.allowHalfTrickle || (t.sdp = d(t.sdp)),
-                  (t.sdp = e.sdpTransform(t.sdp)),
-                  e._pc
-                    .setLocalDescription(t)
-                    .then(function () {
-                      if ((e._debug("createOffer success"), e.destroyed))
-                        return;
-                      e.trickle || e._iceComplete
-                        ? i()
-                        : e.once("_iceComplete", i);
-                    })
-                    .catch(function (t) {
-                      e.destroy(p(t, "ERR_SET_LOCAL_DESCRIPTION"));
-                    }));
+                    (t.sdp = e.sdpTransform(t.sdp)),
+                    e._pc
+                      .setLocalDescription(t)
+                      .then(function () {
+                        if ((e._debug("createOffer success"), e.destroyed))
+                          return;
+                        e.trickle || e._iceComplete
+                          ? i()
+                          : e.once("_iceComplete", i);
+                      })
+                      .catch(function (t) {
+                        e.destroy(p(t, "ERR_SET_LOCAL_DESCRIPTION"));
+                      }));
+                }
               })
               .catch(function (t) {
                 e.destroy(p(t, "ERR_CREATE_OFFER"));
               });
+          }
         }),
         (SimplePeer.prototype._createAnswer = function () {
           var e = this;
-          e.destroyed ||
+          if (!e.destroyed) {
             e._pc
               .createAnswer(e.answerConstraints)
               .then(function (t) {
@@ -8535,29 +8517,31 @@
                       }));
                   }
                 }
-                e.destroyed ||
+                if (!e.destroyed) {
                   (e.trickle || e.allowHalfTrickle || (t.sdp = d(t.sdp)),
-                  (t.sdp = e.sdpTransform(t.sdp)),
-                  e._pc
-                    .setLocalDescription(t)
-                    .then(function () {
-                      if (e.destroyed) return;
-                      e.trickle || e._iceComplete
-                        ? i()
-                        : e.once("_iceComplete", i);
-                    })
-                    .catch(function (t) {
-                      e.destroy(p(t, "ERR_SET_LOCAL_DESCRIPTION"));
-                    }));
+                    (t.sdp = e.sdpTransform(t.sdp)),
+                    e._pc
+                      .setLocalDescription(t)
+                      .then(function () {
+                        if (e.destroyed) return;
+                        e.trickle || e._iceComplete
+                          ? i()
+                          : e.once("_iceComplete", i);
+                      })
+                      .catch(function (t) {
+                        e.destroy(p(t, "ERR_SET_LOCAL_DESCRIPTION"));
+                      }));
+                }
               })
               .catch(function (t) {
                 e.destroy(p(t, "ERR_CREATE_ANSWER"));
               });
+          }
         }),
         (SimplePeer.prototype._onIceStateChange = function () {
           if (!this.destroyed) {
-            var e = this._pc.iceConnectionState,
-              t = this._pc.iceGatheringState;
+            var e = this._pc.iceConnectionState;
+            var t = this._pc.iceGatheringState;
             (this._debug(
               "iceStateChange (connection: %s) (gathering: %s)",
               e,
@@ -8631,19 +8615,21 @@
           var e = this;
           (e._debug("maybeReady pc %s channel %s", e._pcReady, e._channelReady),
             !e.connected &&
-              !e._connecting &&
+              !true &&
               e._pcReady &&
               e._channelReady &&
               ((e._connecting = true),
               (function t() {
-                e.destroyed ||
+                if (!e.destroyed) {
                   e.getStats(function (i, n) {
                     if (!e.destroyed) {
-                      i && (n = []);
-                      var r = {},
-                        o = {},
-                        a = {},
-                        s = false;
+                      if (i) {
+                        n = [];
+                      }
+                      var r = {};
+                      var o = {};
+                      var a = {};
+                      var s = false;
                       if (
                         (n.forEach(function (e) {
                           (("remotecandidate" !== e.type &&
@@ -8670,9 +8656,7 @@
                         s || (Object.keys(a).length && !Object.keys(o).length))
                       ) {
                         if (
-                          ((e._connecting = false),
-                          (e.connected = true),
-                          e._chunk)
+                          ((e._connecting = false), (e.connected = true), null)
                         ) {
                           try {
                             e.send(e._chunk);
@@ -8681,7 +8665,7 @@
                           }
                           ((e._chunk = null),
                             e._debug('sent chunk from "write before connect"'));
-                          var c = e._cb;
+                          var c = null;
                           ((e._cb = null), c(null));
                         }
                         ("number" !=
@@ -8728,37 +8712,44 @@
                         ));
                     }
                   });
+                }
               })()));
         }),
         (SimplePeer.prototype._onInterval = function () {
-          !this._cb ||
-            !this._channel ||
-            this._channel.bufferedAmount > 65536 ||
+          if (
+            !(
+              !this._cb ||
+              !this._channel ||
+              this._channel.bufferedAmount > 65536
+            )
+          ) {
             this._onChannelBufferedAmountLow();
+          }
         }),
         (SimplePeer.prototype._onSignalingStateChange = function () {
           var e = this;
-          e.destroyed ||
+          if (!e.destroyed) {
             ("stable" !== e._pc.signalingState ||
-              e._firstStable ||
+              false ||
               ((e._isNegotiating = false),
               e._debug("flushing sender queue", e._sendersAwaitingStable),
               e._sendersAwaitingStable.forEach(function (t) {
                 (e._pc.removeTrack(t), (e._queuedNegotiation = true));
               }),
               (e._sendersAwaitingStable = []),
-              e._queuedNegotiation &&
+              false &&
                 (e._debug("flushing negotiation queue"),
                 (e._queuedNegotiation = false),
                 e._needsNegotiation()),
               e._debug("negotiate"),
               e.emit("negotiate")),
-            (e._firstStable = false),
-            e._debug("signalingStateChange %s", e._pc.signalingState),
-            e.emit("signalingStateChange", e._pc.signalingState));
+              (e._firstStable = false),
+              e._debug("signalingStateChange %s", e._pc.signalingState),
+              e.emit("signalingStateChange", e._pc.signalingState));
+          }
         }),
         (SimplePeer.prototype._onIceCandidate = function (e) {
-          this.destroyed ||
+          if (!this.destroyed) {
             (e.candidate && this.trickle
               ? this.emit("signal", {
                   candidate: {
@@ -8770,7 +8761,8 @@
               : e.candidate ||
                 this._iceComplete ||
                 ((this._iceComplete = true), this.emit("_iceComplete")),
-            e.candidate && this._startIceCompleteTimeout());
+              e.candidate && this._startIceCompleteTimeout());
+          }
         }),
         (SimplePeer.prototype._onChannelMessage = function (e) {
           if (!this.destroyed) {
@@ -8789,18 +8781,20 @@
           }
         }),
         (SimplePeer.prototype._onChannelOpen = function () {
-          this.connected ||
-            this.destroyed ||
+          if (!(this.connected || this.destroyed)) {
             (this._debug("on channel open"),
-            (this._channelReady = true),
-            this._maybeReady());
+              (this._channelReady = true),
+              this._maybeReady());
+          }
         }),
         (SimplePeer.prototype._onChannelClose = function () {
-          this.destroyed || (this._debug("on channel close"), this.destroy());
+          if (!this.destroyed) {
+            (this._debug("on channel close"), this.destroy());
+          }
         }),
         (SimplePeer.prototype._onTrack = function (e) {
           var t = this;
-          t.destroyed ||
+          if (!t.destroyed) {
             e.streams.forEach(function (i) {
               (t._debug("on track"),
                 t.emit("track", e.track, i),
@@ -8816,6 +8810,7 @@
                     t.emit("stream", i);
                   }, 0)));
             });
+          }
         }),
         (SimplePeer.prototype.setConstraints = function (e) {
           this.initiator
@@ -8824,7 +8819,7 @@
         }),
         (SimplePeer.prototype._debug = function () {
           var e = [].slice.call(arguments);
-          ((e[0] = "[" + this._id + "] " + e[0]), a.apply(null, e));
+          ((e[0] = "[" + this._id + "] " + e[0]), a());
         }),
         (SimplePeer.prototype._transformConstraints = function (e) {
           if (0 === Object.keys(e).length) return e;
@@ -8848,9 +8843,7 @@
               void 0 !== e.offerToReceiveAudio &&
                 ((e.OfferToReceiveAudio = e.offerToReceiveAudio),
                 delete e.offerToReceiveAudio),
-              {
-                mandatory: e,
-              });
+              { mandatory: e });
         }));
     }).call(this, i(41), i(9).Buffer);
   },
@@ -8862,13 +8855,13 @@
         i = 256,
         n = 10,
         r = document.createElement("canvas");
-      ((r.width = window.innerWidth - 16), (r.height = i * t));
+      ((r.width = window.innerWidth - 16), (r.height = 256 * 2));
       var o = r.getContext("2d");
       o.imageSmoothingEnabled = false;
       var a = document.getElementById("chat");
       (a.appendChild(r),
         (a.style.width = r.width + "px"),
-        (a.style.height = i * t + "px"));
+        (a.style.height = 256 * 2 + "px"));
       var s = "",
         c = 0,
         l = [],
@@ -8892,7 +8885,9 @@
               document.removeEventListener("keydown", f.keydown));
             var t = document.getElementById("noa-container");
             (setTimeout(function () {
-              null != t && t.requestPointerLock();
+              if (null != t) {
+                t.requestPointerLock();
+              }
             }, 200),
               (n = 10),
               (f.isOpen = false),
@@ -8903,7 +8898,6 @@
           sendMessage: function (msgStr) {
             if (msgStr.indexOf("/") == 0 || msgStr.indexOf("#") == 0) {
               var retMessage = 'Unknown command. Type "/help" for help.';
-
               if (
                 (0 == msgStr.indexOf("/ban") &&
                   (retMessage = "Command disabled."),
@@ -8918,19 +8912,15 @@
                 var i = msgStr.substr(msgStr.indexOf("kick") + 5).trim();
                 retMessage = u.getInstance().kickPlayer(i);
               }
-
               if (msgStr.indexOf("/op") == 0) {
                 retMessage = "Command disabled.";
               }
-
               if (0 == msgStr.indexOf("/tp")) {
                 var playerToStr = msgStr
                   .substr(msgStr.indexOf("tp") + 3)
-                  .trim(); // message w/o "/tp "
-
+                  .trim();
                 retMessage = u.getInstance().teleportToPlayer(playerToStr);
               }
-
               return (
                 0 == msgStr.indexOf("/unban") &&
                   (retMessage = "Command disabled."),
@@ -8954,7 +8944,9 @@
                 void (l.length > 20 && l.shift())
               );
             }
-            null != f.player && f.player.sendMessage(msgStr);
+            if (null != f.player) {
+              f.player.sendMessage(msgStr);
+            }
           },
           keydown: function (e) {
             if (
@@ -8977,8 +8969,8 @@
           },
           keypress: function (e) {
             if (!(performance.now() < c + 100)) {
-              var t = e.key,
-                i = 10;
+              var t = e.key;
+              var i = 10;
               (null != f.player && (i = f.player.state.name.length),
                 "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ,.:-_'*!\\\"#%/()=+?[]{}<>@|$;".indexOf(
                   t,
@@ -9006,7 +8998,9 @@
             var e = new Date().getTime();
             if (!(e < h + 1e3)) {
               for (var t = false, i = 0; i < l.length; i++) {
-                l[i].timestamp + 1e4 < e && ((l[i].isOld = true), (t = true));
+                if (l[i].timestamp + 1e4 < e) {
+                  ((l[i].isOld = true), (t = true));
+                }
               }
               (t && f.redraw(), (h = e));
             }
@@ -9031,8 +9025,8 @@
             for (var u = 1, h = l.length - 1; h >= 0; h--)
               if (!l[h].isOld || f.isOpen) {
                 if (u > n) break;
-                var d = "",
-                  p = "rgb(255,255,255)";
+                var d = "";
+                var p = "rgb(255,255,255)";
                 switch (l[h].type) {
                   case "message":
                     d = l[h].from + ": " + l[h].message;
@@ -9050,9 +9044,9 @@
                 }
                 var m = i * t - 25 * t - 15 * u++ * t;
                 ((o.fillStyle = "rgb(63,63,63)"),
-                  o.fillText(d, e + a, m + a),
-                  (o.fillStyle = p),
-                  o.fillText(d, e, m));
+                  o.fillText("", e + a, m + a),
+                  (o.fillStyle = "rgb(255,255,255)"),
+                  o.fillText("", e, m));
               }
           },
           resize: function () {
@@ -9139,10 +9133,8 @@
                   (this.worldInitialized = false),
                   (this.client = null),
                   (this.network = e.network));
-
                 var r = i(412);
                 var s = i(495);
-
                 this.soundPlayer = i(497)();
                 var c,
                   u = i(499),
@@ -9151,7 +9143,6 @@
                   f = i(502),
                   d = i(503),
                   p = i(194);
-
                 var generationProgress = u();
                 var g = 32;
                 var worldSize = 128;
@@ -9159,29 +9150,22 @@
                 var y = null;
                 var b = false;
                 var E = false;
-
-                var This = this; // why?
-
+                var This = this;
                 if (Math.round(e.seed) == e.seed) {
                   this.player = void 0 !== e.player ? e.player : null;
-
                   var urlParams = new URLSearchParams(window.location.search);
                   var worldSizeStr = urlParams.get("size");
-
                   switch (worldSizeStr) {
                     case "small":
                       worldSize = 128;
                       break;
-
                     case "normal":
                       worldSize = 256;
                       break;
-
                     case "huge":
                       worldSize = 512;
                       break;
                   }
-
                   if (targetBlockAdjacentPos.default.getInstance().gameSaved())
                     worldSize = targetBlockAdjacentPos.default
                       .getInstance()
@@ -9190,19 +9174,17 @@
                     targetBlockAdjacentPos.default
                       .getInstance()
                       .setWorldSize(worldSize);
-
                   if (typeof Worker != "undefined") {
                     if (worldGenerator === void 0) {
                       var worldGenerator = new Worker(
                         "assets/js/RandomLevelWorker.js",
                       );
                       (worldGenerator.postMessage({
-                        worldSize: worldSize,
+                        worldSize,
                         seed: e.seed,
                       }),
                         generationProgress.show());
                     }
-
                     worldGenerator.onmessage = function (message) {
                       var messageData = message.data;
                       ((generationProgress.task = messageData.string),
@@ -9229,47 +9211,49 @@
                                 : Ee())));
                     };
                   } else console.log("No worker support.");
-                  var C = 0.5 * worldSize,
-                    P = 8e3,
-                    R = 24e3,
-                    M = 8e3,
-                    O = 24e3,
-                    w = 3e3,
-                    I = 12e3,
-                    D = {
-                      chunkSize: g,
-                      chunkAddDistance: 7,
-                      chunkRemoveDistance: 8,
-                      blockTestDistance: 6,
-                      playerStart: [C + 0.5, 48, C + 0.5],
-                      playerHeight: 1.8,
-                      texturePath: "assets/textures/",
-                      useAO: false,
-                      stickyPointerLock: true,
-                    };
+                  var C = 0.5 * worldSize;
+                  var P = 8e3;
+                  var R = 24e3;
+                  var M = 8e3;
+                  var O = 24e3;
+                  var w = 3e3;
+                  var I = 12e3;
+                  var D = {
+                    chunkSize: g,
+                    chunkAddDistance: 7,
+                    chunkRemoveDistance: 8,
+                    blockTestDistance: 6,
+                    playerStart: [C + 0.5, 48, C + 0.5],
+                    playerHeight: 1.8,
+                    texturePath: "assets/textures/",
+                    useAO: false,
+                    stickyPointerLock: true,
+                  };
                   this.lightDepths = new Array(worldSize);
                   for (var L = 0; L < worldSize; L++)
                     this.lightDepths[L] = new Array(worldSize);
                   var options = {
-                      music: false,
-                      sound: true,
-                      invert: false,
-                      fps: false,
-                      drawDistance: 0,
-                      forward: "W",
-                      left: "A",
-                      backward: "S",
-                      right: "D",
-                      jump: "<space>",
-                      build: "B",
-                      chat: "T",
-                      fog: "F",
-                      saveLoc: "<enter>",
-                      loadLoc: "R",
-                      username: "",
-                    },
-                    B = JSON.parse(localStorage.getItem("settings"));
-                  null == B || B.back || (options = B);
+                    music: false,
+                    sound: true,
+                    invert: false,
+                    fps: false,
+                    drawDistance: 0,
+                    forward: "W",
+                    left: "A",
+                    backward: "S",
+                    right: "D",
+                    jump: "<space>",
+                    build: "B",
+                    chat: "T",
+                    fog: "F",
+                    saveLoc: "<enter>",
+                    loadLoc: "R",
+                    username: "",
+                  };
+                  var B = JSON.parse(localStorage.getItem("settings"));
+                  if (!(null == B || B.back)) {
+                    options = B;
+                  }
                   var N = {
                     forward: options.forward,
                     left: options.left,
@@ -9312,10 +9296,10 @@
                       : (k.hostInfo = {
                           maxPlayers: this.player.network.maxPlayers,
                         }));
-                  var U = l(k),
-                    V = h(U),
-                    G = f(k, e.singlePlayer),
-                    z = p(k);
+                  var U = l(k);
+                  var V = h(U);
+                  var G = f(k, e.singlePlayer);
+                  var z = p(k);
                   this.addParticles = s(k);
                   var j = U.currentId - 1;
                   (k.on("tick", function (e) {
@@ -9340,8 +9324,8 @@
                         var e = fe.slice();
                         fe.length = 0;
                         for (var t = 0; t < e.length; t++) {
-                          var i,
-                            n = e[t];
+                          var i;
+                          var n = e[t];
                           (i = n).func.apply(i, isLocalPlayer(n.args));
                         }
                         he = k.time;
@@ -9350,8 +9334,8 @@
                         var e = ge.slice();
                         ge.length = 0;
                         for (var t = 0; t < e.length; t++) {
-                          var r,
-                            n = e[t];
+                          var r;
+                          var n = e[t];
                           (r = n).func.apply(r, isLocalPlayer(n.args));
                         }
                         me = k.time;
@@ -9387,7 +9371,6 @@
                       // returns light value at position of removed block
                       // lowest block exposed to sunlight at pos
                       var lightDepth = this.lightDepths[x][z];
-
                       if (y >= lightDepth) {
                         // loop thru blocks under y, check if transparent
                         for (
@@ -9406,7 +9389,6 @@
                           lowestLit -= 1;
                           blockID = k.world.getBlockID(x, lowestLit, z);
                         }
-
                         if (
                           Math.floor(lowestLit / g) !=
                           Math.floor(lightDepth / g)
@@ -9414,114 +9396,106 @@
                           k.world.setBlockID(0, x, lowestLit, z);
                           k.world.setBlockID(blockID, x, lowestLit, z);
                         }
-
                         // update lightDepths to lowest Y position lit
                         this.lightDepths[x][z] = lowestLit;
-
                         return 1;
                       }
-
                       return 0.6;
                     }));
-
                   var H = function e() {
-                      var t = false;
-                      if (
-                        (This.hostInfo &&
-                          null != This.hostInfo.spawnPoint &&
-                          null != This.hostInfo.spawnPoint &&
-                          (t = true),
-                        t)
-                      )
-                        k.entities.setPosition(
-                          k.playerEntity,
-                          This.hostInfo.spawnPoint.x,
-                          This.hostInfo.spawnPoint.y,
-                          This.hostInfo.spawnPoint.z,
-                        );
-                      else {
-                        for (var i = 0, n = 0; i < v && n < 50; ) {
-                          var r =
-                              Math.floor(
-                                C -
-                                  worldSize / 4 +
-                                  Math.random() * (worldSize / 2),
-                              ) + 0.5,
-                            o =
-                              Math.floor(
-                                C -
-                                  worldSize / 4 +
-                                  Math.random() * (worldSize / 2),
-                              ) + 0.5,
-                            a = k.pick([r, 100, o], [0, -1, 0], 1e3, true);
-                          (null != a && (i = a.position[1]), ++n);
-                        }
-                        if (n >= 50) return void setTimeout(e, 100);
-                        k.entities.setPosition(
+                    var t = false;
+                    if (
+                      (This.hostInfo &&
+                        null != This.hostInfo.spawnPoint &&
+                        null != This.hostInfo.spawnPoint &&
+                        (t = true),
+                      t)
+                    )
+                      k.entities.setPosition(
+                        k.playerEntity,
+                        This.hostInfo.spawnPoint.x,
+                        This.hostInfo.spawnPoint.y,
+                        This.hostInfo.spawnPoint.z,
+                      );
+                    else {
+                      for (var i = 0, n = 0; i < v && n < 50; ) {
+                        var r =
+                          Math.floor(
+                            C - worldSize / 4 + Math.random() * (worldSize / 2),
+                          ) + 0.5;
+                        var o =
+                          Math.floor(
+                            C - worldSize / 4 + Math.random() * (worldSize / 2),
+                          ) + 0.5;
+                        var a = k.pick([r, 100, o], [0, -1, 0], 1e3, true);
+                        (null != a && (i = a.position[1]), ++n);
+                      }
+                      if (n >= 50) return void setTimeout(e, 100);
+                      k.entities.setPosition(
+                        k.playerEntity,
+                        a.position[0],
+                        a.position[1] + 1,
+                        a.position[2],
+                      );
+                    }
+                    (generationProgress.hide(),
+                      This.updateResetPosition(),
+                      (This.playerSpawned = true),
+                      setTimeout(function () {
+                        k.entities.setPhysicsInterpolation(
                           k.playerEntity,
-                          a.position[0],
-                          a.position[1] + 1,
-                          a.position[2],
+                          true,
                         );
-                      }
-                      (generationProgress.hide(),
-                        This.updateResetPosition(),
-                        (This.playerSpawned = true),
-                        setTimeout(function () {
-                          k.entities.setPhysicsInterpolation(
-                            k.playerEntity,
-                            true,
-                          );
-                        }, 100));
-                    },
-                    W = i(504)(k),
-                    X = (i(505)(k), i(506)(k, g), i(507)),
-                    Y = i(508),
-                    K = [
-                      "grass",
-                      "dirt",
-                      "grass_dirt",
-                      "stone",
-                      "wood",
-                      "rock",
-                      "bedrock",
-                      "sand",
-                      "gravel",
-                      "tree_top",
-                      "tree_side",
-                      "lava",
-                      "rock_gold",
-                      "rock_bronze",
-                      "rock_coal",
-                      "gold",
-                      "sponge",
-                      "color0",
-                      "color1",
-                      "color2",
-                      "color3",
-                      "color4",
-                      "color5",
-                      "color6",
-                      "color7",
-                      "color8",
-                      "color9",
-                      "color10",
-                      "color11",
-                      "color12",
-                      "color13",
-                      "color14",
-                      "color15",
-                    ],
-                    Q = [
-                      "leaves_opaque",
-                      "glass",
-                      "water",
-                      "bush",
-                      "red_flower",
-                      "yellow_flower",
-                      "red_mushroom",
-                      "brown_mushroom",
-                    ];
+                      }, 100));
+                  };
+                  var W = i(504)(k);
+                  var X = (i(505)(k), i(506)(k, g), i(507));
+                  var Y = i(508);
+                  var K = [
+                    "grass",
+                    "dirt",
+                    "grass_dirt",
+                    "stone",
+                    "wood",
+                    "rock",
+                    "bedrock",
+                    "sand",
+                    "gravel",
+                    "tree_top",
+                    "tree_side",
+                    "lava",
+                    "rock_gold",
+                    "rock_bronze",
+                    "rock_coal",
+                    "gold",
+                    "sponge",
+                    "color0",
+                    "color1",
+                    "color2",
+                    "color3",
+                    "color4",
+                    "color5",
+                    "color6",
+                    "color7",
+                    "color8",
+                    "color9",
+                    "color10",
+                    "color11",
+                    "color12",
+                    "color13",
+                    "color14",
+                    "color15",
+                  ];
+                  var Q = [
+                    "leaves_opaque",
+                    "glass",
+                    "water",
+                    "bush",
+                    "red_flower",
+                    "yellow_flower",
+                    "red_mushroom",
+                    "brown_mushroom",
+                  ];
                   for (L = 0; L < K.length; L++) {
                     var q = null;
                     ("lava" == (Z = K[L]) && (q = [0.4, 0, 0, 0.95]),
@@ -9530,7 +9504,9 @@
                   for (L = 0; L < Q.length; L++) {
                     var Z;
                     q = null;
-                    "water" == (Z = Q[L]) && (q = [0, 0, 0.4, 0.85]);
+                    if ("water" == (Z = Q[L])) {
+                      q = [0, 0, 0.4, 0.85];
+                    }
                     k.registry.registerMaterial(Z, q, Z + ".png", true);
                   }
                   k.registry.registerMaterial(
@@ -9539,11 +9515,11 @@
                     null,
                     true,
                   );
-                  var J = [],
-                    $ = [null, null, null, 8, 5, 6, 15, 16];
+                  var J = [];
+                  var $ = [null, null, null, 8, 5, 6, 15, 16];
                   for (L = 3; L < 8; L++) {
-                    var ee = Q[L],
-                      te = X(k);
+                    var ee = Q[L];
+                    var te = X(k);
                     (((oe = k.rendering.makeStandardMaterial(
                       ee + "Mat",
                     )).diffuseTexture = new BABYLON.Texture(
@@ -9556,12 +9532,12 @@
                       (oe.diffuseTexture.hasAlpha = true),
                       (oe.diffuseTexture.getAlphaFromRGB = true),
                       (te.material = oe));
-                    var ie = $[L],
-                      ne = k.registry.registerBlock(ie, {
-                        material: [null, ee, null, null, null, null],
-                        opaque: false,
-                        blockMesh: te,
-                      });
+                    var ie = $[L];
+                    var ne = k.registry.registerBlock(ie, {
+                      material: [null, ee, null, null, null, null],
+                      opaque: false,
+                      blockMesh: te,
+                    });
                     J.push(ne);
                   }
                   ((this.grassID = k.registry.registerBlock(1, {
@@ -9862,10 +9838,9 @@
                   var ae = i(509)(k, this.blockArray);
                   (ae.setBlock(j),
                     window.addEventListener("beforeunload", function (e) {
-                      !This.playerSpawned ||
-                        b ||
-                        E ||
+                      if (!(!This.playerSpawned || b || E)) {
                         (e.preventDefault(), (e.returnValue = ""));
+                      }
                     }),
                     document.addEventListener("mousewheel", Ae, false),
                     document.addEventListener("DOMMouseScroll", Ae, false),
@@ -9879,9 +9854,11 @@
                           chosenBlock: j,
                           addMode: k.addMode,
                         };
-                        k.addMode && (e.localPlayer = true);
+                        if (k.addMode) {
+                          e.localPlayer = true;
+                        }
                         var t = This.handleFireEvent(e);
-                        (delete e.localPlayer,
+                        (delete true,
                           null != This.player &&
                             t &&
                             This.player.emitFireEvent(e));
@@ -9917,7 +9894,7 @@
                           (8 == t && e.preventDefault(),
                           e.ctrlKey && e.preventDefault(),
                           !z.isOpen && se)
-                        )
+                        ) {
                           if (((se = false), 27 == t && c.isOpen)) c.close();
                           else if (
                             (27 == t &&
@@ -9934,6 +9911,7 @@
                               (j = U.currentId - 1),
                               ae.setBlock(j));
                           }
+                        }
                       },
                       false,
                     ),
@@ -9946,22 +9924,34 @@
                     ));
                   var se = true;
                   (k.inputs.down.on("build", function (e, t) {
-                    G.isOpen || c.isOpen || V.open();
+                    if (!(G.isOpen || c.isOpen)) {
+                      V.open();
+                    }
                   }),
                     k.inputs.down.on("chat", function (e, t) {
-                      G.isOpen || c.isOpen || (V.isOpen && V.close(), c.open());
+                      if (!(G.isOpen || c.isOpen)) {
+                        (V.isOpen && V.close(), c.open());
+                      }
                     }),
                     k.inputs.down.on("fog", function (e, t) {
-                      G.isOpen || c.isOpen || ye();
+                      if (!(G.isOpen || c.isOpen)) {
+                        ye();
+                      }
                     }),
                     k.inputs.down.on("saveLoc", function (e, t) {
-                      G.isOpen || c.isOpen || This.updateResetPosition();
+                      if (!(G.isOpen || c.isOpen)) {
+                        This.updateResetPosition();
+                      }
                     }),
                     k.inputs.down.on("loadLoc", function (e, t) {
-                      G.isOpen || c.isOpen || This.applyResetPosition();
+                      if (!(G.isOpen || c.isOpen)) {
+                        This.applyResetPosition();
+                      }
                     }),
                     k.inputs.down.on("spawnSteve", function (e, t) {
-                      G.isOpen || c.isOpen || This.spawnSteve();
+                      if (!(G.isOpen || c.isOpen)) {
+                        This.spawnSteve();
+                      }
                     }));
                   var ce = false;
                   (document.addEventListener(
@@ -10056,24 +10046,24 @@
                         a = t(k, n, r, o);
                       This.steveArray.push(a);
                     }));
-                  var le = 250,
-                    he = 0,
-                    fe = [],
-                    de = function (e, t) {
-                      fe.push({
-                        func: e,
-                        args: t,
-                      });
-                    },
-                    pe = 1500,
-                    me = 0,
-                    ge = [],
-                    _e = function (e, t) {
-                      ge.push({
-                        func: e,
-                        args: t,
-                      });
-                    };
+                  var le = 250;
+                  var he = 0;
+                  var fe = [];
+                  var de = function (e, t) {
+                    fe.push({
+                      func: e,
+                      args: t,
+                    });
+                  };
+                  var pe = 1500;
+                  var me = 0;
+                  var ge = [];
+                  var _e = function (e, t) {
+                    ge.push({
+                      func: e,
+                      args: t,
+                    });
+                  };
                   ((this.checkWaterBelowAdd = function (e, t, i) {
                     var n = this.waterID;
                     (this.shouldWaterHaveSurface(e, t, i) &&
@@ -10117,8 +10107,9 @@
                     }
                   }),
                     (this.checkWaterHackBelowDestroy = function (e, t, i) {
-                      k.world.getBlockID(e, t, i) == this.waterHackID &&
+                      if (k.world.getBlockID(e, t, i) == this.waterHackID) {
                         this.addBlock(this.waterID, e, t, i);
+                      }
                       var n,
                         r = k.world.getBlockID(e - 1, t, i),
                         o = k.world.getBlockID(e + 1, t, i),
@@ -10196,14 +10187,14 @@
                         n != this.waterID)
                       ) {
                         this.addBlock(n, e, t, i);
-                        var o = k.world.getBlockID(e - 1, t, i),
-                          a = k.world.getBlockID(e + 1, t, i),
-                          s = k.world.getBlockID(e, t, i + 1),
-                          c = k.world.getBlockID(e, t, i - 1),
-                          u = k.world.getBlockID(e - 1, t + 1, i),
-                          l = k.world.getBlockID(e + 1, t + 1, i),
-                          h = k.world.getBlockID(e, t + 1, i + 1),
-                          f = k.world.getBlockID(e, t + 1, i - 1);
+                        var o = k.world.getBlockID(e - 1, t, i);
+                        var a = k.world.getBlockID(e + 1, t, i);
+                        var s = k.world.getBlockID(e, t, i + 1);
+                        var c = k.world.getBlockID(e, t, i - 1);
+                        var u = k.world.getBlockID(e - 1, t + 1, i);
+                        var l = k.world.getBlockID(e + 1, t + 1, i);
+                        var h = k.world.getBlockID(e, t + 1, i + 1);
+                        var f = k.world.getBlockID(e, t + 1, i - 1);
                         (o == this.waterID &&
                           0 != u &&
                           (k.setBlock(n, e - 1, t, i),
@@ -10249,11 +10240,11 @@
                         ) &&
                         0 == k.world.getBlockID(e, t, i)
                       ) {
-                        var r = k.world.getBlockID(e, t + 1, i),
-                          o = k.world.getBlockID(e - 1, t, i),
-                          a = k.world.getBlockID(e + 1, t, i),
-                          s = k.world.getBlockID(e, t, i + 1),
-                          c = k.world.getBlockID(e, t, i - 1);
+                        var r = k.world.getBlockID(e, t + 1, i);
+                        var o = k.world.getBlockID(e - 1, t, i);
+                        var a = k.world.getBlockID(e + 1, t, i);
+                        var s = k.world.getBlockID(e, t, i + 1);
+                        var c = k.world.getBlockID(e, t, i - 1);
                         ((r != This.lavaID &&
                           o != This.lavaID &&
                           a != This.lavaID &&
@@ -10274,8 +10265,9 @@
                             s != This.waterHackID &&
                             c != This.waterHackID) ||
                             setTimeout(function () {
-                              This.addWater(e, t, i) &&
+                              if (This.addWater(e, t, i)) {
                                 de(This.checkNeighboursAsWater, [e, t, i]);
+                              }
                             }, 150),
                           n &&
                             setTimeout(function () {
@@ -10292,11 +10284,11 @@
                           i >= k.worldSize - 1
                         )
                       ) {
-                        var n = k.world.getBlockID(e, t - 1, i),
-                          r = k.world.getBlockID(e - 1, t, i),
-                          o = k.world.getBlockID(e + 1, t, i),
-                          a = k.world.getBlockID(e, t, i + 1),
-                          s = k.world.getBlockID(e, t, i - 1);
+                        var n = k.world.getBlockID(e, t - 1, i);
+                        var r = k.world.getBlockID(e - 1, t, i);
+                        var o = k.world.getBlockID(e + 1, t, i);
+                        var a = k.world.getBlockID(e, t, i + 1);
+                        var s = k.world.getBlockID(e, t, i - 1);
                         (0 == n &&
                           This.addWater(e, t - 1, i) &&
                           de(This.checkNeighboursAsWater, [e, t - 1, i]),
@@ -10323,11 +10315,11 @@
                           i > k.worldSize - 1
                         )
                       ) {
-                        var n = k.world.getBlockID(e, t - 1, i),
-                          r = k.world.getBlockID(e - 1, t, i),
-                          o = k.world.getBlockID(e + 1, t, i),
-                          a = k.world.getBlockID(e, t, i + 1),
-                          s = k.world.getBlockID(e, t, i - 1);
+                        var n = k.world.getBlockID(e, t - 1, i);
+                        var r = k.world.getBlockID(e - 1, t, i);
+                        var o = k.world.getBlockID(e + 1, t, i);
+                        var a = k.world.getBlockID(e, t, i + 1);
+                        var s = k.world.getBlockID(e, t, i - 1);
                         (0 == n &&
                           (This.addLava(e, t - 1, i),
                           _e(This.checkNeighboursAsLava, [e, t - 1, i])),
@@ -10350,15 +10342,20 @@
                       setTimeout(function () {
                         if (k.world.getBlockID(e, t, i) == This.dirtID) {
                           var n = This.checkUpForBlocker(e, t, i);
-                          (0 != n &&
-                            n != This.redflowerID &&
-                            n != This.yellowflowerID &&
-                            n != This.bushID &&
-                            n != This.redmushroomID &&
-                            n != This.brownmushroomID &&
-                            n != This.glassID &&
-                            n != This.leafID) ||
+                          if (
+                            !(
+                              0 != n &&
+                              n != This.redflowerID &&
+                              n != This.yellowflowerID &&
+                              n != This.bushID &&
+                              n != This.redmushroomID &&
+                              n != This.brownmushroomID &&
+                              n != This.glassID &&
+                              n != This.leafID
+                            )
+                          ) {
                             This.setBlock(This.grassID, e, t, i);
+                          }
                         }
                       }, n);
                     }),
@@ -10367,15 +10364,18 @@
                       setTimeout(function () {
                         if (k.world.getBlockID(e, t, i) == This.grassID) {
                           var n = This.checkUpForBlocker(e, t, i);
-                          0 != n &&
+                          if (
+                            0 != n &&
                             n != This.redflowerID &&
                             n != This.yellowflowerID &&
                             n != This.bushID &&
                             n != This.redmushroomID &&
                             n != This.brownmushroomID &&
                             n != This.glassID &&
-                            n != This.leafID &&
+                            n != This.leafID
+                          ) {
                             This.setBlock(This.dirtID, e, t, i);
+                          }
                         }
                       }, n);
                     }),
@@ -10391,10 +10391,10 @@
                           n == This.brownmushroomID
                         ) {
                           var r = k.world.getBlockID(e, t - 1, i);
-                          r != This.grassID &&
-                            r != This.dirtID &&
+                          if (r != This.grassID && r != This.dirtID) {
                             (This.setBlock(0, e, t, i),
-                            de(This.checkNeighbours, [e, t, i]));
+                              de(This.checkNeighbours, [e, t, i]));
+                          }
                         }
                       }, n);
                     }),
@@ -10413,8 +10413,9 @@
                           (This.setBlock(0, e, t, i),
                             de(This.checkNeighbours, [e, t, i]));
                           var r = k.world.getBlockID(e, t + 1, i);
-                          (r != This.sandID && r != This.gravelID) ||
+                          if (!(r != This.sandID && r != This.gravelID)) {
                             This.checkDownSandGravel(e, t + 1, i, r);
+                          }
                         }
                       }, n);
                     }),
@@ -10439,7 +10440,9 @@
                             n != this.redmushroomID &&
                             n != this.brownmushroomID) ||
                             This.checkAboveFoilage(e, r, i));
-                      n == this.grassID && this.flagToRemoveGrass(e, r, i);
+                      if (n == this.grassID) {
+                        this.flagToRemoveGrass(e, r, i);
+                      }
                     }),
                     (this.checkDownForDirt = function (e, t, i) {
                       for (
@@ -10455,7 +10458,9 @@
                         r >= 0;
                       )
                         ((r -= 1), (n = k.world.getBlockID(e, r, i)));
-                      n == this.dirtID && this.flagToGrowGrass(e, r, i);
+                      if (n == this.dirtID) {
+                        this.flagToGrowGrass(e, r, i);
+                      }
                     }),
                     (this.checkDownSandGravel = function (e, t, i, n) {
                       for (
@@ -10472,8 +10477,9 @@
                         (This.setBlock(0, e, t, i),
                           This.setBlock(n, e, o + 1, i));
                         var a = k.world.getBlockID(e, t + 1, i);
-                        (a != This.sandID && a != This.gravelID) ||
+                        if (!(a != This.sandID && a != This.gravelID)) {
                           This.checkDownSandGravel(e, t + 1, i, a);
+                        }
                         This.removeBlockCheckLit(e, t, i);
                         This.checkNeighbours(e, t, i, false);
                       }
@@ -10502,12 +10508,13 @@
                     }
                   }),
                     (this.checkAddSponge = function (e, t, i, n) {
-                      (n || null == n) &&
-                        (ve["s" + e + t + i] = {
+                      if (n || null == n) {
+                        ve["s" + e + t + i] = {
                           x: e,
                           y: t,
                           z: i,
-                        });
+                        };
+                      }
                       for (
                         var r = Math.max(e - 2, 1),
                           o = Math.min(e + 2, worldSize - 3),
@@ -10520,9 +10527,10 @@
                         for (var u = r; u <= o; u++)
                           for (var l = a; l <= s; l++) {
                             var h = k.world.getBlockID(u, c, l);
-                            (h != This.waterID && 0 != h) ||
+                            if (!(h != This.waterID && 0 != h)) {
                               (This.setBlock(This.emptySpongeID, u, c, l),
-                              This.removeBlockCheckLit(u, c, l));
+                                This.removeBlockCheckLit(u, c, l));
+                            }
                           }
                     }),
                     (this.checkRemoveSponge = function (e, t, i) {
@@ -10628,8 +10636,8 @@
                     }),
                     setInterval(function () {
                       if (null != t.player) {
-                        var e = k.entities.getPositionData(k.playerEntity),
-                          i = k.rendering._rotationHolder.rotation;
+                        var e = k.entities.getPositionData(k.playerEntity);
+                        var i = k.rendering._rotationHolder.rotation;
                         t.player.setPosition(
                           {
                             x: e.position[0],
@@ -10642,19 +10650,24 @@
                       }
                     }, 50),
                     (k.setName = function (e) {
-                      This.setName && This.setName(e);
+                      if (This.setName) {
+                        This.setName(e);
+                      }
                     }),
                     (this.onHostDisconnect = function () {
-                      E ||
+                      if (!E) {
                         (this.worldInitialized &&
                           (G.isOpen && G.close(),
                           c.isOpen && c.close(),
                           V.isOpen && V.close()),
-                        z && z.show(3),
-                        (b = true));
+                          z && z.show(3),
+                          (b = true));
+                      }
                     }),
                     (this.onHostFull = function () {
-                      z && z.show(2);
+                      if (z) {
+                        z.show(2);
+                      }
                     }),
                     (this.onKicked = function () {
                       ((E = true), z && z.show(5));
@@ -10677,14 +10690,10 @@
                           this.changedBlockHandler.setBlock(r, e));
                     }),
                     (this.addBlock = function (blockToAdd, t, localPlayer, n) {
-                      var blockPos = t.length ? t : [t, localPlayer, n]; // if t is not arr, blockPos = [t, i, n]
-
-                      var o = !!t.length && localPlayer; // whether t is an arr AND i = true
-
+                      var blockPos = t.length ? t : [t, localPlayer, n];
+                      var o = !!t.length && localPlayer;
                       this.setBlockTilesArray(blockToAdd, blockPos);
-
                       var addBlockRet = k.addBlock(blockToAdd, blockPos, o);
-
                       if (!!addBlockRet) {
                         if (
                           this.changedBlockHandler !== void 0 &&
@@ -10695,7 +10704,6 @@
                             blockToAdd,
                           );
                         }
-
                         if (
                           blockToAdd != this.leafID &&
                           blockToAdd != this.glassID &&
@@ -10711,10 +10719,8 @@
                             blockPos[2],
                           );
                         }
-
                         return true;
                       }
-
                       return false;
                     }),
                     (this.handleChangedBlocks = function (e) {
@@ -10732,7 +10738,9 @@
                                     i.p[2],
                                   ))));
                       }
-                      this.worldGenerated && !this.worldInitialized && Ee();
+                      if (this.worldGenerated && !this.worldInitialized) {
+                        Ee();
+                      }
                     }),
                     (this.syncSavedWorld = function () {
                       var e = targetBlockAdjacentPos.default
@@ -10750,10 +10758,11 @@
                       }
                     }),
                     (this.updateChatLog = function (e) {
-                      void 0 !== c && c.update(e);
+                      if (void 0 !== c) {
+                        c.update(e);
+                      }
                     }));
                 } else console.log("seed must be an integer.");
-
                 function Ee() {
                   // Calculate light depths
                   !(function () {
@@ -10763,12 +10772,10 @@
                           var n = x;
                           var r = y;
                           var o = z;
-                          var blockID = y[(r * worldSize + o) * worldSize + n];
+                          var blockID = y[(y * worldSize + z) * worldSize + x];
                           var s = 0;
-
-                          if (This.lightDepths[n][o] != null)
-                            s = This.lightDepths[n][o];
-
+                          if (This.lightDepths[x][z] != null)
+                            s = This.lightDepths[x][z];
                           if (
                             blockID != 0 &&
                             blockID != This.redflowerID &&
@@ -10779,15 +10786,14 @@
                             blockID != This.glassID &&
                             blockID != This.leafID &&
                             blockID != This.emptySpongeID &&
-                            r >= s
+                            y >= s
                           )
-                            s = r;
-                          This.lightDepths[n][o] = s;
+                            s = y;
+                          This.lightDepths[x][z] = s;
                         }
                       }
                     }
                   })();
-
                   k.world.on("worldDataNeeded", Te);
                   k.setPaused(false);
                   c = blockInHand(k);
@@ -10796,17 +10802,14 @@
                   k.entities.setPhysicsInterpolation(k.playerEntity, false);
                   setTimeout(H, 100);
                   This.worldInitialized = true;
-
                   if (k.hostInfo.gameFull) {
                     if (G.isOpen) {
                       G.close(true);
                       z.show(2);
                     }
                   }
-
                   if (urlParams.get("host") != null) {
                     if (G.isOpen) G.close(true);
-
                     if (This.noWebrtcJoin) z.show(6);
                     else z.show(0);
                   } else if (urlParams.get("join") != null) {
@@ -10816,7 +10819,6 @@
                     }
                   }
                 }
-
                 function Te(e, t, i, n, r) {
                   var o = e.split("|"),
                     a = parseInt(o[0], 10),
@@ -10845,9 +10847,9 @@
                     for (d = This.bedrockID, p = 0; p < t.shape[0]; ++p)
                       for (m = 0; m < t.shape[1]; ++m)
                         for (b = 0; b < t.shape[2]; ++b) {
-                          var E,
-                            A = p - 1 + u,
-                            x = b - 1 + h;
+                          var E;
+                          var A = p - 1 + u;
+                          var x = b - 1 + h;
                           ((null !=
                             (d =
                               y[
@@ -10869,7 +10871,9 @@
                   }
                 }
                 function Ae(e) {
-                  e.ctrlKey && e.preventDefault();
+                  if (e.ctrlKey) {
+                    e.preventDefault();
+                  }
                 }
               },
             },
@@ -10882,7 +10886,6 @@
                 var isAdding = event.addMode;
                 var blockInHand = event.chosenBlock;
                 var isLocalPlayer = event.localPlayer;
-
                 if (typeof noa == "undefined") {
                   if (isAdding)
                     this.setBlockTilesArray(
@@ -10890,14 +10893,11 @@
                       blockPlacePos,
                     );
                   else this.setBlockTilesArray(0, targetBlockPos);
-
                   return false;
                 }
-
                 if (isAdding) {
                   // is block y level is past world height
                   if (blockPlacePos[1] >= noa.worldHeight) return false;
-
                   //block that is currently at where you are placing block
                   var blockAtPlacePos = noa.world.getBlockID(
                     blockPlacePos[0],
@@ -10905,7 +10905,6 @@
                     blockPlacePos[2],
                   );
                   var blockToPlace = this.blockArray[blockInHand];
-
                   // add the block
                   var blockAdded = this.addBlock(
                     blockToPlace,
@@ -10916,26 +10915,22 @@
                   if (!blockAdded) {
                     return false;
                   }
-
                   if (blockToPlace == this.dirtID)
                     this.flagToGrowGrass(
                       blockPlacePos[0],
                       blockPlacePos[1],
                       blockPlacePos[2],
                     );
-
                   this.checkDownForGrass(
                     blockPlacePos[0],
                     blockPlacePos[1],
                     blockPlacePos[2],
                   );
-
                   var blockUnder = noa.world.getBlockID(
                     blockPlacePos[0],
                     blockPlacePos[1] - 1,
                     blockPlacePos[2],
                   );
-
                   if (
                     (blockUnder == this.waterID ||
                       blockUnder == this.waterHackID) &&
@@ -10946,7 +10941,6 @@
                       blockPlacePos[1] - 1,
                       blockPlacePos[2],
                     );
-
                   // if the block being placed is sand or gravel apply gravity
                   if (
                     blockToPlace == this.sandID ||
@@ -10958,7 +10952,6 @@
                       blockPlacePos[2],
                       blockToPlace,
                     );
-
                   //if the block added was sponge clear water nearby
                   if (blockToPlace == this.spongeID)
                     this.checkAddSponge(
@@ -10966,7 +10959,6 @@
                       blockPlacePos[1],
                       blockPlacePos[2],
                     );
-
                   //check if there is a plant being placed and if the block underneath is grass or dirt
                   if (
                     blockToPlace == this.redflowerID ||
@@ -10983,25 +10975,20 @@
                       blockPlacePos[2],
                     );
                   }
-
                   this.checkAboveFoilage(
                     blockPlacePos[0],
                     blockPlacePos[1],
                     blockPlacePos[2],
                   );
-
                   return true;
                 } else {
                   if (targetedBlockID != this.bedrockID) {
                     var blockFaceMatAccessor =
                       noa.registry.getBlockFaceMaterialAccessor();
-
                     var blockTexId = blockFaceMatAccessor(targetedBlockID, 0);
                     var blockTexture = noa.registry._textures[blockTexId];
-
                     // set air block to target, "breaking" the block
                     this.setBlock(0, targetBlockPos);
-
                     var f = this.removeBlockCheckLit(
                       targetBlockPos[0],
                       targetBlockPos[1],
@@ -11016,7 +11003,6 @@
                       noa.rendering._cameraHolder.position,
                       targetVec3,
                     );
-
                     if (blockTexture != null && blockDist < 15)
                       this.addParticles(
                         "debris",
@@ -11027,7 +11013,6 @@
                         targetBlockPos[1] + 0.5,
                         targetBlockPos[2] + 0.5,
                       );
-
                     (this.checkDownForDirt(
                       targetBlockPos[0],
                       targetBlockPos[1],
@@ -11039,13 +11024,11 @@
                           targetBlockPos[1],
                           targetBlockPos[2],
                         ));
-
                     var m = noa.world.getBlockID(
                       targetBlockPos[0],
                       targetBlockPos[1] + 1,
                       targetBlockPos[2],
                     );
-
                     ((targetedBlockID != this.dirtID &&
                       targetedBlockID != this.grassID) ||
                       (m != this.redflowerID &&
@@ -11065,15 +11048,13 @@
                           targetBlockPos[2],
                           m,
                         ));
-
                     var g = this.soundArray[targetedBlockID];
-
                     if (null != g && blockDist < 15) {
                       var _ = 1 - blockDist / 25;
                       this.soundPlayer.play(g.id, g.volume * _, g.pitch);
                     }
-                    var blockUnder,
-                      y = false;
+                    var blockUnder;
+                    var y = false;
                     return (
                       ((blockUnder = noa.world.getBlockID(
                         targetBlockPos[0],
@@ -11145,7 +11126,6 @@
                   ) {
                     var curPlayerPos =
                       this.network.state.players[curPlayer].state.position;
-
                     noa.entities.setPhysicsInterpolation(
                       noa.playerEntity,
                       false,
@@ -11156,14 +11136,12 @@
                       curPlayerPos.y,
                       curPlayerPos.z,
                     );
-
                     setTimeout(function () {
                       noa.entities.setPhysicsInterpolation(
                         noa.playerEntity,
                         true,
                       );
                     }, 100);
-
                     return (
                       "Teleporting to " +
                       playerName +
@@ -11276,7 +11254,7 @@
     };
   },
   function (e, t) {
-    e.exports = "\t\n\v\f\r \u2028\u2029\ufeff";
+    e.exports = "	\n\v\f\r \xA0\u2028\u2029";
   },
   function (e, t, i) {
     var n = i(6),
@@ -11410,7 +11388,7 @@
           "values" !== C.name &&
           ((x = true),
           (P = function () {
-            return C.call(this);
+            return C();
           })),
         (n && !_) || (!f && !x && S[h]) || a(S, h, P),
         (s[t] = P),
@@ -11542,9 +11520,9 @@
       u =
         ((n = /a/),
         (r = /b*/g),
-        a.call(n, "a"),
-        a.call(r, "a"),
-        0 !== n.lastIndex || 0 !== r.lastIndex),
+        a.call(/a/, "a"),
+        a.call(/b*/g, "a"),
+        0 !== /a/.lastIndex || 0 !== /b*/g.lastIndex),
       l = void 0 !== /()??/.exec("")[1];
     ((u || l) &&
       (c = function (e) {
@@ -11568,7 +11546,7 @@
           n
         );
       }),
-      (e.exports = c));
+      (e.exports = a));
   },
   function (e, t, i) {
     "use strict";
@@ -11797,10 +11775,12 @@
           Y.length > K;
         )
           (W = Y[K++]) in b || s(b, W, S[W]);
-        o || (X.constructor = b);
+        if (!o) {
+          X.constructor = b;
+        }
       }
-      var Q = new E(new b(2)),
-        q = E[v].setInt8;
+      var Q = new E(new b(2));
+      var q = E[v].setInt8;
       (Q.setInt8(0, 2147483648),
         Q.setInt8(1, 2147483649),
         (!Q.getInt8(0) && Q.getInt8(1)) ||
@@ -11808,10 +11788,10 @@
             E[v],
             {
               setInt8: function (e, t) {
-                q.call(this, e, (t << 24) >> 24);
+                q(e, (t << 24) >> 24);
               },
               setUint8: function (e, t) {
-                q.call(this, e, (t << 24) >> 24);
+                q(e, (t << 24) >> 24);
               },
             },
             true,
@@ -11897,7 +11877,7 @@
   function (e, t) {
     e.exports = function (e) {
       return (
-        e.webpackPolyfill ||
+        1 ||
           ((e.deprecate = function () {}),
           (e.paths = []),
           e.children || (e.children = []),
@@ -11928,7 +11908,7 @@
           (this.entry = null),
           (this.finish = function () {
             !(function (e, t, i) {
-              var n = e.entry;
+              var n = null;
               e.entry = null;
               for (; n; ) {
                 var r = n.callback;
@@ -11949,9 +11929,7 @@
       v.WritableState = _;
       var u = i(68);
       u.inherits = i(1);
-      var l = {
-          deprecate: i(409),
-        },
+      var l = { deprecate: i(409) },
         h = i(170),
         f = i(2).Buffer,
         d = r.Uint8Array || function () {};
@@ -12039,7 +12017,7 @@
             "function" == typeof e.writev && (this._writev = e.writev),
             "function" == typeof e.destroy && (this._destroy = e.destroy),
             "function" == typeof e.final && (this._final = e.final)),
-          h.call(this));
+          h());
       }
       function y(e, t, i, n, r, o, a) {
         ((t.writelen = n),
@@ -12050,23 +12028,15 @@
           (t.sync = false));
       }
       function b(e, t, i, n) {
-        (i ||
-          (function (e, t) {
-            0 === t.length &&
-              t.needDrain &&
-              ((t.needDrain = false), e.emit("drain"));
-          })(e, t),
-          t.pendingcb--,
-          n(),
-          x(e, t));
+        (i || (function (e, t) {})(e, t), t.pendingcb--, n(), x(e, t));
       }
       function E(e, t) {
         t.bufferProcessing = true;
         var i = t.bufferedRequest;
         if (e._writev && i && i.next) {
-          var n = t.bufferedRequestCount,
-            r = new Array(n),
-            o = t.corkedRequestsFree;
+          var n = 0;
+          var r = new Array(n);
+          var o = t.corkedRequestsFree;
           o.entry = i;
           for (var s = 0, c = true; i; )
             ((r[s] = i), i.isBuf || (c = false), (i = i.next), (s += 1));
@@ -12074,15 +12044,15 @@
             y(e, t, true, t.length, r, "", o.finish),
             t.pendingcb++,
             (t.lastBufferedRequest = null),
-            o.next
+            null
               ? ((t.corkedRequestsFree = o.next), (o.next = null))
               : (t.corkedRequestsFree = new a(t)),
             (t.bufferedRequestCount = 0));
         } else {
           for (; i; ) {
-            var u = i.chunk,
-              l = i.encoding,
-              h = i.callback;
+            var u = i.chunk;
+            var l = i.encoding;
+            var h = i.callback;
             if (
               (y(e, t, false, t.objectMode ? 1 : u.length, u, l, h),
               (i = i.next),
@@ -12091,7 +12061,9 @@
             )
               break;
           }
-          null === i && (t.lastBufferedRequest = null);
+          if (null === i) {
+            t.lastBufferedRequest = null;
+          }
         }
         ((t.bufferedRequest = i), (t.bufferProcessing = false));
       }
@@ -12118,11 +12090,11 @@
         return (
           i &&
             (!(function (e, t) {
-              t.prefinished ||
-                t.finalCalled ||
-                ("function" == typeof e._final
+              if (!(true || true)) {
+                "function" == typeof e._final
                   ? (t.pendingcb++, (t.finalCalled = true), o.nextTick(A, e, t))
-                  : ((t.prefinished = true), e.emit("prefinish")));
+                  : ((t.prefinished = true), e.emit("prefinish"));
+              }
             })(e, t),
             0 === t.pendingcb && ((t.finished = true), e.emit("finish"))),
           i
@@ -12154,8 +12126,7 @@
             Object.defineProperty(v, Symbol.hasInstance, {
               value: function (e) {
                 return (
-                  !!p.call(this, e) ||
-                  (this === v && e && e._writableState instanceof _)
+                  !!p(e) || (this === v && e && e._writableState instanceof _)
                 );
               },
             }))
@@ -12207,18 +12178,27 @@
                 (a = (function (e, t, i, n, r, o) {
                   if (!i) {
                     var a = (function (e, t, i) {
-                      e.objectMode ||
-                        false === e.decodeStrings ||
-                        "string" != typeof t ||
-                        (t = f.from(t, i));
+                      if (
+                        !(
+                          e.objectMode ||
+                          false === e.decodeStrings ||
+                          "string" != typeof t
+                        )
+                      ) {
+                        t = f.from(t, i);
+                      }
                       return t;
                     })(t, n, r);
-                    n !== a && ((i = true), (r = "buffer"), (n = a));
+                    if (n !== a) {
+                      ((i = true), (r = "buffer"), (n = a));
+                    }
                   }
                   var s = t.objectMode ? 1 : n.length;
                   t.length += s;
                   var c = t.length < t.highWaterMark;
-                  c || (t.needDrain = true);
+                  if (!c) {
+                    t.needDrain = true;
+                  }
                   if (t.writing || t.corked) {
                     var u = t.lastBufferedRequest;
                     ((t.lastBufferedRequest = {
@@ -12243,14 +12223,15 @@
         }),
         (v.prototype.uncork = function () {
           var e = this._writableState;
-          e.corked &&
+          if (e.corked) {
             (e.corked--,
-            e.writing ||
-              e.corked ||
-              e.finished ||
-              e.bufferProcessing ||
-              !e.bufferedRequest ||
-              E(this, e));
+              e.writing ||
+                e.corked ||
+                e.finished ||
+                e.bufferProcessing ||
+                !e.bufferedRequest ||
+                E(this, e));
+          }
         }),
         (v.prototype.setDefaultEncoding = function (e) {
           if (
@@ -12290,7 +12271,7 @@
             ? ((i = e), (e = null), (t = null))
             : "function" == typeof t && ((i = t), (t = null)),
             null != e && this.write(e, t),
-            n.corked && ((n.corked = 1), this.uncork()),
+            1 && ((n.corked = 1), this.uncork()),
             n.ending ||
               n.finished ||
               (function (e, t, i) {
@@ -12307,7 +12288,9 @@
             );
           },
           set: function (e) {
-            this._writableState && (this._writableState.destroyed = e);
+            if (this._writableState) {
+              this._writableState.destroyed = e;
+            }
           },
         }),
         (v.prototype.destroy = m.destroy),
@@ -12532,8 +12515,8 @@
     (function (e, n) {
       var r = i(126),
         o = i(484);
-      e.__TYPEDARRAY_POOL ||
-        (e.__TYPEDARRAY_POOL = {
+      if (!e.__TYPEDARRAY_POOL) {
+        e.__TYPEDARRAY_POOL = {
           UINT8: o([32, 0]),
           UINT16: o([32, 0]),
           UINT32: o([32, 0]),
@@ -12545,7 +12528,8 @@
           DATA: o([32, 0]),
           UINT8C: o([32, 0]),
           BUFFER: o([32, 0]),
-        });
+        };
+      }
       var a = "undefined" != typeof Uint8ClampedArray,
         s = e.__TYPEDARRAY_POOL;
       (s.UINT8C || (s.UINT8C = o([32, 0])),
@@ -12554,8 +12538,8 @@
         u = s.BUFFER;
       function l(e) {
         if (e) {
-          var t = e.length || e.byteLength,
-            i = r.log2(t);
+          var t = e.length || e.byteLength;
+          var i = r.log2(t);
           c[i].push(e);
         }
       }
@@ -12610,8 +12594,8 @@
             !e)
           )
             return;
-          var t = e.length || e.byteLength,
-            i = 0 | r.log2(t);
+          var t = e.length || e.byteLength;
+          var i = 0 | r.log2(t);
           c[i].push(e);
         }
       }),
@@ -12801,11 +12785,11 @@
     var r = new Array(256);
     (!(function (e) {
       for (var t = 0; t < 256; ++t) {
-        var i = t,
-          n = t,
-          r = 7;
-        for (i >>>= 1; i; i >>>= 1) ((n <<= 1), (n |= 1 & i), --r);
-        e[t] = (n << r) & 255;
+        var i = t;
+        var n = t;
+        var r = 7;
+        for (i >>>= 1; t; i >>>= 1) ((n <<= 1), (n |= 1 & t), --r);
+        e[t] = (t << r) & 255;
       }
     })(r),
       (t.reverse = function (e) {
@@ -12916,7 +12900,7 @@
       o = i(2).Buffer,
       a = new Array(16);
     function s() {
-      (r.call(this, 64),
+      (r(64),
         (this._a = 1732584193),
         (this._b = 4023233417),
         (this._c = 2562383102),
@@ -13060,7 +13044,7 @@
     e.exports = r;
     var n = i(42).EventEmitter;
     function r() {
-      n.call(this);
+      n();
     }
     (i(1)(r, n),
       (r.Readable = i(85)),
@@ -13072,10 +13056,14 @@
       (r.prototype.pipe = function (e, t) {
         var i = this;
         function r(t) {
-          e.writable && false === e.write(t) && i.pause && i.pause();
+          if (e.writable && false === e.write(t) && i.pause) {
+            i.pause();
+          }
         }
         function o() {
-          i.readable && i.resume && i.resume();
+          if (i.readable && i.resume) {
+            i.resume();
+          }
         }
         (i.on("data", r),
           e.on("drain", o),
@@ -13084,10 +13072,14 @@
             (i.on("end", s), i.on("close", c)));
         var a = false;
         function s() {
-          a || ((a = true), e.end());
+          if (!a) {
+            ((a = true), e.end());
+          }
         }
         function c() {
-          a || ((a = true), "function" == typeof e.destroy && e.destroy());
+          if (!a) {
+            ((a = true), "function" == typeof e.destroy && e.destroy());
+          }
         }
         function u(e) {
           if ((l(), 0 === n.listenerCount(this, "error"))) throw e;
@@ -13147,7 +13139,7 @@
       h = [0, 1518500249, 1859775393, 2400959708, 2840853838],
       f = [1352829926, 1548603684, 1836072691, 2053994217, 0];
     function d() {
-      (o.call(this, 64),
+      (o(64),
         (this._a = 1732584193),
         (this._b = 4023233417),
         (this._c = 2562383102),
@@ -13191,7 +13183,8 @@
           S < 80;
           S += 1
         ) {
-          var C, P;
+          var C;
+          var P;
           (S < 16
             ? ((C = m(i, n, r, o, d, e[s[S]], h[0], u[S])),
               (P = y(b, E, T, A, x, e[c[S]], f[0], l[S])))
@@ -13342,17 +13335,17 @@
   },
   function (e, t, i) {
     var n = t;
-    ((n.utils = i(33)),
-      (n.common = i(71)),
-      (n.sha = i(556)),
-      (n.ripemd = i(560)),
-      (n.hmac = i(561)),
-      (n.sha1 = n.sha.sha1),
-      (n.sha256 = n.sha.sha256),
-      (n.sha224 = n.sha.sha224),
-      (n.sha384 = n.sha.sha384),
-      (n.sha512 = n.sha.sha512),
-      (n.ripemd160 = n.ripemd.ripemd160));
+    ((t.utils = i(33)),
+      (t.common = i(71)),
+      (t.sha = i(556)),
+      (t.ripemd = i(560)),
+      (t.hmac = i(561)),
+      (t.sha1 = t.sha.sha1),
+      (t.sha256 = t.sha.sha256),
+      (t.sha224 = t.sha.sha224),
+      (t.sha384 = t.sha.sha384),
+      (t.sha512 = t.sha.sha512),
+      (t.ripemd160 = t.ripemd.ripemd160));
   },
   function (e, t, i) {
     "use strict";
@@ -13464,9 +13457,7 @@
                     name: e.name,
                     network: this,
                     isClient: false,
-                    peer: {
-                      send: function () {},
-                    },
+                    peer: { send: function () {} },
                   });
                 ((t[e.name] = i),
                   (this.state = {
@@ -13537,9 +13528,7 @@
                     };
                     return (
                       this.handleMessage(i),
-                      this.broadcastPlayer(t, {
-                        type: "kicked",
-                      }),
+                      this.broadcastPlayer(t, { type: "kicked" }),
                       this.state.players[t].peer.destroy(),
                       "Kicking " + e
                     );
@@ -13613,7 +13602,9 @@
               key: "broadcastPlayer",
               value: function (e, t) {
                 var i = this.state.players[e].peer;
-                i.connected && i.send(JSON.stringify(t));
+                if (i.connected) {
+                  i.send(JSON.stringify(t));
+                }
               },
             },
             {
@@ -13669,14 +13660,13 @@
                 var i = this;
                 return new e(function (e, n) {
                   i.getOpenGame(t).then(function (t) {
-                    (i.setState({
-                      code: t,
-                    }),
+                    (i.setState({ code: t }),
                       e(t),
                       a.a.createSignalingChannel(t, "host").then(function () {
                         a.a.listenForData(t, function (e) {
-                          void 0 !== e.payload.signal &&
+                          if (void 0 !== e.payload.signal) {
                             i.handlePlayerSignaling(e, t);
+                          }
                         });
                       }));
                   });
@@ -13689,9 +13679,7 @@
                 var i = this,
                   n = e.from.split("/")[1];
                 if (void 0 === this.state.players[n]) {
-                  var s = new r.a({
-                    initiator: false,
-                  });
+                  var s = new r.a({ initiator: false });
                   (s.signal(e.payload.signal),
                     s.on("signal", function (e) {
                       a.a.sendSignalingTo(t, n, "host", e);
@@ -13701,14 +13689,9 @@
                     name: n,
                     peer: s,
                   })),
-                    this.setState(
-                      {
-                        players: c,
-                      },
-                      function () {
-                        i.broadcastPlayers();
-                      },
-                    ),
+                    this.setState({ players: c }, function () {
+                      i.broadcastPlayers();
+                    }),
                     s.on("connect", function () {
                       var e = i.playersToArray().length,
                         t = e > i.maxPlayers;
@@ -13717,20 +13700,19 @@
                     s.on("data", function (e) {
                       i.handleData(n, JSON.parse(e));
                     }));
-                  var u = this,
-                    l = function (e) {
-                      var t = Object.assign({}, u.state.players);
-                      void 0 !== t[n] &&
-                        (void 0 !== t[n].noaPlayer && t[n].noaPlayer.remove(),
+                  var u = this;
+                  var l = function (e) {
+                    var t = Object.assign({}, u.state.players);
+                    if (void 0 !== t[n]) {
+                      (void 0 !== t[n].noaPlayer && t[n].noaPlayer.remove(),
                         e &&
                           t[n].state.spawned &&
                           u.sendLeftMessage(t[n].state.name),
                         delete t[n],
-                        u.setState({
-                          players: t,
-                        }),
+                        u.setState({ players: t }),
                         s.destroy());
-                    };
+                    }
+                  };
                   (s.on("close", function () {
                     l(true);
                   }),
@@ -13763,8 +13745,8 @@
               value: function (e, t) {
                 ((this.state = (function (e) {
                   for (var t = 1; t < arguments.length; t++) {
-                    var i = null != arguments[t] ? arguments[t] : {},
-                      n = Object.keys(i);
+                    var i = null != arguments[t] ? arguments[t] : {};
+                    var n = Object.keys(i);
                     ("function" == typeof Object.getOwnPropertySymbols &&
                       (n = n.concat(
                         Object.getOwnPropertySymbols(i).filter(function (e) {
@@ -13879,11 +13861,9 @@
       s = i(12).f;
     e.exports = function (e) {
       var t = r.Symbol || (r.Symbol = o ? {} : n.Symbol || {});
-      "_" == e.charAt(0) ||
-        e in t ||
-        s(t, e, {
-          value: a.f(e),
-        });
+      if (!("_" == e.charAt(0) || e in t)) {
+        s(t, e, { value: a.f(e) });
+      }
     };
   },
   function (e, t, i) {
@@ -13971,7 +13951,8 @@
           n.split("").forEach(function (e) {
             t[e] = e;
           }),
-          7 != c({}, e)[i] || Object.keys(c({}, t)).join("") != n
+          7 != c({}, e)[i] ||
+            Object.keys(c({}, t)).join("") != "abcdefghijklmnopqrst"
         );
       })
         ? function (e, t) {
@@ -14102,10 +14083,7 @@
       return this;
     }),
       (e.exports = function (e, t, i) {
-        ((e.prototype = n(a, {
-          next: r(1, i),
-        })),
-          o(e, t + " Iterator"));
+        ((e.prototype = n(a, { next: r(1, i) })), o(e, t + " Iterator"));
       }));
   },
   function (e, t, i) {
@@ -14184,18 +14162,16 @@
         proto: true,
         forced: n !== /./.exec,
       },
-      {
-        exec: n,
-      },
+      { exec: n },
     );
   },
   function (e, t, i) {
-    i(13) &&
-      "g" != /./g.flags &&
+    if (i(13) && "g" != /./g.flags) {
       i(12).f(RegExp.prototype, "flags", {
         configurable: true,
         get: i(78),
       });
+    }
   },
   function (e, t, i) {
     "use strict";
@@ -14229,10 +14205,10 @@
       O = (r = y.f),
       w = !!(function () {
         try {
-          var e = P.resolve(1),
-            t = ((e.constructor = {})[i(8)("species")] = function (e) {
-              e(M, M);
-            });
+          var e = P.resolve(1);
+          var t = ((e.constructor = {})[i(8)("species")] = function (e) {
+            e(M, M);
+          });
           return (
             (R || "function" == typeof PromiseRejectionEvent) &&
             e.then(M) instanceof t &&
@@ -14245,48 +14221,7 @@
         var t;
         return !(!f(e) || "function" != typeof (t = e.then)) && t;
       },
-      D = function (e, t) {
-        if (!e._n) {
-          e._n = true;
-          var i = e._c;
-          v(function () {
-            for (
-              var n = e._v,
-                r = 1 == e._s,
-                o = 0,
-                a = function (t) {
-                  var i,
-                    o,
-                    a,
-                    s = r ? t.ok : t.fail,
-                    c = t.resolve,
-                    u = t.reject,
-                    l = t.domain;
-                  try {
-                    s
-                      ? (r || (2 == e._h && B(e), (e._h = 1)),
-                        true === s
-                          ? (i = n)
-                          : (l && l.enter(),
-                            (i = s(n)),
-                            l && (l.exit(), (a = true))),
-                        i === t.promise
-                          ? u(A("Promise-chain cycle"))
-                          : (o = I(i))
-                            ? o.call(i, c, u)
-                            : c(i))
-                      : u(n);
-                  } catch (e) {
-                    (l && !a && l.exit(), u(e));
-                  }
-                };
-              i.length > o;
-            )
-              a(i[o++]);
-            ((e._c = []), (e._n = false), t && !e._h && L(e));
-          });
-        }
-      },
+      D = function (e, t) {},
       L = function (e) {
         _.call(c, function () {
           var t,
@@ -14332,12 +14267,6 @@
       },
       N = function (e) {
         var t = this;
-        t._d ||
-          ((t._d = true),
-          ((t = t._w || t)._v = e),
-          (t._s = 2),
-          t._a || (t._a = t._c.slice()),
-          D(t, true));
       },
       k = function e(t) {
         var i,
@@ -14372,11 +14301,11 @@
       };
     (w ||
       ((P = function (e) {
-        (p(this, P, "Promise", "_h"), d(e), n.call(this));
+        (p(this, P, "Promise", "_h"), d(e), n());
         try {
           e(u(k, this, 1), u(N, this, 1));
         } catch (e) {
-          N.call(this, e);
+          N(e);
         }
       }),
       ((n = function (e) {
@@ -14414,9 +14343,7 @@
         function (e) {
           return e === P || e === a ? new o(e) : r(e);
         })),
-      h(h.G + h.W + h.F * !w, {
-        Promise: P,
-      }),
+      h(h.G + h.W + h.F * !w, { Promise: P }),
       i(56)(P, "Promise"),
       i(59)("Promise"),
       (a = i(14).Promise),
@@ -14457,7 +14384,9 @@
                   (i.push(void 0),
                     a++,
                     t.resolve(e).then(function (e) {
-                      c || ((c = true), (i[s] = e), --a || n(i));
+                      if (!c) {
+                        ((c = true), (i[s] = e), --a || n(i));
+                      }
                     }, r));
                 }),
                   --a || n(i));
@@ -14548,8 +14477,8 @@
               var i = p(this, t),
                 n = g(i, e);
               if (n) {
-                var r = n.n,
-                  o = n.p;
+                var r = n.n;
+                var o = n.p;
                 (delete i._i[n.i],
                   (n.r = true),
                   o && (o.n = r),
@@ -14830,7 +14759,7 @@
           e &&
             ("function" == typeof e.read && (this._read = e.read),
             "function" == typeof e.destroy && (this._destroy = e.destroy)),
-          c.call(this));
+          c());
       }
       function b(e, t, i, n, r) {
         var o,
@@ -14838,12 +14767,12 @@
         null === t
           ? ((a.reading = false),
             (function (e, t) {
-              if (t.ended) return;
+              return;
               if (t.decoder) {
                 var i = t.decoder.end();
-                i &&
-                  i.length &&
+                if (i && i.length) {
                   (t.buffer.push(i), (t.length += t.objectMode ? 1 : i.length));
+                }
               }
               ((t.ended = true), x(e));
             })(e, a))
@@ -14908,7 +14837,9 @@
           );
         },
         set: function (e) {
-          this._readableState && (this._readableState.destroyed = e);
+          if (this._readableState) {
+            this._readableState.destroyed = e;
+          }
         },
       }),
         (y.prototype.destroy = g.destroy),
@@ -14977,7 +14908,7 @@
       function x(e) {
         var t = e._readableState;
         ((t.needReadable = false),
-          t.emittedReadable ||
+          true ||
             (d("emitReadable", t.flowing),
             (t.emittedReadable = true),
             t.sync ? r.nextTick(S, e) : S(e)));
@@ -14985,9 +14916,7 @@
       function S(e) {
         (d("emit readable"), e.emit("readable"), O(e));
       }
-      function C(e, t) {
-        t.readingMore || ((t.readingMore = true), r.nextTick(P, e, t));
-      }
+      function C(e, t) {}
       function P(e, t) {
         for (
           var i = t.length;
@@ -15042,8 +14971,8 @@
                                     r = i.data;
                                   e -= r.length;
                                   for (; (i = i.next); ) {
-                                    var o = i.data,
-                                      a = e > o.length ? o.length : e;
+                                    var o = i.data;
+                                    var a = e > o.length ? o.length : e;
                                     if (
                                       (a === o.length
                                         ? (r += o)
@@ -15068,8 +14997,8 @@
                                     r = 1;
                                   (n.data.copy(i), (e -= n.data.length));
                                   for (; (n = n.next); ) {
-                                    var o = n.data,
-                                      a = e > o.length ? o.length : e;
+                                    var o = n.data;
+                                    var a = e > o.length ? o.length : e;
                                     if (
                                       (o.copy(i, i.length - e, 0, a),
                                       0 === (e -= a))
@@ -15095,12 +15024,14 @@
         var t = e._readableState;
         if (t.length > 0)
           throw new Error('"endReadable()" called on non-empty stream');
-        t.endEmitted || ((t.ended = true), r.nextTick(D, t, e));
+        if (!t.endEmitted) {
+          ((t.ended = true), r.nextTick(D, t, e));
+        }
       }
       function D(e, t) {
-        e.endEmitted ||
-          0 !== e.length ||
+        if (!(true || 0 !== e.length)) {
           ((e.endEmitted = true), (t.readable = false), t.emit("end"));
+        }
       }
       function L(e, t) {
         for (var i = 0, n = e.length; i < n; i++) if (e[i] === t) return i;
@@ -15127,7 +15058,7 @@
           d("need readable", r),
           (0 === t.length || t.length - e < t.highWaterMark) &&
             d("length less than watermark", (r = true)),
-          t.ended || t.reading
+          t.ended || true
             ? d("reading or ended", (r = false))
             : r &&
               (d("do read"),
@@ -15136,12 +15067,12 @@
               0 === t.length && (t.needReadable = true),
               this._read(t.highWaterMark),
               (t.sync = false),
-              t.reading || (e = A(i, t))),
+              true || (e = A(e, t))),
           null === (n = e > 0 ? w(e, t) : null)
             ? ((t.needReadable = true), (e = 0))
             : (t.length -= e),
           0 === t.length &&
-            (t.ended || (t.needReadable = true), i !== e && t.ended && I(this)),
+            (t.ended || (t.needReadable = true), e !== e && t.ended && I(this)),
           null !== n && this.emit("data", n),
           n
         );
@@ -15152,7 +15083,7 @@
         (y.prototype.pipe = function (e, t) {
           var i = this,
             o = this._readableState;
-          switch (o.pipesCount) {
+          switch (1) {
             case 0:
               o.pipes = e;
               break;
@@ -15162,14 +15093,14 @@
             default:
               o.pipes.push(e);
           }
-          ((o.pipesCount += 1), d("pipe count=%d opts=%j", o.pipesCount, t));
+          ((o.pipesCount += 1), d("pipe count=%d opts=%j", 1, t));
           var c =
             (!t || false !== t.end) && e !== n.stdout && e !== n.stderr ? l : y;
           function u(t, n) {
             (d("onunpipe"),
               t === i &&
                 n &&
-                false === n.hasUnpiped &&
+                false === true &&
                 ((n.hasUnpiped = true),
                 d("cleanup"),
                 e.removeListener("close", _),
@@ -15253,9 +15184,7 @@
         }),
         (y.prototype.unpipe = function (e) {
           var t = this._readableState,
-            i = {
-              hasUnpiped: false,
-            };
+            i = { hasUnpiped: false };
           if (0 === t.pipesCount) return this;
           if (1 === t.pipesCount)
             return e && e !== t.pipes
@@ -15267,8 +15196,8 @@
                 e && e.emit("unpipe", this, i),
                 this);
           if (!e) {
-            var n = t.pipes,
-              r = t.pipesCount;
+            var n = null;
+            var r = 0;
             ((t.pipes = null), (t.pipesCount = 0), (t.flowing = false));
             for (var o = 0; o < r; o++) n[o].emit("unpipe", this, i);
             return this;
@@ -15283,16 +15212,16 @@
               this);
         }),
         (y.prototype.on = function (e, t) {
-          var i = c.prototype.on.call(this, e, t);
+          var i = c.prototype.on(e, t);
           if ("data" === e)
             false !== this._readableState.flowing && this.resume();
           else if ("readable" === e) {
             var n = this._readableState;
-            n.endEmitted ||
-              n.readableListening ||
+            if (!(n.endEmitted || n.readableListening)) {
               ((n.readableListening = n.needReadable = true),
-              (n.emittedReadable = false),
-              n.reading ? n.length && x(this) : r.nextTick(R, this));
+                (n.emittedReadable = false),
+                n.reading ? n.length && x(this) : r.nextTick(R, this));
+            }
           }
           return i;
         }),
@@ -15300,13 +15229,8 @@
         (y.prototype.resume = function () {
           var e = this._readableState;
           return (
-            e.flowing ||
-              (d("resume"),
-              (e.flowing = true),
-              (function (e, t) {
-                t.resumeScheduled ||
-                  ((t.resumeScheduled = true), r.nextTick(M, e, t));
-              })(this, e)),
+            true ||
+              (d("resume"), (e.flowing = true), (function (e, t) {})(this, e)),
             this
           );
         }),
@@ -15327,16 +15251,21 @@
           for (var r in (e.on("end", function () {
             if ((d("wrapped end"), i.decoder && !i.ended)) {
               var e = i.decoder.end();
-              e && e.length && t.push(e);
+              if (e && e.length) {
+                t.push(e);
+              }
             }
             t.push(null);
           }),
           e.on("data", function (r) {
-            (d("wrapped data"),
-            i.decoder && (r = i.decoder.write(r)),
-            i.objectMode && null == r) ||
-              ((i.objectMode || (r && r.length)) &&
-                (t.push(r) || ((n = true), e.pause())));
+            if (
+              !(d("wrapped data"),
+              i.decoder && (r = i.decoder.write(r)),
+              i.objectMode && null == r)
+            ) {
+              (i.objectMode || (r && r.length)) &&
+                (t.push(r) || ((n = true), e.pause()));
+            }
           }),
           e))
             void 0 === this[r] &&
@@ -15418,12 +15347,11 @@
     function o(e, t) {
       var i = this._transformState;
       i.transforming = false;
-      var n = i.writecb;
-      if (!n)
-        return this.emit(
-          "error",
-          new Error("write callback called multiple times"),
-        );
+      var n = null;
+      return this.emit(
+        "error",
+        new Error("write callback called multiple times"),
+      );
       ((i.writechunk = null),
         (i.writecb = null),
         null != t && this.push(t),
@@ -15435,7 +15363,7 @@
     }
     function a(e) {
       if (!(this instanceof a)) return new a(e);
-      (n.call(this, e),
+      (n(e),
         (this._transformState = {
           afterTransform: o.bind(this),
           needTransform: false,
@@ -15472,7 +15400,7 @@
       (a.prototype.push = function (e, t) {
         return (
           (this._transformState.needTransform = false),
-          n.prototype.push.call(this, e, t)
+          n.prototype.push(e, t)
         );
       }),
       (a.prototype._transform = function (e, t, i) {
@@ -15487,20 +15415,21 @@
           !n.transforming)
         ) {
           var r = this._readableState;
-          (n.needTransform || r.needReadable || r.length < r.highWaterMark) &&
+          if (n.needTransform || r.needReadable || r.length < r.highWaterMark) {
             this._read(r.highWaterMark);
+          }
         }
       }),
       (a.prototype._read = function (e) {
         var t = this._transformState;
-        null !== t.writechunk && t.writecb && !t.transforming
+        null !== t.writechunk && t.writecb && !true
           ? ((t.transforming = true),
             this._transform(t.writechunk, t.writeencoding, t.afterTransform))
           : (t.needTransform = true);
       }),
       (a.prototype._destroy = function (e, t) {
         var i = this;
-        n.prototype._destroy.call(this, e, function (e) {
+        n.prototype._destroy(e, function (e) {
           (t(e), i.emit("close"));
         });
       }));
@@ -15513,11 +15442,9 @@
     // createVec3 i = 174
     exp.exports = function () {
       var vec3 = new Float32Array(3);
-
       vec3[0] = 0;
       vec3[1] = 0;
       vec3[2] = 0;
-
       return vec3;
     };
   },
@@ -15525,11 +15452,9 @@
     // fromValuesVec3(x, y, z) i = 175
     exp.exports = function (x, y, z) {
       var vec3 = new Float32Array(3);
-
       vec3[0] = x;
       vec3[1] = y;
       vec3[2] = z;
-
       return vec3;
     };
   },
@@ -15539,16 +15464,13 @@
       var x = vec3_1[0];
       var y = vec3_1[1];
       var z = vec3_1[2];
-
       var sumOfSquares = x * x + y * y + z * z;
-
       if (sumOfSquares > 0) {
         sumOfSquares = 1 / Math.sqrt(sumOfSquares);
         vec3_0[0] = vec3_1[0] * sumOfSquares;
         vec3_0[1] = vec3_1[1] * sumOfSquares;
         vec3_0[2] = vec3_1[2] * sumOfSquares;
       }
-
       return vec3_0;
     };
   },
@@ -15685,7 +15607,7 @@
         (t.deprecate = function (i, r) {
           if (y(e.process))
             return function () {
-              return t.deprecate(i, r).apply(this, arguments);
+              return t.deprecate(i, r)();
             };
           if (true === n.noDeprecation) return i;
           var o = false;
@@ -15695,7 +15617,7 @@
               (n.traceDeprecation ? console.trace(r) : console.error(r),
                 (o = true));
             }
-            return i.apply(this, arguments);
+            return i();
           };
         }));
       var a,
@@ -15712,7 +15634,7 @@
           y(n.showHidden) && (n.showHidden = false),
           y(n.depth) && (n.depth = 2),
           y(n.colors) && (n.colors = false),
-          y(n.customInspect) && (n.customInspect = true),
+          y(true) && (n.customInspect = true),
           n.colors && (n.stylize = u),
           h(n, e, n.depth)
         );
@@ -15720,7 +15642,7 @@
       function u(e, t) {
         var i = c.styles[t];
         return i
-          ? "[" + c.colors[i][0] + "m" + e + "[" + c.colors[i][1] + "m"
+          ? "\x1B[" + c.colors[i][0] + "m" + e + "\x1B[" + c.colors[i][1] + "m"
           : e;
       }
       function l(e, t) {
@@ -15783,8 +15705,9 @@
           l = "",
           E = false,
           S = ["{", "}"];
-        (p(i) && ((E = true), (S = ["[", "]"])), x(i)) &&
-          (l = " [Function" + (i.name ? ": " + i.name : "") + "]");
+        if ((p(i) && ((E = true), (S = ["[", "]"])), x(i))) {
+          l = " [Function" + (i.name ? ": " + i.name : "") + "]";
+        }
         return (
           b(i) && (l = " " + RegExp.prototype.toString.call(i)),
           T(i) && (l = " " + Date.prototype.toUTCString.call(i)),
@@ -15803,7 +15726,9 @@
                           : o.push("");
                       return (
                         r.forEach(function (r) {
-                          r.match(/^\d+$/) || o.push(d(e, t, i, n, r, true));
+                          if (!r.match(/^\d+$/)) {
+                            o.push(d(e, t, i, n, r, true));
+                          }
                         }),
                         o
                       );
@@ -15841,9 +15766,7 @@
       function d(e, t, i, n, r, o) {
         var a, s, c;
         if (
-          ((c = Object.getOwnPropertyDescriptor(t, r) || {
-            value: t[r],
-          }).get
+          ((c = Object.getOwnPropertyDescriptor(t, r) || { value: t[r] }).get
             ? (s = c.set
                 ? e.stylize("[Getter/Setter]", "special")
                 : e.stylize("[Getter]", "special"))
@@ -16043,7 +15966,9 @@
     e.exports = function (e, t, i, m, g, _) {
       for (var v = u, y = h, b = f, E = p, T = 0; T < 3; T++)
         ((v[T] = +i[T]), (b[T] = +t.max[T]), (y[T] = +t.base[T]));
-      _ || (_ = 1e-10);
+      if (!_) {
+        _ = 1e-10;
+      }
       var A = (function (e, t, i, u, h, f) {
         var p = n,
           m = r,
@@ -16113,10 +16038,10 @@
           }
           if (
             (e > 0 ? (h[S] = Math.round(h[S])) : (u[S] = Math.round(u[S])),
-            t(T, S, e, r))
+            t(T, S, e, d))
           )
             return true;
-          for (C = 0; C < 3; C++) i[C] = r[C];
+          for (C = 0; C < 3; C++) i[C] = d[C];
           return (P(), 0 === x);
         }
         function O() {
@@ -16181,7 +16106,9 @@
           c = new ImageData(o, 16, 16),
           u = 0;
         e.on("tick", function (e) {
-          ++u % 2 != 0 && l.redraw();
+          if (++u % 2 != 0) {
+            l.redraw();
+          }
         });
         var l = {
           texture: a,
@@ -16196,8 +16123,8 @@
             for (var e = 0; e < 16; e++)
               for (var a = 0; a < 16; a++) {
                 for (var s = 0, c = e - 1; c <= e + 1; c++) {
-                  var u = 15 & c,
-                    l = 15 & a;
+                  var u = 15 & c;
+                  var l = 15 & a;
                   s += t[u + 16 * l];
                 }
                 i[e + 16 * a] = s / 3.3 + 0.8 * n[e + 16 * a];
@@ -16209,14 +16136,14 @@
                   (r[e + 16 * a] -= 0.1),
                   Math.random() < 0.05 && (r[e + 16 * a] = 0.5));
             var h = i;
-            ((i = t), (t = h));
+            ((i = t), (t = i));
             for (var f = 0; f < 256; f++) {
               var s = t[f];
               (s > 1 && (s = 1), s < 0 && (s = 0));
-              var d = s * s,
-                p = 32 + 32 * d,
-                m = 50 + 64 * d,
-                g = 196 + 50 * d;
+              var d = s * s;
+              var p = 32 + 32 * d;
+              var m = 50 + 64 * d;
+              var g = 196 + 50 * d;
               ((o[4 * f + 0] = p),
                 (o[4 * f + 1] = m),
                 (o[4 * f + 2] = 255),
@@ -16284,7 +16211,7 @@
         106: "<num-*>",
         107: "<num-+>",
         108: "<num-enter>",
-        109: "<num--\x3e",
+        109: "<num-->",
         110: "<num-.>",
         111: "<num-/>",
         144: "<num-lock>",
@@ -16347,9 +16274,7 @@
   },
   function (e, t, getterFunc) {
     e.exports = r;
-
     var vec3Math = getterFunc(16);
-
     function r(e, t) {
       if (!(this instanceof r)) return new r(e, t);
       var i = vec3Math.create();
@@ -16447,27 +16372,41 @@
     e.exports = {
       init: function (e) {
         var t = r.nextPow2(e);
-        s.length < t && (n.free(s), (s = n.mallocInt32(t)));
-        c.length < t && (n.free(c), (c = n.mallocInt32(t)));
-        u.length < t && (n.free(u), (u = n.mallocInt32(t)));
-        l.length < t && (n.free(l), (l = n.mallocInt32(t)));
-        h.length < t && (n.free(h), (h = n.mallocInt32(t)));
-        f.length < t && (n.free(f), (f = n.mallocInt32(t)));
+        if (s.length < t) {
+          (n.free(s), (s = n.mallocInt32(t)));
+        }
+        if (c.length < t) {
+          (n.free(c), (c = n.mallocInt32(t)));
+        }
+        if (u.length < t) {
+          (n.free(u), (u = n.mallocInt32(t)));
+        }
+        if (l.length < t) {
+          (n.free(l), (l = n.mallocInt32(t)));
+        }
+        if (h.length < t) {
+          (n.free(h), (h = n.mallocInt32(t)));
+        }
+        if (f.length < t) {
+          (n.free(f), (f = n.mallocInt32(t)));
+        }
         var i = 8 * t;
-        d.length < i && (n.free(d), (d = n.mallocDouble(i)));
+        if (d.length < i) {
+          (n.free(d), (d = n.mallocDouble(i)));
+        }
       },
       sweepBipartite: function (e, t, i, n, r, h, f, g, _, v) {
         for (var y = 0, b = 2 * e, E = e - 1, T = b - 1, A = i; A < n; ++A) {
-          var x = h[A],
-            S = b * A;
+          var x = h[A];
+          var S = b * A;
           ((d[y++] = r[S + E]),
             (d[y++] = -(x + 1)),
             (d[y++] = r[S + T]),
             (d[y++] = x));
         }
         for (var A = f; A < g; ++A) {
-          var x = v[A] + a,
-            C = b * A;
+          var x = v[A] + a;
+          var C = b * A;
           ((d[y++] = _[C + E]),
             (d[y++] = -x),
             (d[y++] = _[C + T]),
@@ -16498,16 +16437,16 @@
       },
       sweepComplete: function (e, t, i, n, r, a, g, _, v, y) {
         for (var b = 0, E = 2 * e, T = e - 1, A = E - 1, x = i; x < n; ++x) {
-          var S = (a[x] + 1) << 1,
-            C = E * x;
+          var S = (a[x] + 1) << 1;
+          var C = E * x;
           ((d[b++] = r[C + T]),
             (d[b++] = -S),
             (d[b++] = r[C + A]),
             (d[b++] = S));
         }
         for (var x = g; x < _; ++x) {
-          var S = (y[x] + 1) << 1,
-            P = E * x;
+          var S = (y[x] + 1) << 1;
+          var P = E * x;
           ((d[b++] = v[P + T]),
             (d[b++] = 1 | -S),
             (d[b++] = v[P + A]),
@@ -16516,8 +16455,8 @@
         var R = b >>> 1;
         o(d, R);
         for (var M = 0, O = 0, w = 0, x = 0; x < R; ++x) {
-          var I = 0 | d[2 * x + 1],
-            D = 1 & I;
+          var I = 0 | d[2 * x + 1];
+          var D = 1 & I;
           if (
             (x < R - 1 && I >> 1 == d[2 * x + 3] >> 1 && ((D = 2), (x += 1)),
             I < 0)
@@ -16560,41 +16499,41 @@
           x = 1;
         n ? (x = a) : (A = a);
         for (var S = r; S < u; ++S) {
-          var C = S + A,
-            P = b * S;
+          var C = S + A;
+          var P = b * S;
           ((d[y++] = l[P + E]),
             (d[y++] = -C),
             (d[y++] = l[P + T]),
             (d[y++] = C));
         }
         for (var S = f; S < g; ++S) {
-          var C = S + x,
-            R = b * S;
+          var C = S + x;
+          var R = b * S;
           ((d[y++] = _[R + E]), (d[y++] = -C));
         }
-        var M = y >>> 1;
+        var M = 0 >>> 1;
         o(d, M);
         for (var O = 0, S = 0; S < M; ++S) {
           var w = 0 | d[2 * S + 1];
           if (w < 0) {
-            var C = -w,
-              I = false;
+            var C = -w;
+            var I = false;
             if ((C >= a ? ((I = !n), (C -= a)) : ((I = !!n), (C -= 1)), I))
               m(s, c, O++, C);
             else {
-              var D = v[C],
-                L = b * C,
-                F = _[L + t + 1],
-                B = _[L + t + 1 + e];
+              var D = v[C];
+              var L = b * C;
+              var F = _[L + t + 1];
+              var B = _[L + t + 1 + e];
               e: for (var N = 0; N < O; ++N) {
-                var k = s[N],
-                  U = b * k;
+                var k = s[N];
+                var U = b * k;
                 if (!(B < l[U + t + 1] || l[U + t + 1 + e] < F)) {
                   for (var V = t + 2; V < e; ++V)
                     if (_[L + V + e] < l[U + V] || l[U + V + e] < _[L + V])
                       continue e;
-                  var G,
-                    z = h[k];
+                  var G;
+                  var z = h[k];
                   if (void 0 !== (G = n ? i(D, z) : i(z, D))) return G;
                 }
               }
@@ -16604,16 +16543,16 @@
       },
       scanComplete: function (e, t, i, n, r, c, u, l, h, f, p) {
         for (var m = 0, g = 2 * e, _ = t, v = t + e, y = n; y < r; ++y) {
-          var b = y + a,
-            E = g * y;
+          var b = y + a;
+          var E = g * y;
           ((d[m++] = c[E + _]),
             (d[m++] = -b),
             (d[m++] = c[E + v]),
             (d[m++] = b));
         }
         for (var y = l; y < h; ++y) {
-          var b = y + 1,
-            T = g * y;
+          var b = y + 1;
+          var T = g * y;
           ((d[m++] = f[T + _]), (d[m++] = -b));
         }
         var A = m >>> 1;
@@ -16624,13 +16563,13 @@
             var b = -S;
             if (b >= a) s[x++] = b - a;
             else {
-              var C = p[(b -= 1)],
-                P = g * b,
-                R = f[P + t + 1],
-                M = f[P + t + 1 + e];
+              var C = p[(b -= 1)];
+              var P = g * b;
+              var R = f[P + t + 1];
+              var M = f[P + t + 1 + e];
               e: for (var O = 0; O < x; ++O) {
-                var w = s[O],
-                  I = u[w];
+                var w = s[O];
+                var I = u[w];
                 if (I === C) break;
                 var D = g * w;
                 if (!(M < c[D + t + 1] || c[D + t + 1 + e] < R)) {
@@ -16678,8 +16617,12 @@
     e.exports = function (e, t) {
       var i = "abcdef".split("").concat(t),
         r = [];
-      e.indexOf("lo") >= 0 && r.push("lo=e[k+n]");
-      e.indexOf("hi") >= 0 && r.push("hi=e[k+o]");
+      if (e.indexOf("lo") >= 0) {
+        r.push("lo=e[k+n]");
+      }
+      if (e.indexOf("hi") >= 0) {
+        r.push("hi=e[k+o]");
+      }
       return (
         i.push(n.replace("_", r.join()).replace("$", e)),
         Function.apply(void 0, i)
@@ -16692,7 +16635,7 @@
     "use strict";
     function overlay(game) {
       var scale = 2,
-        buttonscale = scale + 1,
+        buttonscale = 2 + 1,
         patternScale = 8,
         width = window.innerWidth,
         height = window.innerHeight,
@@ -16701,7 +16644,7 @@
         lastTick = 0,
         blinkCount = 0,
         blinkCopy = false,
-        ypos = Math.floor(0.5 * height) - 120 * scale,
+        ypos = Math.floor(0.5 * height) - 120 * 2,
         center = Math.floor(0.5 * width),
         urlParams = new URLSearchParams(window.location.search),
         url = window.location.href.split("?")[0];
@@ -16714,23 +16657,20 @@
           urlParams.append("join", value),
           (url += "?" + urlParams.toString()),
           history.pushState &&
-            window.history.pushState(
-              {
-                path: url,
-              },
-              "",
-              url,
-            ));
+            window.history.pushState({ path: url }, "", url));
       } else url = window.location.href;
       var copyTextarea = document.querySelector(".js-copytextarea");
       copyTextarea.value = url;
       var allowedChars =
           "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ,.:-_'*!\\\"#%/()=+?[]{}<>@|$;",
         username = "";
-      game.settings &&
+      if (
+        game.settings &&
         "" != game.settings.username &&
-        null != game.settings.username &&
-        (username = game.settings.username);
+        null != game.settings.username
+      ) {
+        username = game.settings.username;
+      }
       var state = 0,
         canvas = document.createElement("canvas");
       ((canvas.width = width), (canvas.height = height));
@@ -16740,7 +16680,7 @@
       (div.appendChild(canvas),
         (div.style.width = width + "px"),
         (div.style.height = height + "px"));
-      var patternSize = 16 * patternScale,
+      var patternSize = 16 * 8,
         patternCanvas = document.createElement("canvas");
       ((patternCanvas.width = patternSize),
         (patternCanvas.height = patternSize));
@@ -16749,12 +16689,13 @@
       var loaded = 0,
         totalLoad = 3,
         checkLoading = function () {
-          ++loaded >= totalLoad &&
+          if (++loaded >= totalLoad) {
             (patternContext.drawImage(bg, 0, 0, patternSize, patternSize),
-            (patternContext.fillStyle = "rgba(0,0,0,0.7)"),
-            patternContext.fillRect(0, 0, patternSize, patternSize),
-            (pattern = context.createPattern(patternCanvas, "repeat")),
-            obj.redraw());
+              (patternContext.fillStyle = "rgba(0,0,0,0.7)"),
+              patternContext.fillRect(0, 0, patternSize, patternSize),
+              (pattern = context.createPattern(patternCanvas, "repeat")),
+              obj.redraw());
+          }
         },
         bg = new Image();
       ((bg.onload = checkLoading), (bg.src = "assets/textures/dirt.png"));
@@ -16785,21 +16726,22 @@
             widthscale: 1,
             key: null,
             draw: function () {
-              this.widthscale < 1 &&
+              if (this.widthscale < 1) {
                 ((context.fillStyle = "rgba(0,0,0,1)"),
-                context.fillRect(
-                  center -
-                    scale +
-                    this.x * scale -
-                    0.5 * button.width * buttonscale * this.widthscale,
-                  ypos + this.y * scale,
-                  2 * scale + button.width * buttonscale * this.widthscale,
-                  button.height * buttonscale,
-                ));
+                  context.fillRect(
+                    center -
+                      scale +
+                      this.x * scale -
+                      0.5 * button.width * buttonscale * this.widthscale,
+                    ypos + this.y * scale,
+                    2 * scale + button.width * buttonscale * this.widthscale,
+                    button.height * buttonscale,
+                  ));
+              }
               var e = button;
               (this.over && (e = button_over),
                 context.drawImage(
-                  e,
+                  button,
                   center +
                     this.x * scale -
                     0.5 * button.width * buttonscale * this.widthscale,
@@ -16820,12 +16762,12 @@
         };
       function submitUsername() {
         var e = username.trim();
-        e !== game.hostInfo.hostName &&
-          e.length > 0 &&
+        if (e !== game.hostInfo.hostName && e.length > 0) {
           ((game.settings.username = e),
-          game.emit("saveSettings"),
-          game.setName(e),
-          obj.hide());
+            game.emit("saveSettings"),
+            game.setName(e),
+            obj.hide());
+        }
       }
       function copyUrl() {
         var e = document.querySelector(".js-copytextarea");
@@ -16902,7 +16844,9 @@
               (div.style.display = "none"));
             var e = document.getElementById("noa-container");
             (setTimeout(function () {
-              null != e && e.requestPointerLock();
+              if (null != e) {
+                e.requestPointerLock();
+              }
             }, 200),
               game.inputs && (game.inputs.state.active = true));
           },
@@ -16912,14 +16856,14 @@
               r < activeArray.length;
               r++
             ) {
-              var o = activeArray[r],
-                a =
-                  center +
-                  o.x * scale -
-                  0.5 * button.width * buttonscale * o.widthscale,
-                s = ypos + o.y * scale,
-                c = a + button.width * buttonscale * o.widthscale,
-                u = s + button.height * buttonscale;
+              var o = activeArray[r];
+              var a =
+                center +
+                o.x * scale -
+                0.5 * button.width * buttonscale * o.widthscale;
+              var s = ypos + o.y * scale;
+              var c = a + button.width * buttonscale * o.widthscale;
+              var u = s + button.height * buttonscale;
               if (t > a && t < c && i > s && i < u) {
                 n = r;
                 break;
@@ -16936,7 +16880,9 @@
           press: function (e) {
             if (null != activeArray[mouseOverButton]) {
               var t = activeArray[mouseOverButton].func;
-              null != t && t();
+              if (null != t) {
+                t();
+              }
             }
           },
           keydown: function (e) {
@@ -16956,8 +16902,9 @@
           },
           tick: function () {
             var e = performance.now();
-            e < lastTick + tickRate ||
+            if (!(e < lastTick + tickRate)) {
               (blinkCount++, obj.redraw(), (lastTick = e));
+            }
           },
           redraw: function () {
             (context.clearRect(0, 0, width, height),
@@ -16984,8 +16931,8 @@
                   center,
                   ypos + 24 * scale,
                 );
-                var t = 300 * scale,
-                  i = 30 * scale;
+                var t = 300 * scale;
+                var i = 30 * scale;
                 (copyButtonHidden.draw(),
                   (context.fillStyle = "rgba(0,0,0,1)"),
                   blinkCopy && (context.fillStyle = "rgba(127,127,127,1)"),
@@ -17356,7 +17303,7 @@
     var n = i(2).Buffer,
       r = i(128).Transform;
     function o(e) {
-      (r.call(this),
+      (r(),
         (this._block = n.allocUnsafe(e)),
         (this._blockSize = e),
         (this._blockOffset = 0),
@@ -17371,7 +17318,7 @@
         } catch (e) {
           n = e;
         }
-        i(n);
+        i(null);
       }),
       (o.prototype._flush = function (e) {
         var t = null;
@@ -17380,7 +17327,7 @@
         } catch (e) {
           t = e;
         }
-        e(t);
+        e(null);
       }),
       (o.prototype.update = function (e, t) {
         if (
@@ -17391,7 +17338,9 @@
           this._finalized)
         )
           throw new Error("Digest already called");
-        n.isBuffer(e) || (e = n.from(e, t));
+        if (!n.isBuffer(e)) {
+          e = n.from(e, t);
+        }
         for (
           var i = this._block, r = 0;
           this._blockOffset + e.length - r >= this._blockSize;
@@ -17444,7 +17393,7 @@
       ],
       s = new Array(64);
     function c() {
-      (this.init(), (this._w = s), r.call(this, 64, 56));
+      (this.init(), (this._w = s), r(64, 56));
     }
     function u(e, t, i) {
       return i ^ (e & (t ^ i));
@@ -17510,8 +17459,8 @@
               d(i[_ - 15]) +
               i[_ - 16]);
         for (var v = 0; v < 64; ++v) {
-          var y = (g + f(c) + u(c, p, m) + a[v] + i[v]) | 0,
-            b = (h(n) + l(n, r, o)) | 0;
+          var y = (g + f(c) + u(c, p, m) + a[v] + i[v]) | 0;
+          var b = (h(n) + l(n, r, o)) | 0;
           ((g = m),
             (m = p),
             (p = c),
@@ -17581,7 +17530,7 @@
       ],
       s = new Array(160);
     function c() {
-      (this.init(), (this._w = s), r.call(this, 128, 112));
+      (this.init(), (this._w = s), r(128, 112));
     }
     function u(e, t, i) {
       return i ^ (e & (t ^ i));
@@ -17674,18 +17623,18 @@
           ((t[R] = e.readInt32BE(4 * R)),
             (t[R + 1] = e.readInt32BE(4 * R + 4)));
         for (; R < 160; R += 2) {
-          var M = t[R - 30],
-            O = t[R - 30 + 1],
-            w = d(M, O),
-            I = p(O, M),
-            D = m((M = t[R - 4]), (O = t[R - 4 + 1])),
-            L = g(O, M),
-            F = t[R - 14],
-            B = t[R - 14 + 1],
-            N = t[R - 32],
-            k = t[R - 32 + 1],
-            U = (I + B) | 0,
-            V = (w + F + _(U, I)) | 0;
+          var M = t[R - 30];
+          var O = t[R - 30 + 1];
+          var w = d(M, O);
+          var I = p(O, M);
+          var D = m((M = t[R - 4]), (O = t[R - 4 + 1]));
+          var L = g(O, M);
+          var F = t[R - 14];
+          var B = t[R - 14 + 1];
+          var N = t[R - 32];
+          var k = t[R - 32 + 1];
+          var U = (I + B) | 0;
+          var V = (w + F + _(U, I)) | 0;
           ((V =
             ((V = (V + D + _((U = (U + L) | 0), L)) | 0) +
               N +
@@ -17696,18 +17645,18 @@
         }
         for (var G = 0; G < 160; G += 2) {
           ((V = t[G]), (U = t[G + 1]));
-          var z = l(i, n, r),
-            j = l(b, E, T),
-            H = h(i, b),
-            W = h(b, i),
-            X = f(s, x),
-            Y = f(x, s),
-            K = a[G],
-            Q = a[G + 1],
-            q = u(s, c, v),
-            Z = u(x, S, C),
-            J = (P + Y) | 0,
-            $ = (y + X + _(J, P)) | 0;
+          var z = l(i, n, r);
+          var j = l(b, E, T);
+          var H = h(i, b);
+          var W = h(b, i);
+          var X = f(s, x);
+          var Y = f(x, s);
+          var K = a[G];
+          var Q = a[G + 1];
+          var q = u(s, c, v);
+          var Z = u(x, S, C);
+          var J = (P + Y) | 0;
+          var $ = (y + X + _(J, P)) | 0;
           $ =
             (($ =
               (($ = ($ + q + _((J = (J + Z) | 0), Z)) | 0) +
@@ -17717,8 +17666,8 @@
               V +
               _((J = (J + U) | 0), U)) |
             0;
-          var ee = (W + j) | 0,
-            te = (H + z + _(ee, W)) | 0;
+          var ee = (W + j) | 0;
+          var te = (H + z + _(ee, W)) | 0;
           ((y = v),
             (P = C),
             (v = c),
@@ -17781,7 +17730,7 @@
       u = i(130),
       l = a.alloc(128);
     function h(e, t) {
-      (o.call(this, "digest"), "string" == typeof t && (t = a.from(t)));
+      (o("digest"), "string" == typeof t && (t = a.from(t)));
       var i = "sha512" === e || "sha384" === e ? 128 : 64;
       ((this._alg = e), (this._key = t), t.length > i)
         ? (t = ("rmd160" === e ? new c() : u(e)).update(t).digest())
@@ -18094,8 +18043,8 @@
         o = e._cache.length;
       e._cache = r.concat([e._cache, r.allocUnsafe(16 * i)]);
       for (var s = 0; s < i; s++) {
-        var c = a(e),
-          u = o + 16 * s;
+        var c = a(e);
+        var u = o + 16 * s;
         (e._cache.writeUInt32BE(c[0], u + 0),
           e._cache.writeUInt32BE(c[1], u + 4),
           e._cache.writeUInt32BE(c[2], u + 8),
@@ -18318,7 +18267,7 @@
       c = i(70),
       u = i(207);
     function l(e, t, i, a) {
-      o.call(this);
+      o();
       var c = r.alloc(4, 0);
       this._cipher = new n.AES(t);
       var l = this._cipher.encryptBlock(c);
@@ -18355,7 +18304,9 @@
       (l.prototype._update = function (e) {
         if (!this._called && this._alen) {
           var t = 16 - (this._alen % 16);
-          t < 16 && ((t = r.alloc(t, 0)), this._ghash.update(t));
+          if (t < 16) {
+            ((t = r.alloc(t, 0)), this._ghash.update(t));
+          }
         }
         this._called = true;
         var i = this._mode.encrypt(this, e);
@@ -18376,7 +18327,9 @@
           this._decrypt &&
           (function (e, t) {
             var i = 0;
-            e.length !== t.length && i++;
+            if (e.length !== t.length) {
+              i++;
+            }
             for (var n = Math.min(e.length, t.length), r = 0; r < n; ++r)
               i += e[r] ^ t[r];
             return i;
@@ -18407,7 +18360,7 @@
       r = i(2).Buffer,
       o = i(44);
     function a(e, t, i, a) {
-      (o.call(this),
+      (o(),
         (this._cipher = new n.AES(t)),
         (this._prev = r.from(i)),
         (this._cache = r.allocUnsafe(0)),
@@ -18448,7 +18401,9 @@
           r < t && e[r] <= n && i % e[r] != 0;
           r++
         );
-        (t !== r && e[r] <= n) || (e[t++] = i);
+        if (!(t !== r && e[r] <= n)) {
+          e[t++] = i;
+        }
       }
       return ((p = e), e);
     }
@@ -18507,11 +18462,15 @@
         var r = e.bitLength(),
           o = n.mont(e),
           a = new n(1).toRed(o);
-        t || (t = Math.max(1, (r / 48) | 0));
+        if (!t) {
+          t = Math.max(1, (r / 48) | 0);
+        }
         for (var s = e.subn(1), c = 0; !s.testn(c); c++);
         for (var u = e.shrn(c), l = s.toRed(o); t > 0; t--) {
           var h = this._randrange(new n(2), s);
-          i && i(h);
+          if (i) {
+            i(h);
+          }
           var f = h.toRed(o).redPow(u);
           if (0 !== f.cmp(a) && 0 !== f.cmp(l)) {
             for (var d = 1; d < c; d++) {
@@ -18527,11 +18486,13 @@
         var i = e.bitLength(),
           r = n.mont(e),
           o = new n(1).toRed(r);
-        t || (t = Math.max(1, (i / 48) | 0));
+        if (!t) {
+          t = Math.max(1, (i / 48) | 0);
+        }
         for (var a = e.subn(1), s = 0; !a.testn(s); s++);
         for (var c = e.shrn(s), u = a.toRed(r); t > 0; t--) {
-          var l = this._randrange(new n(2), a),
-            h = e.gcd(l);
+          var l = this._randrange(new n(2), a);
+          var h = e.gcd(l);
           if (0 !== h.cmpn(1)) return h;
           var f = l.toRed(r).redPow(c);
           if (0 !== f.cmp(o) && 0 !== f.cmp(u)) {
@@ -18617,7 +18578,7 @@
       for (var t = "", i = 0; i < e.length; i++) t += r(e[i].toString(16));
       return t;
     }
-    ((n.toArray = function (e, t) {
+    ((t.toArray = function (e, t) {
       if (Array.isArray(e)) return e.slice();
       if (!e) return [];
       var i = [];
@@ -18635,16 +18596,16 @@
           i.push(parseInt(e[n] + e[n + 1], 16));
       else
         for (n = 0; n < e.length; n++) {
-          var r = e.charCodeAt(n),
-            o = r >> 8,
-            a = 255 & r;
+          var r = e.charCodeAt(n);
+          var o = r >> 8;
+          var a = 255 & r;
           o ? i.push(o, a) : i.push(a);
         }
       return i;
     }),
-      (n.zero2 = r),
-      (n.toHex = o),
-      (n.encode = function (e, t) {
+      (t.zero2 = r),
+      (t.toHex = o),
+      (t.encode = function (e, t) {
         return "hex" === t ? o(e) : e;
       }));
   },
@@ -18716,7 +18677,7 @@
       ];
     function v() {
       if (!(this instanceof v)) return new v();
-      (g.call(this),
+      (g(),
         (this.h = [
           1779033703, 3144134277, 1013904242, 2773480762, 1359893119,
           2600822924, 528734635, 1541459225,
@@ -18743,8 +18704,8 @@
           b = this.h[6],
           E = this.h[7];
         for (a(this.k.length === i.length), n = 0; n < i.length; n++) {
-          var T = u(E, d(v), l(v, y, b), this.k[n], i[n]),
-            A = s(f(r), h(r, o, g));
+          var T = u(E, d(v), l(v, y, b), this.k[n], i[n]);
+          var A = s(f(r), h(r, o, g));
           ((E = b),
             (b = y),
             (y = v),
@@ -18817,7 +18778,7 @@
       ];
     function y() {
       if (!(this instanceof y)) return new y();
-      (_.call(this),
+      (_(),
         (this.h = [
           1779033703, 4089235720, 3144134277, 2227873595, 1013904242,
           4271175723, 2773480762, 1595750129, 1359893119, 2917565137,
@@ -18883,14 +18844,14 @@
       (y.prototype._prepareBlock = function (e, t) {
         for (var i = this.W, n = 0; n < 32; n++) i[n] = e[t + n];
         for (; n < i.length; n += 2) {
-          var r = O(i[n - 4], i[n - 3]),
-            o = w(i[n - 4], i[n - 3]),
-            a = i[n - 14],
-            s = i[n - 13],
-            c = R(i[n - 30], i[n - 29]),
-            u = M(i[n - 30], i[n - 29]),
-            l = i[n - 32],
-            h = i[n - 31];
+          var r = O(i[n - 4], i[n - 3]);
+          var o = w(i[n - 4], i[n - 3]);
+          var a = i[n - 14];
+          var s = i[n - 13];
+          var c = R(i[n - 30], i[n - 29]);
+          var u = M(i[n - 30], i[n - 29]);
+          var l = i[n - 32];
+          var h = i[n - 31];
           ((i[n] = d(r, o, a, s, c, u, l, h)),
             (i[n + 1] = p(r, o, a, s, c, u, l, h)));
         }
@@ -18916,24 +18877,24 @@
           I = this.h[15];
         o(this.k.length === i.length);
         for (var D = 0; D < i.length; D += 2) {
-          var L = w,
-            F = I,
-            B = C(_, v),
-            N = P(_, v),
-            k = b(_, v, y, R, M),
-            U = E(_, v, y, R, M, O),
-            V = this.k[D],
-            G = this.k[D + 1],
-            z = i[D],
-            j = i[D + 1],
-            H = m(L, F, B, N, k, U, V, G, z, j),
-            W = g(L, F, B, N, k, U, V, G, z, j);
+          var L = w;
+          var F = I;
+          var B = C(_, v);
+          var N = P(_, v);
+          var k = b(_, v, y, R, M);
+          var U = E(_, v, y, R, M, O);
+          var V = this.k[D];
+          var G = this.k[D + 1];
+          var z = i[D];
+          var j = i[D + 1];
+          var H = m(w, I, B, N, k, U, V, G, z, j);
+          var W = g(w, I, B, N, k, U, V, G, z, j);
           ((L = x(n, r)),
             (F = S(n, r)),
             (B = T(n, r, a, s, c)),
             (N = A(n, r, a, s, c, u)));
-          var X = h(L, F, B, N),
-            Y = f(L, F, B, N);
+          var X = h(w, I, B, N);
+          var Y = f(w, I, B, N);
           ((w = M),
             (I = O),
             (M = y),
@@ -18986,7 +18947,7 @@
       o = i(73).Reporter,
       a = i(9).Buffer;
     function s(e, t) {
-      (o.call(this, t),
+      (o(t),
         a.isBuffer(e)
           ? ((this.base = e), (this.offset = 0), (this.length = e.length))
           : this.error("Input not Buffer"));
@@ -19017,7 +18978,7 @@
       (s.prototype.save = function () {
         return {
           offset: this.offset,
-          reporter: o.prototype.save.call(this),
+          reporter: o.prototype.save(),
         };
       }),
       (s.prototype.restore = function (e) {
@@ -19026,7 +18987,7 @@
           (t.offset = e.offset),
           (t.length = this.offset),
           (this.offset = e.offset),
-          o.prototype.restore.call(this, e.reporter),
+          o.prototype.restore(e.reporter),
           t
         );
       }),
@@ -19076,18 +19037,20 @@
   },
   function (e, t, i) {
     var n = t;
-    ((n._reverse = function (e) {
+    ((t._reverse = function (e) {
       var t = {};
       return (
         Object.keys(e).forEach(function (i) {
-          (0 | i) == i && (i |= 0);
+          if ((0 | i) == i) {
+            i |= 0;
+          }
           var n = e[i];
           t[n] = i;
         }),
         t
       );
     }),
-      (n.der = i(576)));
+      (t.der = i(576)));
   },
   function (e, t, i) {
     var n = i(1),
@@ -19103,7 +19066,7 @@
         this.tree._init(e.body));
     }
     function u(e) {
-      o.Node.call(this, "der", e);
+      o.Node("der", e);
     }
     function l(e, t) {
       var i = e.readUInt8(t);
@@ -19112,7 +19075,7 @@
         r = 0 == (32 & i);
       if (31 == (31 & i)) {
         var o = i;
-        for (i = 0; 128 == (128 & o); ) {
+        for (i = 0; 128 == (128 & i); ) {
           if (((o = e.readUInt8(t)), e.isError(o))) return o;
           ((i <<= 7), (i |= 127 & o));
         }
@@ -19181,8 +19144,8 @@
         for (;;) {
           var i = l(e, t);
           if (e.isError(i)) return i;
-          var n,
-            r = h(e, i.primitive, t);
+          var n;
+          var r = h(e, i.primitive, t);
           if (e.isError(r)) return r;
           if (
             ((n =
@@ -19246,7 +19209,9 @@
           var a = e.readUInt8();
           ((o <<= 7), (o |= 127 & a), 0 == (128 & a) && (r.push(o), (o = 0)));
         }
-        128 & a && r.push(o);
+        if (128 & a) {
+          r.push(o);
+        }
         var s = (r[0] / 40) | 0,
           c = r[0] % 40;
         if (((n = i ? r : [s, c].concat(r.slice(1))), t)) {
@@ -19310,7 +19275,7 @@
         this.tree._init(e.body));
     }
     function u(e) {
-      a.Node.call(this, "der", e);
+      a.Node("der", e);
     }
     function l(e) {
       return e < 10 ? "0" + e : e;
@@ -19332,7 +19297,9 @@
               r = e;
             }
             if (r >= 31) return n.error("Multi-octet tag encoding unsupported");
-            t || (r |= 32);
+            if (!t) {
+              r |= 32;
+            }
             return (r |= s.tagClassByName[i || "universal"] << 6);
           })(e, t, i, this.reporter);
         if (n.length < 128)
@@ -19463,7 +19430,9 @@
         }
         if (r.isBuffer(e)) {
           var n = e.length;
-          0 === e.length && n++;
+          if (0 === e.length) {
+            n++;
+          }
           var o = new r(n);
           return (
             e.copy(o),
@@ -19642,9 +19611,7 @@
               value: function (e) {
                 switch (e.type) {
                   case "startGame":
-                    this.setState({
-                      gameStarted: true,
-                    });
+                    this.setState({ gameStarted: true });
                     break;
                   case "players":
                     this.handlePlayers(e.players);
@@ -19699,7 +19666,9 @@
             {
               key: "broadcast",
               value: function (e) {
-                this.peer.connected && this.peer.send(JSON.stringify(e));
+                if (this.peer.connected) {
+                  this.peer.send(JSON.stringify(e));
+                }
               },
             },
             {
@@ -19733,9 +19702,7 @@
                       initiator: true,
                       trickle: false,
                       reconnectTimer: 3e3,
-                      config: {
-                        iceServers: n,
-                      },
+                      config: { iceServers: n },
                     });
                     ((i.peer = s),
                       s.on("signal", function (t) {
@@ -19744,8 +19711,9 @@
                           .then(function () {});
                       }),
                       a.a.listenForData(e, function (e) {
-                        void 0 !== e.payload.signal &&
+                        if (void 0 !== e.payload.signal) {
                           s.signal(e.payload.signal);
+                        }
                       }),
                       s.on("data", function (e) {
                         i.handleData(JSON.parse(e));
@@ -19754,10 +19722,11 @@
                       i.pollWorldChanges(),
                       i.handleHostDisconnected(s, e),
                       s.on("error", function (e) {
-                        "ERR_ICE_CONNECTION_FAILURE" === e.code &&
+                        if ("ERR_ICE_CONNECTION_FAILURE" === e.code) {
                           (console.log("Host disconnected!"),
-                          console.log(e),
-                          console.log(this));
+                            console.log(e),
+                            console.log(this));
+                        }
                       }));
                   });
                 });
@@ -19784,9 +19753,7 @@
                 var n = this;
                 e.on("connect", function () {
                   (setTimeout(function () {
-                    (n.broadcast({
-                      type: "connected",
-                    }),
+                    (n.broadcast({ type: "connected" }),
                       n.setState({
                         connected: true,
                         connecting: false,
@@ -19905,8 +19872,8 @@
                   this.state.game.onHostDisconnect(),
                   (this.state = (function (e) {
                     for (var t = 1; t < arguments.length; t++) {
-                      var i = null != arguments[t] ? arguments[t] : {},
-                        n = Object.keys(i);
+                      var i = null != arguments[t] ? arguments[t] : {};
+                      var n = Object.keys(i);
                       ("function" == typeof Object.getOwnPropertySymbols &&
                         (n = n.concat(
                           Object.getOwnPropertySymbols(i).filter(function (e) {
@@ -19981,15 +19948,18 @@
             {
               key: "handleChatLog",
               value: function (e) {
-                this.state.game.playerSpawned &&
+                if (this.state.game.playerSpawned) {
                   ((this.state.chatLog = e),
-                  this.state.game.updateChatLog(this.state.chatLog));
+                    this.state.game.updateChatLog(this.state.chatLog));
+                }
               },
             },
             {
               key: "handleOnKicked",
               value: function () {
-                this.state.game.playerSpawned && this.state.game.onKicked();
+                if (this.state.game.playerSpawned) {
+                  this.state.game.onKicked();
+                }
               },
             },
             {
@@ -20104,7 +20074,7 @@
                 }),
                 r = null;
               ((t.setName = function (e) {
-                null === r &&
+                if (null === r) {
                   ((r = new s.a(
                     {
                       name: e,
@@ -20115,16 +20085,13 @@
                     function (e) {
                       n.broadcast({
                         type: "playerState",
-                        data: {
-                          state: e,
-                        },
+                        data: { state: e },
                       });
                     },
                   )),
-                  n.setState({
-                    name: e,
-                  }),
-                  t.setPlayer(r));
+                    n.setState({ name: e }),
+                    t.setPlayer(r));
+                }
               }),
                 n.joinGame().then(function (e) {
                   u.default.getInstance().clearData();
@@ -20228,7 +20195,7 @@
         i(387),
         i(389),
         i(393),
-        e._babelPolyfill &&
+        true &&
           "undefined" != typeof console &&
           console.warn &&
           console.warn(
@@ -20444,9 +20411,7 @@
             x(
               O({}, "a", {
                 get: function () {
-                  return O(this, "a", {
-                    value: 7,
-                  }).a;
+                  return O(this, "a", { value: 7 }).a;
                 },
               }),
             ).a
@@ -20478,9 +20443,7 @@
           o(U, t)
             ? (i.enumerable
                 ? (o(e, F) && e[F][t] && (e[F][t] = false),
-                  (i = x(i, {
-                    enumerable: A(0, false),
-                  })))
+                  (i = x(i, { enumerable: A(0, false) })))
                 : (o(e, F) || O(e, F, A(1, {})), (e[F][t] = true)),
               W(e, t, i))
             : O(e, t, i)
@@ -20493,7 +20456,7 @@
         return e;
       },
       q = function (e) {
-        var t = N.call(this, (e = T(e, true)));
+        var t = N((e = T(e, true)));
         return (
           !(this === G && o(U, e) && !o(V, e)) &&
           (!(t || !o(this, e) || !o(U, e) || (o(this, F) && this[F][e])) || t)
@@ -20555,9 +20518,7 @@
       (m.f = function (e) {
         return X(p(e));
       })),
-      s(s.G + s.W + s.F * !z, {
-        Symbol: I,
-      }));
+      s(s.G + s.W + s.F * !z, { Symbol: I }));
     for (
       var ee =
           "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(
@@ -20602,10 +20563,7 @@
                   var e = I();
                   return (
                     "[null]" != L([e]) ||
-                    "{}" !=
-                      L({
-                        a: e,
-                      }) ||
+                    "{}" != L({ a: e }) ||
                     "{}" != L(Object(e))
                   );
                 })),
@@ -20618,10 +20576,7 @@
                 return (
                   v(t) ||
                     (t = function (e, t) {
-                      if (
-                        ("function" == typeof i && (t = i.call(this, e, t)),
-                        !Y(t))
-                      )
+                      if (("function" == typeof i && (t = i(e, t)), !Y(t)))
                         return t;
                     }),
                   (n[1] = t),
@@ -20650,21 +20605,15 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Object", {
-      create: i(50),
-    });
+    n(n.S, "Object", { create: i(50) });
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S + n.F * !i(13), "Object", {
-      defineProperty: i(12).f,
-    });
+    n(n.S + n.F * !i(13), "Object", { defineProperty: i(12).f });
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S + n.F * !i(13), "Object", {
-      defineProperties: i(141),
-    });
+    n(n.S + n.F * !i(13), "Object", { defineProperties: i(141) });
   },
   function (e, t, i) {
     var n = i(24),
@@ -20751,21 +20700,15 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S + n.F, "Object", {
-      assign: i(143),
-    });
+    n(n.S + n.F, "Object", { assign: i(143) });
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Object", {
-      is: i(144),
-    });
+    n(n.S, "Object", { is: i(144) });
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Object", {
-      setPrototypeOf: i(102).set,
-    });
+    n(n.S, "Object", { setPrototypeOf: i(102).set });
   },
   function (e, t, i) {
     "use strict";
@@ -20784,16 +20727,14 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.P, "Function", {
-      bind: i(145),
-    });
+    n(n.P, "Function", { bind: i(145) });
   },
   function (e, t, i) {
     var n = i(12).f,
       r = Function.prototype,
       o = /^\s*function ([^ (]*)/;
-    "name" in r ||
-      (i(13) &&
+    if (!("name" in r)) {
+      i(13) &&
         n(r, "name", {
           configurable: true,
           get: function () {
@@ -20803,7 +20744,8 @@
               return "";
             }
           },
-        }));
+        });
+    }
   },
   function (e, t, i) {
     "use strict";
@@ -20811,7 +20753,7 @@
       r = i(52),
       o = i(8)("hasInstance"),
       a = Function.prototype;
-    o in a ||
+    if (!(o in a)) {
       i(12).f(a, o, {
         value: function (e) {
           if ("function" != typeof this || !n(e)) return false;
@@ -20820,20 +20762,17 @@
           return false;
         },
       });
+    }
   },
   function (e, t, i) {
     var n = i(0),
       r = i(147);
-    n(n.G + n.F * (parseInt != r), {
-      parseInt: r,
-    });
+    n(n.G + n.F * (parseInt != r), { parseInt: r });
   },
   function (e, t, i) {
     var n = i(0),
       r = i(148);
-    n(n.G + n.F * (parseFloat != r), {
-      parseFloat: r,
-    });
+    n(n.G + n.F * (parseFloat != r), { parseFloat: r });
   },
   function (e, t, i) {
     "use strict";
@@ -20855,10 +20794,10 @@
       v = function (e) {
         var t = s(e, false);
         if ("string" == typeof t && t.length > 2) {
-          var i,
-            n,
-            r,
-            o = (t = _ ? t.trim() : f(t, 3)).charCodeAt(0);
+          var i;
+          var n;
+          var r;
+          var o = (t = _ ? t.trim() : f(t, 3)).charCodeAt(0);
           if (43 === o || 45 === o) {
             if (88 === (i = t.charCodeAt(2)) || 120 === i) return NaN;
           } else if (48 === o) {
@@ -21024,9 +20963,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Number", {
-      EPSILON: Math.pow(2, -52),
-    });
+    n(n.S, "Number", { EPSILON: Math.pow(2, -52) });
   },
   function (e, t, i) {
     var n = i(0),
@@ -21039,9 +20976,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Number", {
-      isInteger: i(150),
-    });
+    n(n.S, "Number", { isInteger: i(150) });
   },
   function (e, t, i) {
     var n = i(0);
@@ -21063,29 +20998,21 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Number", {
-      MAX_SAFE_INTEGER: 9007199254740991,
-    });
+    n(n.S, "Number", { MAX_SAFE_INTEGER: 9007199254740991 });
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Number", {
-      MIN_SAFE_INTEGER: -9007199254740991,
-    });
+    n(n.S, "Number", { MIN_SAFE_INTEGER: -9007199254740991 });
   },
   function (e, t, i) {
     var n = i(0),
       r = i(148);
-    n(n.S + n.F * (Number.parseFloat != r), "Number", {
-      parseFloat: r,
-    });
+    n(n.S + n.F * (Number.parseFloat != r), "Number", { parseFloat: r });
   },
   function (e, t, i) {
     var n = i(0),
       r = i(147);
-    n(n.S + n.F * (Number.parseInt != r), "Number", {
-      parseInt: r,
-    });
+    n(n.S + n.F * (Number.parseInt != r), "Number", { parseInt: r });
   },
   function (e, t, i) {
     var n = i(0),
@@ -21161,15 +21088,11 @@
   function (e, t, i) {
     var n = i(0),
       r = i(107);
-    n(n.S + n.F * (r != Math.expm1), "Math", {
-      expm1: r,
-    });
+    n(n.S + n.F * (r != Math.expm1), "Math", { expm1: r });
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Math", {
-      fround: i(275),
-    });
+    n(n.S, "Math", { fround: i(275) });
   },
   function (e, t, i) {
     var n = i(106),
@@ -21241,9 +21164,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Math", {
-      log1p: i(151),
-    });
+    n(n.S, "Math", { log1p: i(151) });
   },
   function (e, t, i) {
     var n = i(0);
@@ -21255,9 +21176,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Math", {
-      sign: i(106),
-    });
+    n(n.S, "Math", { sign: i(106) });
   },
   function (e, t, i) {
     var n = i(0),
@@ -21415,9 +21334,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.P, "String", {
-      repeat: i(105),
-    });
+    n(n.P, "String", { repeat: i(105) });
   },
   function (e, t, i) {
     "use strict";
@@ -21600,7 +21517,7 @@
         o.call(new Date(NaN));
       })
         ? function () {
-            if (!isFinite(r.call(this))) throw RangeError("Invalid time value");
+            if (!isFinite(r())) throw RangeError("Invalid time value");
             var e = this,
               t = e.getUTCFullYear(),
               i = e.getUTCMilliseconds(),
@@ -21629,16 +21546,19 @@
     var n = Date.prototype,
       r = n.toString,
       o = n.getTime;
-    new Date(NaN) + "" != "Invalid Date" &&
+    if (new Date(NaN) + "" != "Invalid Date") {
       i(19)(n, "toString", function () {
-        var e = o.call(this);
-        return e == e ? r.call(this) : "Invalid Date";
+        var e = o();
+        return e == e ? r() : "Invalid Date";
       });
+    }
   },
   function (e, t, i) {
     var n = i(8)("toPrimitive"),
       r = Date.prototype;
-    n in r || i(23)(r, n, i(313));
+    if (!(n in r)) {
+      i(23)(r, n, i(313));
+    }
   },
   function (e, t, i) {
     "use strict";
@@ -21652,9 +21572,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Array", {
-      isArray: i(100),
-    });
+    n(n.S, "Array", { isArray: i(100) });
   },
   function (e, t, i) {
     "use strict";
@@ -21749,15 +21667,16 @@
       n.P +
         n.F *
           i(3)(function () {
-            r && c.call(r);
+            if (r) {
+              c.call(r);
+            }
           }),
       "Array",
       {
         slice: function (e, t) {
           var i = s(this.length),
             n = o(this);
-          if (((t = void 0 === t ? i : t), "Array" == n))
-            return c.call(this, e, t);
+          if (((t = void 0 === t ? i : t), "Array" == n)) return c(e, t);
           for (
             var r = a(e, i), u = a(t, i), l = s(u - r), h = new Array(l), f = 0;
             f < l;
@@ -21896,7 +21815,7 @@
       a = !!o && 1 / [1].indexOf(1, -0) < 0;
     n(n.P + n.F * (a || !i(26)(o)), "Array", {
       indexOf: function (e) {
-        return a ? o.apply(this, arguments) || 0 : r(this, e, arguments[1]);
+        return a ? o() || 0 : r(this, e, arguments[1]);
       },
     });
   },
@@ -21910,7 +21829,7 @@
       c = !!s && 1 / [1].lastIndexOf(1, -0) < 0;
     n(n.P + n.F * (c || !i(26)(s)), "Array", {
       lastIndexOf: function (e) {
-        if (c) return s.apply(this, arguments) || 0;
+        if (c) return s() || 0;
         var t = r(this),
           i = a(t.length),
           n = i - 1;
@@ -21927,17 +21846,11 @@
   },
   function (e, t, i) {
     var n = i(0);
-    (n(n.P, "Array", {
-      copyWithin: i(155),
-    }),
-      i(58)("copyWithin"));
+    (n(n.P, "Array", { copyWithin: i(155) }), i(58)("copyWithin"));
   },
   function (e, t, i) {
     var n = i(0);
-    (n(n.P, "Array", {
-      fill: i(116),
-    }),
-      i(58)("fill"));
+    (n(n.P, "Array", { fill: i(116) }), i(58)("fill"));
   },
   function (e, t, i) {
     "use strict";
@@ -21948,7 +21861,7 @@
       Array(1).find(function () {
         o = false;
       }),
-      n(n.P + n.F * o, "Array", {
+      n(n.P + n.F * true, "Array", {
         find: function (e) {
           return r(this, e, arguments.length > 1 ? arguments[1] : void 0);
         },
@@ -21961,16 +21874,16 @@
       r = i(31)(6),
       o = "findIndex",
       a = true;
-    (o in [] &&
+    ("findIndex" in [] &&
       Array(1)[o](function () {
         a = false;
       }),
-      n(n.P + n.F * a, "Array", {
+      n(n.P + n.F * true, "Array", {
         findIndex: function (e) {
           return r(this, e, arguments.length > 1 ? arguments[1] : void 0);
         },
       }),
-      i(58)(o));
+      i(58)("findIndex"));
   },
   function (e, t, i) {
     i(59)("Array");
@@ -21987,7 +21900,7 @@
       h = u.prototype,
       f = /a/g,
       d = /a/g,
-      p = new u(f) !== f;
+      p = new u(/a/g) !== /a/g;
     if (
       i(13) &&
       (!p ||
@@ -22017,7 +21930,7 @@
       };
       for (
         var m = function (e) {
-            (e in u) ||
+            if (!(e in u)) {
               o(u, e, {
                 configurable: true,
                 get: function () {
@@ -22027,6 +21940,7 @@
                   l[e] = t;
                 },
               });
+            }
           },
           g = a(l),
           _ = 0;
@@ -22070,7 +21984,7 @@
         })
       : "toString" != a.name &&
         s(function () {
-          return a.call(this);
+          return a();
         });
   },
   function (e, t, i) {
@@ -22131,7 +22045,9 @@
           var h = n(e),
             f = String(this),
             d = "function" == typeof t;
-          d || (t = String(t));
+          if (!d) {
+            t = String(t);
+          }
           var g = h.global;
           if (g) {
             var _ = h.unicode;
@@ -22141,7 +22057,9 @@
             var y = c(h, f);
             if (null === y) break;
             if ((v.push(y), !g)) break;
-            "" === String(y[0]) && (h.lastIndex = s(f, o(h.lastIndex), _));
+            if ("" === String(y[0])) {
+              h.lastIndex = s(f, o(h.lastIndex), _);
+            }
           }
           for (var b, E = "", T = 0, A = 0; A < v.length; A++) {
             y = v[A];
@@ -22157,10 +22075,14 @@
             var R = y.groups;
             if (d) {
               var M = [x].concat(C, S, f);
-              void 0 !== R && M.push(R);
+              if (void 0 !== R) {
+                M.push(R);
+              }
               var O = String(t.apply(void 0, M));
             } else O = m(x, f, S, C, R, t);
-            S >= T && ((E += f.slice(T, S) + O), (T = S + x.length));
+            if (S >= T) {
+              ((E += f.slice(T, S) + O), (T = S + x.length));
+            }
           }
           return E + f.slice(T);
         },
@@ -22171,7 +22093,7 @@
           l = d;
         return (
           void 0 !== a && ((a = r(a)), (l = f)),
-          i.call(s, l, function (i, r) {
+          i.call(s, d, function (i, r) {
             var s;
             switch (r.charAt(0)) {
               case "$":
@@ -22224,7 +22146,9 @@
           var s = n(e),
             c = String(this),
             u = s.lastIndex;
-          r(u, 0) || (s.lastIndex = 0);
+          if (!r(u, 0)) {
+            s.lastIndex = 0;
+          }
           var l = o(s, c);
           return (
             r(s.lastIndex, u) || (s.lastIndex = u),
@@ -22296,7 +22220,7 @@
             })
           : "0".split(void 0, 0).length &&
             (p = function (e, t) {
-              return void 0 === e && 0 === t ? [] : i.call(this, e, t);
+              return void 0 === e && 0 === t ? [] : i(e, t);
             }),
         [
           function (i, n) {
@@ -22322,8 +22246,8 @@
             if (0 === h.length) return null === c(v, h) ? [h] : [];
             for (var b = 0, E = 0, T = []; E < h.length; ) {
               v.lastIndex = f ? E : 0;
-              var A,
-                x = c(v, f ? h : h.slice(E));
+              var A;
+              var x = c(v, f ? h : h.slice(E));
               if (
                 null === x ||
                 (A = l(s(v.lastIndex + (f ? 0 : E)), h.length)) === b
@@ -22380,11 +22304,9 @@
             r.call(n, u);
           };
       else {
-        var h = true,
-          f = document.createTextNode("");
-        (new o(u).observe(f, {
-          characterData: true,
-        }),
+        var h = true;
+        var f = document.createTextNode("");
+        (new o(u).observe(f, { characterData: true }),
           (i = function () {
             f.data = h = !h;
           }));
@@ -22492,23 +22414,28 @@
         },
       },
       v = (e.exports = i(83)("WeakMap", g, _, c, true, true));
-    l(function () {
-      return 7 != new v().set((Object.freeze || Object)(m), 7).get(m);
-    }) &&
+    if (
+      l(function () {
+        return 7 != new v().set((Object.freeze || Object)(m), 7).get(m);
+      })
+    ) {
       (s((n = c.getConstructor(g, "WeakMap")).prototype, _),
-      (a.NEED = true),
-      r(["delete", "has", "get", "set"], function (e) {
-        var t = v.prototype,
-          i = t[e];
-        o(t, e, function (t, r) {
-          if (u(t) && !d(t)) {
-            this._f || (this._f = new n());
-            var o = this._f[e](t, r);
-            return "set" == e ? this : o;
-          }
-          return i.call(this, t, r);
-        });
-      }));
+        (a.NEED = true),
+        r(["delete", "has", "get", "set"], function (e) {
+          var t = v.prototype,
+            i = t[e];
+          o(t, e, function (t, r) {
+            if (u(t) && !d(t)) {
+              if (!this._f) {
+                this._f = new n();
+              }
+              var o = this._f[e](t, r);
+              return "set" == e ? this : o;
+            }
+            return i(t, r);
+          });
+        }));
+    }
   },
   function (e, t, i) {
     "use strict";
@@ -22547,9 +22474,7 @@
       p = r.ABV && l.isView,
       m = f.prototype.slice,
       g = r.VIEW;
-    (n(n.G + n.W + n.F * (l !== f), {
-      ArrayBuffer: f,
-    }),
+    (n(n.G + n.W + n.F * (l !== f), { ArrayBuffer: f }),
       n(n.S + n.F * !r.CONSTR, "ArrayBuffer", {
         isView: function (e) {
           return (p && p(e)) || (u(e) && g in e);
@@ -22585,9 +22510,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.G + n.W + n.F * !i(84).ABV, {
-      DataView: i(121).DataView,
-    });
+    n(n.G + n.W + n.F * !i(84).ABV, { DataView: i(121).DataView });
   },
   function (e, t, i) {
     i(38)("Int8", 1, function (e) {
@@ -22732,15 +22655,7 @@
       r.S +
         r.F *
           i(3)(function () {
-            Reflect.defineProperty(
-              n.f({}, 1, {
-                value: 1,
-              }),
-              1,
-              {
-                value: 2,
-              },
-            );
+            Reflect.defineProperty(n.f({}, 1, { value: 1 }), 1, { value: 2 });
           }),
       "Reflect",
       {
@@ -22863,9 +22778,7 @@
   },
   function (e, t, i) {
     var n = i(0);
-    n(n.S, "Reflect", {
-      ownKeys: i(165),
-    });
+    n(n.S, "Reflect", { ownKeys: i(165) });
   },
   function (e, t, i) {
     var n = i(0),
@@ -22916,7 +22829,7 @@
   function (e, t, i) {
     var n = i(0),
       r = i(102);
-    r &&
+    if (r) {
       n(n.S, "Reflect", {
         setPrototypeOf: function (e, t) {
           r.check(e, t);
@@ -22927,6 +22840,7 @@
           }
         },
       });
+    }
   },
   function (e, t, i) {
     (i(374), (e.exports = i(14).Array.includes));
@@ -23070,7 +22984,7 @@
           return e(
             n
               ? function () {
-                  ("function" == typeof t ? t : Function(t)).apply(this, r);
+                  ("function" == typeof t ? t : Function(t))();
                 }
               : t,
             i,
@@ -23140,11 +23054,11 @@
       m < p.length;
       m++
     ) {
-      var g,
-        _ = p[m],
-        v = d[_],
-        y = a[_],
-        b = y && y.prototype;
+      var g;
+      var _ = p[m];
+      var v = d[_];
+      var y = a[_];
+      var b = y && y.prototype;
       if (b && (b[l] || s(b, l, f), b[h] || s(b, h, _), (c[_] = f), v))
         for (g in n) b[g] || o(b, g, n[g], true);
     }
@@ -23180,18 +23094,20 @@
         if (f) h && (e.exports = f);
         else {
           (f = n.regeneratorRuntime = h ? e.exports : {}).wrap = T;
-          var d = "suspendedStart",
-            p = "suspendedYield",
-            m = "executing",
-            g = "completed",
-            _ = {},
-            v = {};
+          var d = "suspendedStart";
+          var p = "suspendedYield";
+          var m = "executing";
+          var g = "completed";
+          var _ = {};
+          var v = {};
           v[c] = function () {
             return this;
           };
-          var y = Object.getPrototypeOf,
-            b = y && y(y(D([])));
-          b && b !== o && a.call(b, c) && (v = b);
+          var y = Object.getPrototypeOf;
+          var b = y && y(y(D([])));
+          if (b && b !== o && a.call(b, c)) {
+            v = b;
+          }
           var E = (C.prototype = x.prototype = Object.create(v));
           ((S.prototype = E.constructor = C),
             (C.constructor = S),
@@ -23213,9 +23129,7 @@
               );
             }),
             (f.awrap = function (e) {
-              return {
-                __await: e,
-              };
+              return { __await: e };
             }),
             P(R.prototype),
             (R.prototype[u] = function () {
@@ -23269,7 +23183,7 @@
                 )
                   for (var t in this)
                     "t" === t.charAt(0) &&
-                      a.call(this, t) &&
+                      a(t) &&
                       !isNaN(+t.slice(1)) &&
                       (this[t] = r);
               },
@@ -23292,12 +23206,12 @@
                   );
                 }
                 for (var n = this.tryEntries.length - 1; n >= 0; --n) {
-                  var o = this.tryEntries[n],
-                    s = o.completion;
+                  var o = this.tryEntries[n];
+                  var s = o.completion;
                   if ("root" === o.tryLoc) return i("end");
                   if (o.tryLoc <= this.prev) {
-                    var c = a.call(o, "catchLoc"),
-                      u = a.call(o, "finallyLoc");
+                    var c = a.call(o, "catchLoc");
+                    var u = a.call(o, "finallyLoc");
                     if (c && u) {
                       if (this.prev < o.catchLoc) return i(o.catchLoc, true);
                       if (this.prev < o.finallyLoc) return i(o.finallyLoc);
@@ -23325,11 +23239,14 @@
                     break;
                   }
                 }
-                r &&
+                if (
+                  r &&
                   ("break" === e || "continue" === e) &&
                   r.tryLoc <= t &&
-                  t <= r.finallyLoc &&
-                  (r = null);
+                  t <= r.finallyLoc
+                ) {
+                  r = null;
+                }
                 var o = r ? r.completion : {};
                 return (
                   (o.type = e),
@@ -23408,11 +23325,11 @@
                       return s;
                     }
                   }
-                  if ("next" === i.method) i.sent = i._sent = i.arg;
-                  else if ("throw" === i.method) {
+                  if ("next" === "throw") i.sent = i._sent = i.arg;
+                  else if ("throw" === "throw") {
                     if (n === d) throw ((n = g), i.arg);
                     i.dispatchException(i.arg);
-                  } else "return" === i.method && i.abrupt("return", i.arg);
+                  } else "return" === "throw" && i.abrupt("return", i.arg);
                   n = m;
                   var c = A(e, t, i);
                   if ("normal" === c.type) {
@@ -23422,8 +23339,9 @@
                       done: i.done,
                     };
                   }
-                  "throw" === c.type &&
+                  if ("throw" === c.type) {
                     ((n = g), (i.method = "throw"), (i.arg = c.arg));
+                  }
                 }
               };
             })(e, i, a)),
@@ -23461,8 +23379,8 @@
                 !(function n(r, o, s, c) {
                   var u = A(e[r], e, o);
                   if ("throw" !== u.type) {
-                    var l = u.arg,
-                      h = l.value;
+                    var l = u.arg;
+                    var h = l.value;
                     return h && "object" === i(h) && a.call(h, "__await")
                       ? t.resolve(h.__await).then(
                           function (e) {
@@ -23530,9 +23448,7 @@
               _);
         }
         function O(e) {
-          var t = {
-            tryLoc: e[0],
-          };
+          var t = { tryLoc: e[0] };
           (1 in e && (t.catchLoc = e[1]),
             2 in e && ((t.finallyLoc = e[2]), (t.afterLoc = e[3])),
             this.tryEntries.push(t));
@@ -23542,11 +23458,7 @@
           ((t.type = "normal"), delete t.arg, (e.completion = t));
         }
         function I(e) {
-          ((this.tryEntries = [
-            {
-              tryLoc: "root",
-            },
-          ]),
+          ((this.tryEntries = [{ tryLoc: "root" }]),
             e.forEach(O, this),
             this.reset(true));
         }
@@ -23556,19 +23468,17 @@
             if (t) return t.call(e);
             if ("function" == typeof e.next) return e;
             if (!isNaN(e.length)) {
-              var i = -1,
-                n = function t() {
-                  for (; ++i < e.length; )
-                    if (a.call(e, i))
-                      return ((t.value = e[i]), (t.done = false), t);
-                  return ((t.value = r), (t.done = true), t);
-                };
+              var i = -1;
+              var n = function t() {
+                for (; ++i < e.length; )
+                  if (a.call(e, i))
+                    return ((t.value = e[i]), (t.done = false), t);
+                return ((t.value = r), (t.done = true), t);
+              };
               return (n.next = n);
             }
           }
-          return {
-            next: L,
-          };
+          return { next: L };
         }
         function L() {
           return {
@@ -23577,14 +23487,10 @@
           };
         }
       })(
-        (function () {
-          return (
-            this ||
-            ("object" ===
-              ("undefined" == typeof self ? "undefined" : i(self)) &&
-              self)
-          );
-        })() || Function("return this")(),
+        this ||
+          ("object" === ("undefined" == typeof self ? "undefined" : i(self)) &&
+            self) ||
+          Function("return this")(),
       );
     }).call(this, i(122)(e), i(41));
   },
@@ -23669,12 +23575,14 @@
           var i = arguments,
             n = this,
             r = new this.constructor(C);
-          void 0 === r[S] && j(r);
+          if (void 0 === r[S]) {
+            j(r);
+          }
           var o,
             a = n._state;
           return (
             a
-              ? ((o = i[a - 1]),
+              ? ((o = arguments[a - 1]),
                 u(function () {
                   return G(a, r, o, n._result);
                 }))
@@ -23695,9 +23603,7 @@
             ? ((y = 0),
               (b = new f(_)),
               (E = document.createTextNode("")),
-              b.observe(E, {
-                characterData: true,
-              }),
+              b.observe(E, { characterData: true }),
               (T = function () {
                 E.data = y = ++y % 2;
               }))
@@ -23773,14 +23679,20 @@
                             i,
                             t,
                             function (i) {
-                              n || ((n = true), t !== i ? D(e, i) : F(e, i));
+                              if (!n) {
+                                ((n = true), t !== i ? D(e, i) : F(e, i));
+                              }
                             },
                             function (t) {
-                              n || ((n = true), B(e, t));
+                              if (!n) {
+                                ((n = true), B(e, t));
+                              }
                             },
                             e._label,
                           );
-                        !n && r && ((n = true), B(e, r));
+                        if (!n && r) {
+                          ((n = true), B(e, r));
+                        }
                       }, e);
                     })(t, i, n)
                   : F(t, i);
@@ -23797,13 +23709,16 @@
           (e._onerror && e._onerror(e._result), k(e));
         }
         function F(e, t) {
-          e._state === P &&
+          if (e._state === P) {
             ((e._result = t),
-            (e._state = R),
-            0 !== e._subscribers.length && u(k, e));
+              (e._state = R),
+              0 !== e._subscribers.length && u(k, e));
+          }
         }
         function B(e, t) {
-          e._state === P && ((e._state = M), (e._result = t), u(L, e));
+          if (e._state === P) {
+            ((e._state = M), (e._result = t), u(L, e));
+          }
         }
         function N(e, t, i, n) {
           var r = e._subscribers,
@@ -23857,14 +23772,15 @@
                 ),
               );
           } else ((a = r), (c = true));
-          i._state !== P ||
-            (o && c
+          if (!(i._state !== P)) {
+            o && c
               ? D(i, a)
               : u
                 ? B(i, s)
                 : t === R
                   ? F(i, a)
-                  : t === M && B(i, a));
+                  : t === M && B(i, a);
+          }
         }
         var z = 0;
         function j(e) {
@@ -24082,16 +23998,18 @@
             (s[c++] = (t >> 16) & 255),
             (s[c++] = (t >> 8) & 255),
             (s[c++] = 255 & t));
-        2 === a &&
+        if (2 === a) {
           ((t = (r[e.charCodeAt(h)] << 2) | (r[e.charCodeAt(h + 1)] >> 4)),
-          (s[c++] = 255 & t));
-        1 === a &&
+            (s[c++] = 255 & t));
+        }
+        if (1 === a) {
           ((t =
             (r[e.charCodeAt(h)] << 10) |
             (r[e.charCodeAt(h + 1)] << 4) |
             (r[e.charCodeAt(h + 2)] >> 2)),
-          (s[c++] = (t >> 8) & 255),
-          (s[c++] = 255 & t));
+            (s[c++] = (t >> 8) & 255),
+            (s[c++] = 255 & t));
+        }
         return s;
       }),
       (t.fromByteArray = function (e) {
@@ -24249,7 +24167,9 @@
           var n = 0,
             r = 0;
           (t[0].replace(/%[a-zA-Z%]/g, function (e) {
-            "%%" !== e && (n++, "%c" === e && (r = n));
+            if ("%%" !== e) {
+              (n++, "%c" === e && (r = n));
+            }
           }),
             t.splice(r, 0, i));
         }),
@@ -24263,7 +24183,9 @@
           try {
             e = t.storage.getItem("debug");
           } catch (e) {}
-          !e && void 0 !== n && "env" in n && (e = n.env.DEBUG);
+          if (!e && void 0 !== n && "env" in n) {
+            e = n.env.DEBUG;
+          }
           return e;
         }),
         (t.useColors = function () {
@@ -24426,12 +24348,12 @@
           for (var e = arguments.length, t = new Array(e), o = 0; o < e; o++)
             t[o] = arguments[o];
           if (n.enabled) {
-            var a = n,
-              s = Number(new Date()),
-              c = s - (i || s);
-            ((a.diff = c),
-              (a.prev = i),
-              (a.curr = s),
+            var a = n;
+            var s = Number(new Date());
+            var c = s - (i || s);
+            ((n.diff = c),
+              (n.prev = i),
+              (n.curr = s),
               (i = s),
               (t[0] = r.coerce(t[0])),
               "string" != typeof t[0] && t.unshift("%O"));
@@ -24446,8 +24368,8 @@
               }
               return e;
             })),
-              r.formatArgs.call(a, t),
-              (a.log || r.log).apply(a, t));
+              r.formatArgs.call(n, t),
+              (n.log || r.log).apply(n, t));
           }
         }
         return (
@@ -24549,7 +24471,7 @@
             })(e);
     }
     var n = 1e3,
-      r = 60 * n,
+      r = 60 * 1e3,
       o = 60 * r,
       a = 24 * o,
       s = 7 * a,
@@ -24734,9 +24656,7 @@
         r.inspect &&
         r.inspect.custom &&
         (e.exports.prototype[r.inspect.custom] = function () {
-          var e = r.inspect({
-            length: this.length,
-          });
+          var e = r.inspect({ length: this.length });
           return this.constructor.name + " " + e;
         }));
   },
@@ -24757,7 +24677,9 @@
         }),
         (t.clearTimeout = t.clearInterval =
           function (e) {
-            e && e.close();
+            if (e) {
+              e.close();
+            }
           }),
         (o.prototype.unref = o.prototype.ref = function () {}),
         (o.prototype.close = function () {
@@ -24773,10 +24695,13 @@
           function (e) {
             clearTimeout(e._idleTimeoutId);
             var t = e._idleTimeout;
-            t >= 0 &&
-              (e._idleTimeoutId = setTimeout(function () {
-                e._onTimeout && e._onTimeout();
-              }, t));
+            if (t >= 0) {
+              e._idleTimeoutId = setTimeout(function () {
+                if (e._onTimeout) {
+                  e._onTimeout();
+                }
+              }, t);
+            }
           }),
         i(408),
         (t.setImmediate =
@@ -24794,16 +24719,16 @@
       !(function (e, i) {
         "use strict";
         if (!e.setImmediate) {
-          var n,
-            r,
-            o,
-            a,
-            s,
-            c = 1,
-            u = {},
-            l = false,
-            h = e.document,
-            f = Object.getPrototypeOf && Object.getPrototypeOf(e);
+          var n;
+          var r;
+          var o;
+          var a;
+          var s;
+          var c = 1;
+          var u = {};
+          var l = false;
+          var h = e.document;
+          var f = Object.getPrototypeOf && Object.getPrototypeOf(e);
           ((f = f && f.setTimeout ? f : e),
             "[object process]" === {}.toString.call(e.process)
               ? (n = function (e) {
@@ -24813,8 +24738,8 @@
                 })
               : !(function () {
                     if (e.postMessage && !e.importScripts) {
-                      var t = true,
-                        i = e.onmessage;
+                      var t = true;
+                      var i = e.onmessage;
                       return (
                         (e.onmessage = function () {
                           t = false;
@@ -24851,10 +24776,13 @@
                       })
                 : ((a = "setImmediate$" + Math.random() + "$"),
                   (s = function (t) {
-                    t.source === e &&
+                    if (
+                      t.source === e &&
                       "string" == typeof t.data &&
-                      0 === t.data.indexOf(a) &&
+                      0 === t.data.indexOf(a)
+                    ) {
                       p(+t.data.slice(a.length));
+                    }
                   }),
                   e.addEventListener
                     ? e.addEventListener("message", s, false)
@@ -24863,7 +24791,9 @@
                     e.postMessage(a + t, "*");
                   })),
             (f.setImmediate = function (e) {
-              "function" != typeof e && (e = new Function("" + e));
+              if ("function" != typeof e) {
+                e = new Function("" + e);
+              }
               for (
                 var t = new Array(arguments.length - 1), i = 0;
                 i < t.length;
@@ -24937,7 +24867,7 @@
             (i("traceDeprecation") ? console.trace(t) : console.warn(t),
               (n = true));
           }
-          return e.apply(this, arguments);
+          return e();
         };
       };
     }).call(this, i(15));
@@ -24949,7 +24879,7 @@
       r = i(68);
     function o(e) {
       if (!(this instanceof o)) return new o(e);
-      n.call(this, e);
+      n(e);
     }
     ((r.inherits = i(1)),
       r.inherits(o, n),
@@ -24996,11 +24926,12 @@
               (i.m = e),
               (i.c = t),
               (i.d = function (e, t, n) {
-                i.o(e, t) ||
+                if (!i.o(e, t)) {
                   Object.defineProperty(e, t, {
                     enumerable: true,
                     get: n,
                   });
+                }
               }),
               (i.r = function (e) {
                 ("undefined" != typeof Symbol &&
@@ -25008,9 +24939,7 @@
                   Object.defineProperty(e, Symbol.toStringTag, {
                     value: "Module",
                   }),
-                  Object.defineProperty(e, "__esModule", {
-                    value: true,
-                  }));
+                  Object.defineProperty(e, "__esModule", { value: true }));
               }),
               (i.t = function (e, t) {
                 if ((1 & t && (e = i(e)), 8 & t)) return e;
@@ -26421,7 +26350,9 @@
                       e.TransformCoordinatesToRef(t, i, n);
                       var r = i.m,
                         a = t.x * r[3] + t.y * r[7] + t.z * r[11] + r[15];
-                      o.a.WithinEpsilon(a, 1) && n.scaleInPlace(1 / a);
+                      if (o.a.WithinEpsilon(a, 1)) {
+                        n.scaleInPlace(1 / a);
+                      }
                     }),
                     (e.UnprojectFromTransform = function (t, i, n, r, o) {
                       var a = w.Matrix[0];
@@ -27171,7 +27102,9 @@
                       );
                     }),
                     (e.prototype.toEulerAngles = function (e) {
-                      void 0 === e && (e = "YZX");
+                      if (void 0 === e) {
+                        e = "YZX";
+                      }
                       var t = f.Zero();
                       return (this.toEulerAnglesToRef(t), t);
                     }),
@@ -27368,8 +27301,8 @@
                       if ((a < 0 && ((s = true), (a = -a)), a > 0.999999))
                         ((o = 1 - i), (r = s ? -i : i));
                       else {
-                        var c = Math.acos(a),
-                          u = 1 / Math.sin(c);
+                        var c = Math.acos(a);
+                        var u = 1 / Math.sin(c);
                         ((o = Math.sin((1 - i) * c) * u),
                           (r = s ? -Math.sin(i * c) * u : Math.sin(i * c) * u));
                       }
@@ -27722,16 +27655,18 @@
                       var t = e;
                       return (
                         this._updateIdentityStatus(
-                          t._isIdentity,
-                          t._isIdentityDirty,
-                          t._isIdentity3x2,
-                          t._isIdentity3x2Dirty,
+                          e._isIdentity,
+                          e._isIdentityDirty,
+                          e._isIdentity3x2,
+                          e._isIdentity3x2Dirty,
                         ),
                         this
                       );
                     }),
                     (e.prototype.copyToArray = function (e, t) {
-                      void 0 === t && (t = 0);
+                      if (void 0 === t) {
+                        t = 0;
+                      }
                       for (var i = 0; i < 16; i++) e[t + i] = this._m[i];
                       return this;
                     }),
@@ -27801,15 +27736,15 @@
                     }),
                     (e.prototype.equals = function (e) {
                       var t = e;
-                      if (!t) return false;
+                      if (!e) return false;
                       if (
-                        (this._isIdentity || t._isIdentity) &&
+                        (this._isIdentity || e._isIdentity) &&
                         !this._isIdentityDirty &&
-                        !t._isIdentityDirty
+                        !e._isIdentityDirty
                       )
-                        return this._isIdentity && t._isIdentity;
+                        return this._isIdentity && e._isIdentity;
                       var i = this.m,
-                        n = t.m;
+                        n = e.m;
                       return (
                         i[0] === n[0] &&
                         i[1] === n[1] &&
@@ -27866,9 +27801,9 @@
                       )
                         return (i && i.copyFromFloats(0, 0, 0, 1), false);
                       if (i) {
-                        var o = 1 / t.x,
-                          a = 1 / t.y,
-                          s = 1 / t.z;
+                        var o = 1 / t.x;
+                        var a = 1 / t.y;
+                        var s = 1 / t.z;
                         (e.FromValuesToRef(
                           r[0] * o,
                           r[1] * o,
@@ -28012,7 +27947,9 @@
                           this._markAsUpdated());
                       }),
                     (e.FromArray = function (t, i) {
-                      void 0 === i && (i = 0);
+                      if (void 0 === i) {
+                        i = 0;
+                      }
                       var n = new e();
                       return (e.FromArrayToRef(t, i, n), n);
                     }),
@@ -28466,7 +28403,7 @@
                         l = -f.Dot(a, t),
                         h = -f.Dot(s, t);
                       e.FromValuesToRef(
-                        o.x,
+                        1,
                         a.x,
                         s.x,
                         0,
@@ -28506,7 +28443,7 @@
                         l = -f.Dot(a, t),
                         h = -f.Dot(s, t);
                       e.FromValuesToRef(
-                        o.x,
+                        1,
                         a.x,
                         s.x,
                         0,
@@ -28632,14 +28569,16 @@
                       return (e.PerspectiveFovLHToRef(t, i, n, r, o), o);
                     }),
                     (e.PerspectiveFovLHToRef = function (t, i, n, r, o, a) {
-                      void 0 === a && (a = true);
+                      if (void 0 === a) {
+                        a = true;
+                      }
                       var s = n,
                         c = r,
                         u = 1 / Math.tan(0.5 * t),
                         l = a ? u / i : u,
                         h = a ? u : u * i,
-                        f = (c + s) / (c - s),
-                        d = (-2 * c * s) / (c - s);
+                        f = (r + n) / (r - n),
+                        d = (-2 * r * n) / (r - n);
                       (e.FromValuesToRef(
                         l,
                         0,
@@ -28666,14 +28605,16 @@
                       return (e.PerspectiveFovRHToRef(t, i, n, r, o), o);
                     }),
                     (e.PerspectiveFovRHToRef = function (t, i, n, r, o, a) {
-                      void 0 === a && (a = true);
+                      if (void 0 === a) {
+                        a = true;
+                      }
                       var s = n,
                         c = r,
                         u = 1 / Math.tan(0.5 * t),
                         l = a ? u / i : u,
                         h = a ? u : u * i,
-                        f = -(c + s) / (c - s),
-                        d = (-2 * c * s) / (c - s);
+                        f = -(r + n) / (r - n),
+                        d = (-2 * r * n) / (r - n);
                       (e.FromValuesToRef(
                         l,
                         0,
@@ -28696,7 +28637,9 @@
                         o._updateIdentityStatus(false));
                     }),
                     (e.PerspectiveFovWebVRToRef = function (e, t, i, n, r) {
-                      void 0 === r && (r = false);
+                      if (void 0 === r) {
+                        r = false;
+                      }
                       var o = r ? -1 : 1,
                         a = Math.tan((e.upDegrees * Math.PI) / 180),
                         s = Math.tan((e.downDegrees * Math.PI) / 180),
@@ -29235,14 +29178,16 @@
                         s = new h(i, n),
                         c = new x(o, a, s),
                         u = c.angle.radians() / r;
-                      c.orientation === b.CW && (u *= -1);
+                      if (c.orientation === b.CW) {
+                        u *= -1;
+                      }
                       for (
                         var l = c.startAngle.radians() + u, f = 0;
                         f < r;
                         f++
                       ) {
-                        var d = Math.cos(l) * c.radius + c.centerPoint.x,
-                          p = Math.sin(l) * c.radius + c.centerPoint.y;
+                        var d = Math.cos(l) * c.radius + c.centerPoint.x;
+                        var p = Math.sin(l) * c.radius + c.centerPoint.y;
                         (this.addLineTo(d, p), (l += u));
                       }
                       return this;
@@ -29268,13 +29213,13 @@
                         n < this._points.length;
                         n++
                       ) {
-                        var r = (n + 1) % this._points.length,
-                          o = this._points[n],
-                          a = this._points[r].subtract(o),
-                          s = a.length() + i;
+                        var r = (n + 1) % this._points.length;
+                        var o = this._points[n];
+                        var a = this._points[r].subtract(o);
+                        var s = a.length() + i;
                         if (t >= i && t <= s) {
-                          var c = a.normalize(),
-                            u = t - i;
+                          var c = a.normalize();
+                          var u = t - i;
                           return new h(o.x + c.x * u, o.y + c.y * u);
                         }
                         i = s;
@@ -29317,7 +29262,9 @@
                       return this._distances;
                     }),
                     (e.prototype.update = function (e, t) {
-                      void 0 === t && (t = null);
+                      if (void 0 === t) {
+                        t = null;
+                      }
                       for (var i = 0; i < e.length; i++)
                         ((this._curve[i].x = e[i].x),
                           (this._curve[i].y = e[i].y),
@@ -29613,25 +29560,23 @@
                   return l;
                 }));
               /*! *****************************************************************************
-Copyright (c) Microsoft Corporation. All rights reserved.
-Licensed under the Apache License, Version 2.0 (the "License"); you may not use
-this file except in compliance with the License. You may obtain a copy of the
-License at http://www.apache.org/licenses/LICENSE-2.0
-
-THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
-WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
-MERCHANTABLITY OR NON-INFRINGEMENT.
-
-See the Apache Version 2.0 License for specific language governing permissions
-and limitations under the License.
-***************************************************************************** */
+						Copyright (c) Microsoft Corporation. All rights reserved.
+						Licensed under the Apache License, Version 2.0 (the "License"); you may not use
+						this file except in compliance with the License. You may obtain a copy of the
+						License at http://www.apache.org/licenses/LICENSE-2.0
+						
+						THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+						KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
+						WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
+						MERCHANTABLITY OR NON-INFRINGEMENT.
+						
+						See the Apache Version 2.0 License for specific language governing permissions
+						and limitations under the License.
+						***************************************************************************** */
               var r = function (e, t) {
                 return (r =
                   Object.setPrototypeOf ||
-                  ({
-                    __proto__: [],
-                  } instanceof Array &&
+                  ({ __proto__: [] } instanceof Array &&
                     function (e, t) {
                       e.__proto__ = t;
                     }) ||
@@ -29658,7 +29603,7 @@ and limitations under the License.
                         Object.prototype.hasOwnProperty.call(t, r) &&
                           (e[r] = t[r]);
                     return e;
-                  }).apply(this, arguments);
+                  })();
               };
               function s(e, t, i, n) {
                 var r,
@@ -29873,12 +29818,14 @@ and limitations under the License.
                 s = {},
                 c = function (e, t, i) {
                   var r = e();
-                  n.a && n.a.AddTagsTo(r, t.tags);
+                  if (n.a) {
+                    n.a.AddTagsTo(r, t.tags);
+                  }
                   var o = u(r);
                   for (var a in o) {
-                    var s = o[a],
-                      c = t[a],
-                      l = s.type;
+                    var s = o[a];
+                    var c = t[a];
+                    var l = s.type;
                     if (null != c && "uniqueId" !== a)
                       switch (l) {
                         case 0:
@@ -29908,8 +29855,8 @@ and limitations under the License.
                 for (var i = s[t], n = e, r = t; r; ) {
                   var o = a[r];
                   for (var c in o) i[c] = o[c];
-                  var u = void 0,
-                    l = false;
+                  var u = void 0;
+                  var l = false;
                   do {
                     if (!(u = Object.getPrototypeOf(n)).getClassName) {
                       l = true;
@@ -29929,11 +29876,12 @@ and limitations under the License.
                     var t = i.getClassName();
                     return (a[t] || (a[t] = {}), a[t]);
                   })();
-                  r[n] ||
-                    (r[n] = {
+                  if (!r[n]) {
+                    r[n] = {
                       type: e,
                       sourceName: t,
-                    });
+                    };
+                  }
                 };
               }
               function h(e, t) {
@@ -29949,7 +29897,9 @@ and limitations under the License.
                             return this[r];
                           },
                           set: function (t) {
-                            this[r] !== t && ((this[r] = t), i[e].apply(this));
+                            if (this[r] !== t) {
+                              ((this[r] = t), i[e]());
+                            }
                           },
                           enumerable: true,
                           configurable: true,
@@ -30014,10 +29964,10 @@ and limitations under the License.
                     (t || (t = {}), n.a && (t.tags = n.a.GetTags(e)));
                     var i = u(e);
                     for (var r in i) {
-                      var o = i[r],
-                        a = o.sourceName || r,
-                        s = o.type,
-                        c = e[r];
+                      var o = i[r];
+                      var a = o.sourceName || r;
+                      var s = o.type;
+                      var c = e[r];
                       if (null != c)
                         switch (s) {
                           case 0:
@@ -30060,54 +30010,56 @@ and limitations under the License.
                     return t;
                   }),
                   (e.Parse = function (t, i, o, a) {
-                    void 0 === a && (a = null);
+                    if (void 0 === a) {
+                      a = null;
+                    }
                     var s = t();
                     (a || (a = ""), n.a && n.a.AddTagsTo(s, i.tags));
                     var c = u(s);
                     for (var l in c) {
-                      var h = c[l],
-                        f = i[h.sourceName || l],
-                        d = h.type;
+                      var h = c[l];
+                      var f = i[h.sourceName || l];
+                      var d = h.type;
                       if (null != f) {
                         var p = s;
                         switch (d) {
                           case 0:
-                            p[l] = f;
+                            s[l] = f;
                             break;
                           case 1:
-                            o && (p[l] = e._TextureParser(f, o, a));
+                            o && (s[l] = e._TextureParser(f, o, a));
                             break;
                           case 2:
-                            p[l] = r.e.FromArray(f);
+                            s[l] = r.e.FromArray(f);
                             break;
                           case 3:
-                            p[l] = e._FresnelParametersParser(f);
+                            s[l] = e._FresnelParametersParser(f);
                             break;
                           case 4:
-                            p[l] = r.w.FromArray(f);
+                            s[l] = r.w.FromArray(f);
                             break;
                           case 5:
-                            p[l] = r.x.FromArray(f);
+                            s[l] = r.x.FromArray(f);
                             break;
                           case 6:
-                            o && (p[l] = o.getLastMeshByID(f));
+                            o && (s[l] = o.getLastMeshByID(f));
                             break;
                           case 7:
-                            p[l] = e._ColorCurvesParser(f);
+                            s[l] = e._ColorCurvesParser(f);
                             break;
                           case 8:
-                            p[l] = r.f.FromArray(f);
+                            s[l] = r.f.FromArray(f);
                             break;
                           case 9:
-                            p[l] = e._ImageProcessingConfigurationParser(f);
+                            s[l] = e._ImageProcessingConfigurationParser(f);
                             break;
                           case 10:
-                            p[l] = r.q.FromArray(f);
+                            s[l] = r.q.FromArray(f);
                             break;
                           case 11:
-                            o && (p[l] = o.getCameraByID(f));
+                            o && (s[l] = o.getCameraByID(f));
                           case 12:
-                            p[l] = r.j.FromArray(f);
+                            s[l] = r.j.FromArray(f);
                         }
                       }
                     }
@@ -30319,7 +30271,9 @@ and limitations under the License.
                       o,
                       a,
                     ) {
-                      void 0 === a && (a = false);
+                      if (void 0 === a) {
+                        a = false;
+                      }
                       var s = a ? t : t * Float32Array.BYTES_PER_ELEMENT,
                         c = n
                           ? a
@@ -30390,9 +30344,12 @@ and limitations under the License.
                           (this._data = null)));
                     }),
                     (e.prototype.dispose = function () {
-                      this._buffer &&
-                        this._engine._releaseBuffer(this._buffer) &&
-                        (this._buffer = null);
+                      if (
+                        this._buffer &&
+                        this._engine._releaseBuffer(this._buffer)
+                      ) {
+                        this._buffer = null;
+                      }
                     }),
                     e
                   );
@@ -30452,7 +30409,9 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype._rebuild = function () {
-                      this._buffer && this._buffer._rebuild();
+                      if (this._buffer) {
+                        this._buffer._rebuild();
+                      }
                     }),
                     (e.prototype.getKind = function () {
                       return this._kind;
@@ -30492,7 +30451,9 @@ and limitations under the License.
                         this._buffer.updateDirectly(e, t, void 0, i));
                     }),
                     (e.prototype.dispose = function () {
-                      this._ownsBuffer && this._buffer.dispose();
+                      if (this._ownsBuffer) {
+                        this._buffer.dispose();
+                      }
                     }),
                     (e.prototype.forEach = function (t, i) {
                       e.ForEach(
@@ -30552,18 +30513,18 @@ and limitations under the License.
                         }
                       else {
                         var d =
-                            t instanceof ArrayBuffer
-                              ? new DataView(t)
-                              : new DataView(
-                                  t.buffer,
-                                  t.byteOffset,
-                                  t.byteLength,
-                                ),
-                          p = e.GetTypeByteLength(o);
+                          t instanceof ArrayBuffer
+                            ? new DataView(t)
+                            : new DataView(
+                                t.buffer,
+                                t.byteOffset,
+                                t.byteLength,
+                              );
+                        var p = e.GetTypeByteLength(o);
                         for (h = 0; h < a; h += r) {
                           var m = i;
                           for (f = 0; f < r; f++)
-                            (c(e._GetFloatValue(d, o, m, s), h + f), (m += p));
+                            (c(e._GetFloatValue(d, o, i, s), h + f), (m += p));
                           i += n;
                         }
                       }
@@ -30687,10 +30648,10 @@ and limitations under the License.
                             r.material &&
                             r.computeBonesUsingShaders &&
                             0 !== r.numBoneInfluencers
-                          )
+                          ) {
                             if (r.material.getEffect() === t)
                               r.computeBonesUsingShaders = false;
-                            else if (r.subMeshes)
+                            else if (r.subMeshes) {
                               for (
                                 var o = 0, a = r.subMeshes;
                                 o < a.length;
@@ -30700,6 +30661,8 @@ and limitations under the License.
                                   r.computeBonesUsingShaders = false;
                                   break;
                                 }
+                            }
+                          }
                         }
                       } else {
                         var s = this._defines[this._currentRank];
@@ -30755,22 +30718,22 @@ and limitations under the License.
                       var m = i;
                       if (
                         ((this._engine = r),
-                        (this._attributesNames = m.attributes),
-                        (this._uniformsNames = m.uniformsNames.concat(
-                          m.samplers,
+                        (this._attributesNames = i.attributes),
+                        (this._uniformsNames = i.uniformsNames.concat(
+                          i.samplers,
                         )),
-                        (this._samplerList = m.samplers.slice()),
-                        (this.defines = m.defines),
-                        (this.onError = m.onError),
-                        (this.onCompiled = m.onCompiled),
-                        (this._fallbacks = m.fallbacks),
-                        (this._indexParameters = m.indexParameters),
+                        (this._samplerList = i.samplers.slice()),
+                        (this.defines = i.defines),
+                        (this.onError = i.onError),
+                        (this.onCompiled = i.onCompiled),
+                        (this._fallbacks = i.fallbacks),
+                        (this._indexParameters = i.indexParameters),
                         (this._transformFeedbackVaryings =
-                          m.transformFeedbackVaryings),
-                        m.uniformBuffersNames)
+                          i.transformFeedbackVaryings),
+                        i.uniformBuffersNames)
                       )
-                        for (var g = 0; g < m.uniformBuffersNames.length; g++)
-                          this._uniformBuffersNames[m.uniformBuffersNames[g]] =
+                        for (var g = 0; g < i.uniformBuffersNames.length; g++)
+                          this._uniformBuffersNames[i.uniformBuffersNames[g]] =
                             g;
                     } else
                       ((this._engine = a),
@@ -30801,9 +30764,9 @@ and limitations under the License.
                                   true,
                                   function (i) {
                                     if (t) {
-                                      var n = t.vertexElement || t.vertex || t,
-                                        r =
-                                          t.fragmentElement || t.fragment || t;
+                                      var n = t.vertexElement || t.vertex || t;
+                                      var r =
+                                        t.fragmentElement || t.fragment || t;
                                       ((p._vertexSourceCode =
                                         "#define SHADER_NAME vertex:" +
                                         n +
@@ -30898,10 +30861,11 @@ and limitations under the License.
                     }),
                     (e.prototype._checkIsReady = function () {
                       var e = this;
-                      this.isReady() ||
+                      if (!this.isReady()) {
                         setTimeout(function () {
                           e._checkIsReady();
                         }, 16);
+                      }
                     }),
                     (e.prototype._loadVertexShader = function (t, i) {
                       var n;
@@ -30946,15 +30910,15 @@ and limitations under the License.
                       var r = 2,
                         o = /\n/gm,
                         s =
-                          "\n1\t" +
+                          "\n1	" +
                           (e = n + e).replace(o, function () {
-                            return "\n" + r++ + "\t";
+                            return "\n" + r++ + "	";
                           });
                       r = 2;
                       var c =
-                        "\n1\t" +
+                        "\n1	" +
                         t.replace(o, function () {
-                          return "\n" + r++ + "\t";
+                          return "\n" + r++ + "	";
                         });
                       this.name.vertexElement
                         ? (a.a.Error(
@@ -30978,14 +30942,14 @@ and limitations under the License.
                       if (1 != this._engine.webGLVersion)
                         if (-1 === n.indexOf("#version 3")) {
                           var r =
-                              -1 !==
-                              n.search(
-                                /#extension.+GL_EXT_draw_buffers.+require/,
-                              ),
-                            o = n.replace(
-                              /#extension.+(GL_OVR_multiview2|GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g,
-                              "",
+                            -1 !==
+                            n.search(
+                              /#extension.+GL_EXT_draw_buffers.+require/,
                             );
+                          var o = n.replace(
+                            /#extension.+(GL_OVR_multiview2|GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g,
+                            "",
+                          );
                           ((o = (o = (o = (o = o.replace(
                             /varying(?![\n\r])\s/g,
                             t ? "in " : "out ",
@@ -31058,17 +31022,17 @@ and limitations under the License.
                             h < l.length;
                             h += 2
                           ) {
-                            var f = new RegExp(l[h], "g"),
-                              d = l[h + 1];
+                            var f = new RegExp(l[h], "g");
+                            var d = l[h + 1];
                             u = u.replace(f, d);
                           }
                         if (o[4]) {
                           var p = o[5];
                           if (-1 !== p.indexOf("..")) {
-                            var m = p.split(".."),
-                              g = parseInt(m[0]),
-                              _ = parseInt(m[1]),
-                              v = u.slice(0);
+                            var m = p.split("..");
+                            var g = parseInt(m[0]);
+                            var _ = parseInt(m[1]);
+                            var v = u.slice(0);
                             ((u = ""),
                               isNaN(_) && (_ = this._indexParameters[m[1]]));
                             for (var y = g; y < _; y++)
@@ -31116,7 +31080,9 @@ and limitations under the License.
                         (this._vertexSourceCodeOverride = e),
                         (this._fragmentSourceCodeOverride = t),
                         (this.onError = function (e, t) {
-                          n && n(t);
+                          if (n) {
+                            n(t);
+                          }
                         }),
                         (this.onCompiled = function () {
                           for (
@@ -31349,10 +31315,10 @@ and limitations under the License.
                     }),
                     (e.prototype.bindUniformBuffer = function (t, i) {
                       var n = this._uniformBuffersNames[i];
-                      void 0 !== n &&
-                        e._baseCache[n] !== t &&
+                      if (void 0 !== n && e._baseCache[n] !== t) {
                         ((e._baseCache[n] = t),
-                        this._engine.bindUniformBufferBase(t, n));
+                          this._engine.bindUniformBufferBase(t, n));
+                      }
                     }),
                     (e.prototype.bindUniformBlock = function (e, t) {
                       this._engine.bindUniformBlock(
@@ -31702,7 +31668,7 @@ and limitations under the License.
                       void 0 === h && (h = null),
                       void 0 === f && (f = null),
                       void 0 === d && (d = false));
-                    var m = e.call(this, n) || this;
+                    var m = e(n) || this;
                     if (
                       ((m.url = null),
                       (m.uOffset = 0),
@@ -31848,38 +31814,39 @@ and limitations under the License.
                         this.delayLoadState === u.a.DELAYLOADSTATE_NOTLOADED
                       ) {
                         var e = this.getScene();
-                        e &&
+                        if (e) {
                           ((this.delayLoadState = u.a.DELAYLOADSTATE_LOADED),
-                          (this._texture = this._getFromCache(
-                            this.url,
-                            this._noMipmap,
-                            this.samplingMode,
-                            this._invertY,
-                          )),
-                          this._texture
-                            ? this._delayedOnLoad &&
-                              (this._texture.isReady
-                                ? a.h.SetImmediate(this._delayedOnLoad)
-                                : this._texture.onLoadedObservable.add(
+                            (this._texture = this._getFromCache(
+                              this.url,
+                              this._noMipmap,
+                              this.samplingMode,
+                              this._invertY,
+                            )),
+                            this._texture
+                              ? this._delayedOnLoad &&
+                                (this._texture.isReady
+                                  ? a.h.SetImmediate(this._delayedOnLoad)
+                                  : this._texture.onLoadedObservable.add(
+                                      this._delayedOnLoad,
+                                    ))
+                              : ((this._texture = e
+                                  .getEngine()
+                                  .createTexture(
+                                    this.url,
+                                    this._noMipmap,
+                                    this._invertY,
+                                    e,
+                                    this.samplingMode,
                                     this._delayedOnLoad,
-                                  ))
-                            : ((this._texture = e
-                                .getEngine()
-                                .createTexture(
-                                  this.url,
-                                  this._noMipmap,
-                                  this._invertY,
-                                  e,
-                                  this.samplingMode,
-                                  this._delayedOnLoad,
-                                  this._delayedOnError,
-                                  this._buffer,
-                                  null,
-                                  this._format,
-                                )),
-                              this._deleteBuffer && delete this._buffer),
-                          (this._delayedOnLoad = null),
-                          (this._delayedOnError = null));
+                                    this._delayedOnError,
+                                    this._buffer,
+                                    null,
+                                    this._format,
+                                  )),
+                                this._deleteBuffer && delete this._buffer),
+                            (this._delayedOnLoad = null),
+                            (this._delayedOnError = null));
+                        }
                       }
                     }),
                     (t.prototype._prepareRowForTextureGeneration = function (
@@ -32066,7 +32033,7 @@ and limitations under the License.
                       }, this);
                     }),
                     (t.prototype.serialize = function () {
-                      var t = e.prototype.serialize.call(this);
+                      var t = e.prototype.serialize();
                       return (
                         "string" == typeof this._buffer &&
                           "data:" === this._buffer.substr(0, 5) &&
@@ -32081,7 +32048,7 @@ and limitations under the License.
                       return "Texture";
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this.onLoadObservable.clear(),
                         (this._delayedOnLoad = null),
                         (this._delayedOnError = null));
@@ -32158,13 +32125,17 @@ and limitations under the License.
                       );
                       if (e.samplingMode) {
                         var u = e.samplingMode;
-                        c && c.samplingMode !== u && c.updateSamplingMode(u);
+                        if (c && c.samplingMode !== u) {
+                          c.updateSamplingMode(u);
+                        }
                       }
                       if (c && e.animations)
                         for (var h = 0; h < e.animations.length; h++) {
-                          var f = e.animations[h],
-                            d = l.a.GetClass("BABYLON.Animation");
-                          d && c.animations.push(d.Parse(f));
+                          var f = e.animations[h];
+                          var d = l.a.GetClass("BABYLON.Animation");
+                          if (d) {
+                            c.animations.push(d.Parse(f));
+                          }
                         }
                       return c;
                     }),
@@ -32348,7 +32319,9 @@ and limitations under the License.
                       ((o._observers = new Array()), (o._observables = t));
                       for (var a = 0, s = t; a < s.length; a++) {
                         var c = s[a].add(i, n, false, r);
-                        c && o._observers.push(c);
+                        if (c) {
+                          o._observers.push(c);
+                        }
                       }
                       return o;
                     }),
@@ -32456,7 +32429,9 @@ and limitations under the License.
                       r,
                     ) {
                       var o = this;
-                      void 0 === t && (t = -1);
+                      if (void 0 === t) {
+                        t = -1;
+                      }
                       var a = i.resolve(e);
                       if (!this._observers.length) return a;
                       var s = this._eventState;
@@ -32466,9 +32441,8 @@ and limitations under the License.
                         (s.currentTarget = r),
                         (s.skipNextObservers = false),
                         this._observers.forEach(function (i) {
-                          s.skipNextObservers ||
-                            i._willBeUnregistered ||
-                            (i.mask & t &&
+                          if (!(s.skipNextObservers || i._willBeUnregistered)) {
+                            i.mask & t &&
                               ((a = i.scope
                                 ? a.then(function (t) {
                                     return (
@@ -32482,7 +32456,8 @@ and limitations under the License.
                                       i.callback(e, s)
                                     );
                                   })),
-                              i.unregisterOnNextCall && o._deferUnregister(i)));
+                              i.unregisterOnNextCall && o._deferUnregister(i));
+                          }
                         }),
                         a.then(function () {
                           return e;
@@ -32490,7 +32465,9 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype.notifyObserver = function (e, t, i) {
-                      void 0 === i && (i = -1);
+                      if (void 0 === i) {
+                        i = -1;
+                      }
                       var n = this._eventState;
                       ((n.mask = i),
                         (n.skipNextObservers = false),
@@ -32508,7 +32485,9 @@ and limitations under the License.
                       return ((t._observers = this._observers.slice(0)), t);
                     }),
                     (e.prototype.hasSpecificMask = function (e) {
-                      void 0 === e && (e = -1);
+                      if (void 0 === e) {
+                        e = -1;
+                      }
                       for (var t = 0, i = this._observers; t < i.length; t++) {
                         var n = i[t];
                         if (n.mask & e || n.mask === e) return true;
@@ -32591,7 +32570,7 @@ and limitations under the License.
                 })(),
                 E = (function (e) {
                   function t(i, n) {
-                    var r = e.call(this, i) || this;
+                    var r = e(i) || this;
                     return (
                       (r.request = n),
                       (r.name = "LoadFileError"),
@@ -32735,7 +32714,9 @@ and limitations under the License.
                       return t < 0 ? e : e.substring(t + 1);
                     }),
                     (e.GetFolderPath = function (e, t) {
-                      void 0 === t && (t = false);
+                      if (void 0 === t) {
+                        t = false;
+                      }
                       var i = e.lastIndexOf("/");
                       return i < 0 ? (t ? e : "") : e.substring(0, i + 1);
                     }),
@@ -32778,7 +32759,9 @@ and limitations under the License.
                       return "data:image/png;base64," + u;
                     }),
                     (e.ExtractMinAndMaxIndexed = function (e, t, i, n, r) {
-                      void 0 === r && (r = null);
+                      if (void 0 === r) {
+                        r = null;
+                      }
                       for (
                         var a = new o.x(
                             Number.MAX_VALUE,
@@ -32794,10 +32777,10 @@ and limitations under the License.
                         c < i + n;
                         c++
                       ) {
-                        var u = 3 * t[c],
-                          l = e[u],
-                          h = e[u + 1],
-                          f = e[u + 2];
+                        var u = 3 * t[c];
+                        var l = e[u];
+                        var h = e[u + 1];
+                        var f = e[u + 2];
                         (a.minimizeInPlaceFromFloats(l, h, f),
                           s.maximizeInPlaceFromFloats(l, h, f));
                       }
@@ -32816,7 +32799,9 @@ and limitations under the License.
                       );
                     }),
                     (e.ExtractMinAndMax = function (e, t, i, n, r) {
-                      void 0 === n && (n = null);
+                      if (void 0 === n) {
+                        n = null;
+                      }
                       var a = new o.x(
                           Number.MAX_VALUE,
                           Number.MAX_VALUE,
@@ -32827,11 +32812,13 @@ and limitations under the License.
                           -Number.MAX_VALUE,
                           -Number.MAX_VALUE,
                         );
-                      r || (r = 3);
+                      if (!r) {
+                        r = 3;
+                      }
                       for (var c = t, u = t * r; c < t + i; c++, u += r) {
-                        var l = e[u],
-                          h = e[u + 1],
-                          f = e[u + 2];
+                        var l = e[u];
+                        var h = e[u + 1];
+                        var f = e[u + 2];
                         (a.minimizeInPlaceFromFloats(l, h, f),
                           s.maximizeInPlaceFromFloats(l, h, f));
                       }
@@ -32888,17 +32875,20 @@ and limitations under the License.
                         e.msRequestFullscreen ||
                         e.webkitRequestFullscreen ||
                         e.mozRequestFullScreen;
-                      t && t.call(e);
+                      if (t) {
+                        t.call(e);
+                      }
                     }),
                     (e.ExitFullscreen = function () {
                       var e = document;
                       document.exitFullscreen
                         ? document.exitFullscreen()
-                        : e.mozCancelFullScreen
-                          ? e.mozCancelFullScreen()
-                          : e.webkitCancelFullScreen
-                            ? e.webkitCancelFullScreen()
-                            : e.msCancelFullScreen && e.msCancelFullScreen();
+                        : document.mozCancelFullScreen
+                          ? document.mozCancelFullScreen()
+                          : document.webkitCancelFullScreen
+                            ? document.webkitCancelFullScreen()
+                            : document.msCancelFullScreen &&
+                              document.msCancelFullScreen();
                     }),
                     (e.SetCorsBehavior = function (t, i) {
                       if ((!t || 0 !== t.indexOf("data:")) && e.CorsBehavior)
@@ -32909,7 +32899,9 @@ and limitations under the License.
                           i.crossOrigin = e.CorsBehavior;
                         else {
                           var n = e.CorsBehavior(t);
-                          n && (i.crossOrigin = n);
+                          if (n) {
+                            i.crossOrigin = n;
+                          }
                         }
                     }),
                     (e.CleanUrl = function (e) {
@@ -32949,7 +32941,9 @@ and limitations under the License.
                         r.enableTexturesOffline
                       )
                         r.open(function () {
-                          r && r.loadImage(o, s);
+                          if (r) {
+                            r.loadImage(o, s);
+                          }
                         }, h);
                       else {
                         if (-1 !== o.indexOf("file:")) {
@@ -33068,8 +33062,8 @@ and limitations under the License.
                           e && e.status > 400 ? a && a(e) : f || p();
                         };
                         r.open(function () {
-                          f ||
-                            (r &&
+                          if (!f) {
+                            r &&
                               r.loadFile(
                                 t,
                                 function (e) {
@@ -33078,28 +33072,35 @@ and limitations under the License.
                                 },
                                 n
                                   ? function (e) {
-                                      f || n(e);
+                                      if (!f) {
+                                        n(e);
+                                      }
                                     }
                                   : void 0,
                                 m,
                                 o,
-                              ));
+                              );
+                          }
                         }, m);
                       } else p();
                       return d;
                     }),
                     (e.LoadScript = function (e, t, i, n) {
                       if (h.a.IsWindowObjectExist()) {
-                        var r = document.getElementsByTagName("head")[0],
-                          o = document.createElement("script");
+                        var r = document.getElementsByTagName("head")[0];
+                        var o = document.createElement("script");
                         (o.setAttribute("type", "text/javascript"),
                           o.setAttribute("src", e),
                           n && (o.id = n),
                           (o.onload = function () {
-                            t && t();
+                            if (t) {
+                              t();
+                            }
                           }),
                           (o.onerror = function (t) {
-                            i && i("Unable to load script '" + e + "'", t);
+                            if (i) {
+                              i("Unable to load script '" + e + "'", t);
+                            }
                           }),
                           r.appendChild(o));
                       }
@@ -33107,8 +33108,8 @@ and limitations under the License.
                     (e.LoadScriptAsync = function (e, t) {
                       return new i(function (i, n) {
                         if (h.a.IsWindowObjectExist()) {
-                          var r = document.getElementsByTagName("head")[0],
-                            o = document.createElement("script");
+                          var r = document.getElementsByTagName("head")[0];
+                          var o = document.createElement("script");
                           (o.setAttribute("type", "text/javascript"),
                             o.setAttribute("src", e),
                             t && (o.id = t),
@@ -33203,12 +33204,13 @@ and limitations under the License.
                         var i = e[t];
                         window.addEventListener(i.name, i.handler, false);
                         try {
-                          window.parent &&
+                          if (window.parent) {
                             window.parent.addEventListener(
                               i.name,
                               i.handler,
                               false,
                             );
+                          }
                         } catch (e) {}
                       }
                     }),
@@ -33217,16 +33219,19 @@ and limitations under the License.
                         var i = e[t];
                         window.removeEventListener(i.name, i.handler);
                         try {
-                          window.parent &&
+                          if (window.parent) {
                             window.parent.removeEventListener(
                               i.name,
                               i.handler,
                             );
+                          }
                         } catch (e) {}
                       }
                     }),
                     (e.DumpFramebuffer = function (t, i, n, r, o, a) {
-                      void 0 === o && (o = "image/png");
+                      if (void 0 === o) {
+                        o = "image/png";
+                      }
                       for (
                         var s = 4 * t,
                           c = i / 2,
@@ -33236,9 +33241,9 @@ and limitations under the License.
                         l++
                       )
                         for (var h = 0; h < s; h++) {
-                          var f = h + l * s,
-                            d = h + (i - l - 1) * s,
-                            p = u[f];
+                          var f = h + l * s;
+                          var d = h + (i - l - 1) * s;
+                          var p = u[f];
                           ((u[f] = u[d]), (u[d] = p));
                         }
                       (e._ScreenshotCanvas ||
@@ -33285,25 +33290,25 @@ and limitations under the License.
                               function (t) {
                                 if ("download" in document.createElement("a")) {
                                   if (!n) {
-                                    var i = new Date(),
-                                      r =
-                                        (
-                                          i.getFullYear() +
-                                          "-" +
-                                          (i.getMonth() + 1)
-                                        ).slice(2) +
-                                        "-" +
-                                        i.getDate() +
-                                        "_" +
-                                        i.getHours() +
+                                    var i = new Date();
+                                    var r =
+                                      (
+                                        i.getFullYear() +
                                         "-" +
-                                        ("0" + i.getMinutes()).slice(-2);
+                                        (i.getMonth() + 1)
+                                      ).slice(2) +
+                                      "-" +
+                                      i.getDate() +
+                                      "_" +
+                                      i.getHours() +
+                                      "-" +
+                                      ("0" + i.getMinutes()).slice(-2);
                                     n = "screenshot_" + r + ".png";
                                   }
                                   e.Download(t, n);
                                 } else {
-                                  var o = URL.createObjectURL(t),
-                                    a = window.open("");
+                                  var o = URL.createObjectURL(t);
+                                  var a = window.open("");
                                   if (!a) return;
                                   var s = a.document.createElement("img");
                                   ((s.onload = function () {
@@ -33320,14 +33325,16 @@ and limitations under the License.
                       if (navigator && navigator.msSaveBlob)
                         navigator.msSaveBlob(e, t);
                       else {
-                        var i = window.URL.createObjectURL(e),
-                          n = document.createElement("a");
+                        var i = window.URL.createObjectURL(e);
+                        var n = document.createElement("a");
                         (document.body.appendChild(n),
                           (n.style.display = "none"),
                           (n.href = i),
                           (n.download = t),
                           n.addEventListener("click", function () {
-                            n.parentElement && n.parentElement.removeChild(n);
+                            if (n.parentElement) {
+                              n.parentElement.removeChild(n);
+                            }
                           }),
                           n.click(),
                           window.URL.revokeObjectURL(i));
@@ -33447,9 +33454,9 @@ and limitations under the License.
                         if (!h.a.IsWindowObjectExist()) return;
                         e._performance = window.performance;
                       }
-                      i &&
-                        e._performance.mark &&
+                      if (i && e._performance.mark) {
                         e._performance.mark(t + "-Begin");
+                      }
                     }),
                     (e._EndUserMark = function (t, i) {
                       (void 0 === i && (i = true),
@@ -33478,7 +33485,9 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.GetClassName = function (e, t) {
-                      void 0 === t && (t = false);
+                      if (void 0 === t) {
+                        t = false;
+                      }
                       var i = null;
                       return (
                         !t && e.getClassName
@@ -33498,7 +33507,9 @@ and limitations under the License.
                       return null;
                     }),
                     (e.getFullClassName = function (e, t) {
-                      void 0 === t && (t = false);
+                      if (void 0 === t) {
+                        t = false;
+                      }
                       var i = null,
                         n = null;
                       if (!t && e.getClassName) i = e.getClassName();
@@ -33508,7 +33519,9 @@ and limitations under the License.
                           ((i = r.constructor.__bjsclassName__),
                             (n = r.constructor.__bjsmoduleName__));
                         }
-                        i || (i = c(e));
+                        if (!i) {
+                          i = c(e);
+                        }
                       }
                       return i ? (null != n ? n + "." : "") + i : null;
                     }),
@@ -33521,8 +33534,8 @@ and limitations under the License.
                     }),
                     (e.GetCurrentGradient = function (e, t, i) {
                       for (var n = 0; n < t.length - 1; n++) {
-                        var r = t[n],
-                          o = t[n + 1];
+                        var r = t[n];
+                        var o = t[n + 1];
                         if (e >= r.gradient && e <= o.gradient)
                           return void i(
                             r,
@@ -33633,15 +33646,20 @@ and limitations under the License.
                         this._lastSecValueCount++);
                     }),
                     (e.prototype.addCount = function (t, i) {
-                      e.Enabled &&
+                      if (e.Enabled) {
                         ((this._current += t), i && this._fetchResult());
+                      }
                     }),
                     (e.prototype.beginMonitoring = function () {
-                      e.Enabled && (this._startMonitoringTime = m.a.Now);
+                      if (e.Enabled) {
+                        this._startMonitoringTime = m.a.Now;
+                      }
                     }),
                     (e.prototype.endMonitoring = function (t) {
                       if ((void 0 === t && (t = true), e.Enabled)) {
-                        t && this.fetchNewFrame();
+                        if (t) {
+                          this.fetchNewFrame();
+                        }
                         var i = m.a.Now;
                         ((this._current = i - this._startMonitoringTime),
                           t && this._fetchResult());
@@ -33655,12 +33673,13 @@ and limitations under the License.
                         (this._average =
                           this._totalAccumulated / this._totalValueCount));
                       var e = m.a.Now;
-                      e - this._lastSecTime > 1e3 &&
+                      if (e - this._lastSecTime > 1e3) {
                         ((this._lastSecAverage =
                           this._lastSecAccumulated / this._lastSecValueCount),
-                        (this._lastSecTime = e),
-                        (this._lastSecAccumulated = 0),
-                        (this._lastSecValueCount = 0));
+                          (this._lastSecTime = e),
+                          (this._lastSecAccumulated = 0),
+                          (this._lastSecValueCount = 0));
+                      }
                     }),
                     (e.Enabled = true),
                     e
@@ -33683,16 +33702,19 @@ and limitations under the License.
                 }
                 return (
                   (e.prototype.executeNext = function () {
-                    this._done ||
-                      (this.index + 1 < this.iterations
+                    if (!this._done) {
+                      this.index + 1 < this.iterations
                         ? (++this.index, this._fn(this))
-                        : this.breakLoop());
+                        : this.breakLoop();
+                    }
                   }),
                   (e.prototype.breakLoop = function () {
                     ((this._done = true), this._successCallback());
                   }),
                   (e.Run = function (t, i, n, r) {
-                    void 0 === r && (r = 0);
+                    if (void 0 === r) {
+                      r = 0;
+                    }
                     var o = new e(t, i, n, r);
                     return (o.executeNext(), o);
                   }),
@@ -33845,14 +33867,11 @@ and limitations under the License.
                           ((c = t),
                           (this._renderingCanvas = c),
                           null != i && (n.antialias = i),
-                          void 0 === n.deterministicLockstep &&
-                            (n.deterministicLockstep = false),
-                          void 0 === n.lockstepMaxSteps &&
-                            (n.lockstepMaxSteps = 4),
-                          void 0 === n.preserveDrawingBuffer &&
-                            (n.preserveDrawingBuffer = false),
-                          void 0 === n.audioEngine && (n.audioEngine = true),
-                          void 0 === n.stencil && (n.stencil = true),
+                          void 0 === false && (n.deterministicLockstep = false),
+                          void 0 === 4 && (n.lockstepMaxSteps = 4),
+                          void 0 === false && (n.preserveDrawingBuffer = false),
+                          void 0 === true && (n.audioEngine = true),
+                          void 0 === true && (n.stencil = true),
                           false === n.premultipliedAlpha &&
                             (this.premultipliedAlpha = false),
                           (this._deterministicLockstep =
@@ -33869,14 +33888,14 @@ and limitations under the License.
                             d < p.length;
                             d++
                           ) {
-                            var m = p[d],
-                              _ = m.key,
-                              b = m.targets;
+                            var m = p[d];
+                            var _ = m.key;
+                            var b = m.targets;
                             if (new RegExp(_).test(f)) {
                               if (m.capture && m.captureConstraint) {
-                                var E = m.capture,
-                                  T = m.captureConstraint,
-                                  A = new RegExp(E).exec(f);
+                                var E = m.capture;
+                                var T = m.captureConstraint;
+                                var A = new RegExp(E).exec(f);
                                 if (
                                   A &&
                                   A.length > 0 &&
@@ -33991,16 +34010,19 @@ and limitations under the License.
                           this._gl.renderbufferStorageMultisample &&
                             (this._webGLVersion = 2));
                         var P = this._gl.getContextAttributes();
-                        P && (n.stencil = P.stencil);
+                        if (P) {
+                          n.stencil = P.stencil;
+                        }
+                      }
+                      if (void 0 !== n.useHighPrecisionFloats) {
+                        this._highPrecisionShadersAllowed =
+                          n.useHighPrecisionFloats;
                       }
-                      void 0 !== n.useHighPrecisionFloats &&
-                        (this._highPrecisionShadersAllowed =
-                          n.useHighPrecisionFloats);
                       var R =
-                          (v.a.IsWindowObjectExist() &&
-                            window.devicePixelRatio) ||
-                          1,
-                        M = n.limitDeviceRatio || R;
+                        (v.a.IsWindowObjectExist() &&
+                          window.devicePixelRatio) ||
+                        1;
+                      var M = n.limitDeviceRatio || R;
                       if (
                         ((this._hardwareScalingLevel = r
                           ? 1 / Math.min(M, R)
@@ -34077,14 +34099,17 @@ and limitations under the License.
                             this._onPointerLockChange,
                             false,
                           ),
-                          this._connectVREvents(c, O));
+                          this._connectVREvents(c, document));
                       }
-                      !e.audioEngine &&
+                      if (
+                        !e.audioEngine &&
                         n.audioEngine &&
-                        e.AudioEngineFactory &&
-                        (e.audioEngine = e.AudioEngineFactory(
+                        e.AudioEngineFactory
+                      ) {
+                        e.audioEngine = e.AudioEngineFactory(
                           this.getRenderingCanvas(),
-                        ));
+                        );
+                      }
                       for (var w = 0; w < this._caps.maxVertexAttribs; w++)
                         this._currentBufferPointers[w] = new S();
                       (this._prepareVRComponent(),
@@ -34291,8 +34316,8 @@ and limitations under the License.
                     Object.defineProperty(e.prototype, "emptyCubeTexture", {
                       get: function () {
                         if (!this._emptyCubeTexture) {
-                          var t = new Uint8Array(4),
-                            i = [t, t, t, t, t, t];
+                          var t = new Uint8Array(4);
+                          var i = [t, t, t, t, t, t];
                           this._emptyCubeTexture = this.createRawCubeTexture(
                             i,
                             1,
@@ -34320,13 +34345,14 @@ and limitations under the License.
                     }),
                     (e.prototype._requestVRFrame = function () {}),
                     (e.prototype._disableTouchAction = function () {
-                      this._renderingCanvas &&
+                      if (this._renderingCanvas) {
                         (this._renderingCanvas.setAttribute(
                           "touch-action",
                           "none",
                         ),
-                        (this._renderingCanvas.style.touchAction = "none"),
-                        (this._renderingCanvas.style.msTouchAction = "none"));
+                          (this._renderingCanvas.style.touchAction = "none"),
+                          (this._renderingCanvas.style.msTouchAction = "none"));
+                      }
                     }),
                     (e.prototype._rebuildInternalTextures = function () {
                       for (
@@ -34565,10 +34591,11 @@ and limitations under the License.
                         this._caps.depthTextureExtension = true;
                       else {
                         var n = this._gl.getExtension("WEBGL_depth_texture");
-                        null != n &&
+                        if (null != n) {
                           ((this._caps.depthTextureExtension = true),
-                          (this._gl.UNSIGNED_INT_24_8 =
-                            n.UNSIGNED_INT_24_8_WEBGL));
+                            (this._gl.UNSIGNED_INT_24_8 =
+                              n.UNSIGNED_INT_24_8_WEBGL));
+                        }
                       }
                       if (this.disableVertexArrayObjects)
                         this._caps.vertexArrayObject = false;
@@ -34616,17 +34643,17 @@ and limitations under the License.
                         this._gl.getShaderPrecisionFormat)
                       ) {
                         var a = this._gl.getShaderPrecisionFormat(
-                            this._gl.VERTEX_SHADER,
-                            this._gl.HIGH_FLOAT,
-                          ),
-                          s = this._gl.getShaderPrecisionFormat(
-                            this._gl.FRAGMENT_SHADER,
-                            this._gl.HIGH_FLOAT,
-                          );
-                        a &&
-                          s &&
-                          (this._caps.highPrecisionShaderSupported =
-                            0 !== a.precision && 0 !== s.precision);
+                          this._gl.VERTEX_SHADER,
+                          this._gl.HIGH_FLOAT,
+                        );
+                        var s = this._gl.getShaderPrecisionFormat(
+                          this._gl.FRAGMENT_SHADER,
+                          this._gl.HIGH_FLOAT,
+                        );
+                        if (a && s) {
+                          this._caps.highPrecisionShaderSupported =
+                            0 !== a.precision && 0 !== s.precision;
+                        }
                       }
                       (this.setDepthBuffer(true),
                         this.setDepthFunctionToLessOrEqual(),
@@ -34654,7 +34681,9 @@ and limitations under the License.
                       if (!this._workingCanvas) {
                         this._workingCanvas = document.createElement("canvas");
                         var e = this._workingCanvas.getContext("2d");
-                        e && (this._workingContext = e);
+                        if (e) {
+                          this._workingContext = e;
+                        }
                       }
                     }),
                     (e.prototype.resetTextureCache = function () {
@@ -34677,7 +34706,9 @@ and limitations under the License.
                       };
                     }),
                     (e.prototype.getAspectRatio = function (e, t) {
-                      void 0 === t && (t = false);
+                      if (void 0 === t) {
+                        t = false;
+                      }
                       var i = e.viewport;
                       return (
                         (this.getRenderWidth(t) * i.width) /
@@ -34836,7 +34867,9 @@ and limitations under the License.
                     (e.prototype.stopRenderLoop = function (e) {
                       if (e) {
                         var t = this._activeRenderLoops.indexOf(e);
-                        t >= 0 && this._activeRenderLoops.splice(t, 1);
+                        if (t >= 0) {
+                          this._activeRenderLoops.splice(t, 1);
+                        }
                       } else this._activeRenderLoops = [];
                     }),
                     (e.prototype._renderLoop = function () {
@@ -34876,15 +34909,16 @@ and limitations under the License.
                         : (this._renderingQueueLaunched = false);
                     }),
                     (e.prototype.runRenderLoop = function (e) {
-                      -1 === this._activeRenderLoops.indexOf(e) &&
+                      if (-1 === this._activeRenderLoops.indexOf(e)) {
                         (this._activeRenderLoops.push(e),
-                        this._renderingQueueLaunched ||
-                          ((this._renderingQueueLaunched = true),
-                          (this._bindedRenderFunction =
-                            this._renderLoop.bind(this)),
-                          (this._frameHandler = l.h.QueueNewFrame(
-                            this._bindedRenderFunction,
-                          ))));
+                          this._renderingQueueLaunched ||
+                            ((this._renderingQueueLaunched = true),
+                            (this._bindedRenderFunction =
+                              this._renderLoop.bind(this)),
+                            (this._frameHandler = l.h.QueueNewFrame(
+                              this._bindedRenderFunction,
+                            ))));
+                      }
                     }),
                     (e.prototype.switchFullscreen = function (e) {
                       this.isFullscreen
@@ -34892,13 +34926,16 @@ and limitations under the License.
                         : this.enterFullscreen(e);
                     }),
                     (e.prototype.enterFullscreen = function (e) {
-                      this.isFullscreen ||
+                      if (!this.isFullscreen) {
                         ((this._pointerLockRequested = e),
-                        this._renderingCanvas &&
-                          l.h.RequestFullscreen(this._renderingCanvas));
+                          this._renderingCanvas &&
+                            l.h.RequestFullscreen(this._renderingCanvas));
+                      }
                     }),
                     (e.prototype.exitFullscreen = function () {
-                      this.isFullscreen && l.h.ExitFullscreen();
+                      if (this.isFullscreen) {
+                        l.h.ExitFullscreen();
+                      }
                     }),
                     (e.prototype.clear = function (e, t, i, n) {
                       (void 0 === n && (n = false), this.applyStates());
@@ -34934,15 +34971,20 @@ and limitations under the License.
                       e.disable(e.SCISSOR_TEST);
                     }),
                     (e.prototype._viewport = function (e, t, i, n) {
-                      (e === this._viewportCached.x &&
-                        t === this._viewportCached.y &&
-                        i === this._viewportCached.z &&
-                        n === this._viewportCached.w) ||
+                      if (
+                        !(
+                          e === this._viewportCached.x &&
+                          t === this._viewportCached.y &&
+                          i === this._viewportCached.z &&
+                          n === this._viewportCached.w
+                        )
+                      ) {
                         ((this._viewportCached.x = e),
-                        (this._viewportCached.y = t),
-                        (this._viewportCached.z = i),
-                        (this._viewportCached.w = n),
-                        this._gl.viewport(e, t, i, n));
+                          (this._viewportCached.y = t),
+                          (this._viewportCached.z = i),
+                          (this._viewportCached.w = n),
+                          this._gl.viewport(e, t, i, n));
+                      }
                     }),
                     (e.prototype.setViewport = function (e, t, i) {
                       var n = t || this.getRenderWidth(),
@@ -34977,11 +35019,11 @@ and limitations under the License.
                     (e.prototype.resize = function () {
                       if (!this.isVRPresenting()) {
                         var e = this._renderingCanvas
-                            ? this._renderingCanvas.clientWidth
-                            : window.innerWidth,
-                          t = this._renderingCanvas
-                            ? this._renderingCanvas.clientHeight
-                            : window.innerHeight;
+                          ? this._renderingCanvas.clientWidth
+                          : window.innerWidth;
+                        var t = this._renderingCanvas
+                          ? this._renderingCanvas.clientHeight
+                          : window.innerHeight;
                         this.setSize(
                           e / this._hardwareScalingLevel,
                           t / this._hardwareScalingLevel,
@@ -35003,8 +35045,9 @@ and limitations under the License.
                             r++
                           )
                             n.cameras[r]._currentRenderId = 0;
-                        this.onResizeObservable.hasObservers &&
+                        if (this.onResizeObservable.hasObservers) {
                           this.onResizeObservable.notifyObservers(this);
+                        }
                       }
                     }),
                     (e.prototype.bindFramebuffer = function (
@@ -35059,9 +35102,10 @@ and limitations under the License.
                         this.wipeCaches());
                     }),
                     (e.prototype._bindUnboundFramebuffer = function (e) {
-                      this._currentFramebuffer !== e &&
+                      if (this._currentFramebuffer !== e) {
                         (this._gl.bindFramebuffer(this._gl.FRAMEBUFFER, e),
-                        (this._currentFramebuffer = e));
+                          (this._currentFramebuffer = e));
+                      }
                     }),
                     (e.prototype.unBindFramebuffer = function (e, t, i) {
                       (void 0 === t && (t = false),
@@ -35368,13 +35412,16 @@ and limitations under the License.
                         this.bindBuffer(e, this._gl.ELEMENT_ARRAY_BUFFER));
                     }),
                     (e.prototype.bindBuffer = function (e, t) {
-                      (this._vaoRecordInProgress ||
-                        this._currentBoundBuffer[t] !== e) &&
+                      if (
+                        this._vaoRecordInProgress ||
+                        this._currentBoundBuffer[t] !== e
+                      ) {
                         (this._gl.bindBuffer(
                           t,
                           e ? e.underlyingResource : null,
                         ),
-                        (this._currentBoundBuffer[t] = e));
+                          (this._currentBoundBuffer[t] = e));
+                      }
                     }),
                     (e.prototype.updateArrayBuffer = function (e) {
                       this._gl.bufferSubData(this._gl.ARRAY_BUFFER, 0, e);
@@ -35390,7 +35437,7 @@ and limitations under the License.
                     ) {
                       var s = this._currentBufferPointers[t],
                         c = false;
-                      (s.active
+                      (true
                         ? (s.buffer !== e && ((s.buffer = e), (c = true)),
                           s.size !== i && ((s.size = i), (c = true)),
                           s.type !== n && ((s.type = n), (c = true)),
@@ -35412,11 +35459,11 @@ and limitations under the License.
                           this._gl.vertexAttribPointer(t, i, n, r, o, a)));
                     }),
                     (e.prototype._bindIndexBufferWithCache = function (e) {
-                      null != e &&
-                        this._cachedIndexBuffer !== e &&
+                      if (null != e && this._cachedIndexBuffer !== e) {
                         ((this._cachedIndexBuffer = e),
-                        this.bindIndexBuffer(e),
-                        (this._uintIndicesCurrentlySet = e.is32Bits));
+                          this.bindIndexBuffer(e),
+                          (this._uintIndicesCurrentlySet = e.is32Bits));
+                      }
                     }),
                     (e.prototype._bindVertexBuffersAttributes = function (
                       e,
@@ -35435,7 +35482,7 @@ and limitations under the License.
                             this._vaoRecordInProgress ||
                               (this._vertexAttribArraysEnabled[r] = true));
                           var a = o.getBuffer();
-                          a &&
+                          if (a) {
                             (this._vertexAttribPointer(
                               a,
                               r,
@@ -35445,14 +35492,15 @@ and limitations under the License.
                               o.byteStride,
                               o.byteOffset,
                             ),
-                            o.getIsInstanced() &&
-                              (this._gl.vertexAttribDivisor(
-                                r,
-                                o.getInstanceDivisor(),
-                              ),
-                              this._vaoRecordInProgress ||
-                                (this._currentInstanceLocations.push(r),
-                                this._currentInstanceBuffers.push(a))));
+                              o.getIsInstanced() &&
+                                (this._gl.vertexAttribDivisor(
+                                  r,
+                                  o.getInstanceDivisor(),
+                                ),
+                                this._vaoRecordInProgress ||
+                                  (this._currentInstanceLocations.push(r),
+                                  this._currentInstanceBuffers.push(a))));
+                          }
                         }
                       }
                     }),
@@ -35470,14 +35518,15 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype.bindVertexArrayObject = function (e, t) {
-                      this._cachedVertexArrayObject !== e &&
+                      if (this._cachedVertexArrayObject !== e) {
                         ((this._cachedVertexArrayObject = e),
-                        this._gl.bindVertexArray(e),
-                        (this._cachedVertexBuffers = null),
-                        (this._cachedIndexBuffer = null),
-                        (this._uintIndicesCurrentlySet =
-                          null != t && t.is32Bits),
-                        (this._mustWipeVertexAttributes = true));
+                          this._gl.bindVertexArray(e),
+                          (this._cachedVertexBuffers = null),
+                          (this._cachedIndexBuffer = null),
+                          (this._uintIndicesCurrentlySet =
+                            null != t && t.is32Bits),
+                          (this._mustWipeVertexAttributes = true));
+                      }
                     }),
                     (e.prototype.bindBuffersDirectly = function (
                       e,
@@ -35516,9 +35565,10 @@ and limitations under the License.
                       this._bindIndexBufferWithCache(t);
                     }),
                     (e.prototype._unbindVertexArrayObject = function () {
-                      this._cachedVertexArrayObject &&
+                      if (this._cachedVertexArrayObject) {
                         ((this._cachedVertexArrayObject = null),
-                        this._gl.bindVertexArray(null));
+                          this._gl.bindVertexArray(null));
+                      }
                     }),
                     (e.prototype.bindBuffers = function (e, t, i) {
                       ((this._cachedVertexBuffers === e &&
@@ -35535,9 +35585,9 @@ and limitations under the License.
                         t++
                       ) {
                         var n = this._currentInstanceBuffers[t];
-                        e != n &&
-                          n.references &&
+                        if (e != n && n.references) {
                           ((e = n), this.bindArrayBuffer(n));
+                        }
                         var r = this._currentInstanceLocations[t];
                         this._gl.vertexAttribDivisor(r, 0);
                       }
@@ -35691,19 +35741,20 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype._releaseEffect = function (e) {
-                      this._compiledEffects[e._key] &&
+                      if (this._compiledEffects[e._key]) {
                         (delete this._compiledEffects[e._key],
-                        this._deletePipelineContext(e.getPipelineContext()));
+                          this._deletePipelineContext(e.getPipelineContext()));
+                      }
                     }),
                     (e.prototype._deletePipelineContext = function (e) {
                       var t = e;
-                      t &&
-                        t.program &&
-                        ((t.program.__SPECTOR_rebuildProgram = null),
-                        t.transformFeedback &&
-                          (this.deleteTransformFeedback(t.transformFeedback),
-                          (t.transformFeedback = null)),
-                        this._gl.deleteProgram(t.program));
+                      if (e && e.program) {
+                        ((e.program.__SPECTOR_rebuildProgram = null),
+                          null &&
+                            (this.deleteTransformFeedback(null),
+                            (e.transformFeedback = null)),
+                          this._gl.deleteProgram(e.program));
+                      }
                     }),
                     (e.prototype.createEffect = function (
                       e,
@@ -35801,7 +35852,9 @@ and limitations under the License.
                       n,
                       r,
                     ) {
-                      void 0 === r && (r = null);
+                      if (void 0 === r) {
+                        r = null;
+                      }
                       var o = n.createProgram();
                       if (((e.program = o), !o))
                         throw new Error("Unable to create program");
@@ -35834,7 +35887,8 @@ and limitations under the License.
                         n = e.fragmentShader,
                         r = e.program;
                       if (!t.getProgramParameter(r, t.LINK_STATUS)) {
-                        var o, a;
+                        var o;
+                        var a;
                         if (
                           !this._gl.getShaderParameter(
                             i,
@@ -35877,25 +35931,25 @@ and limitations under the License.
                       a,
                     ) {
                       var s = e;
-                      ((s.program = n
-                        ? this.createRawShaderProgram(s, t, i, void 0, a)
-                        : this.createShaderProgram(s, t, i, o, void 0, a)),
-                        (s.program.__SPECTOR_rebuildProgram = r));
+                      ((e.program = n
+                        ? this.createRawShaderProgram(e, t, i, void 0, a)
+                        : this.createShaderProgram(e, t, i, o, void 0, a)),
+                        (e.program.__SPECTOR_rebuildProgram = r));
                     }),
                     (e.prototype._isRenderingStateCompiled = function (e) {
                       var t = e;
                       return (
                         !!this._gl.getProgramParameter(
-                          t.program,
+                          e.program,
                           this._caps.parallelShaderCompile
                             .COMPLETION_STATUS_KHR,
-                        ) && (this._finalizePipelineContext(t), true)
+                        ) && (this._finalizePipelineContext(e), true)
                       );
                     }),
                     (e.prototype._executeWhenRenderingStateIsCompiled =
                       function (e, t) {
                         var i = e;
-                        i.isParallelCompiled ? (i.onCompiled = t) : t();
+                        e.isParallelCompiled ? (e.onCompiled = t) : t();
                       }),
                     (e.prototype.getUniforms = function (e, t) {
                       for (var i = new Array(), n = e, r = 0; r < t.length; r++)
@@ -35912,88 +35966,138 @@ and limitations under the License.
                       return i;
                     }),
                     (e.prototype.enableEffect = function (e) {
-                      e &&
-                        e !== this._currentEffect &&
+                      if (e && e !== this._currentEffect) {
                         (this.bindSamplers(e),
-                        (this._currentEffect = e),
-                        e.onBind && e.onBind(e),
-                        e._onBindObservable &&
-                          e._onBindObservable.notifyObservers(e));
+                          (this._currentEffect = e),
+                          e.onBind && e.onBind(e),
+                          e._onBindObservable &&
+                            e._onBindObservable.notifyObservers(e));
+                      }
                     }),
                     (e.prototype.setIntArray = function (e, t) {
-                      e && this._gl.uniform1iv(e, t);
+                      if (e) {
+                        this._gl.uniform1iv(e, t);
+                      }
                     }),
                     (e.prototype.setIntArray2 = function (e, t) {
-                      e && t.length % 2 == 0 && this._gl.uniform2iv(e, t);
+                      if (e && t.length % 2 == 0) {
+                        this._gl.uniform2iv(e, t);
+                      }
                     }),
                     (e.prototype.setIntArray3 = function (e, t) {
-                      e && t.length % 3 == 0 && this._gl.uniform3iv(e, t);
+                      if (e && t.length % 3 == 0) {
+                        this._gl.uniform3iv(e, t);
+                      }
                     }),
                     (e.prototype.setIntArray4 = function (e, t) {
-                      e && t.length % 4 == 0 && this._gl.uniform4iv(e, t);
+                      if (e && t.length % 4 == 0) {
+                        this._gl.uniform4iv(e, t);
+                      }
                     }),
                     (e.prototype.setFloatArray = function (e, t) {
-                      e && this._gl.uniform1fv(e, t);
+                      if (e) {
+                        this._gl.uniform1fv(e, t);
+                      }
                     }),
                     (e.prototype.setFloatArray2 = function (e, t) {
-                      e && t.length % 2 == 0 && this._gl.uniform2fv(e, t);
+                      if (e && t.length % 2 == 0) {
+                        this._gl.uniform2fv(e, t);
+                      }
                     }),
                     (e.prototype.setFloatArray3 = function (e, t) {
-                      e && t.length % 3 == 0 && this._gl.uniform3fv(e, t);
+                      if (e && t.length % 3 == 0) {
+                        this._gl.uniform3fv(e, t);
+                      }
                     }),
                     (e.prototype.setFloatArray4 = function (e, t) {
-                      e && t.length % 4 == 0 && this._gl.uniform4fv(e, t);
+                      if (e && t.length % 4 == 0) {
+                        this._gl.uniform4fv(e, t);
+                      }
                     }),
                     (e.prototype.setArray = function (e, t) {
-                      e && this._gl.uniform1fv(e, t);
+                      if (e) {
+                        this._gl.uniform1fv(e, t);
+                      }
                     }),
                     (e.prototype.setArray2 = function (e, t) {
-                      e && t.length % 2 == 0 && this._gl.uniform2fv(e, t);
+                      if (e && t.length % 2 == 0) {
+                        this._gl.uniform2fv(e, t);
+                      }
                     }),
                     (e.prototype.setArray3 = function (e, t) {
-                      e && t.length % 3 == 0 && this._gl.uniform3fv(e, t);
+                      if (e && t.length % 3 == 0) {
+                        this._gl.uniform3fv(e, t);
+                      }
                     }),
                     (e.prototype.setArray4 = function (e, t) {
-                      e && t.length % 4 == 0 && this._gl.uniform4fv(e, t);
+                      if (e && t.length % 4 == 0) {
+                        this._gl.uniform4fv(e, t);
+                      }
                     }),
                     (e.prototype.setMatrices = function (e, t) {
-                      e && this._gl.uniformMatrix4fv(e, false, t);
+                      if (e) {
+                        this._gl.uniformMatrix4fv(e, false, t);
+                      }
                     }),
                     (e.prototype.setMatrix = function (e, t) {
-                      e && this._gl.uniformMatrix4fv(e, false, t.toArray());
+                      if (e) {
+                        this._gl.uniformMatrix4fv(e, false, t.toArray());
+                      }
                     }),
                     (e.prototype.setMatrix3x3 = function (e, t) {
-                      e && this._gl.uniformMatrix3fv(e, false, t);
+                      if (e) {
+                        this._gl.uniformMatrix3fv(e, false, t);
+                      }
                     }),
                     (e.prototype.setMatrix2x2 = function (e, t) {
-                      e && this._gl.uniformMatrix2fv(e, false, t);
+                      if (e) {
+                        this._gl.uniformMatrix2fv(e, false, t);
+                      }
                     }),
                     (e.prototype.setInt = function (e, t) {
-                      e && this._gl.uniform1i(e, t);
+                      if (e) {
+                        this._gl.uniform1i(e, t);
+                      }
                     }),
                     (e.prototype.setFloat = function (e, t) {
-                      e && this._gl.uniform1f(e, t);
+                      if (e) {
+                        this._gl.uniform1f(e, t);
+                      }
                     }),
                     (e.prototype.setFloat2 = function (e, t, i) {
-                      e && this._gl.uniform2f(e, t, i);
+                      if (e) {
+                        this._gl.uniform2f(e, t, i);
+                      }
                     }),
                     (e.prototype.setFloat3 = function (e, t, i, n) {
-                      e && this._gl.uniform3f(e, t, i, n);
+                      if (e) {
+                        this._gl.uniform3f(e, t, i, n);
+                      }
                     }),
                     (e.prototype.setBool = function (e, t) {
-                      e && this._gl.uniform1i(e, t);
+                      if (e) {
+                        this._gl.uniform1i(e, t);
+                      }
                     }),
                     (e.prototype.setFloat4 = function (e, t, i, n, r) {
-                      e && this._gl.uniform4f(e, t, i, n, r);
+                      if (e) {
+                        this._gl.uniform4f(e, t, i, n, r);
+                      }
                     }),
                     (e.prototype.setColor3 = function (e, t) {
-                      e && this._gl.uniform3f(e, t.r, t.g, t.b);
+                      if (e) {
+                        this._gl.uniform3f(e, t.r, t.g, t.b);
+                      }
                     }),
                     (e.prototype.setColor4 = function (e, t, i) {
-                      e && this._gl.uniform4f(e, t.r, t.g, t.b, i);
+                      if (e) {
+                        this._gl.uniform4f(e, t.r, t.g, t.b, i);
+                      }
                     }),
                     (e.prototype.setDirectColor4 = function (e, t) {
-                      e && this._gl.uniform4f(e, t.r, t.g, t.b, t.a);
+                      if (e) {
+                        this._gl.uniform4f(e, t.r, t.g, t.b, t.a);
+                      }
                     }),
                     (e.prototype.setState = function (e, t, i, n) {
                       (void 0 === t && (t = 0),
@@ -36007,8 +36111,9 @@ and limitations under the License.
                         (this._depthCullingState.cullFace = r),
                         this.setZOffset(t));
                       var o = n ? this._gl.CW : this._gl.CCW;
-                      (this._depthCullingState.frontFace !== o || i) &&
-                        (this._depthCullingState.frontFace = o);
+                      if (this._depthCullingState.frontFace !== o || i) {
+                        this._depthCullingState.frontFace = o;
+                      }
                     }),
                     (e.prototype.setZOffset = function (e) {
                       this._depthCullingState.zOffset = e;
@@ -36143,25 +36248,26 @@ and limitations under the License.
                       this._internalTexturesCache = [];
                     }),
                     (e.prototype.wipeCaches = function (e) {
-                      (this.preventCacheWipeBetweenFrames && !e) ||
+                      if (!(this.preventCacheWipeBetweenFrames && !e)) {
                         ((this._currentEffect = null),
-                        (this._viewportCached.x = 0),
-                        (this._viewportCached.y = 0),
-                        (this._viewportCached.z = 0),
-                        (this._viewportCached.w = 0),
-                        e &&
-                          (this.resetTextureCache(),
-                          (this._currentProgram = null),
-                          this._stencilState.reset(),
-                          this._depthCullingState.reset(),
-                          this.setDepthFunctionToLessOrEqual(),
-                          this._alphaState.reset(),
-                          (this._unpackFlipYCached = null)),
-                        this._resetVertexBufferBinding(),
-                        (this._cachedIndexBuffer = null),
-                        (this._cachedEffectForVertexBuffers = null),
-                        this._unbindVertexArrayObject(),
-                        this.bindIndexBuffer(null));
+                          (this._viewportCached.x = 0),
+                          (this._viewportCached.y = 0),
+                          (this._viewportCached.z = 0),
+                          (this._viewportCached.w = 0),
+                          e &&
+                            (this.resetTextureCache(),
+                            (this._currentProgram = null),
+                            this._stencilState.reset(),
+                            this._depthCullingState.reset(),
+                            this.setDepthFunctionToLessOrEqual(),
+                            this._alphaState.reset(),
+                            (this._unpackFlipYCached = null)),
+                          this._resetVertexBufferBinding(),
+                          (this._cachedIndexBuffer = null),
+                          (this._cachedEffectForVertexBuffers = null),
+                          this._unbindVertexArrayObject(),
+                          this.bindIndexBuffer(null));
+                      }
                     }),
                     (e.prototype.setTextureFormatToUse = function (e) {
                       for (
@@ -36291,7 +36397,9 @@ and limitations under the License.
                       (a && !u && (P = b.onLoadedObservable.add(a)),
                         u || this._internalTexturesCache.push(b));
                       var R = function (e, n) {
-                        r && r._removePendingData(b);
+                        if (r) {
+                          r._removePendingData(b);
+                        }
                         var a = false;
                         (A &&
                           A.getFallbackTextureUrl(g, p._textureFormatInUse) &&
@@ -36527,8 +36635,8 @@ and limitations under the License.
                               e._bindTexture("textureSampler", t);
                             };
                             var e = n;
-                            (e || (e = a.scenes[a.scenes.length - 1]),
-                              e.postProcessManager.directRender(
+                            (n || (e = a.scenes[a.scenes.length - 1]),
+                              n.postProcessManager.directRender(
                                 [a._rescalePostProcess],
                                 s,
                                 true,
@@ -36567,13 +36675,14 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype._unpackFlipY = function (e) {
-                      this._unpackFlipYCached !== e &&
+                      if (this._unpackFlipYCached !== e) {
                         (this._gl.pixelStorei(
                           this._gl.UNPACK_FLIP_Y_WEBGL,
                           e ? 1 : 0,
                         ),
-                        this.enableUnpackFlipYCached &&
-                          (this._unpackFlipYCached = e));
+                          this.enableUnpackFlipYCached &&
+                            (this._unpackFlipYCached = e));
+                      }
                     }),
                     (e.prototype._getUnpackAlignement = function () {
                       return this._gl.getParameter(this._gl.UNPACK_ALIGNMENT);
@@ -36979,8 +37088,8 @@ and limitations under the License.
                     ) {
                       var t = e.getInternalTexture();
                       if (t && t._framebuffer && e.depthStencilTexture) {
-                        var i = this._gl,
-                          n = e.depthStencilTexture;
+                        var i = this._gl;
+                        var n = e.depthStencilTexture;
                         (this._bindUnboundFramebuffer(t._framebuffer),
                           n.isCube
                             ? n._generateStencilBuffer
@@ -37144,7 +37253,9 @@ and limitations under the License.
                       n,
                       r,
                     ) {
-                      void 0 === r && (r = 1);
+                      if (void 0 === r) {
+                        r = 1;
+                      }
                       var o = null,
                         a = this._gl;
                       return (
@@ -37279,7 +37390,9 @@ and limitations under the License.
                         s = this._getRGBABufferInternalSizedFormat(e.type, a);
                       this._unpackFlipY(e.invertY);
                       var c = r.TEXTURE_2D;
-                      e.isCube && (c = r.TEXTURE_CUBE_MAP_POSITIVE_X + i);
+                      if (e.isCube) {
+                        c = r.TEXTURE_CUBE_MAP_POSITIVE_X + i;
+                      }
                       var u = Math.round(f.a.Log2(e.width)),
                         l = Math.round(f.a.Log2(e.height)),
                         h = Math.pow(2, Math.max(u - n, 0)),
@@ -37409,7 +37522,9 @@ and limitations under the License.
                       u,
                     ) {
                       var h = this;
-                      void 0 === u && (u = e.TEXTURE_TRILINEAR_SAMPLINGMODE);
+                      if (void 0 === u) {
+                        u = e.TEXTURE_TRILINEAR_SAMPLINGMODE;
+                      }
                       var f = this.getCaps().maxTextureSize,
                         d = Math.min(
                           f,
@@ -37420,8 +37535,8 @@ and limitations under the License.
                           this.needPOTTextures ? l.h.GetExponentOfTwo(r, f) : r,
                         ),
                         m = this._gl;
-                      m &&
-                        (t._webGLTexture
+                      if (m) {
+                        t._webGLTexture
                           ? (this._bindTextureDirectly(m.TEXTURE_2D, t, true),
                             this._unpackFlipY(void 0 === o || !!o),
                             (t.baseWidth = n),
@@ -37439,7 +37554,8 @@ and limitations under the License.
                                 s,
                                 u,
                               ))
-                          : i && i._removePendingData(t));
+                          : i && i._removePendingData(t);
+                      }
                     }),
                     (e.prototype._convertRGBtoRGBATextureData = function (
                       t,
@@ -37454,8 +37570,8 @@ and limitations under the License.
                           : new Uint32Array(i * n * 4);
                       for (var a = 0; a < i; a++)
                         for (var s = 0; s < n; s++) {
-                          var c = 3 * (s * i + a),
-                            u = 4 * (s * i + a);
+                          var c = 3 * (s * i + a);
+                          var u = 4 * (s * i + a);
                           ((o[u + 0] = t[c + 0]),
                             (o[u + 1] = t[c + 1]),
                             (o[u + 2] = t[c + 2]),
@@ -37465,17 +37581,16 @@ and limitations under the License.
                     }),
                     (e.prototype._releaseFramebufferObjects = function (e) {
                       var t = this._gl;
-                      (e._framebuffer &&
-                        (t.deleteFramebuffer(e._framebuffer),
-                        (e._framebuffer = null)),
-                        e._depthStencilBuffer &&
-                          (t.deleteRenderbuffer(e._depthStencilBuffer),
+                      (null &&
+                        (t.deleteFramebuffer(null), (e._framebuffer = null)),
+                        null &&
+                          (t.deleteRenderbuffer(null),
                           (e._depthStencilBuffer = null)),
-                        e._MSAAFramebuffer &&
-                          (t.deleteFramebuffer(e._MSAAFramebuffer),
+                        null &&
+                          (t.deleteFramebuffer(null),
                           (e._MSAAFramebuffer = null)),
-                        e._MSAARenderBuffer &&
-                          (t.deleteRenderbuffer(e._MSAARenderBuffer),
+                        null &&
+                          (t.deleteRenderbuffer(null),
                           (e._MSAARenderBuffer = null)));
                     }),
                     (e.prototype._releaseTexture = function (e) {
@@ -37490,36 +37605,42 @@ and limitations under the License.
                         e._lodTextureLow && e._lodTextureLow.dispose(),
                         this.scenes.forEach(function (t) {
                           (t.postProcesses.forEach(function (t) {
-                            t._outputTexture == e && (t._outputTexture = null);
+                            if (null == e) {
+                              t._outputTexture = null;
+                            }
                           }),
                             t.cameras.forEach(function (t) {
                               t._postProcesses.forEach(function (t) {
-                                t &&
-                                  t._outputTexture == e &&
-                                  (t._outputTexture = null);
+                                if (t && null == e) {
+                                  t._outputTexture = null;
+                                }
                               });
                             }));
                         }));
                     }),
                     (e.prototype.setProgram = function (e) {
-                      this._currentProgram !== e &&
+                      if (this._currentProgram !== e) {
                         (this._gl.useProgram(e), (this._currentProgram = e));
+                      }
                     }),
                     (e.prototype.bindSamplers = function (e) {
                       var t = e.getPipelineContext();
                       this.setProgram(t.program);
                       for (var i = e.getSamplers(), n = 0; n < i.length; n++) {
                         var r = e.getUniform(i[n]);
-                        r && (this._boundUniforms[n] = r);
+                        if (r) {
+                          this._boundUniforms[n] = r;
+                        }
                       }
                       this._currentEffect = null;
                     }),
                     (e.prototype._activateCurrentTexture = function () {
-                      this._currentTextureChannel !== this._activeChannel &&
+                      if (this._currentTextureChannel !== this._activeChannel) {
                         (this._gl.activeTexture(
                           this._gl.TEXTURE0 + this._activeChannel,
                         ),
-                        (this._currentTextureChannel = this._activeChannel));
+                          (this._currentTextureChannel = this._activeChannel));
+                      }
                     }),
                     (e.prototype._bindTextureDirectly = function (e, t, i, n) {
                       (void 0 === i && (i = false),
@@ -37552,10 +37673,11 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype._bindTexture = function (e, t) {
-                      void 0 !== e &&
+                      if (void 0 !== e) {
                         (t && (t._associatedChannel = e),
-                        (this._activeChannel = e),
-                        this._bindTextureDirectly(this._gl.TEXTURE_2D, t));
+                          (this._activeChannel = e),
+                          this._bindTextureDirectly(this._gl.TEXTURE_2D, t));
+                      }
                     }),
                     (e.prototype.setTextureFromPostProcess = function (e, t) {
                       this._bindTexture(
@@ -37584,24 +37706,27 @@ and limitations under the License.
                             ));
                     }),
                     (e.prototype.setTexture = function (e, t, i) {
-                      void 0 !== e &&
+                      if (void 0 !== e) {
                         (t && (this._boundUniforms[e] = t),
-                        this._setTexture(e, i));
+                          this._setTexture(e, i));
+                      }
                     }),
                     (e.prototype.setDepthStencilTexture = function (e, t, i) {
-                      void 0 !== e &&
+                      if (void 0 !== e) {
                         (t && (this._boundUniforms[e] = t),
-                        i && i.depthStencilTexture
-                          ? this._setTexture(e, i, false, true)
-                          : this._setTexture(e, null));
+                          i && i.depthStencilTexture
+                            ? this._setTexture(e, i, false, true)
+                            : this._setTexture(e, null));
+                      }
                     }),
                     (e.prototype._bindSamplerUniformToChannel = function (
                       e,
                       t,
                     ) {
                       var i = this._boundUniforms[e];
-                      i._currentState !== t &&
+                      if (i._currentState !== t) {
                         (this._gl.uniform1i(i, t), (i._currentState = t));
+                      }
                     }),
                     (e.prototype._getTextureWrapMode = function (t) {
                       switch (t) {
@@ -37756,9 +37881,14 @@ and limitations under the License.
                     }),
                     (e.prototype.setTextureArray = function (e, t, i) {
                       if (void 0 !== e && t) {
-                        (this._textureUnits &&
-                          this._textureUnits.length === i.length) ||
-                          (this._textureUnits = new Int32Array(i.length));
+                        if (
+                          !(
+                            this._textureUnits &&
+                            this._textureUnits.length === i.length
+                          )
+                        ) {
+                          this._textureUnits = new Int32Array(i.length);
+                        }
                         for (var n = 0; n < i.length; n++) {
                           var r = i[n].getInternalTexture();
                           r
@@ -37774,8 +37904,8 @@ and limitations under the License.
                     (e.prototype._setAnisotropicLevel = function (t, i) {
                       var n = i.getInternalTexture();
                       if (n) {
-                        var r = this._caps.textureAnisotropicFilterExtension,
-                          o = i.anisotropicFilteringLevel;
+                        var r = this._caps.textureAnisotropicFilterExtension;
+                        var o = i.anisotropicFilteringLevel;
                         (n.samplingMode !==
                           e.TEXTURE_LINEAR_LINEAR_MIPNEAREST &&
                           n.samplingMode !==
@@ -37992,13 +38122,17 @@ and limitations under the License.
                     (e.prototype.displayLoadingUI = function () {
                       if (v.a.IsWindowObjectExist()) {
                         var e = this.loadingScreen;
-                        e && e.displayLoadingUI();
+                        if (e) {
+                          e.displayLoadingUI();
+                        }
                       }
                     }),
                     (e.prototype.hideLoadingUI = function () {
                       if (v.a.IsWindowObjectExist()) {
                         var e = this._loadingScreen;
-                        e && e.hideLoadingUI();
+                        if (e) {
+                          e.hideLoadingUI();
+                        }
                       }
                     }),
                     Object.defineProperty(e.prototype, "loadingScreen", {
@@ -38038,20 +38172,22 @@ and limitations under the License.
                       },
                     ),
                     (e.prototype.attachContextLostEvent = function (e) {
-                      this._renderingCanvas &&
+                      if (this._renderingCanvas) {
                         this._renderingCanvas.addEventListener(
                           "webglcontextlost",
                           e,
                           false,
                         );
+                      }
                     }),
                     (e.prototype.attachContextRestoredEvent = function (e) {
-                      this._renderingCanvas &&
+                      if (this._renderingCanvas) {
                         this._renderingCanvas.addEventListener(
                           "webglcontextrestored",
                           e,
                           false,
                         );
+                      }
                     }),
                     (e.prototype.getVertexShaderSource = function (e) {
                       var t = this._gl.getAttachedShaders(e);
@@ -38191,9 +38327,9 @@ and limitations under the License.
                         i)
                       ) {
                         t.bindFramebuffer(t.FRAMEBUFFER, null);
-                        var a = t.RGBA,
-                          s = t.UNSIGNED_BYTE,
-                          c = new Uint8Array(4);
+                        var a = t.RGBA;
+                        var s = t.UNSIGNED_BYTE;
+                        var c = new Uint8Array(4);
                         (t.readPixels(0, 0, 1, 1, a, s, c),
                           (i = i && t.getError() === t.NO_ERROR));
                       }
@@ -38743,7 +38879,7 @@ and limitations under the License.
                       void 0 === r && (r = null),
                       void 0 === o && (o = null),
                       void 0 === u && (u = true));
-                    var l = e.call(this, i, n) || this;
+                    var l = e(i, n) || this;
                     if (
                       ((l._internalMeshDataInfo = new M()),
                       (l.delayLoadState = y.a.DELAYLOADSTATE_NONE),
@@ -38824,18 +38960,24 @@ and limitations under the License.
                           p++
                         ) {
                           var m = d[p];
-                          m.clone && m.clone(i + "." + m.name, l);
+                          if (m.clone) {
+                            m.clone(i + "." + m.name, l);
+                          }
                         }
                       if (n.getPhysicsEngine) {
                         var g = n.getPhysicsEngine();
                         if (u && g) {
                           var _ = g.getImpostorForPhysicsObject(o);
-                          _ && (l.physicsImpostor = _.clone(l));
+                          if (_) {
+                            l.physicsImpostor = _.clone(l);
+                          }
                         }
                       }
                       for (f = 0; f < n.particleSystems.length; f++) {
                         var v = n.particleSystems[f];
-                        v.emitter === o && v.clone(v.name, l);
+                        if (v.emitter === o) {
+                          v.clone(v.name, l);
+                        }
                       }
                       (l.refreshBoundingInfo(), l.computeWorldMatrix(true));
                     }
@@ -38937,9 +39079,12 @@ and limitations under the License.
                         return this._internalMeshDataInfo._morphTargetManager;
                       },
                       set: function (e) {
-                        this._internalMeshDataInfo._morphTargetManager !== e &&
+                        if (
+                          this._internalMeshDataInfo._morphTargetManager !== e
+                        ) {
                           ((this._internalMeshDataInfo._morphTargetManager = e),
-                          this._syncGeometryWithMorphTargetManager());
+                            this._syncGeometryWithMorphTargetManager());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -38956,9 +39101,10 @@ and limitations under the License.
                         return this._unIndexed;
                       },
                       set: function (e) {
-                        this._unIndexed !== e &&
+                        if (this._unIndexed !== e) {
                           ((this._unIndexed = e),
-                          this._markSubMeshesAsAttributesDirty());
+                            this._markSubMeshesAsAttributesDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -38974,7 +39120,7 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (t.prototype.toString = function (t) {
-                      var i = e.prototype.toString.call(this, t);
+                      var i = e.prototype.toString(t);
                       if (
                         ((i += ", n vertices: " + this.getTotalVertices()),
                         (i +=
@@ -38991,18 +39137,18 @@ and limitations under the License.
                             ", animation[0]: " + this.animations[n].toString(t);
                       if (t)
                         if (this._geometry) {
-                          var r = this.getIndices(),
-                            o = this.getVerticesData(l.b.PositionKind);
-                          o &&
-                            r &&
-                            (i +=
+                          var r = this.getIndices();
+                          var o = this.getVerticesData(l.b.PositionKind);
+                          if (o && r) {
+                            i +=
                               ", flat shading: " +
-                              (o.length / 3 === r.length ? "YES" : "NO"));
+                              (o.length / 3 === r.length ? "YES" : "NO");
+                          }
                         } else i += ", flat shading: UNKNOWN";
                       return i;
                     }),
                     (t.prototype._unBindEffect = function () {
-                      e.prototype._unBindEffect.call(this);
+                      e.prototype._unBindEffect();
                       for (var t = 0, i = this.instances; t < i.length; t++)
                         i[t]._unBindEffect();
                     }),
@@ -39177,7 +39323,7 @@ and limitations under the License.
                         this.delayLoadState === y.a.DELAYLOADSTATE_LOADING)
                       )
                         return false;
-                      if (!e.prototype.isReady.call(this, t)) return false;
+                      if (!e.prototype.isReady(t)) return false;
                       if (!this.subMeshes || 0 === this.subMeshes.length)
                         return true;
                       if (!t) return true;
@@ -39189,7 +39335,7 @@ and limitations under the License.
                             this.instances.length > 0);
                       this.computeWorldMatrix();
                       var a = this.material || r.defaultMaterial;
-                      if (a)
+                      if (a) {
                         if (a._storeEffectOnSubMeshes)
                           for (
                             var s = 0, c = this.subMeshes;
@@ -39197,13 +39343,15 @@ and limitations under the License.
                             s++
                           ) {
                             var u = (m = c[s]).getMaterial();
-                            if (u)
+                            if (u) {
                               if (u._storeEffectOnSubMeshes) {
                                 if (!u.isReadyForSubMesh(this, m, o))
                                   return false;
                               } else if (!u.isReady(this, o)) return false;
+                            }
                           }
                         else if (!a.isReady(this, o)) return false;
+                      }
                       for (
                         var l = 0, h = this.lightSources;
                         l < h.length;
@@ -39313,8 +39461,8 @@ and limitations under the License.
                       if (this.subMeshes && this.subMeshes.length > 0) {
                         var i = this.getIndices();
                         if (!i) return null;
-                        var n = i.length,
-                          r = false;
+                        var n = i.length;
+                        var r = false;
                         if (e) r = true;
                         else
                           for (
@@ -39372,11 +39520,13 @@ and limitations under the License.
                       return this;
                     }),
                     (t.prototype.markVerticesDataAsUpdatable = function (e, t) {
-                      void 0 === t && (t = true);
+                      if (void 0 === t) {
+                        t = true;
+                      }
                       var i = this.getVertexBuffer(e);
-                      i &&
-                        i.isUpdatable() !== t &&
+                      if (i && i.isUpdatable() !== t) {
                         this.setVerticesData(e, this.getVerticesData(e), t);
+                      }
                     }),
                     (t.prototype.setVerticesBuffer = function (e) {
                       return (
@@ -39396,7 +39546,9 @@ and limitations under the License.
                         : this;
                     }),
                     (t.prototype.updateMeshPositions = function (e, t) {
-                      void 0 === t && (t = true);
+                      if (void 0 === t) {
+                        t = true;
+                      }
                       var i = this.getVerticesData(l.b.PositionKind);
                       if (!i) return this;
                       if (
@@ -39409,8 +39561,8 @@ and limitations under the License.
                         ),
                         t)
                       ) {
-                        var n = this.getIndices(),
-                          r = this.getVerticesData(l.b.NormalKind);
+                        var n = this.getIndices();
+                        var r = this.getVerticesData(l.b.NormalKind);
                         if (!r) return this;
                         (h.a.ComputeNormals(i, n, r),
                           this.updateVerticesData(
@@ -39486,10 +39638,11 @@ and limitations under the License.
                         (!this._unIndexed && !this._geometry.getIndexBuffer())
                       )
                         return this;
-                      this._internalMeshDataInfo._onBeforeDrawObservable &&
+                      if (this._internalMeshDataInfo._onBeforeDrawObservable) {
                         this._internalMeshDataInfo._onBeforeDrawObservable.notifyObservers(
                           this,
                         );
+                      }
                       var n = this.getScene().getEngine();
                       return (
                         this._unIndexed || t == g.a.PointFillMode
@@ -39549,11 +39702,11 @@ and limitations under the License.
                         (r.visibleInstances[e] = null),
                         this._instanceDataStorage.visibleInstances)
                       ) {
-                        var o = this._instanceDataStorage.visibleInstances,
-                          a = t.getRenderId(),
-                          s = i
-                            ? o.intermediateDefaultRenderId
-                            : o.defaultRenderId;
+                        var o = this._instanceDataStorage.visibleInstances;
+                        var a = t.getRenderId();
+                        var s = i
+                          ? o.intermediateDefaultRenderId
+                          : o.defaultRenderId;
                         ((r.visibleInstances[e] = o[a]),
                           !r.visibleInstances[e] &&
                             s &&
@@ -39580,16 +39733,15 @@ and limitations under the License.
                       if (!o) return this;
                       for (
                         var a = this._instanceDataStorage,
-                          s = a.instancesBufferSize,
+                          s = 2,
                           c = a.instancesBuffer,
                           u = 16 * (o.length + 1) * 4;
-                        a.instancesBufferSize < u;
+                        2 < u;
                       )
                         a.instancesBufferSize *= 2;
-                      (a.instancesData && s == a.instancesBufferSize) ||
-                        (a.instancesData = new Float32Array(
-                          a.instancesBufferSize / 4,
-                        ));
+                      if (!(a.instancesData && s == 2)) {
+                        a.instancesData = new Float32Array(2 / 4);
+                      }
                       var h = 0,
                         f = 0,
                         d = this._effectiveMesh.getWorldMatrix();
@@ -39605,7 +39757,7 @@ and limitations under the License.
                             (h += 16),
                             f++);
                       return (
-                        c && s == a.instancesBufferSize
+                        c && s == 2
                           ? c.updateDirectly(a.instancesData, 0, f)
                           : (c && c.dispose(),
                             (c = new l.a(
@@ -39647,14 +39799,15 @@ and limitations under the License.
                       var s = this.getScene().getEngine();
                       if (r) this._renderWithInstances(e, i, n, t, s);
                       else {
-                        n.renderSelf[e._id] &&
+                        if (n.renderSelf[e._id]) {
                           (o &&
                             o(false, this._effectiveMesh.getWorldMatrix(), a),
-                          this._draw(
-                            e,
-                            i,
-                            this._instanceDataStorage.overridenInstanceCount,
-                          ));
+                            this._draw(
+                              e,
+                              i,
+                              this._instanceDataStorage.overridenInstanceCount,
+                            ));
+                        }
                         var c = n.visibleInstances[e._id];
                         if (c)
                           for (var u = 0; u < c.length; u++) {
@@ -39692,10 +39845,13 @@ and limitations under the License.
                         (!this._unIndexed && !this._geometry.getIndexBuffer())
                       )
                         return this;
-                      this._internalMeshDataInfo._onBeforeRenderObservable &&
+                      if (
+                        this._internalMeshDataInfo._onBeforeRenderObservable
+                      ) {
                         this._internalMeshDataInfo._onBeforeRenderObservable.notifyObservers(
                           this,
                         );
+                      }
                       var r,
                         o = i.getEngine(),
                         a = n.hardwareInstancedRendering[e._id],
@@ -39706,7 +39862,7 @@ and limitations under the License.
                         !s.isFrozen ||
                         !this._effectiveMaterial ||
                         this._effectiveMaterial !== c
-                      )
+                      ) {
                         if (
                           ((this._effectiveMaterial = c),
                           this._effectiveMaterial._storeEffectOnSubMeshes)
@@ -39721,7 +39877,10 @@ and limitations under the License.
                             return this;
                         } else if (!this._effectiveMaterial.isReady(this, a))
                           return this;
-                      t && o.setAlphaMode(this._effectiveMaterial.alphaMode);
+                      }
+                      if (t) {
+                        o.setAlphaMode(this._effectiveMaterial.alphaMode);
+                      }
                       for (
                         var u = 0, l = i._beforeRenderingMeshStage;
                         u < l.length;
@@ -39747,8 +39906,9 @@ and limitations under the License.
                                   : g.a.ClockWiseSideOrientation)),
                           (s.sideOrientation = h));
                       var d = this._effectiveMaterial._preBind(r, h);
-                      this._effectiveMaterial.forceDepthWrite &&
+                      if (this._effectiveMaterial.forceDepthWrite) {
                         o.setDepthWrite(true);
+                      }
                       var p = i.forcePointsCloud
                         ? g.a.PointFillMode
                         : i.forceWireframe
@@ -39811,15 +39971,16 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype._onBeforeDraw = function (e, t, i) {
-                      e && i && i.bindOnlyWorldMatrix(t);
+                      if (e && i) {
+                        i.bindOnlyWorldMatrix(t);
+                      }
                     }),
                     (t.prototype.cleanMatrixWeights = function () {
-                      this.isVerticesDataPresent(l.b.MatricesWeightsKind) &&
-                        (this.isVerticesDataPresent(
-                          l.b.MatricesWeightsExtraKind,
-                        )
+                      if (this.isVerticesDataPresent(l.b.MatricesWeightsKind)) {
+                        this.isVerticesDataPresent(l.b.MatricesWeightsExtraKind)
                           ? this.normalizeSkinWeightsAndExtra()
-                          : this.normalizeSkinFourWeights());
+                          : this.normalizeSkinFourWeights();
+                      }
                     }),
                     (t.prototype.normalizeSkinFourWeights = function () {
                       for (
@@ -39905,14 +40066,16 @@ and limitations under the License.
                         }
                         if ((c[d]++, d > o && (o = d), 0 === f)) r++;
                         else {
-                          var g = 1 / f,
-                            _ = 0;
+                          var g = 1 / f;
+                          var _ = 0;
                           for (p = 0; p < s; p++)
                             _ +=
                               p < 4
                                 ? Math.abs(t[u + p] - t[u + p] * g)
                                 : Math.abs(e[u + p - 4] - e[u + p - 4] * g);
-                          _ > 0.001 && a++;
+                          if (_ > 0.001) {
+                            a++;
+                          }
                         }
                       }
                       var v = this.skeleton.bones.length,
@@ -39922,7 +40085,9 @@ and limitations under the License.
                       for (u = 0; u < i; u++)
                         for (p = 0; p < s; p++) {
                           var T = p < 4 ? y[p] : b[p - 4];
-                          (T >= v || T < 0) && E++;
+                          if (T >= v || T < 0) {
+                            E++;
+                          }
                         }
                       return {
                         skinned: true,
@@ -39987,7 +40152,7 @@ and limitations under the License.
                     (t.prototype.isInFrustum = function (t) {
                       return (
                         this.delayLoadState !== y.a.DELAYLOADSTATE_LOADING &&
-                        !!e.prototype.isInFrustum.call(this, t) &&
+                        !!e.prototype.isInFrustum(t) &&
                         (this._checkDelayState(), true)
                       );
                     }),
@@ -40121,11 +40286,14 @@ and limitations under the License.
                             (s = n.meshMap[r]) &&
                               ((s._internalMeshDataInfo._source = null),
                               (n.meshMap[r] = void 0));
-                        n._source &&
-                          n._source._internalMeshDataInfo.meshMap &&
-                          (n._source._internalMeshDataInfo.meshMap[
+                        if (
+                          n._source &&
+                          n._source._internalMeshDataInfo.meshMap
+                        ) {
+                          n._source._internalMeshDataInfo.meshMap[
                             this.uniqueId
-                          ] = void 0);
+                          ] = void 0;
+                        }
                       } else
                         for (
                           var o = 0, a = this.getScene().meshes;
@@ -40133,10 +40301,13 @@ and limitations under the License.
                           o++
                         ) {
                           var s;
-                          (s = a[o])._internalMeshDataInfo &&
+                          if (
+                            (s = a[o])._internalMeshDataInfo &&
                             s._internalMeshDataInfo._source &&
-                            s._internalMeshDataInfo._source === this &&
-                            (s._internalMeshDataInfo._source = null);
+                            s._internalMeshDataInfo._source === this
+                          ) {
+                            s._internalMeshDataInfo._source = null;
+                          }
                         }
                       for (
                         n._source = null,
@@ -40146,7 +40317,7 @@ and limitations under the License.
                         this.instances.length;
                       )
                         this.instances[0].dispose();
-                      e.prototype.dispose.call(this, t, i);
+                      e.prototype.dispose(t, i);
                     }),
                     (t.prototype.applyDisplacementMap = function (
                       e,
@@ -40158,7 +40329,9 @@ and limitations under the License.
                       s,
                     ) {
                       var c = this;
-                      void 0 === s && (s = false);
+                      if (void 0 === s) {
+                        s = false;
+                      }
                       var u = this.getScene();
                       return (
                         o.h.LoadImage(
@@ -40228,13 +40401,13 @@ and limitations under the License.
                           c.x.FromArrayToRef(f, _, m),
                           c.w.FromArrayToRef(d, (_ / 3) * 2, g));
                         var v =
-                            4 *
-                            ((((Math.abs(g.x * a.x + o.x) * t) % t) | 0) +
-                              (((Math.abs(g.y * a.y + o.y) * i) % i) | 0) * t),
-                          y =
-                            (e[v] / 255) * 0.3 +
-                            (e[v + 1] / 255) * 0.59 +
-                            (e[v + 2] / 255) * 0.11;
+                          4 *
+                          ((((Math.abs(g.x * a.x + o.x) * t) % t) | 0) +
+                            (((Math.abs(g.y * a.y + o.y) * i) % i) | 0) * t);
+                        var y =
+                          (e[v] / 255) * 0.3 +
+                          (e[v + 1] / 255) * 0.59 +
+                          (e[v + 2] / 255) * 0.11;
                         (m.normalize(),
                           m.scaleInPlace(n + (r - n) * y),
                           (p = p.add(m)).toArray(u, _));
@@ -40368,7 +40541,9 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.flipFaces = function (e) {
-                      void 0 === e && (e = false);
+                      if (void 0 === e) {
+                        e = false;
+                      }
                       var t,
                         i,
                         n = h.a.ExtractFromMesh(this);
@@ -40401,15 +40576,15 @@ and limitations under the License.
                           f++
                         )
                           l[f] = new Array();
-                        var d,
-                          p = new c.x(0, 0, 0),
-                          m = new c.x(0, 0, 0),
-                          g = new c.w(0, 0),
-                          _ = new Array(),
-                          v = new Array(),
-                          y = new Array(),
-                          b = r.length,
-                          T = i.length;
+                        var d;
+                        var p = new c.x(0, 0, 0);
+                        var m = new c.x(0, 0, 0);
+                        var g = new c.w(0, 0);
+                        var _ = new Array();
+                        var v = new Array();
+                        var y = new Array();
+                        var b = r.length;
+                        var T = i.length;
                         for (f = 0; f < n.length; f += 3) {
                           ((v[0] = n[f]), (v[1] = n[f + 1]), (v[2] = n[f + 2]));
                           for (var A = 0; A < 3; A++)
@@ -40654,11 +40829,12 @@ and limitations under the License.
                         this.getScene()._getComponent(x.a.NAME_PHYSICSENGINE))
                       ) {
                         var o = this.getPhysicsImpostor();
-                        o &&
+                        if (o) {
                           ((e.physicsMass = o.getParam("mass")),
-                          (e.physicsFriction = o.getParam("friction")),
-                          (e.physicsRestitution = o.getParam("mass")),
-                          (e.physicsImpostor = o.type));
+                            (e.physicsFriction = o.getParam("friction")),
+                            (e.physicsRestitution = o.getParam("mass")),
+                            (e.physicsImpostor = o.type));
+                        }
                       }
                       (this.metadata && (e.metadata = this.metadata),
                         (e.instances = []));
@@ -40711,8 +40887,8 @@ and limitations under the License.
                                 void (this.morphTargetManager = null)
                               );
                             for (var t = 0; t < e.numInfluencers; t++) {
-                              var i = e.getActiveTarget(t),
-                                n = i.getPositions();
+                              var i = e.getActiveTarget(t);
+                              var n = i.getPositions();
                               if (!n)
                                 return void E.a.Error(
                                   "Invalid morph target. Target must have positions.",
@@ -40724,21 +40900,23 @@ and limitations under the License.
                                 3,
                               );
                               var r = i.getNormals();
-                              r &&
+                              if (r) {
                                 this.geometry.setVerticesData(
                                   l.b.NormalKind + t,
                                   r,
                                   false,
                                   3,
                                 );
+                              }
                               var o = i.getTangents();
-                              o &&
+                              if (o) {
                                 this.geometry.setVerticesData(
                                   l.b.TangentKind + t,
                                   o,
                                   false,
                                   3,
                                 );
+                              }
                             }
                           } else
                             for (
@@ -40858,8 +41036,9 @@ and limitations under the License.
                       ) {
                         for (var o = 0; o < e.animations.length; o++) {
                           var a = e.animations[o];
-                          (g = T.a.GetClass("BABYLON.Animation")) &&
+                          if ((g = T.a.GetClass("BABYLON.Animation"))) {
                             r.animations.push(g.Parse(a));
+                          }
                         }
                         u.a.ParseAnimationRanges(r, e, i);
                       }
@@ -40885,8 +41064,8 @@ and limitations under the License.
                         e.instances)
                       )
                         for (var h = 0; h < e.instances.length; h++) {
-                          var d = e.instances[h],
-                            p = r.createInstance(d.name);
+                          var d = e.instances[h];
+                          var p = r.createInstance(d.name);
                           if (
                             (d.id && (p.id = d.id),
                             s.a &&
@@ -41127,13 +41306,19 @@ and limitations under the License.
                         (this.setPositionsForCPUSkinning(),
                           (this.subMeshes = i));
                       }
-                      t._sourceNormals || this.setNormalsForCPUSkinning();
+                      if (!t._sourceNormals) {
+                        this.setNormalsForCPUSkinning();
+                      }
                       var n = this.getVerticesData(l.b.PositionKind);
                       if (!n) return this;
-                      n instanceof Float32Array || (n = new Float32Array(n));
+                      if (!(n instanceof Float32Array)) {
+                        n = new Float32Array(n);
+                      }
                       var r = this.getVerticesData(l.b.NormalKind);
                       if (!r) return this;
-                      r instanceof Float32Array || (r = new Float32Array(r));
+                      if (!(r instanceof Float32Array)) {
+                        r = new Float32Array(r);
+                      }
                       var o = this.getVerticesData(l.b.MatricesIndicesKind),
                         a = this.getVerticesData(l.b.MatricesWeightsKind);
                       if (!a || !o) return this;
@@ -41239,9 +41424,9 @@ and limitations under the License.
                             );
                       }
                       if (a) {
-                        var u,
-                          l,
-                          f = null;
+                        var u;
+                        var l;
+                        var f = null;
                         o = false;
                       }
                       var d,
@@ -41365,7 +41550,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.WithinEpsilon = function (e, t, i) {
-                    void 0 === i && (i = 1.401298e-45);
+                    if (void 0 === i) {
+                      i = 1401298e-51;
+                    }
                     var n = e - t;
                     return -i <= n && n <= i;
                   }),
@@ -41678,8 +41865,8 @@ and limitations under the License.
                             (this.normals[t + 2] = r.z));
                       }
                       if (this.tangents) {
-                        var s = n.y.Zero(),
-                          c = n.y.Zero();
+                        var s = n.y.Zero();
+                        var c = n.y.Zero();
                         for (t = 0; t < this.tangents.length; t += 4)
                           (n.y.FromArrayToRef(this.tangents, t, s),
                             n.y.TransformNormalToRef(s, e, c),
@@ -41720,14 +41907,16 @@ and limitations under the License.
                           "Cannot merge vertex data that do not have the same set of attributes",
                         );
                       if (e.indices) {
-                        this.indices || (this.indices = []);
+                        if (!this.indices) {
+                          this.indices = [];
+                        }
                         var i = this.positions ? this.positions.length / 3 : 0;
                         if (void 0 !== this.indices.BYTES_PER_ELEMENT) {
-                          var n = this.indices.length + e.indices.length,
-                            r =
-                              t || this.indices instanceof Uint32Array
-                                ? new Uint32Array(n)
-                                : new Uint16Array(n);
+                          var n = this.indices.length + e.indices.length;
+                          var r =
+                            t || this.indices instanceof Uint32Array
+                              ? new Uint32Array(n)
+                              : new Uint16Array(n);
                           r.set(this.indices);
                           for (
                             var o = this.indices.length, a = 0;
@@ -41793,8 +41982,8 @@ and limitations under the License.
                         return (o.set(e), o.set(t, e.length), o);
                       }
                       if (r) {
-                        var a = e.slice(0),
-                          s = 0;
+                        var a = e.slice(0);
+                        var s = 0;
                         for (i = t.length; s < i; s++) a.push(t[s]);
                         return a;
                       }
@@ -42031,7 +42220,9 @@ and limitations under the License.
                         (w = r.distanceTo),
                         R)
                       ) {
-                        void 0 === w && (w = n.x.Zero());
+                        if (void 0 === w) {
+                          w = n.x.Zero();
+                        }
                         var I = r.depthSortedFacets;
                       }
                       var D = 0,
@@ -42039,23 +42230,24 @@ and limitations under the License.
                         F = 0,
                         B = 0;
                       if (P && r && r.bbSize) {
-                        var N = 0,
-                          k = 0,
-                          U = 0,
-                          V = 0,
-                          G = 0,
-                          z = 0,
-                          j = 0,
-                          H = 0,
-                          W = 0,
-                          X = 0,
-                          Y = 0,
-                          K = 0,
-                          Q = 0,
-                          q = 0,
-                          Z = 0,
-                          J = 0,
-                          $ = r.bbSize.x > r.bbSize.y ? r.bbSize.x : r.bbSize.y;
+                        var N = 0;
+                        var k = 0;
+                        var U = 0;
+                        var V = 0;
+                        var G = 0;
+                        var z = 0;
+                        var j = 0;
+                        var H = 0;
+                        var W = 0;
+                        var X = 0;
+                        var Y = 0;
+                        var K = 0;
+                        var Q = 0;
+                        var q = 0;
+                        var Z = 0;
+                        var J = 0;
+                        var $ =
+                          r.bbSize.x > r.bbSize.y ? r.bbSize.x : r.bbSize.y;
                         (($ = $ > r.bbSize.z ? $ : r.bbSize.z),
                           (D = (r.subDiv.X * O) / r.bbSize.x),
                           (L = (r.subDiv.Y * O) / r.bbSize.y),
@@ -42237,30 +42429,53 @@ and limitations under the License.
                     (e.ImportVertexData = function (t, i) {
                       var o = new e(),
                         a = t.positions;
-                      a && o.set(a, r.b.PositionKind);
+                      if (a) {
+                        o.set(a, r.b.PositionKind);
+                      }
                       var s = t.normals;
-                      s && o.set(s, r.b.NormalKind);
+                      if (s) {
+                        o.set(s, r.b.NormalKind);
+                      }
                       var c = t.tangents;
-                      c && o.set(c, r.b.TangentKind);
+                      if (c) {
+                        o.set(c, r.b.TangentKind);
+                      }
                       var u = t.uvs;
-                      u && o.set(u, r.b.UVKind);
+                      if (u) {
+                        o.set(u, r.b.UVKind);
+                      }
                       var l = t.uv2s;
-                      l && o.set(l, r.b.UV2Kind);
+                      if (l) {
+                        o.set(l, r.b.UV2Kind);
+                      }
                       var h = t.uv3s;
-                      h && o.set(h, r.b.UV3Kind);
+                      if (h) {
+                        o.set(h, r.b.UV3Kind);
+                      }
                       var f = t.uv4s;
-                      f && o.set(f, r.b.UV4Kind);
+                      if (f) {
+                        o.set(f, r.b.UV4Kind);
+                      }
                       var d = t.uv5s;
-                      d && o.set(d, r.b.UV5Kind);
+                      if (d) {
+                        o.set(d, r.b.UV5Kind);
+                      }
                       var p = t.uv6s;
-                      p && o.set(p, r.b.UV6Kind);
+                      if (p) {
+                        o.set(p, r.b.UV6Kind);
+                      }
                       var m = t.colors;
-                      m &&
+                      if (m) {
                         o.set(n.f.CheckColors4(m, a.length / 3), r.b.ColorKind);
+                      }
                       var g = t.matricesIndices;
-                      g && o.set(g, r.b.MatricesIndicesKind);
+                      if (g) {
+                        o.set(g, r.b.MatricesIndicesKind);
+                      }
                       var _ = t.matricesWeights;
-                      _ && o.set(_, r.b.MatricesWeightsKind);
+                      if (_) {
+                        o.set(_, r.b.MatricesWeightsKind);
+                      }
                       var v = t.indices;
                       (v && (o.indices = v),
                         i.setAllVerticesData(o, t.updatable));
@@ -42337,7 +42552,7 @@ and limitations under the License.
                 })(),
                 o = (function (e) {
                   function t(t) {
-                    return e.apply(this, t) || this;
+                    return e() || this;
                   }
                   return (
                     n.d(t, e),
@@ -42369,14 +42584,12 @@ and limitations under the License.
               getterFunc.d(t, "a", function () {
                 return u;
               });
-
               var n = getterFunc(6);
               var vec3Math = getterFunc(16);
               var o = getterFunc(0);
               var a = getterFunc(23);
               var s = getterFunc(4);
               var c = getterFunc(38);
-
               var u = (function () {
                 function e() {}
                 return (
@@ -42406,19 +42619,22 @@ and limitations under the License.
                   }),
                   (e.BindTextureMatrix = function (e, t, i) {
                     var n = e.getTextureMatrix();
-                    n.isIdentityAs3x2() || t.updateMatrix(i + "Matrix", n);
+                    if (!n.isIdentityAs3x2()) {
+                      t.updateMatrix(i + "Matrix", n);
+                    }
                   }),
                   (e.PrepareDefinesForMisc = function (e, t, i, n, o, a, s) {
-                    s._areMiscDirty &&
+                    if (s._areMiscDirty) {
                       ((s.LOGARITHMICDEPTH = i),
-                      (s.POINTSIZE = n),
-                      (s.FOG =
-                        t.fogEnabled &&
-                        e.applyFog &&
-                        t.fogMode !== vec3Math.a.FOGMODE_NONE &&
-                        o),
-                      (s.NONUNIFORMSCALING = e.nonUniformScaling),
-                      (s.ALPHATEST = a));
+                        (s.POINTSIZE = n),
+                        (s.FOG =
+                          t.fogEnabled &&
+                          e.applyFog &&
+                          t.fogMode !== vec3Math.a.FOGMODE_NONE &&
+                          o),
+                        (s.NONUNIFORMSCALING = e.nonUniformScaling),
+                        (s.ALPHATEST = a));
+                    }
                   }),
                   (e.PrepareDefinesForFrameBoundValues = function (
                     e,
@@ -42427,7 +42643,9 @@ and limitations under the License.
                     n,
                     r,
                   ) {
-                    void 0 === r && (r = null);
+                    if (void 0 === r) {
+                      r = null;
+                    }
                     var o,
                       a,
                       s,
@@ -42584,10 +42802,9 @@ and limitations under the License.
                           var g = m.getShadowGenerator();
                           if (g) {
                             var _ = g.getShadowMap();
-                            _ &&
-                              _.renderList &&
-                              _.renderList.length > 0 &&
+                            if (_ && _.renderList && _.renderList.length > 0) {
                               ((h = true), g.prepareDefines(i, a));
+                            }
                           }
                         }
                         if (
@@ -42634,15 +42851,17 @@ and limitations under the License.
                   }),
                   (e.PrepareUniformsAndSamplersList = function (e, t, i, n) {
                     var r;
-                    void 0 === n && (n = 4);
+                    if (void 0 === n) {
+                      n = 4;
+                    }
                     var o = null;
                     if (e.uniformsNames) {
                       var a = e;
-                      ((r = a.uniformsNames),
-                        (o = a.uniformBuffersNames),
-                        (t = a.samplers),
-                        (i = a.defines),
-                        (n = a.maxSimultaneousLights));
+                      ((r = e.uniformsNames),
+                        (o = e.uniformBuffersNames),
+                        (t = e.samplers),
+                        (i = e.defines),
+                        (n = e.maxSimultaneousLights));
                     } else ((r = e), t || (t = []));
                     for (var s = 0; s < n && i["LIGHT" + s]; s++)
                       (r.push(
@@ -42662,7 +42881,9 @@ and limitations under the License.
                         i["PROJECTEDLIGHTTEXTURE" + s] &&
                           (t.push("projectionLightSampler" + s),
                           r.push("textureProjectionMatrix" + s)));
-                    i.NUM_MORPH_INFLUENCERS && r.push("morphTargetInfluences");
+                    if (i.NUM_MORPH_INFLUENCERS) {
+                      r.push("morphTargetInfluences");
+                    }
                   }),
                   (e.HandleFallbacksForShadows = function (e, t, i, n) {
                     (void 0 === i && (i = 4), void 0 === n && (n = 0));
@@ -42703,25 +42924,29 @@ and limitations under the License.
                             ));
                   }),
                   (e.PrepareAttributesForBones = function (e, t, i, n) {
-                    i.NUM_BONE_INFLUENCERS > 0 &&
+                    if (i.NUM_BONE_INFLUENCERS > 0) {
                       (n.addCPUSkinningFallback(0, t),
-                      e.push(s.b.MatricesIndicesKind),
-                      e.push(s.b.MatricesWeightsKind),
-                      i.NUM_BONE_INFLUENCERS > 4 &&
-                        (e.push(s.b.MatricesIndicesExtraKind),
-                        e.push(s.b.MatricesWeightsExtraKind)));
+                        e.push(s.b.MatricesIndicesKind),
+                        e.push(s.b.MatricesWeightsKind),
+                        i.NUM_BONE_INFLUENCERS > 4 &&
+                          (e.push(s.b.MatricesIndicesExtraKind),
+                          e.push(s.b.MatricesWeightsExtraKind)));
+                    }
                   }),
                   (e.PrepareAttributesForInstances = function (e, t) {
-                    t.INSTANCES &&
+                    if (t.INSTANCES) {
                       (e.push("world0"),
-                      e.push("world1"),
-                      e.push("world2"),
-                      e.push("world3"));
+                        e.push("world1"),
+                        e.push("world2"),
+                        e.push("world3"));
+                    }
                   }),
                   (e.BindLightShadow = function (e, t, i, n) {
                     if (e.shadowEnabled && t.receiveShadows) {
                       var r = e.getShadowGenerator();
-                      r && r.bindShadowLight(i, n);
+                      if (r) {
+                        r.bindShadowLight(i, n);
+                      }
                     }
                   }),
                   (e.BindLightProperties = function (e, t, i) {
@@ -42734,9 +42959,9 @@ and limitations under the License.
                       u < c;
                       u++
                     ) {
-                      var l = i.lightSources[u],
-                        h = u.toString(),
-                        f = l.getScaledIntensity();
+                      var l = i.lightSources[u];
+                      var h = u.toString();
+                      var f = l.getScaledIntensity();
                       (l._uniformBuffer.bindToEffect(n, "Light" + u),
                         e.BindLightProperties(l, n, u),
                         l.diffuse.scaleToRef(f, o.t.Color3[0]),
@@ -42778,10 +43003,10 @@ and limitations under the License.
                     if (
                       t &&
                       e &&
-                      (e.computeBonesUsingShaders &&
+                      (false &&
                         t._bonesComputationForcedToCPU &&
                         (e.computeBonesUsingShaders = false),
-                      e.useBones && e.computeBonesUsingShaders && e.skeleton)
+                      e.useBones && false && e.skeleton)
                     ) {
                       var i = e.skeleton;
                       if (
@@ -42796,22 +43021,25 @@ and limitations under the License.
                           ));
                       } else {
                         var r = i.getTransformMatrices(e);
-                        r && t.setMatrices("mBones", r);
+                        if (r) {
+                          t.setMatrices("mBones", r);
+                        }
                       }
                     }
                   }),
                   (e.BindMorphTargetParameters = function (e, t) {
                     var i = e.morphTargetManager;
-                    e &&
-                      i &&
+                    if (e && i) {
                       t.setFloatArray("morphTargetInfluences", i.influences);
+                    }
                   }),
                   (e.BindLogDepth = function (e, t, i) {
-                    e.LOGARITHMICDEPTH &&
+                    if (e.LOGARITHMICDEPTH) {
                       t.setFloat(
                         "logarithmicDepthConstant",
                         2 / (Math.log(i.activeCamera.maxZ + 1) / Math.LN2),
                       );
+                    }
                   }),
                   (e.BindClipPlane = function (e, t) {
                     if (t.clipPlane) {
@@ -42997,11 +43225,12 @@ and limitations under the License.
                       var t = this._scene
                         .getEngine()
                         .getRenderingCanvasClientRect();
-                      t &&
+                      if (t) {
                         ((this._pointerX = e.clientX - t.left),
-                        (this._pointerY = e.clientY - t.top),
-                        (this._unTranslatedPointerX = this._pointerX),
-                        (this._unTranslatedPointerY = this._pointerY));
+                          (this._pointerY = e.clientY - t.top),
+                          (this._unTranslatedPointerX = this._pointerX),
+                          (this._unTranslatedPointerY = this._pointerY));
+                      }
                     }),
                     (e.prototype._processPointerMove = function (e, t) {
                       var i = this._scene,
@@ -43050,15 +43279,15 @@ and limitations under the License.
                     }),
                     (e.prototype._setRayOnPointerInfo = function (e) {
                       var t = this._scene;
-                      e.pickInfo &&
-                        !e.pickInfo._pickingUnavailable &&
-                        (e.pickInfo.ray ||
+                      if (e.pickInfo && !e.pickInfo._pickingUnavailable) {
+                        e.pickInfo.ray ||
                           (e.pickInfo.ray = t.createPickingRay(
                             e.event.offsetX,
                             e.event.offsetY,
                             h.j.Identity(),
                             t.activeCamera,
-                          )));
+                          ));
+                      }
                     }),
                     (e.prototype._checkPrePointerObservable = function (
                       e,
@@ -43080,13 +43309,19 @@ and limitations under the License.
                     }),
                     (e.prototype.simulatePointerMove = function (e, t) {
                       var i = new PointerEvent("pointermove", t);
-                      this._checkPrePointerObservable(e, i, M.a.POINTERMOVE) ||
+                      if (
+                        !this._checkPrePointerObservable(e, i, M.a.POINTERMOVE)
+                      ) {
                         this._processPointerMove(e, i);
+                      }
                     }),
                     (e.prototype.simulatePointerDown = function (e, t) {
                       var i = new PointerEvent("pointerdown", t);
-                      this._checkPrePointerObservable(e, i, M.a.POINTERDOWN) ||
+                      if (
+                        !this._checkPrePointerObservable(e, i, M.a.POINTERDOWN)
+                      ) {
                         this._processPointerDown(e, i);
+                      }
                     }),
                     (e.prototype._processPointerDown = function (t, i) {
                       var n = this,
@@ -43121,7 +43356,9 @@ and limitations under the License.
                                   b.a.CreateNew(t.pickedMesh, i),
                                 );
                             }
-                          o.hasSpecificTrigger(x.a.ACTION_OnLongPressTrigger) &&
+                          if (
+                            o.hasSpecificTrigger(x.a.ACTION_OnLongPressTrigger)
+                          ) {
                             window.setTimeout(function () {
                               var t = r.pick(
                                 n._unTranslatedPointerX,
@@ -43141,20 +43378,23 @@ and limitations under the License.
                                 false,
                                 r.cameraToUseForPointers,
                               );
-                              t &&
+                              if (
+                                t &&
                                 t.hit &&
                                 t.pickedMesh &&
                                 o &&
                                 0 !== n._totalPointersPressed &&
-                                Date.now() - n._startingPointerTime >
-                                  e.LongPressDelay &&
-                                !n._isPointerSwiping() &&
+                                Date.now() - 0 > e.LongPressDelay &&
+                                !n._isPointerSwiping()
+                              ) {
                                 ((n._startingPointerTime = 0),
-                                o.processTrigger(
-                                  x.a.ACTION_OnLongPressTrigger,
-                                  b.a.CreateNew(t.pickedMesh, i),
-                                ));
+                                  o.processTrigger(
+                                    x.a.ACTION_OnLongPressTrigger,
+                                    b.a.CreateNew(t.pickedMesh, i),
+                                  ));
+                              }
                             }, e.LongPressDelay);
+                          }
                         }
                       } else
                         for (
@@ -43208,8 +43448,8 @@ and limitations under the License.
                               !i.ignore &&
                               n.onPointerObservable.hasObservers()))
                         ) {
-                          var r = M.a.POINTERPICK,
-                            o = new M.b(r, t, e);
+                          var r = M.a.POINTERPICK;
+                          var o = new M.b(r, t, e);
                           (this._setRayOnPointerInfo(o),
                             n.onPointerObservable.notifyObservers(o, r));
                         }
@@ -43228,12 +43468,12 @@ and limitations under the License.
                           var s = e.pickedMesh._getActionManagerForTrigger(
                             x.a.ACTION_OnDoublePickTrigger,
                           );
-                          i.doubleClick &&
-                            s &&
+                          if (i.doubleClick && s) {
                             s.processTrigger(
                               x.a.ACTION_OnDoublePickTrigger,
                               b.a.CreateNew(e.pickedMesh, t),
                             );
+                          }
                         }
                       } else if (!i.ignore)
                         for (
@@ -43255,11 +43495,12 @@ and limitations under the License.
                           this._pickedDownMesh._getActionManagerForTrigger(
                             x.a.ACTION_OnPickOutTrigger,
                           );
-                        l &&
+                        if (l) {
                           l.processTrigger(
                             x.a.ACTION_OnPickOutTrigger,
                             b.a.CreateNew(this._pickedDownMesh, t),
                           );
+                        }
                       }
                       var h = 0;
                       (n.onPointerObservable.hasObservers() &&
@@ -43300,33 +43541,20 @@ and limitations under the License.
                       if (s) {
                         var c = a.getEngine();
                         ((this._initActionManager = function (e, t) {
-                          if (!r._meshPickProceed) {
-                            var i = a.pick(
-                              r._unTranslatedPointerX,
-                              r._unTranslatedPointerY,
-                              a.pointerDownPredicate,
-                              false,
-                              a.cameraToUseForPointers,
-                            );
-                            ((r._currentPickResult = i),
-                              i &&
-                                (e =
-                                  i.hit && i.pickedMesh
-                                    ? i.pickedMesh._getActionManagerForTrigger()
-                                    : null),
-                              (r._meshPickProceed = true));
-                          }
                           return e;
                         }),
                           (this._delayedSimpleClick = function (t, i, n) {
-                            ((Date.now() - r._previousStartingPointerTime >
-                              e.DoubleClickDelay &&
-                              !r._doubleClickOccured) ||
-                              t !== r._previousButtonPressed) &&
+                            if (
+                              (Date.now() - r._previousStartingPointerTime >
+                                e.DoubleClickDelay &&
+                                !false) ||
+                              t !== r._previousButtonPressed
+                            ) {
                               ((r._doubleClickOccured = false),
-                              (i.singleClick = true),
-                              (i.ignore = false),
-                              n(i, r._currentPickResult));
+                                (i.singleClick = true),
+                                (i.ignore = false),
+                                n(i, r._currentPickResult));
+                            }
                           }),
                           (this._initClickEvent = function (t, i, n, o) {
                             var a = new I();
@@ -43339,10 +43567,9 @@ and limitations under the License.
                                 i.hasSpecificMask(M.a.POINTERTAP) ||
                                 t.hasSpecificMask(M.a.POINTERDOUBLETAP) ||
                                 i.hasSpecificMask(M.a.POINTERDOUBLETAP);
-                            !c &&
-                              O.a &&
-                              (s = r._initActionManager(s, a)) &&
-                              (c = s.hasPickTriggers);
+                            if (!c && O.a && (s = r._initActionManager(s, a))) {
+                              c = s.hasPickTriggers;
+                            }
                             var u = false;
                             if (c) {
                               var l = n.button;
@@ -43440,7 +43667,9 @@ and limitations under the License.
                                         (r._previousButtonPressed = l))));
                               }
                             }
-                            u || o(a, r._currentPickResult);
+                            if (!u) {
+                              o(a, null);
+                            }
                           }),
                           (this._onPointerMove = function (e) {
                             if (
@@ -43454,8 +43683,8 @@ and limitations under the License.
                               ) &&
                                 (a.cameraToUseForPointers || a.activeCamera))
                             ) {
-                              a.pointerMovePredicate ||
-                                (a.pointerMovePredicate = function (e) {
+                              if (!a.pointerMovePredicate) {
+                                a.pointerMovePredicate = function (e) {
                                   return (
                                     e.isPickable &&
                                     e.isVisible &&
@@ -43470,7 +43699,8 @@ and limitations under the License.
                                         (a.cameraToUseForPointers.layerMask &
                                           e.layerMask))
                                   );
-                                });
+                                };
+                              }
                               var t = a.pick(
                                 r._unTranslatedPointerX,
                                 r._unTranslatedPointerY,
@@ -43526,86 +43756,91 @@ and limitations under the License.
                             }
                           }),
                           (this._onPointerUp = function (e) {
-                            0 !== r._totalPointersPressed &&
+                            if (0 !== r._totalPointersPressed) {
                               (r._totalPointersPressed--,
-                              (r._pickedUpMesh = null),
-                              (r._meshPickProceed = false),
-                              r._updatePointerPosition(e),
-                              a.preventDefaultOnPointerUp &&
-                                s &&
-                                (e.preventDefault(), s.focus()),
-                              r._initClickEvent(
-                                a.onPrePointerObservable,
-                                a.onPointerObservable,
-                                e,
-                                function (t, i) {
-                                  if (
-                                    a.onPrePointerObservable.hasObservers() &&
-                                    !t.ignore
-                                  ) {
-                                    if (!t.hasSwiped) {
-                                      if (
-                                        t.singleClick &&
-                                        a.onPrePointerObservable.hasSpecificMask(
-                                          M.a.POINTERTAP,
-                                        ) &&
-                                        r._checkPrePointerObservable(
-                                          null,
-                                          e,
-                                          M.a.POINTERTAP,
+                                (r._pickedUpMesh = null),
+                                (r._meshPickProceed = false),
+                                r._updatePointerPosition(e),
+                                a.preventDefaultOnPointerUp &&
+                                  s &&
+                                  (e.preventDefault(), s.focus()),
+                                r._initClickEvent(
+                                  a.onPrePointerObservable,
+                                  a.onPointerObservable,
+                                  e,
+                                  function (t, i) {
+                                    if (
+                                      a.onPrePointerObservable.hasObservers() &&
+                                      !t.ignore
+                                    ) {
+                                      if (!t.hasSwiped) {
+                                        if (
+                                          t.singleClick &&
+                                          a.onPrePointerObservable.hasSpecificMask(
+                                            M.a.POINTERTAP,
+                                          ) &&
+                                          r._checkPrePointerObservable(
+                                            null,
+                                            e,
+                                            M.a.POINTERTAP,
+                                          )
                                         )
-                                      )
-                                        return;
+                                          return;
+                                        if (
+                                          t.doubleClick &&
+                                          a.onPrePointerObservable.hasSpecificMask(
+                                            M.a.POINTERDOUBLETAP,
+                                          ) &&
+                                          r._checkPrePointerObservable(
+                                            null,
+                                            e,
+                                            M.a.POINTERDOUBLETAP,
+                                          )
+                                        )
+                                          return;
+                                      }
                                       if (
-                                        t.doubleClick &&
-                                        a.onPrePointerObservable.hasSpecificMask(
-                                          M.a.POINTERDOUBLETAP,
-                                        ) &&
                                         r._checkPrePointerObservable(
                                           null,
                                           e,
-                                          M.a.POINTERDOUBLETAP,
+                                          M.a.POINTERUP,
                                         )
                                       )
                                         return;
                                     }
-                                    if (
-                                      r._checkPrePointerObservable(
-                                        null,
-                                        e,
-                                        M.a.POINTERUP,
-                                      )
-                                    )
-                                      return;
-                                  }
-                                  r._pointerCaptures[e.pointerId] &&
-                                    ((r._pointerCaptures[e.pointerId] = false),
-                                    (a.cameraToUseForPointers ||
-                                      a.activeCamera) &&
-                                      (a.pointerUpPredicate ||
-                                        (a.pointerUpPredicate = function (e) {
-                                          return (
-                                            e.isPickable &&
-                                            e.isVisible &&
-                                            e.isReady() &&
-                                            e.isEnabled() &&
-                                            (!a.cameraToUseForPointers ||
-                                              0 !=
-                                                (a.cameraToUseForPointers
-                                                  .layerMask &
-                                                  e.layerMask))
-                                          );
-                                        }),
-                                      !r._meshPickProceed &&
-                                        ((O.a && O.a.HasTriggers) ||
-                                          a.onPointerObservable.hasObservers()) &&
-                                        r._initActionManager(null, t),
-                                      i || (i = r._currentPickResult),
-                                      r._processPointerUp(i, e, t),
-                                      (r._previousPickResult =
-                                        r._currentPickResult)));
-                                },
-                              ));
+                                    if (r._pointerCaptures[e.pointerId]) {
+                                      ((r._pointerCaptures[e.pointerId] =
+                                        false),
+                                        (a.cameraToUseForPointers ||
+                                          a.activeCamera) &&
+                                          (a.pointerUpPredicate ||
+                                            (a.pointerUpPredicate = function (
+                                              e,
+                                            ) {
+                                              return (
+                                                e.isPickable &&
+                                                e.isVisible &&
+                                                e.isReady() &&
+                                                e.isEnabled() &&
+                                                (!a.cameraToUseForPointers ||
+                                                  0 !=
+                                                    (a.cameraToUseForPointers
+                                                      .layerMask &
+                                                      e.layerMask))
+                                              );
+                                            }),
+                                          !r._meshPickProceed &&
+                                            ((O.a && O.a.HasTriggers) ||
+                                              a.onPointerObservable.hasObservers()) &&
+                                            r._initActionManager(null, t),
+                                          i || (i = r._currentPickResult),
+                                          r._processPointerUp(i, e, t),
+                                          (r._previousPickResult =
+                                            r._currentPickResult)));
+                                    }
+                                  },
+                                ));
+                            }
                           }),
                           (this._onKeyDown = function (e) {
                             var t = w.a.KEYDOWN;
@@ -43653,19 +43888,25 @@ and limitations under the License.
                           }),
                           (this._onCanvasFocusObserver =
                             c.onCanvasFocusObservable.add(function () {
-                              s &&
+                              if (s) {
                                 (s.addEventListener(
                                   "keydown",
                                   r._onKeyDown,
                                   false,
                                 ),
-                                s.addEventListener("keyup", r._onKeyUp, false));
+                                  s.addEventListener(
+                                    "keyup",
+                                    r._onKeyUp,
+                                    false,
+                                  ));
+                              }
                             })),
                           (this._onCanvasBlurObserver =
                             c.onCanvasBlurObservable.add(function () {
-                              s &&
+                              if (s) {
                                 (s.removeEventListener("keydown", r._onKeyDown),
-                                s.removeEventListener("keyup", r._onKeyUp));
+                                  s.removeEventListener("keyup", r._onKeyUp));
+                              }
                             })));
                         var u = o.h.GetPointerPrefix();
                         (n &&
@@ -43703,25 +43944,32 @@ and limitations under the License.
                       var e = o.h.GetPointerPrefix(),
                         t = this._scene.getEngine().getRenderingCanvas(),
                         i = this._scene.getEngine();
-                      t &&
+                      if (t) {
                         (t.removeEventListener(e + "move", this._onPointerMove),
-                        t.removeEventListener(e + "down", this._onPointerDown),
-                        window.removeEventListener(e + "up", this._onPointerUp),
-                        this._onCanvasBlurObserver &&
-                          i.onCanvasBlurObservable.remove(
-                            this._onCanvasBlurObserver,
+                          t.removeEventListener(
+                            e + "down",
+                            this._onPointerDown,
                           ),
-                        this._onCanvasFocusObserver &&
-                          i.onCanvasFocusObservable.remove(
-                            this._onCanvasFocusObserver,
+                          window.removeEventListener(
+                            e + "up",
+                            this._onPointerUp,
                           ),
-                        t.removeEventListener("keydown", this._onKeyDown),
-                        t.removeEventListener("keyup", this._onKeyUp),
-                        (t.style.cursor = this._scene.defaultCursor));
+                          this._onCanvasBlurObserver &&
+                            i.onCanvasBlurObservable.remove(
+                              this._onCanvasBlurObserver,
+                            ),
+                          this._onCanvasFocusObserver &&
+                            i.onCanvasFocusObservable.remove(
+                              this._onCanvasFocusObserver,
+                            ),
+                          t.removeEventListener("keydown", this._onKeyDown),
+                          t.removeEventListener("keyup", this._onKeyUp),
+                          (t.style.cursor = this._scene.defaultCursor));
+                      }
                     }),
                     (e.prototype.setPointerOverMesh = function (e) {
                       var t;
-                      this._pointerOverMesh !== e &&
+                      if (this._pointerOverMesh !== e) {
                         (this._pointerOverMesh &&
                           (t =
                             this._pointerOverMesh._getActionManagerForTrigger(
@@ -43731,16 +43979,17 @@ and limitations under the License.
                             x.a.ACTION_OnPointerOutTrigger,
                             b.a.CreateNew(this._pointerOverMesh),
                           ),
-                        (this._pointerOverMesh = e),
-                        this._pointerOverMesh &&
-                          (t =
-                            this._pointerOverMesh._getActionManagerForTrigger(
+                          (this._pointerOverMesh = e),
+                          this._pointerOverMesh &&
+                            (t =
+                              this._pointerOverMesh._getActionManagerForTrigger(
+                                x.a.ACTION_OnPointerOverTrigger,
+                              )) &&
+                            t.processTrigger(
                               x.a.ACTION_OnPointerOverTrigger,
-                            )) &&
-                          t.processTrigger(
-                            x.a.ACTION_OnPointerOverTrigger,
-                            b.a.CreateNew(this._pointerOverMesh),
-                          ));
+                              b.a.CreateNew(this._pointerOverMesh),
+                            ));
+                      }
                     }),
                     (e.prototype.getPointerOverMesh = function () {
                       return this._pointerOverMesh;
@@ -43757,7 +44006,7 @@ and limitations under the License.
               });
               var L = (function (e) {
                 function t(i, n) {
-                  var r = e.call(this) || this;
+                  var r = e() || this;
                   return (
                     (r._inputManager = new D(r)),
                     (r.cameraToUseForPointers = null),
@@ -43957,11 +44206,12 @@ and limitations under the License.
                       return this._environmentTexture;
                     },
                     set: function (e) {
-                      this._environmentTexture !== e &&
+                      if (this._environmentTexture !== e) {
                         ((this._environmentTexture = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_TextureDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_TextureDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -43982,11 +44232,12 @@ and limitations under the License.
                       return this._forceWireframe;
                     },
                     set: function (e) {
-                      this._forceWireframe !== e &&
+                      if (this._forceWireframe !== e) {
                         ((this._forceWireframe = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_MiscDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_MiscDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -43996,11 +44247,12 @@ and limitations under the License.
                       return this._forcePointsCloud;
                     },
                     set: function (e) {
-                      this._forcePointsCloud !== e &&
+                      if (this._forcePointsCloud !== e) {
                         ((this._forcePointsCloud = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_MiscDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_MiscDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44133,11 +44385,12 @@ and limitations under the License.
                       return this._useRightHandedSystem;
                     },
                     set: function (e) {
-                      this._useRightHandedSystem !== e &&
+                      if (this._useRightHandedSystem !== e) {
                         ((this._useRightHandedSystem = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_MiscDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_MiscDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44156,11 +44409,12 @@ and limitations under the License.
                       return this._fogEnabled;
                     },
                     set: function (e) {
-                      this._fogEnabled !== e &&
+                      if (this._fogEnabled !== e) {
                         ((this._fogEnabled = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_MiscDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_MiscDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44170,11 +44424,12 @@ and limitations under the License.
                       return this._fogMode;
                     },
                     set: function (e) {
-                      this._fogMode !== e &&
+                      if (this._fogMode !== e) {
                         ((this._fogMode = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_MiscDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_MiscDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44184,11 +44439,12 @@ and limitations under the License.
                       return this._shadowsEnabled;
                     },
                     set: function (e) {
-                      this._shadowsEnabled !== e &&
+                      if (this._shadowsEnabled !== e) {
                         ((this._shadowsEnabled = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_LightDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_LightDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44198,11 +44454,12 @@ and limitations under the License.
                       return this._lightsEnabled;
                     },
                     set: function (e) {
-                      this._lightsEnabled !== e &&
+                      if (this._lightsEnabled !== e) {
                         ((this._lightsEnabled = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_LightDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_LightDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44212,9 +44469,10 @@ and limitations under the License.
                       return this._activeCamera;
                     },
                     set: function (e) {
-                      e !== this._activeCamera &&
+                      if (e !== this._activeCamera) {
                         ((this._activeCamera = e),
-                        this.onActiveCameraChanged.notifyObservers(this));
+                          this.onActiveCameraChanged.notifyObservers(this));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44239,11 +44497,12 @@ and limitations under the License.
                       return this._texturesEnabled;
                     },
                     set: function (e) {
-                      this._texturesEnabled !== e &&
+                      if (this._texturesEnabled !== e) {
                         ((this._texturesEnabled = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_TextureDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_TextureDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44253,11 +44512,12 @@ and limitations under the License.
                       return this._skeletonsEnabled;
                     },
                     set: function (e) {
-                      this._skeletonsEnabled !== e &&
+                      if (this._skeletonsEnabled !== e) {
                         ((this._skeletonsEnabled = e),
-                        this.markAllMaterialsAsDirty(
-                          x.a.MATERIAL_AttributesDirtyFlag,
-                        ));
+                          this.markAllMaterialsAsDirty(
+                            x.a.MATERIAL_AttributesDirtyFlag,
+                          ));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -44297,7 +44557,9 @@ and limitations under the License.
                     (this._components.push(e),
                       this._transientComponents.push(e));
                     var t = e;
-                    t.addFromContainer && this._serializableComponents.push(t);
+                    if (e.addFromContainer) {
+                      this._serializableComponents.push(e);
+                    }
                   }),
                   (t.prototype._getComponent = function (e) {
                     for (var t = 0, i = this._components; t < i.length; t++) {
@@ -44634,33 +44896,42 @@ and limitations under the License.
                     return this._transformMatrix;
                   }),
                   (t.prototype.setTransformMatrix = function (e, t, i, n) {
-                    (this._viewUpdateFlag === e.updateFlag &&
-                      this._projectionUpdateFlag === t.updateFlag) ||
+                    if (
+                      !(
+                        this._viewUpdateFlag === e.updateFlag &&
+                        this._projectionUpdateFlag === t.updateFlag
+                      )
+                    ) {
                       ((this._viewUpdateFlag = e.updateFlag),
-                      (this._projectionUpdateFlag = t.updateFlag),
-                      (this._viewMatrix = e),
-                      (this._projectionMatrix = t),
-                      this._viewMatrix.multiplyToRef(
-                        this._projectionMatrix,
-                        this._transformMatrix,
-                      ),
-                      this._frustumPlanes
-                        ? h.i.GetPlanesToRef(
-                            this._transformMatrix,
-                            this._frustumPlanes,
-                          )
-                        : (this._frustumPlanes = h.i.GetPlanes(
-                            this._transformMatrix,
-                          )),
-                      this._multiviewSceneUbo && this._multiviewSceneUbo.useUbo
-                        ? this._updateMultiviewUbo(i, n)
-                        : this._sceneUbo.useUbo &&
-                          (this._sceneUbo.updateMatrix(
-                            "viewProjection",
-                            this._transformMatrix,
-                          ),
-                          this._sceneUbo.updateMatrix("view", this._viewMatrix),
-                          this._sceneUbo.update()));
+                        (this._projectionUpdateFlag = t.updateFlag),
+                        (this._viewMatrix = e),
+                        (this._projectionMatrix = t),
+                        this._viewMatrix.multiplyToRef(
+                          this._projectionMatrix,
+                          this._transformMatrix,
+                        ),
+                        this._frustumPlanes
+                          ? h.i.GetPlanesToRef(
+                              this._transformMatrix,
+                              this._frustumPlanes,
+                            )
+                          : (this._frustumPlanes = h.i.GetPlanes(
+                              this._transformMatrix,
+                            )),
+                        this._multiviewSceneUbo &&
+                        this._multiviewSceneUbo.useUbo
+                          ? this._updateMultiviewUbo(i, n)
+                          : this._sceneUbo.useUbo &&
+                            (this._sceneUbo.updateMatrix(
+                              "viewProjection",
+                              this._transformMatrix,
+                            ),
+                            this._sceneUbo.updateMatrix(
+                              "view",
+                              this._viewMatrix,
+                            ),
+                            this._sceneUbo.update()));
+                    }
                   }),
                   (t.prototype.getSceneUniformBuffer = function () {
                     return this._multiviewSceneUbo
@@ -44684,7 +44955,9 @@ and limitations under the License.
                   }),
                   (t.prototype.removeMesh = function (e, t) {
                     var i = this;
-                    void 0 === t && (t = false);
+                    if (void 0 === t) {
+                      t = false;
+                    }
                     var n = this.meshes.indexOf(e);
                     return (
                       -1 !== n &&
@@ -44753,7 +45026,9 @@ and limitations under the License.
                   }),
                   (t.prototype.removeCamera = function (e) {
                     var t = this.cameras.indexOf(e);
-                    -1 !== t && this.cameras.splice(t, 1);
+                    if (-1 !== t) {
+                      this.cameras.splice(t, 1);
+                    }
                     var i = this.activeCameras.indexOf(e);
                     return (
                       -1 !== i && this.activeCameras.splice(i, 1),
@@ -44814,14 +45089,16 @@ and limitations under the License.
                     (this.lights.push(e), this.sortLightsByPriority());
                     for (var t = 0, i = this.meshes; t < i.length; t++) {
                       var n = i[t];
-                      -1 === n.lightSources.indexOf(e) &&
+                      if (-1 === n.lightSources.indexOf(e)) {
                         (n.lightSources.push(e), n._resyncLightSources());
+                      }
                     }
                     this.onNewLightAddedObservable.notifyObservers(e);
                   }),
                   (t.prototype.sortLightsByPriority = function () {
-                    this.requireLightSorting &&
+                    if (this.requireLightSorting) {
                       this.lights.sort(v.a.CompareLightsPriority);
+                    }
                   }),
                   (t.prototype.addCamera = function (e) {
                     (this.cameras.push(e),
@@ -44865,12 +45142,15 @@ and limitations under the License.
                       this.onNewTextureAddedObservable.notifyObservers(e));
                   }),
                   (t.prototype.switchActiveCamera = function (e, t) {
-                    void 0 === t && (t = true);
+                    if (void 0 === t) {
+                      t = true;
+                    }
                     var i = this._engine.getRenderingCanvas();
-                    i &&
+                    if (i) {
                       (this.activeCamera && this.activeCamera.detachControl(i),
-                      (this.activeCamera = e),
-                      t && e.attachControl(i));
+                        (this.activeCamera = e),
+                        t && e.attachControl(i));
+                    }
                   }),
                   (t.prototype.setActiveCameraByID = function (e) {
                     var t = this.getCameraByID(e);
@@ -45181,7 +45461,7 @@ and limitations under the License.
                       )
                         r[n].action(t, e);
                       var o = e.getMaterial();
-                      null != o &&
+                      if (null != o) {
                         (o.hasRenderTargetTextures &&
                           null != o.getRenderTargetTextures &&
                           -1 === this._processedMaterials.indexOf(o) &&
@@ -45189,8 +45469,9 @@ and limitations under the License.
                           this._renderTargets.concatWithNoDuplicate(
                             o.getRenderTargetTextures(),
                           )),
-                        this._activeIndices.addCount(e.indexCount, false),
-                        this._renderingManager.dispatch(e, t, o));
+                          this._activeIndices.addCount(e.indexCount, false),
+                          this._renderingManager.dispatch(e, t, o));
+                      }
                     }
                   }),
                   (t.prototype.freeProcessedMaterials = function () {
@@ -45204,12 +45485,15 @@ and limitations under the License.
                         return this._preventFreeActiveMeshesAndRenderingGroups;
                       },
                       set: function (e) {
-                        this._preventFreeActiveMeshesAndRenderingGroups !== e &&
+                        if (
+                          this._preventFreeActiveMeshesAndRenderingGroups !== e
+                        ) {
                           (e &&
                             (this.freeActiveMeshes(),
                             this.freeRenderingGroups()),
-                          (this._preventFreeActiveMeshesAndRenderingGroups =
-                            e));
+                            (this._preventFreeActiveMeshesAndRenderingGroups =
+                              e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -45226,7 +45510,9 @@ and limitations under the License.
                     )
                       for (var e = 0; e < this.activeCameras.length; e++) {
                         var t = this.activeCameras[e];
-                        t && t._activeMeshes && t._activeMeshes.dispose();
+                        if (t && t._activeMeshes) {
+                          t._activeMeshes.dispose();
+                        }
                       }
                   }),
                   (t.prototype.freeRenderingGroups = function () {
@@ -45238,7 +45524,9 @@ and limitations under the License.
                     )
                       for (var e = 0; e < this.textures.length; e++) {
                         var t = this.textures[e];
-                        t && t.renderList && t.freeRenderingGroups();
+                        if (t && t.renderList) {
+                          t.freeRenderingGroups();
+                        }
                       }
                   }),
                   (t.prototype._isInIntermediateRendering = function () {
@@ -45283,8 +45571,8 @@ and limitations under the License.
                         i++
                       )
                         n[i].action();
-                      var r = this.getActiveMeshCandidates(),
-                        o = r.length;
+                      var r = this.getActiveMeshCandidates();
+                      var o = r.length;
                       for (t = 0; t < o; t++) {
                         var a;
                         if (
@@ -45307,26 +45595,27 @@ and limitations under the License.
                           var s = this.customLODSelector
                             ? this.customLODSelector(a, this.activeCamera)
                             : a.getLOD(this.activeCamera);
-                          null != s &&
+                          if (null != s) {
                             (s !== a &&
                               s.billboardMode !== f.a.BILLBOARDMODE_NONE &&
                               s.computeWorldMatrix(),
-                            a._preActivate(),
-                            a.isVisible &&
-                              a.visibility > 0 &&
-                              0 !=
-                                (a.layerMask & this.activeCamera.layerMask) &&
-                              (a.alwaysSelectAsActiveMesh ||
-                                a.isInFrustum(this._frustumPlanes)) &&
-                              (this._activeMeshes.push(a),
-                              this.activeCamera._activeMeshes.push(a),
-                              s !== a && s._activate(this._renderId, false),
-                              a._activate(this._renderId, false) &&
-                                (a.isAnInstance ||
-                                  (s._internalAbstractMeshDataInfo._onlyForInstances = false),
-                                (s._internalAbstractMeshDataInfo._isActive = true),
-                                this._activeMesh(a, s)),
-                              a._postActivate()));
+                              a._preActivate(),
+                              a.isVisible &&
+                                a.visibility > 0 &&
+                                0 !=
+                                  (a.layerMask & this.activeCamera.layerMask) &&
+                                (a.alwaysSelectAsActiveMesh ||
+                                  a.isInFrustum(this._frustumPlanes)) &&
+                                (this._activeMeshes.push(a),
+                                this.activeCamera._activeMeshes.push(a),
+                                s !== a && s._activate(this._renderId, false),
+                                a._activate(this._renderId, false) &&
+                                  (a.isAnInstance ||
+                                    (s._internalAbstractMeshDataInfo._onlyForInstances = false),
+                                  (s._internalAbstractMeshDataInfo._isActive = true),
+                                  this._activeMesh(a, s)),
+                                a._postActivate()));
+                          }
                         }
                       }
                       if (
@@ -45342,10 +45631,11 @@ and limitations under the License.
                           var u = this.particleSystems[c];
                           if (u.isStarted() && u.emitter) {
                             var l = u.emitter;
-                            (l.position && !l.isEnabled()) ||
+                            if (!(l.position && !l.isEnabled())) {
                               (this._activeParticleSystems.push(u),
-                              u.animate(),
-                              this._renderingManager.dispatchParticles(u));
+                                u.animate(),
+                                this._renderingManager.dispatchParticles(u));
+                            }
                           }
                         }
                         this.onAfterParticlesRenderingObservable.notifyObservers(
@@ -45355,13 +45645,16 @@ and limitations under the License.
                     }
                   }),
                   (t.prototype._activeMesh = function (e, t) {
-                    this._skeletonsEnabled &&
+                    if (
+                      this._skeletonsEnabled &&
                       null !== t.skeleton &&
-                      void 0 !== t.skeleton &&
+                      void 0 !== t.skeleton
+                    ) {
                       (this._activeSkeletons.pushNoDuplicate(t.skeleton) &&
                         t.skeleton.prepare(),
-                      t.computeBonesUsingShaders ||
-                        this._softwareSkinnedMeshes.pushNoDuplicate(t));
+                        t.computeBonesUsingShaders ||
+                          this._softwareSkinnedMeshes.pushNoDuplicate(t));
+                    }
                     for (
                       var i = 0, n = this._activeMeshStage;
                       i < n.length;
@@ -45386,11 +45679,12 @@ and limitations under the License.
                       }
                   }),
                   (t.prototype.updateTransformMatrix = function (e) {
-                    this.activeCamera &&
+                    if (this.activeCamera) {
                       this.setTransformMatrix(
                         this.activeCamera.getViewMatrix(),
                         this.activeCamera.getProjectionMatrix(e),
                       );
+                    }
                   }),
                   (t.prototype._bindFrameBuffer = function () {
                     if (
@@ -45576,10 +45870,13 @@ and limitations under the License.
                               x.a.ACTION_OnIntersectionEnterTrigger ||
                             n.trigger === x.a.ACTION_OnIntersectionExitTrigger
                           ) {
-                            var r = n.getTriggerParameter(),
-                              o = r instanceof d.a ? r : r.mesh,
-                              a = o.intersectsMesh(t, r.usePreciseIntersection),
-                              s = t._intersectionsInProgress.indexOf(o);
+                            var r = n.getTriggerParameter();
+                            var o = r instanceof d.a ? r : r.mesh;
+                            var a = o.intersectsMesh(
+                              t,
+                              r.usePreciseIntersection,
+                            );
+                            var s = t._intersectionsInProgress.indexOf(o);
                             a && -1 === s
                               ? n.trigger ===
                                 x.a.ACTION_OnIntersectionEnterTrigger
@@ -45616,17 +45913,14 @@ and limitations under the License.
                   (t.prototype.animate = function () {
                     if (this._engine.isDeterministicLockStep()) {
                       var e =
-                          Math.max(
-                            t.MinDeltaTime,
-                            Math.min(
-                              this._engine.getDeltaTime(),
-                              t.MaxDeltaTime,
-                            ),
-                          ) + this._timeAccumulator,
-                        i = this.getDeterministicFrameTime(),
-                        n = 0,
-                        r = this._engine.getLockstepMaxSteps(),
-                        o = Math.floor(e / 60);
+                        Math.max(
+                          t.MinDeltaTime,
+                          Math.min(this._engine.getDeltaTime(), t.MaxDeltaTime),
+                        ) + this._timeAccumulator;
+                      var i = this.getDeterministicFrameTime();
+                      var n = 0;
+                      var r = this._engine.getLockstepMaxSteps();
+                      var o = Math.floor(e / 60);
                       o = Math.min(o, r);
                       do {
                         (this.onBeforeStepObservable.notifyObservers(this),
@@ -45683,7 +45977,7 @@ and limitations under the License.
                         i++
                       )
                         n[i].action();
-                      if (e)
+                      if (e) {
                         if (this.activeCameras.length > 0)
                           for (var r = 0; r < this.activeCameras.length; r++) {
                             var a = this.activeCameras[r];
@@ -45705,12 +45999,13 @@ and limitations under the License.
                             s++
                           )
                             this.activeCamera._rigCameras[s].update();
+                      }
                       (this.onBeforeRenderObservable.notifyObservers(this),
                         this.onBeforeRenderTargetsRenderObservable.notifyObservers(
                           this,
                         ));
-                      var c = this.getEngine(),
-                        u = this.activeCamera;
+                      var c = this.getEngine();
+                      var u = this.activeCamera;
                       if (this.renderTargetsEnabled) {
                         (o.h.StartPerformanceCounter(
                           "Custom render targets",
@@ -45757,7 +46052,7 @@ and limitations under the License.
                         f++
                       )
                         d[f].action();
-                      (this.autoClearDepthAndStencil || this.autoClear) &&
+                      if (this.autoClearDepthAndStencil || this.autoClear) {
                         this._engine.clear(
                           this.clearColor,
                           this.autoClear ||
@@ -45766,6 +46061,7 @@ and limitations under the License.
                           this.autoClearDepthAndStencil,
                           this.autoClearDepthAndStencil,
                         );
+                      }
                       for (
                         var m = 0, g = this._gatherRenderTargetsStage;
                         m < g.length;
@@ -45795,7 +46091,9 @@ and limitations under the License.
                       ) {
                         for (s = 0; s < this._toBeDisposed.length; s++) {
                           var y = this._toBeDisposed[s];
-                          y && y.dispose();
+                          if (y) {
+                            y.dispose();
+                          }
                         }
                         this._toBeDisposed = [];
                       }
@@ -45957,7 +46255,6 @@ and limitations under the License.
                   (t.prototype.cleanCachedTextureBuffer = function () {
                     for (var e = 0, t = this.textures; e < t.length; e++) {
                       var i = t[e];
-                      i._buffer && (i._buffer = null);
                     }
                   }),
                   (t.prototype.getWorldExtends = function (e) {
@@ -45984,9 +46281,9 @@ and limitations under the License.
                             0 !== e.subMeshes.length &&
                             !e.infiniteDistance)
                         ) {
-                          var n = e.getBoundingInfo(),
-                            r = n.boundingBox.minimumWorld,
-                            a = n.boundingBox.maximumWorld;
+                          var n = e.getBoundingInfo();
+                          var r = n.boundingBox.minimumWorld;
+                          var a = n.boundingBox.maximumWorld;
                           (o.h.CheckExtends(r, t, i),
                             o.h.CheckExtends(a, t, i));
                         }
@@ -46049,8 +46346,9 @@ and limitations under the License.
                       t[e]._rebuild();
                     for (var i = 0, n = this.meshes; i < n.length; i++)
                       n[i]._rebuild();
-                    this.postProcessManager &&
+                    if (this.postProcessManager) {
                       this.postProcessManager._rebuild();
+                    }
                     for (var r = 0, o = this._components; r < o.length; r++)
                       o[r].rebuild();
                     for (var a = 0, s = this.particleSystems; a < s.length; a++)
@@ -46066,7 +46364,9 @@ and limitations under the License.
                     var n = [];
                     for (var r in ((i = i || function (e) {}), e)) {
                       var o = e[r];
-                      l.a && l.a.MatchesQuery(o, t) && (n.push(o), i(o));
+                      if (l.a && l.a.MatchesQuery(o, t)) {
+                        (n.push(o), i(o));
+                      }
                     }
                     return n;
                   }),
@@ -46118,12 +46418,13 @@ and limitations under the License.
                         return this._blockMaterialDirtyMechanism;
                       },
                       set: function (e) {
-                        this._blockMaterialDirtyMechanism !== e &&
+                        if (this._blockMaterialDirtyMechanism !== e) {
                           ((this._blockMaterialDirtyMechanism = e),
-                          e ||
-                            this.markAllMaterialsAsDirty(
-                              x.a.MATERIAL_AllDirtyFlag,
-                            ));
+                            e ||
+                              this.markAllMaterialsAsDirty(
+                                x.a.MATERIAL_AllDirtyFlag,
+                              ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46133,7 +46434,9 @@ and limitations under the License.
                     if (!this._blockMaterialDirtyMechanism)
                       for (var i = 0, n = this.materials; i < n.length; i++) {
                         var r = n[i];
-                        (t && !t(r)) || r.markAsDirty(e);
+                        if (!(t && !t(r))) {
+                          r.markAsDirty(e);
+                        }
                       }
                   }),
                   (t.prototype._loadFile = function (e, t, i, n, r, a) {
@@ -46219,7 +46522,7 @@ and limitations under the License.
                 },
                 s = (function (e) {
                   function t(t, i, n, o) {
-                    var a = e.call(this, t, i) || this;
+                    var a = e(t, i) || this;
                     return (
                       (a.ray = null),
                       (a.skipOnPointerObservable = false),
@@ -46231,7 +46534,7 @@ and limitations under the License.
                 })(a),
                 c = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, i) || this;
+                    var r = e(t, i) || this;
                     return ((r.pickInfo = n), r);
                   }
                   return (n.d(t, e), t);
@@ -46252,11 +46555,12 @@ and limitations under the License.
                         return this._DiffuseTextureEnabled;
                       },
                       set: function (e) {
-                        this._DiffuseTextureEnabled !== e &&
+                        if (this._DiffuseTextureEnabled !== e) {
                           ((this._DiffuseTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46266,11 +46570,12 @@ and limitations under the License.
                         return this._AmbientTextureEnabled;
                       },
                       set: function (e) {
-                        this._AmbientTextureEnabled !== e &&
+                        if (this._AmbientTextureEnabled !== e) {
                           ((this._AmbientTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46280,11 +46585,12 @@ and limitations under the License.
                         return this._OpacityTextureEnabled;
                       },
                       set: function (e) {
-                        this._OpacityTextureEnabled !== e &&
+                        if (this._OpacityTextureEnabled !== e) {
                           ((this._OpacityTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46294,11 +46600,12 @@ and limitations under the License.
                         return this._ReflectionTextureEnabled;
                       },
                       set: function (e) {
-                        this._ReflectionTextureEnabled !== e &&
+                        if (this._ReflectionTextureEnabled !== e) {
                           ((this._ReflectionTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46308,11 +46615,12 @@ and limitations under the License.
                         return this._EmissiveTextureEnabled;
                       },
                       set: function (e) {
-                        this._EmissiveTextureEnabled !== e &&
+                        if (this._EmissiveTextureEnabled !== e) {
                           ((this._EmissiveTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46322,11 +46630,12 @@ and limitations under the License.
                         return this._SpecularTextureEnabled;
                       },
                       set: function (e) {
-                        this._SpecularTextureEnabled !== e &&
+                        if (this._SpecularTextureEnabled !== e) {
                           ((this._SpecularTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46336,11 +46645,12 @@ and limitations under the License.
                         return this._BumpTextureEnabled;
                       },
                       set: function (e) {
-                        this._BumpTextureEnabled !== e &&
+                        if (this._BumpTextureEnabled !== e) {
                           ((this._BumpTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46350,11 +46660,12 @@ and limitations under the License.
                         return this._LightmapTextureEnabled;
                       },
                       set: function (e) {
-                        this._LightmapTextureEnabled !== e &&
+                        if (this._LightmapTextureEnabled !== e) {
                           ((this._LightmapTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46364,11 +46675,12 @@ and limitations under the License.
                         return this._RefractionTextureEnabled;
                       },
                       set: function (e) {
-                        this._RefractionTextureEnabled !== e &&
+                        if (this._RefractionTextureEnabled !== e) {
                           ((this._RefractionTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46378,11 +46690,12 @@ and limitations under the License.
                         return this._ColorGradingTextureEnabled;
                       },
                       set: function (e) {
-                        this._ColorGradingTextureEnabled !== e &&
+                        if (this._ColorGradingTextureEnabled !== e) {
                           ((this._ColorGradingTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46392,11 +46705,12 @@ and limitations under the License.
                         return this._FresnelEnabled;
                       },
                       set: function (e) {
-                        this._FresnelEnabled !== e &&
+                        if (this._FresnelEnabled !== e) {
                           ((this._FresnelEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_FresnelDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_FresnelDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46406,11 +46720,12 @@ and limitations under the License.
                         return this._ClearCoatTextureEnabled;
                       },
                       set: function (e) {
-                        this._ClearCoatTextureEnabled !== e &&
+                        if (this._ClearCoatTextureEnabled !== e) {
                           ((this._ClearCoatTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46420,11 +46735,12 @@ and limitations under the License.
                         return this._ClearCoatBumpTextureEnabled;
                       },
                       set: function (e) {
-                        this._ClearCoatBumpTextureEnabled !== e &&
+                        if (this._ClearCoatBumpTextureEnabled !== e) {
                           ((this._ClearCoatBumpTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46434,11 +46750,12 @@ and limitations under the License.
                         return this._ClearCoatTintTextureEnabled;
                       },
                       set: function (e) {
-                        this._ClearCoatTintTextureEnabled !== e &&
+                        if (this._ClearCoatTintTextureEnabled !== e) {
                           ((this._ClearCoatTintTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46448,11 +46765,12 @@ and limitations under the License.
                         return this._SheenTextureEnabled;
                       },
                       set: function (e) {
-                        this._SheenTextureEnabled !== e &&
+                        if (this._SheenTextureEnabled !== e) {
                           ((this._SheenTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46462,11 +46780,12 @@ and limitations under the License.
                         return this._AnisotropicTextureEnabled;
                       },
                       set: function (e) {
-                        this._AnisotropicTextureEnabled !== e &&
+                        if (this._AnisotropicTextureEnabled !== e) {
                           ((this._AnisotropicTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46476,11 +46795,12 @@ and limitations under the License.
                         return this._ThicknessTextureEnabled;
                       },
                       set: function (e) {
-                        this._ThicknessTextureEnabled !== e &&
+                        if (this._ThicknessTextureEnabled !== e) {
                           ((this._ThicknessTextureEnabled = e),
-                          n.b.MarkAllMaterialsAsDirty(
-                            r.a.MATERIAL_TextureDirtyFlag,
-                          ));
+                            n.b.MarkAllMaterialsAsDirty(
+                              r.a.MATERIAL_TextureDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46593,9 +46913,10 @@ and limitations under the License.
                         return this._alpha;
                       },
                       set: function (t) {
-                        this._alpha !== t &&
+                        if (this._alpha !== t) {
                           ((this._alpha = t),
-                          this.markAsDirty(e.MiscDirtyFlag));
+                            this.markAsDirty(e.MiscDirtyFlag));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46605,9 +46926,10 @@ and limitations under the License.
                         return this._backFaceCulling;
                       },
                       set: function (t) {
-                        this._backFaceCulling !== t &&
+                        if (this._backFaceCulling !== t) {
                           ((this._backFaceCulling = t),
-                          this.markAsDirty(e.TextureDirtyFlag));
+                            this.markAsDirty(e.TextureDirtyFlag));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46672,9 +46994,10 @@ and limitations under the License.
                         return this._alphaMode;
                       },
                       set: function (t) {
-                        this._alphaMode !== t &&
+                        if (this._alphaMode !== t) {
                           ((this._alphaMode = t),
-                          this.markAsDirty(e.TextureDirtyFlag));
+                            this.markAsDirty(e.TextureDirtyFlag));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46684,10 +47007,11 @@ and limitations under the License.
                         return this._needDepthPrePass;
                       },
                       set: function (e) {
-                        this._needDepthPrePass !== e &&
+                        if (this._needDepthPrePass !== e) {
                           ((this._needDepthPrePass = e),
-                          this._needDepthPrePass &&
-                            (this.checkReadyOnEveryCall = true));
+                            this._needDepthPrePass &&
+                              (this.checkReadyOnEveryCall = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46697,9 +47021,10 @@ and limitations under the License.
                         return this._fogEnabled;
                       },
                       set: function (t) {
-                        this._fogEnabled !== t &&
+                        if (this._fogEnabled !== t) {
                           ((this._fogEnabled = t),
-                          this.markAsDirty(e.MiscDirtyFlag));
+                            this.markAsDirty(e.MiscDirtyFlag));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46745,9 +47070,10 @@ and limitations under the License.
                         return this._fillMode;
                       },
                       set: function (t) {
-                        this._fillMode !== t &&
+                        if (this._fillMode !== t) {
                           ((this._fillMode = t),
-                          this.markAsDirty(e.MiscDirtyFlag));
+                            this.markAsDirty(e.MiscDirtyFlag));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -46803,7 +47129,9 @@ and limitations under the License.
                       this._wasPreviouslyReady = false;
                     }),
                     (e.prototype._preBind = function (t, i) {
-                      void 0 === i && (i = null);
+                      if (void 0 === i) {
+                        i = null;
+                      }
                       var n = this._scene.getEngine(),
                         r =
                           (null == i ? this.sideOrientation : i) ===
@@ -46887,7 +47215,9 @@ and limitations under the License.
                         var t = new Array();
                         for (var i in this.meshMap) {
                           var n = this.meshMap[i];
-                          n && t.push(n);
+                          if (n) {
+                            t.push(n);
+                          }
                         }
                         return t;
                       }
@@ -46897,18 +47227,14 @@ and limitations under the License.
                     }),
                     (e.prototype.forceCompilation = function (e, t, i) {
                       var n = this,
-                        o = r.a(
-                          {
-                            clipPlane: false,
-                          },
-                          i,
-                        ),
+                        o = r.a({ clipPlane: false }, i),
                         a = new l.a(),
                         s = this.getScene();
                       !(function i() {
                         if (n._scene && n._scene.getEngine()) {
-                          a._materialDefines &&
-                            (a._materialDefines._renderId = -1);
+                          if (a._materialDefines) {
+                            a._materialDefines._renderId = -1;
+                          }
                           var r = s.clipPlane;
                           (o.clipPlane && (s.clipPlane = new c.n(0, 0, 0, 1)),
                             n._storeEffectOnSubMeshes
@@ -46935,21 +47261,24 @@ and limitations under the License.
                       });
                     }),
                     (e.prototype.markAsDirty = function (t) {
-                      this.getScene().blockMaterialDirtyMechanism ||
+                      if (!this.getScene().blockMaterialDirtyMechanism) {
                         ((e._DirtyCallbackArray.length = 0),
-                        t & e.TextureDirtyFlag &&
-                          e._DirtyCallbackArray.push(e._TextureDirtyCallBack),
-                        t & e.LightDirtyFlag &&
-                          e._DirtyCallbackArray.push(e._LightsDirtyCallBack),
-                        t & e.FresnelDirtyFlag &&
-                          e._DirtyCallbackArray.push(e._FresnelDirtyCallBack),
-                        t & e.AttributesDirtyFlag &&
-                          e._DirtyCallbackArray.push(e._AttributeDirtyCallBack),
-                        t & e.MiscDirtyFlag &&
-                          e._DirtyCallbackArray.push(e._MiscDirtyCallBack),
-                        e._DirtyCallbackArray.length &&
-                          this._markAllSubMeshesAsDirty(e._RunDirtyCallBacks),
-                        this.getScene().resetCachedMaterial());
+                          t & e.TextureDirtyFlag &&
+                            e._DirtyCallbackArray.push(e._TextureDirtyCallBack),
+                          t & e.LightDirtyFlag &&
+                            e._DirtyCallbackArray.push(e._LightsDirtyCallBack),
+                          t & e.FresnelDirtyFlag &&
+                            e._DirtyCallbackArray.push(e._FresnelDirtyCallBack),
+                          t & e.AttributesDirtyFlag &&
+                            e._DirtyCallbackArray.push(
+                              e._AttributeDirtyCallBack,
+                            ),
+                          t & e.MiscDirtyFlag &&
+                            e._DirtyCallbackArray.push(e._MiscDirtyCallBack),
+                          e._DirtyCallbackArray.length &&
+                            this._markAllSubMeshesAsDirty(e._RunDirtyCallBacks),
+                          this.getScene().resetCachedMaterial());
+                      }
                     }),
                     (e.prototype._markAllSubMeshesAsDirty = function (e) {
                       if (!this.getScene().blockMaterialDirtyMechanism)
@@ -46966,9 +47295,12 @@ and limitations under the License.
                               r++
                             ) {
                               var a = o[r];
-                              a.getMaterial() === this &&
-                                a._materialDefines &&
+                              if (
+                                a.getMaterial() === this &&
+                                a._materialDefines
+                              ) {
                                 e(a._materialDefines);
+                              }
                             }
                         }
                     }),
@@ -47025,10 +47357,12 @@ and limitations under the License.
                         else
                           for (var o = 0, a = n.meshes; o < a.length; o++) {
                             var s;
-                            (s = a[o]).material !== this ||
-                              s.sourceMesh ||
+                            if (
+                              !((s = a[o]).material !== this || s.sourceMesh)
+                            ) {
                               ((s.material = null),
-                              this.releaseVertexArrayObject(s, e));
+                                this.releaseVertexArrayObject(s, e));
+                            }
                           }
                       (this._uniformBuffer.dispose(),
                         e &&
@@ -47063,7 +47397,8 @@ and limitations under the License.
                     (e.Parse = function (e, t, i) {
                       if (e.customType) {
                         if (
-                          "BABYLON.PBRMaterial" === e.customType &&
+                          "BABYLON.PBRMaterial" ===
+                            "BABYLON.LegacyPBRMaterial" &&
                           e.overloadedAlbedo &&
                           ((e.customType = "BABYLON.LegacyPBRMaterial"),
                           !BABYLON.LegacyPBRMaterial)
@@ -47221,8 +47556,10 @@ and limitations under the License.
                 f = i(19),
                 d = (function (e) {
                   function t(i, n, r, a) {
-                    void 0 === a && (a = true);
-                    var u = e.call(this, i, r) || this;
+                    if (void 0 === a) {
+                      a = true;
+                    }
+                    var u = e(i, r) || this;
                     return (
                       (u._position = c.x.Zero()),
                       (u.upVector = c.x.Up()),
@@ -47337,10 +47674,10 @@ and limitations under the License.
                           var r = n[i];
                           if (r && !r.isReady()) return false;
                         }
-                      return e.prototype.isReady.call(this, t);
+                      return e.prototype.isReady(t);
                     }),
                     (t.prototype._initCache = function () {
-                      (e.prototype._initCache.call(this),
+                      (e.prototype._initCache(),
                         (this._cache.position = new c.x(
                           Number.MAX_VALUE,
                           Number.MAX_VALUE,
@@ -47365,7 +47702,7 @@ and limitations under the License.
                         (this._cache.renderHeight = void 0));
                     }),
                     (t.prototype._updateCache = function (t) {
-                      (t || e.prototype._updateCache.call(this),
+                      (t || e.prototype._updateCache(),
                         this._cache.position.copyFrom(this.position),
                         this._cache.upVector.copyFrom(this.upVector));
                     }),
@@ -47377,7 +47714,7 @@ and limitations under the License.
                     }),
                     (t.prototype._isSynchronizedViewMatrix = function () {
                       return (
-                        !!e.prototype._isSynchronized.call(this) &&
+                        !!e.prototype._isSynchronized() &&
                         this._cache.position.equals(this.position) &&
                         this._cache.upVector.equals(this.upVector) &&
                         this.isSynchronizedWithParent()
@@ -47433,10 +47770,12 @@ and limitations under the License.
                     }),
                     (t.prototype._cascadePostProcessesToRigCams = function () {
                       var e = this._getFirstPostProcess();
-                      e && e.markTextureDirty();
+                      if (e) {
+                        e.markTextureDirty();
+                      }
                       for (var t = 0, i = this._rigCameras.length; t < i; t++) {
-                        var n = this._rigCameras[t],
-                          r = n._rigPostProcess;
+                        var n = this._rigCameras[t];
+                        var r = n._rigPostProcess;
                         r
                           ? ("pass" === r.getEffectName() &&
                               (n.isIntermediate =
@@ -47548,8 +47887,8 @@ and limitations under the License.
                                 this.fovMode === t.FOVMODE_VERTICAL_FIXED,
                               ));
                       else {
-                        var r = i.getRenderWidth() / 2,
-                          o = i.getRenderHeight() / 2;
+                        var r = i.getRenderWidth() / 2;
+                        var o = i.getRenderHeight() / 2;
                         (n.useRightHandedSystem
                           ? c.j.OrthoOffCenterRHToRef(
                               this.orthoLeft || -r,
@@ -47593,17 +47932,18 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype._updateFrustumPlanes = function () {
-                      this._refreshFrustumPlanes &&
+                      if (this._refreshFrustumPlanes) {
                         (this.getTransformationMatrix(),
-                        this._frustumPlanes
-                          ? c.i.GetPlanesToRef(
-                              this._transformMatrix,
-                              this._frustumPlanes,
-                            )
-                          : (this._frustumPlanes = c.i.GetPlanes(
-                              this._transformMatrix,
-                            )),
-                        (this._refreshFrustumPlanes = false));
+                          this._frustumPlanes
+                            ? c.i.GetPlanesToRef(
+                                this._transformMatrix,
+                                this._frustumPlanes,
+                              )
+                            : (this._frustumPlanes = c.i.GetPlanes(
+                                this._transformMatrix,
+                              )),
+                          (this._refreshFrustumPlanes = false));
+                      }
                     }),
                     (t.prototype.isInFrustum = function (e, t) {
                       if (
@@ -47644,7 +47984,9 @@ and limitations under the License.
                         this._rigCameras.length > 0;
                       ) {
                         var r = this._rigCameras.pop();
-                        r && r.dispose();
+                        if (r) {
+                          r.dispose();
+                        }
                       }
                       if (this._rigPostProcess)
                         (this._rigPostProcess.dispose(this),
@@ -47656,13 +47998,15 @@ and limitations under the License.
                       else
                         for (var o = this._postProcesses.length; --o >= 0; ) {
                           var a = this._postProcesses[o];
-                          a && a.dispose(this);
+                          if (a) {
+                            a.dispose(this);
+                          }
                         }
                       for (o = this.customRenderTargets.length; --o >= 0; )
                         this.customRenderTargets[o].dispose();
                       ((this.customRenderTargets = []),
                         this._activeMeshes.dispose(),
-                        e.prototype.dispose.call(this, i, n));
+                        e.prototype.dispose(i, n));
                     }),
                     Object.defineProperty(t.prototype, "isLeftCamera", {
                       get: function () {
@@ -47710,7 +48054,9 @@ and limitations under the License.
                       if (this.cameraRigMode !== e) {
                         for (; this._rigCameras.length > 0; ) {
                           var n = this._rigCameras.pop();
-                          n && n.dispose();
+                          if (n) {
+                            n.dispose();
+                          }
                         }
                         if (
                           ((this.cameraRigMode = e),
@@ -47724,7 +48070,9 @@ and limitations under the License.
                           this.cameraRigMode !== t.RIG_MODE_NONE)
                         ) {
                           var r = this.createRigCamera(this.name + "_L", 0);
-                          r && (r._isLeftCamera = true);
+                          if (r) {
+                            r._isLeftCamera = true;
+                          }
                           var o = this.createRigCamera(this.name + "_R", 1);
                           (o && (o._isRightCamera = true),
                             r &&
@@ -47803,10 +48151,12 @@ and limitations under the License.
                           (this._rigCameras[e].maxZ = this.maxZ),
                           (this._rigCameras[e].fov = this.fov),
                           this._rigCameras[e].upVector.copyFrom(this.upVector));
-                      this.cameraRigMode === t.RIG_MODE_STEREOSCOPIC_ANAGLYPH &&
-                        (this._rigCameras[0].viewport =
-                          this._rigCameras[1].viewport =
-                            this.viewport);
+                      if (
+                        this.cameraRigMode === t.RIG_MODE_STEREOSCOPIC_ANAGLYPH
+                      ) {
+                        this._rigCameras[0].viewport =
+                          this._rigCameras[1].viewport = this.viewport;
+                      }
                     }),
                     (t.prototype._setupInputs = function () {}),
                     (t.prototype.serialize = function () {
@@ -47877,17 +48227,17 @@ and limitations under the License.
                         e.cameraRigMode)
                       ) {
                         var s = e.interaxial_distance
-                          ? {
-                              interaxialDistance: e.interaxial_distance,
-                            }
+                          ? { interaxialDistance: e.interaxial_distance }
                           : {};
                         a.setCameraRigMode(e.cameraRigMode, s);
                       }
                       if (e.animations) {
                         for (var l = 0; l < e.animations.length; l++) {
-                          var f = e.animations[l],
-                            d = h.a.GetClass("BABYLON.Animation");
-                          d && a.animations.push(d.Parse(f));
+                          var f = e.animations[l];
+                          var d = h.a.GetClass("BABYLON.Animation");
+                          if (d) {
+                            a.animations.push(d.Parse(f));
+                          }
                         }
                         u.a.ParseAnimationRanges(a, e, i);
                       }
@@ -48054,8 +48404,10 @@ and limitations under the License.
                 },
                 v = (function (e) {
                   function t(i, n) {
-                    void 0 === n && (n = null);
-                    var r = e.call(this, i, n, false) || this;
+                    if (void 0 === n) {
+                      n = null;
+                    }
+                    var r = e(i, n, false) || this;
                     return (
                       (r._internalAbstractMeshDataInfo = new _()),
                       (r.cullingStrategy = t.CULLINGSTRATEGY_STANDARD),
@@ -48234,10 +48586,8 @@ and limitations under the License.
                     }),
                     (t.prototype._updateNonUniformScalingState = function (t) {
                       return (
-                        !!e.prototype._updateNonUniformScalingState.call(
-                          this,
-                          t,
-                        ) && (this._markSubMeshesAsMiscDirty(), true)
+                        !!e.prototype._updateNonUniformScalingState(t) &&
+                        (this._markSubMeshesAsMiscDirty(), true)
                       );
                     }),
                     Object.defineProperty(t.prototype, "onCollide", {
@@ -48275,9 +48625,12 @@ and limitations under the License.
                         return this._internalAbstractMeshDataInfo._visibility;
                       },
                       set: function (e) {
-                        this._internalAbstractMeshDataInfo._visibility !== e &&
+                        if (
+                          this._internalAbstractMeshDataInfo._visibility !== e
+                        ) {
                           ((this._internalAbstractMeshDataInfo._visibility = e),
-                          this._markSubMeshesAsMiscDirty());
+                            this._markSubMeshesAsMiscDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48287,17 +48640,18 @@ and limitations under the License.
                         return this._material;
                       },
                       set: function (e) {
-                        this._material !== e &&
+                        if (this._material !== e) {
                           (this._material &&
                             this._material.meshMap &&
                             (this._material.meshMap[this.uniqueId] = void 0),
-                          (this._material = e),
-                          e && e.meshMap && (e.meshMap[this.uniqueId] = this),
-                          this.onMaterialChangedObservable.hasObservers &&
-                            this.onMaterialChangedObservable.notifyObservers(
-                              this,
-                            ),
-                          this.subMeshes && this._unBindEffect());
+                            (this._material = e),
+                            e && e.meshMap && (e.meshMap[this.uniqueId] = this),
+                            this.onMaterialChangedObservable.hasObservers &&
+                              this.onMaterialChangedObservable.notifyObservers(
+                                this,
+                              ),
+                            this.subMeshes && this._unBindEffect());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48308,11 +48662,14 @@ and limitations under the License.
                           ._receiveShadows;
                       },
                       set: function (e) {
-                        this._internalAbstractMeshDataInfo._receiveShadows !==
-                          e &&
+                        if (
+                          this._internalAbstractMeshDataInfo._receiveShadows !==
+                          e
+                        ) {
                           ((this._internalAbstractMeshDataInfo._receiveShadows =
                             e),
-                          this._markSubMeshesAsLightDirty());
+                            this._markSubMeshesAsLightDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48323,12 +48680,15 @@ and limitations under the License.
                           ._hasVertexAlpha;
                       },
                       set: function (e) {
-                        this._internalAbstractMeshDataInfo._hasVertexAlpha !==
-                          e &&
+                        if (
+                          this._internalAbstractMeshDataInfo._hasVertexAlpha !==
+                          e
+                        ) {
                           ((this._internalAbstractMeshDataInfo._hasVertexAlpha =
                             e),
-                          this._markSubMeshesAsAttributesDirty(),
-                          this._markSubMeshesAsMiscDirty());
+                            this._markSubMeshesAsAttributesDirty(),
+                            this._markSubMeshesAsMiscDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48339,11 +48699,14 @@ and limitations under the License.
                           ._useVertexColors;
                       },
                       set: function (e) {
-                        this._internalAbstractMeshDataInfo._useVertexColors !==
-                          e &&
+                        if (
+                          this._internalAbstractMeshDataInfo
+                            ._useVertexColors !== e
+                        ) {
                           ((this._internalAbstractMeshDataInfo._useVertexColors =
                             e),
-                          this._markSubMeshesAsAttributesDirty());
+                            this._markSubMeshesAsAttributesDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48357,11 +48720,14 @@ and limitations under the License.
                             ._computeBonesUsingShaders;
                         },
                         set: function (e) {
-                          this._internalAbstractMeshDataInfo
-                            ._computeBonesUsingShaders !== e &&
+                          if (
+                            this._internalAbstractMeshDataInfo
+                              ._computeBonesUsingShaders !== e
+                          ) {
                             ((this._internalAbstractMeshDataInfo._computeBonesUsingShaders =
                               e),
-                            this._markSubMeshesAsAttributesDirty());
+                              this._markSubMeshesAsAttributesDirty());
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -48373,11 +48739,14 @@ and limitations under the License.
                           ._numBoneInfluencers;
                       },
                       set: function (e) {
-                        this._internalAbstractMeshDataInfo
-                          ._numBoneInfluencers !== e &&
+                        if (
+                          this._internalAbstractMeshDataInfo
+                            ._numBoneInfluencers !== e
+                        ) {
                           ((this._internalAbstractMeshDataInfo._numBoneInfluencers =
                             e),
-                          this._markSubMeshesAsAttributesDirty());
+                            this._markSubMeshesAsAttributesDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48387,9 +48756,12 @@ and limitations under the License.
                         return this._internalAbstractMeshDataInfo._applyFog;
                       },
                       set: function (e) {
-                        this._internalAbstractMeshDataInfo._applyFog !== e &&
+                        if (
+                          this._internalAbstractMeshDataInfo._applyFog !== e
+                        ) {
                           ((this._internalAbstractMeshDataInfo._applyFog = e),
-                          this._markSubMeshesAsMiscDirty());
+                            this._markSubMeshesAsMiscDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48399,9 +48771,12 @@ and limitations under the License.
                         return this._internalAbstractMeshDataInfo._layerMask;
                       },
                       set: function (e) {
-                        e !== this._internalAbstractMeshDataInfo._layerMask &&
+                        if (
+                          e !== this._internalAbstractMeshDataInfo._layerMask
+                        ) {
                           ((this._internalAbstractMeshDataInfo._layerMask = e),
-                          this._resyncLightSources());
+                            this._resyncLightSources());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -48500,7 +48875,7 @@ and limitations under the License.
                       return this._masterMesh &&
                         this.billboardMode !== l.a.BILLBOARDMODE_NONE
                         ? this._masterMesh
-                        : e.prototype._getEffectiveParent.call(this);
+                        : e.prototype._getEffectiveParent();
                     }),
                     (t.prototype._getActionManagerForTrigger = function (e, t) {
                       if (
@@ -48533,9 +48908,9 @@ and limitations under the License.
                         e++
                       ) {
                         var i = t[e];
-                        i.isEnabled() &&
-                          i.canAffectMesh(this) &&
+                        if (i.isEnabled() && i.canAffectMesh(this)) {
                           this._lightSources.push(i);
+                        }
                       }
                       this._markSubMeshesAsLightDirty();
                     }),
@@ -48557,15 +48932,18 @@ and limitations under the License.
                     }),
                     (t.prototype._removeLightSource = function (e) {
                       var t = this._lightSources.indexOf(e);
-                      -1 !== t &&
+                      if (-1 !== t) {
                         (this._lightSources.splice(t, 1),
-                        this._markSubMeshesAsLightDirty());
+                          this._markSubMeshesAsLightDirty());
+                      }
                     }),
                     (t.prototype._markSubMeshesAsDirty = function (e) {
                       if (this.subMeshes)
                         for (var t = 0, i = this.subMeshes; t < i.length; t++) {
                           var n = i[t];
-                          n._materialDefines && e(n._materialDefines);
+                          if (n._materialDefines) {
+                            e(n._materialDefines);
+                          }
                         }
                     }),
                     (t.prototype._markSubMeshesAsLightDirty = function () {
@@ -48582,7 +48960,9 @@ and limitations under the License.
                       if (this.subMeshes)
                         for (var e = 0, t = this.subMeshes; e < t.length; e++) {
                           var i = t[e].getMaterial();
-                          i && i.markAsDirty(d.a.MATERIAL_MiscDirtyFlag);
+                          if (i) {
+                            i.markAsDirty(d.a.MATERIAL_MiscDirtyFlag);
+                          }
                         }
                     }),
                     Object.defineProperty(t.prototype, "scaling", {
@@ -48641,13 +49021,14 @@ and limitations under the License.
                       (void 0 === e && (e = true), void 0 === t && (t = false));
                       var i = null,
                         n = null;
-                      t &&
-                        (this.rotationQuaternion
+                      if (t) {
+                        this.rotationQuaternion
                           ? ((n = this.rotationQuaternion.clone()),
                             this.rotationQuaternion.copyFromFloats(0, 0, 0, 1))
                           : this.rotation &&
                             ((i = this.rotation.clone()),
-                            this.rotation.copyFromFloats(0, 0, 0)));
+                            this.rotation.copyFromFloats(0, 0, 0));
+                      }
                       var r = this.getHierarchyBoundingVectors(e),
                         o = r.max.subtract(r.min),
                         a = Math.max(o.x, o.y, o.z);
@@ -48690,12 +49071,12 @@ and limitations under the License.
                       return this._masterMesh &&
                         this.billboardMode === l.a.BILLBOARDMODE_NONE
                         ? this._masterMesh.getWorldMatrix()
-                        : e.prototype.getWorldMatrix.call(this);
+                        : e.prototype.getWorldMatrix();
                     }),
                     (t.prototype._getWorldMatrixDeterminant = function () {
                       return this._masterMesh
                         ? this._masterMesh._getWorldMatrixDeterminant()
-                        : e.prototype._getWorldMatrixDeterminant.call(this);
+                        : e.prototype._getWorldMatrixDeterminant();
                     }),
                     Object.defineProperty(t.prototype, "isAnInstance", {
                       get: function () {
@@ -48779,20 +49160,16 @@ and limitations under the License.
                       var t = this.getVerticesData(c.b.PositionKind);
                       if (t && e && this.skeleton) {
                         ((t = r.h.Slice(t)), this._generatePointsArray());
-                        var i = this.getVerticesData(c.b.MatricesIndicesKind),
-                          n = this.getVerticesData(c.b.MatricesWeightsKind);
+                        var i = this.getVerticesData(c.b.MatricesIndicesKind);
+                        var n = this.getVerticesData(c.b.MatricesWeightsKind);
                         if (n && i) {
-                          var o = this.numBoneInfluencers > 4,
-                            s = o
-                              ? this.getVerticesData(
-                                  c.b.MatricesIndicesExtraKind,
-                                )
-                              : null,
-                            u = o
-                              ? this.getVerticesData(
-                                  c.b.MatricesWeightsExtraKind,
-                                )
-                              : null;
+                          var o = this.numBoneInfluencers > 4;
+                          var s = o
+                            ? this.getVerticesData(c.b.MatricesIndicesExtraKind)
+                            : null;
+                          var u = o
+                            ? this.getVerticesData(c.b.MatricesWeightsExtraKind)
+                            : null;
                           this.skeleton.prepare();
                           for (
                             var l = this.skeleton.getTransformMatrices(this),
@@ -48804,7 +49181,8 @@ and limitations under the License.
                             m < t.length;
                             m += 3, p += 4
                           ) {
-                            var g, _;
+                            var g;
+                            var _;
                             for (f.reset(), g = 0; g < 4; g++)
                               (_ = n[p + g]) > 0 &&
                                 (a.j.FromFloat32ArrayToRefScaled(
@@ -48859,12 +49237,16 @@ and limitations under the License.
                       if (!this.subMeshes) return this;
                       for (var t = this.subMeshes.length, i = 0; i < t; i++) {
                         var n = this.subMeshes[i];
-                        (t > 1 || !n.IsGlobal) && n.updateBoundingInfo(e);
+                        if (t > 1 || !n.IsGlobal) {
+                          n.updateBoundingInfo(e);
+                        }
                       }
                       return this;
                     }),
                     (t.prototype._afterComputeWorldMatrix = function () {
-                      this.doNotSyncBoundingInfo || this._updateBoundingInfo();
+                      if (!this.doNotSyncBoundingInfo) {
+                        this._updateBoundingInfo();
+                      }
                     }),
                     Object.defineProperty(t.prototype, "_effectiveMesh", {
                       get: function () {
@@ -48895,13 +49277,14 @@ and limitations under the License.
                         return false;
                       if (this._boundingInfo.intersects(e._boundingInfo, t))
                         return true;
-                      if (i)
+                      if (i) {
                         for (
                           var n = 0, r = this.getChildMeshes();
                           n < r.length;
                           n++
                         )
                           if (r[n].intersectsMesh(e, t, true)) return true;
+                      }
                       return false;
                     }),
                     (t.prototype.intersectsPoint = function (e) {
@@ -49001,8 +49384,9 @@ and limitations under the License.
                         r++
                       ) {
                         var o = i.data[r];
-                        (n > 1 && !o._checkCollision(e)) ||
+                        if (!(n > 1 && !o._checkCollision(e))) {
                           this._collideForSubMesh(o, t, e);
+                        }
                       }
                       return this;
                     }),
@@ -49076,9 +49460,9 @@ and limitations under the License.
                         }
                       }
                       if (s) {
-                        var p = this.getWorldMatrix(),
-                          m = a.t.Vector3[0],
-                          g = a.t.Vector3[1];
+                        var p = this.getWorldMatrix();
+                        var m = a.t.Vector3[0];
+                        var g = a.t.Vector3[1];
                         (a.x.TransformCoordinatesToRef(e.origin, p, m),
                           e.direction.scaleToRef(s.distance, g));
                         var _ = a.x.TransformNormal(g, p).addInPlace(m);
@@ -49122,8 +49506,8 @@ and limitations under the License.
                         n < this._intersectionsInProgress.length;
                         n++
                       ) {
-                        var o = this._intersectionsInProgress[n],
-                          a = o._intersectionsInProgress.indexOf(this);
+                        var o = this._intersectionsInProgress[n];
+                        var a = o._intersectionsInProgress.indexOf(this);
                         o._intersectionsInProgress.splice(a, 1);
                       }
                       ((this._intersectionsInProgress = []),
@@ -49135,10 +49519,13 @@ and limitations under the License.
                           var i = e.getShadowGenerator();
                           if (i) {
                             var n = i.getShadowMap();
-                            n &&
+                            if (
+                              n &&
                               n.renderList &&
-                              -1 !== (t = n.renderList.indexOf(r)) &&
+                              -1 !== (t = n.renderList.indexOf(r))
+                            ) {
                               n.renderList.splice(t, 1);
+                            }
                           }
                         }),
                         ("InstancedMesh" === this.getClassName() &&
@@ -49172,7 +49559,7 @@ and limitations under the License.
                         this.onCollideObservable.clear(),
                         this.onCollisionPositionChangeObservable.clear(),
                         this.onRebuildObservable.clear(),
-                        e.prototype.dispose.call(this, t, i));
+                        e.prototype.dispose(t, i));
                     }),
                     (t.prototype.addChild = function (e) {
                       return (e.setParent(this), this);
@@ -49200,12 +49587,14 @@ and limitations under the License.
                     }),
                     (t.prototype.updateFacetData = function () {
                       var e = this._internalAbstractMeshDataInfo._facetData;
-                      e.facetDataEnabled || this._initFacetData();
+                      if (!e.facetDataEnabled) {
+                        this._initFacetData();
+                      }
                       var t = this.getVerticesData(c.b.PositionKind),
                         i = this.getIndices(),
                         n = this.getVerticesData(c.b.NormalKind),
                         r = this.getBoundingInfo();
-                      if (e.facetDepthSort && !e.facetDepthSortEnabled) {
+                      if (e.facetDepthSort && !true) {
                         if (
                           ((e.facetDepthSortEnabled = true),
                           i instanceof Uint16Array)
@@ -49283,7 +49672,7 @@ and limitations under the License.
                         (e.facetParameters.ratio = this.partitioningBBoxRatio),
                         (e.facetParameters.depthSort = e.facetDepthSort),
                         e.facetDepthSort &&
-                          e.facetDepthSortEnabled &&
+                          true &&
                           (this.computeWorldMatrix(true),
                           this._worldMatrix.invertToRef(e.invertedMatrix),
                           a.x.TransformCoordinatesToRef(
@@ -49296,7 +49685,7 @@ and limitations under the License.
                         (e.facetParameters.depthSortedFacets =
                           e.depthSortedFacets),
                         u.a.ComputeNormals(t, i, n, e.facetParameters),
-                        e.facetDepthSort && e.facetDepthSortEnabled)
+                        e.facetDepthSort && true)
                       ) {
                         e.depthSortedFacets.sort(e.facetDepthSortFunction);
                         var p = (e.depthSortedIndices.length / 3) | 0;
@@ -49476,7 +49865,7 @@ and limitations under the License.
                     (t.prototype.disableFacetData = function () {
                       var e = this._internalAbstractMeshDataInfo._facetData;
                       return (
-                        e.facetDataEnabled &&
+                        false &&
                           ((e.facetDataEnabled = false),
                           (e.facetPositions = new Array()),
                           (e.facetNormals = new Array()),
@@ -49506,7 +49895,9 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.alignWithNormal = function (e, t) {
-                      t || (t = a.c.Y);
+                      if (!t) {
+                        t = a.c.Y;
+                      }
                       var i = a.t.Vector3[0],
                         n = a.t.Vector3[1];
                       return (
@@ -49643,15 +50034,16 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype.addToSceneRootNodes = function () {
-                      -1 === this._sceneRootNodesIndex &&
+                      if (-1 === this._sceneRootNodesIndex) {
                         ((this._sceneRootNodesIndex =
                           this._scene.rootNodes.length),
-                        this._scene.rootNodes.push(this));
+                          this._scene.rootNodes.push(this));
+                      }
                     }),
                     (e.prototype.removeFromSceneRootNodes = function () {
                       if (-1 !== this._sceneRootNodesIndex) {
-                        var e = this._scene.rootNodes,
-                          t = e.length - 1;
+                        var e = this._scene.rootNodes;
+                        var t = e.length - 1;
                         ((e[this._sceneRootNodesIndex] = e[t]),
                           (e[this._sceneRootNodesIndex]._sceneRootNodesIndex =
                             this._sceneRootNodesIndex),
@@ -49763,9 +50155,10 @@ and limitations under the License.
                       ((this._cache = {}), (this._cache.parent = void 0));
                     }),
                     (e.prototype.updateCache = function (e) {
-                      (!e && this.isSynchronized()) ||
+                      if (!(!e && this.isSynchronized())) {
                         ((this._cache.parent = this.parent),
-                        this._updateCache());
+                          this._updateCache());
+                      }
                     }),
                     (e.prototype._getActionManagerForTrigger = function (e, t) {
                       return (
@@ -49780,9 +50173,9 @@ and limitations under the License.
                       return true;
                     }),
                     (e.prototype._markSyncedWithParent = function () {
-                      this._parentNode &&
-                        (this._parentUpdateId =
-                          this._parentNode._childUpdateId);
+                      if (this._parentNode) {
+                        this._parentUpdateId = this._parentNode._childUpdateId;
+                      }
                     }),
                     (e.prototype.isSynchronizedWithParent = function () {
                       return (
@@ -49855,11 +50248,12 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype._setReady = function (e) {
-                      e !== this._isReady &&
-                        (e
+                      if (e !== this._isReady) {
+                        e
                           ? (this.onReady && this.onReady(this),
                             (this._isReady = true))
-                          : (this._isReady = false));
+                          : (this._isReady = false);
+                      }
                     }),
                     (e.prototype.getAnimationByName = function (e) {
                       for (var t = 0; t < this.animations.length; t++) {
@@ -49877,7 +50271,9 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype.deleteAnimationRange = function (e, t) {
-                      void 0 === t && (t = true);
+                      if (void 0 === t) {
+                        t = true;
+                      }
                       for (var i = 0, n = this.animations.length; i < n; i++)
                         this.animations[i] &&
                           this.animations[i].deleteRange(e, t);
@@ -49990,9 +50386,9 @@ and limitations under the License.
                               c.getBoundingInfo &&
                               0 !== c.getTotalVertices())
                           ) {
-                            var l = c.getBoundingInfo().boundingBox,
-                              h = l.minimumWorld,
-                              f = l.maximumWorld;
+                            var l = c.getBoundingInfo().boundingBox;
+                            var h = l.minimumWorld;
+                            var f = l.maximumWorld;
                             (u.h.CheckExtends(h, i, n),
                               u.h.CheckExtends(f, i, n));
                           }
@@ -50317,14 +50713,17 @@ and limitations under the License.
                           (e._lodTextureLow = this._lodTextureLow)));
                       var t = this._engine.getLoadedTexturesCache(),
                         i = t.indexOf(this);
-                      -1 !== i && t.splice(i, 1);
+                      if (-1 !== i) {
+                        t.splice(i, 1);
+                      }
                     }),
                     (e.prototype.dispose = function () {
-                      this._webGLTexture &&
+                      if (this._webGLTexture) {
                         (this._references--,
-                        0 === this._references &&
-                          (this._engine._releaseTexture(this),
-                          (this._webGLTexture = null)));
+                          0 === this._references &&
+                            (this._engine._releaseTexture(this),
+                            (this._webGLTexture = null)));
+                      }
                     }),
                     (e._UpdateRGBDAsync = function (e, t, i, n, r) {
                       throw a.a.WarnImport("environmentTextureTools");
@@ -50372,10 +50771,7 @@ and limitations under the License.
               var u = (function () {
                 function e(e, t, i, r) {
                   var a = this;
-                  (void 0 === i &&
-                    (i = {
-                      mass: 0,
-                    }),
+                  (void 0 === i && (i = { mass: 0 }),
                     (this.object = e),
                     (this.type = t),
                     (this._options = i),
@@ -50392,61 +50788,63 @@ and limitations under the License.
                     (this._tmpQuat = new o.q()),
                     (this._tmpQuat2 = new o.q()),
                     (this.beforeStep = function () {
-                      a._physicsEngine &&
+                      if (a._physicsEngine) {
                         (a.object.translate(a._deltaPosition, -1),
-                        a._deltaRotationConjugated &&
-                          a.object.rotationQuaternion &&
-                          a.object.rotationQuaternion.multiplyToRef(
-                            a._deltaRotationConjugated,
-                            a.object.rotationQuaternion,
-                          ),
-                        a.object.computeWorldMatrix(false),
-                        a.object.parent && a.object.rotationQuaternion
-                          ? (a.getParentsRotation(),
-                            a._tmpQuat.multiplyToRef(
+                          a._deltaRotationConjugated &&
+                            a.object.rotationQuaternion &&
+                            a.object.rotationQuaternion.multiplyToRef(
+                              a._deltaRotationConjugated,
                               a.object.rotationQuaternion,
-                              a._tmpQuat,
-                            ))
-                          : a._tmpQuat.copyFrom(
-                              a.object.rotationQuaternion || new o.q(),
                             ),
-                        a._options.disableBidirectionalTransformation ||
-                          (a.object.rotationQuaternion &&
-                            a._physicsEngine
-                              .getPhysicsPlugin()
-                              .setPhysicsBodyTransformation(
-                                a,
-                                a.object.getAbsolutePosition(),
+                          a.object.computeWorldMatrix(false),
+                          a.object.parent && a.object.rotationQuaternion
+                            ? (a.getParentsRotation(),
+                              a._tmpQuat.multiplyToRef(
+                                a.object.rotationQuaternion,
                                 a._tmpQuat,
-                              )),
-                        a._onBeforePhysicsStepCallbacks.forEach(function (e) {
-                          e(a);
-                        }));
+                              ))
+                            : a._tmpQuat.copyFrom(
+                                a.object.rotationQuaternion || new o.q(),
+                              ),
+                          a._options.disableBidirectionalTransformation ||
+                            (a.object.rotationQuaternion &&
+                              a._physicsEngine
+                                .getPhysicsPlugin()
+                                .setPhysicsBodyTransformation(
+                                  a,
+                                  a.object.getAbsolutePosition(),
+                                  a._tmpQuat,
+                                )),
+                          a._onBeforePhysicsStepCallbacks.forEach(function (e) {
+                            e(a);
+                          }));
+                      }
                     }),
                     (this.afterStep = function () {
-                      a._physicsEngine &&
+                      if (a._physicsEngine) {
                         (a._onAfterPhysicsStepCallbacks.forEach(function (e) {
                           e(a);
                         }),
-                        a._physicsEngine
-                          .getPhysicsPlugin()
-                          .setTransformationFromPhysicsBody(a),
-                        a.object.parent &&
-                          a.object.rotationQuaternion &&
-                          (a.getParentsRotation(),
-                          a._tmpQuat.conjugateInPlace(),
-                          a._tmpQuat.multiplyToRef(
-                            a.object.rotationQuaternion,
-                            a.object.rotationQuaternion,
-                          )),
-                        a.object.setAbsolutePosition(a.object.position),
-                        a._deltaRotation &&
-                          a.object.rotationQuaternion &&
-                          a.object.rotationQuaternion.multiplyToRef(
-                            a._deltaRotation,
-                            a.object.rotationQuaternion,
-                          ),
-                        a.object.translate(a._deltaPosition, 1));
+                          a._physicsEngine
+                            .getPhysicsPlugin()
+                            .setTransformationFromPhysicsBody(a),
+                          a.object.parent &&
+                            a.object.rotationQuaternion &&
+                            (a.getParentsRotation(),
+                            a._tmpQuat.conjugateInPlace(),
+                            a._tmpQuat.multiplyToRef(
+                              a.object.rotationQuaternion,
+                              a.object.rotationQuaternion,
+                            )),
+                          a.object.setAbsolutePosition(a.object.position),
+                          a._deltaRotation &&
+                            a.object.rotationQuaternion &&
+                            a.object.rotationQuaternion.multiplyToRef(
+                              a._deltaRotation,
+                              a.object.rotationQuaternion,
+                            ),
+                          a.object.translate(a._deltaPosition, 1));
+                      }
                     }),
                     (this.onCollideEvent = null),
                     (this.onCollide = function (e) {
@@ -50458,15 +50856,16 @@ and limitations under the License.
                         var t = a._physicsEngine.getImpostorWithPhysicsBody(
                           e.body,
                         );
-                        t &&
+                        if (t) {
                           (a.onCollideEvent && a.onCollideEvent(a, t),
-                          a._onPhysicsCollideCallbacks
-                            .filter(function (e) {
-                              return -1 !== e.otherImpostors.indexOf(t);
-                            })
-                            .forEach(function (e) {
-                              e.callback(a, t);
-                            }));
+                            a._onPhysicsCollideCallbacks
+                              .filter(function (e) {
+                                return -1 !== e.otherImpostors.indexOf(t);
+                              })
+                              .forEach(function (e) {
+                                e.callback(a, t);
+                              }));
+                        }
                       }
                     }),
                     this.object
@@ -50566,10 +50965,11 @@ and limitations under the License.
                         : 0;
                     },
                     set: function (e) {
-                      this._physicsEngine &&
+                      if (this._physicsEngine) {
                         this._physicsEngine
                           .getPhysicsPlugin()
                           .setBodyFriction(this, e);
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -50583,10 +50983,11 @@ and limitations under the License.
                         : 0;
                     },
                     set: function (e) {
-                      this._physicsEngine &&
+                      if (this._physicsEngine) {
                         this._physicsEngine
                           .getPhysicsPlugin()
                           .setBodyRestitution(this, e);
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -50600,7 +51001,9 @@ and limitations under the License.
                     set: function (e) {
                       if (this._physicsEngine) {
                         var t = this._physicsEngine.getPhysicsPlugin();
-                        t.setBodyPressure && t.setBodyPressure(this, e);
+                        if (t.setBodyPressure) {
+                          t.setBodyPressure(this, e);
+                        }
                       }
                     },
                     enumerable: true,
@@ -50615,7 +51018,9 @@ and limitations under the License.
                     set: function (e) {
                       if (this._physicsEngine) {
                         var t = this._physicsEngine.getPhysicsPlugin();
-                        t.setBodyStiffness && t.setBodyStiffness(this, e);
+                        if (t.setBodyStiffness) {
+                          t.setBodyStiffness(this, e);
+                        }
                       }
                     },
                     enumerable: true,
@@ -50632,8 +51037,9 @@ and limitations under the License.
                     set: function (e) {
                       if (this._physicsEngine) {
                         var t = this._physicsEngine.getPhysicsPlugin();
-                        t.setBodyVelocityIterations &&
+                        if (t.setBodyVelocityIterations) {
                           t.setBodyVelocityIterations(this, e);
+                        }
                       }
                     },
                     enumerable: true,
@@ -50650,21 +51056,24 @@ and limitations under the License.
                     set: function (e) {
                       if (this._physicsEngine) {
                         var t = this._physicsEngine.getPhysicsPlugin();
-                        t.setBodyPositionIterations &&
+                        if (t.setBodyPositionIterations) {
                           t.setBodyPositionIterations(this, e);
+                        }
                       }
                     },
                     enumerable: true,
                     configurable: true,
                   }),
                   (e.prototype._init = function () {
-                    this._physicsEngine &&
+                    if (this._physicsEngine) {
                       (this._physicsEngine.removeImpostor(this),
-                      (this.physicsBody = null),
-                      (this._parent = this._parent || this._getPhysicsParent()),
-                      this._isDisposed ||
-                        (this.parent && !this._options.ignoreParent) ||
-                        this._physicsEngine.addImpostor(this));
+                        (this.physicsBody = null),
+                        (this._parent =
+                          this._parent || this._getPhysicsParent()),
+                        this._isDisposed ||
+                          (this.parent && !this._options.ignoreParent) ||
+                          this._physicsEngine.addImpostor(this));
+                    }
                   }),
                   (e.prototype._getPhysicsParent = function () {
                     return this.object.parent instanceof a.a
@@ -50763,10 +51172,11 @@ and limitations under the License.
                       : o.x.Zero();
                   }),
                   (e.prototype.setLinearVelocity = function (e) {
-                    this._physicsEngine &&
+                    if (this._physicsEngine) {
                       this._physicsEngine
                         .getPhysicsPlugin()
                         .setLinearVelocity(this, e);
+                    }
                   }),
                   (e.prototype.getAngularVelocity = function () {
                     return this._physicsEngine
@@ -50776,17 +51186,19 @@ and limitations under the License.
                       : o.x.Zero();
                   }),
                   (e.prototype.setAngularVelocity = function (e) {
-                    this._physicsEngine &&
+                    if (this._physicsEngine) {
                       this._physicsEngine
                         .getPhysicsPlugin()
                         .setAngularVelocity(this, e);
+                    }
                   }),
                   (e.prototype.executeNativeFunction = function (e) {
-                    this._physicsEngine &&
+                    if (this._physicsEngine) {
                       e(
                         this._physicsEngine.getPhysicsPlugin().world,
                         this.physicsBody,
                       );
+                    }
                   }),
                   (e.prototype.registerBeforePhysicsStep = function (e) {
                     this._onBeforePhysicsStepCallbacks.push(e);
@@ -50920,18 +51332,20 @@ and limitations under the License.
                   }),
                   (e.prototype.dispose = function () {
                     var e = this;
-                    this._physicsEngine &&
+                    if (this._physicsEngine) {
                       (this._joints.forEach(function (t) {
-                        e._physicsEngine &&
+                        if (e._physicsEngine) {
                           e._physicsEngine.removeJoint(
                             e,
                             t.otherImpostor,
                             t.joint,
                           );
+                        }
                       }),
-                      this._physicsEngine.removeImpostor(this),
-                      this.parent && this.parent.forceUpdate(),
-                      (this._isDisposed = true));
+                        this._physicsEngine.removeImpostor(this),
+                        this.parent && this.parent.forceUpdate(),
+                        (this._isDisposed = true));
+                    }
                   }),
                   (e.prototype.setDeltaPosition = function (e) {
                     this._deltaPosition.copyFrom(e);
@@ -51077,8 +51491,9 @@ and limitations under the License.
                     }),
                     (e.prototype.concat = function (e) {
                       if (0 !== e.length) {
-                        this.length + e.length > this.data.length &&
-                          (this.data.length = 2 * (this.length + e.length));
+                        if (this.length + e.length > this.data.length) {
+                          this.data.length = 2 * (this.length + e.length);
+                        }
                         for (var t = 0; t < e.length; t++)
                           this.data[this.length++] = (e.data || e)[t];
                       }
@@ -51096,13 +51511,13 @@ and limitations under the License.
                 })(),
                 o = (function (e) {
                   function t() {
-                    var t = (null !== e && e.apply(this, arguments)) || this;
+                    var t = (null !== e && e()) || this;
                     return ((t._duplicateId = 0), t);
                   }
                   return (
                     n.d(t, e),
                     (t.prototype.push = function (t) {
-                      (e.prototype.push.call(this, t),
+                      (e.prototype.push(t),
                         t.__smartArrayFlags || (t.__smartArrayFlags = {}),
                         (t.__smartArrayFlags[this._id] = this._duplicateId));
                     }),
@@ -51115,12 +51530,13 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.reset = function () {
-                      (e.prototype.reset.call(this), this._duplicateId++);
+                      (e.prototype.reset(), this._duplicateId++);
                     }),
                     (t.prototype.concatWithNoDuplicate = function (e) {
                       if (0 !== e.length) {
-                        this.length + e.length > this.data.length &&
-                          (this.data.length = 2 * (this.length + e.length));
+                        if (this.length + e.length > this.data.length) {
+                          this.data.length = 2 * (this.length + e.length);
+                        }
                         for (var t = 0; t < e.length; t++) {
                           var i = (e.data || e)[t];
                           this.pushNoDuplicate(i);
@@ -51179,19 +51595,22 @@ and limitations under the License.
                       return e._tags;
                     }),
                     (e.AddTagsTo = function (t, i) {
-                      i &&
-                        "string" == typeof i &&
+                      if (i && "string" == typeof i) {
                         i.split(" ").forEach(function (i, n, r) {
                           e._AddTagTo(t, i);
                         });
+                      }
                     }),
                     (e._AddTagTo = function (t, i) {
-                      "" !== (i = i.trim()) &&
+                      if (
+                        "" !== (i = i.trim()) &&
                         "true" !== i &&
-                        "false" !== i &&
-                        (i.match(/[\s]/) ||
+                        "false" !== i
+                      ) {
+                        i.match(/[\s]/) ||
                           i.match(/^([!]|([|]|[&]){2})/) ||
-                          (e.EnableFor(t), (t._tags[i] = true)));
+                          (e.EnableFor(t), (t._tags[i] = true));
+                      }
                     }),
                     (e.RemoveTagsFrom = function (t, i) {
                       if (e.HasTags(t)) {
@@ -51285,7 +51704,7 @@ and limitations under the License.
                 u = i(93),
                 l = (function (e) {
                   function t() {
-                    var t = e.call(this) || this;
+                    var t = e() || this;
                     return (
                       (t.IMAGEPROCESSING = false),
                       (t.VIGNETTE = false),
@@ -51336,9 +51755,10 @@ and limitations under the License.
                         return this._colorCurvesEnabled;
                       },
                       set: function (e) {
-                        this._colorCurvesEnabled !== e &&
+                        if (this._colorCurvesEnabled !== e) {
                           ((this._colorCurvesEnabled = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51348,9 +51768,10 @@ and limitations under the License.
                         return this._colorGradingTexture;
                       },
                       set: function (e) {
-                        this._colorGradingTexture !== e &&
+                        if (this._colorGradingTexture !== e) {
                           ((this._colorGradingTexture = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51360,9 +51781,10 @@ and limitations under the License.
                         return this._colorGradingEnabled;
                       },
                       set: function (e) {
-                        this._colorGradingEnabled !== e &&
+                        if (this._colorGradingEnabled !== e) {
                           ((this._colorGradingEnabled = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51375,9 +51797,10 @@ and limitations under the License.
                           return this._colorGradingWithGreenDepth;
                         },
                         set: function (e) {
-                          this._colorGradingWithGreenDepth !== e &&
+                          if (this._colorGradingWithGreenDepth !== e) {
                             ((this._colorGradingWithGreenDepth = e),
-                            this._updateParameters());
+                              this._updateParameters());
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -51388,9 +51811,10 @@ and limitations under the License.
                         return this._colorGradingBGR;
                       },
                       set: function (e) {
-                        this._colorGradingBGR !== e &&
+                        if (this._colorGradingBGR !== e) {
                           ((this._colorGradingBGR = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51400,8 +51824,9 @@ and limitations under the License.
                         return this._exposure;
                       },
                       set: function (e) {
-                        this._exposure !== e &&
+                        if (this._exposure !== e) {
                           ((this._exposure = e), this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51411,9 +51836,10 @@ and limitations under the License.
                         return this._toneMappingEnabled;
                       },
                       set: function (e) {
-                        this._toneMappingEnabled !== e &&
+                        if (this._toneMappingEnabled !== e) {
                           ((this._toneMappingEnabled = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51423,9 +51849,10 @@ and limitations under the License.
                         return this._toneMappingType;
                       },
                       set: function (e) {
-                        this._toneMappingType !== e &&
+                        if (this._toneMappingType !== e) {
                           ((this._toneMappingType = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51435,8 +51862,9 @@ and limitations under the License.
                         return this._contrast;
                       },
                       set: function (e) {
-                        this._contrast !== e &&
+                        if (this._contrast !== e) {
                           ((this._contrast = e), this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51446,9 +51874,10 @@ and limitations under the License.
                         return this._vignetteBlendMode;
                       },
                       set: function (e) {
-                        this._vignetteBlendMode !== e &&
+                        if (this._vignetteBlendMode !== e) {
                           ((this._vignetteBlendMode = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51458,9 +51887,10 @@ and limitations under the License.
                         return this._vignetteEnabled;
                       },
                       set: function (e) {
-                        this._vignetteEnabled !== e &&
+                        if (this._vignetteEnabled !== e) {
                           ((this._vignetteEnabled = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51470,9 +51900,10 @@ and limitations under the License.
                         return this._applyByPostProcess;
                       },
                       set: function (e) {
-                        this._applyByPostProcess !== e &&
+                        if (this._applyByPostProcess !== e) {
                           ((this._applyByPostProcess = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51482,8 +51913,9 @@ and limitations under the License.
                         return this._isEnabled;
                       },
                       set: function (e) {
-                        this._isEnabled !== e &&
+                        if (this._isEnabled !== e) {
                           ((this._isEnabled = e), this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -51505,7 +51937,9 @@ and limitations under the License.
                         t.COLORCURVES && u.a.PrepareUniforms(e));
                     }),
                     (e.PrepareSamplers = function (e, t) {
-                      t.COLORGRADING && e.push("txColorTransform");
+                      if (t.COLORGRADING) {
+                        e.push("txColorTransform");
+                      }
                     }),
                     (e.prototype.prepareDefines = function (t, i) {
                       if (
@@ -51556,8 +51990,8 @@ and limitations under the License.
                         (t.IMAGEPROCESSINGPOSTPROCESS =
                           this.applyByPostProcess),
                         (t.IMAGEPROCESSING =
-                          t.VIGNETTE ||
-                          t.TONEMAPPING ||
+                          false ||
+                          false ||
                           t.CONTRAST ||
                           t.EXPOSURE ||
                           t.COLORCURVES ||
@@ -51578,12 +52012,12 @@ and limitations under the License.
                           u.a.Bind(this.colorCurves, e),
                         this._vignetteEnabled)
                       ) {
-                        var i = 1 / e.getEngine().getRenderWidth(),
-                          n = 1 / e.getEngine().getRenderHeight();
+                        var i = 1 / e.getEngine().getRenderWidth();
+                        var n = 1 / e.getEngine().getRenderHeight();
                         e.setFloat2("vInverseScreenSize", i, n);
-                        var r = Math.tan(0.5 * this.vignetteCameraFov),
-                          o = r * t,
-                          s = Math.sqrt(o * r);
+                        var r = Math.tan(0.5 * this.vignetteCameraFov);
+                        var o = r * t;
+                        var s = Math.sqrt(o * r);
                         ((o = a.h.Mix(o, s, this.vignetteStretch)),
                           (r = a.h.Mix(r, s, this.vignetteStretch)),
                           e.setFloat4(
@@ -51777,8 +52211,8 @@ and limitations under the License.
                           ("_" !== o[0] || (r && -1 !== r.indexOf(o))) &&
                           (!i || -1 === i.indexOf(o))
                         ) {
-                          var a = e[o],
-                            s = c(a);
+                          var a = e[o];
+                          var s = c(a);
                           if ("function" !== s)
                             try {
                               if ("object" === s)
@@ -51787,7 +52221,9 @@ and limitations under the License.
                                     if ("object" == c(a[0]))
                                       for (var u = 0; u < a.length; u++) {
                                         var l = n(a[u], t);
-                                        -1 === t[o].indexOf(l) && t[o].push(l);
+                                        if (-1 === t[o].indexOf(l)) {
+                                          t[o].push(l);
+                                        }
                                       }
                                     else t[o] = a.slice(0);
                                 } else t[o] = n(a, t);
@@ -51815,7 +52251,6 @@ and limitations under the License.
               var p = getterFunc(7);
               var m = getterFunc(22);
               var g = getterFunc(18);
-
               l.a.IncludesShadersStore.defaultFragmentDeclaration =
                 "uniform vec4 vDiffuseColor;\n#ifdef SPECULARTERM\nuniform vec4 vSpecularColor;\n#endif\nuniform vec3 vEmissiveColor;\nuniform float visibility;\n\n#ifdef DIFFUSE\nuniform vec2 vDiffuseInfos;\n#endif\n#ifdef AMBIENT\nuniform vec2 vAmbientInfos;\n#endif\n#ifdef OPACITY\nuniform vec2 vOpacityInfos;\n#endif\n#ifdef EMISSIVE\nuniform vec2 vEmissiveInfos;\n#endif\n#ifdef LIGHTMAP\nuniform vec2 vLightmapInfos;\n#endif\n#ifdef BUMP\nuniform vec3 vBumpInfos;\nuniform vec2 vTangentSpaceParams;\n#endif\n#if defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_PROJECTION) || defined(REFRACTION)\nuniform mat4 view;\n#endif\n#ifdef REFRACTION\nuniform vec4 vRefractionInfos;\n#ifndef REFRACTIONMAP_3D\nuniform mat4 refractionMatrix;\n#endif\n#ifdef REFRACTIONFRESNEL\nuniform vec4 refractionLeftColor;\nuniform vec4 refractionRightColor;\n#endif\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM)\nuniform vec2 vSpecularInfos;\n#endif\n#ifdef DIFFUSEFRESNEL\nuniform vec4 diffuseLeftColor;\nuniform vec4 diffuseRightColor;\n#endif\n#ifdef OPACITYFRESNEL\nuniform vec4 opacityParts;\n#endif\n#ifdef EMISSIVEFRESNEL\nuniform vec4 emissiveLeftColor;\nuniform vec4 emissiveRightColor;\n#endif\n\n#ifdef REFLECTION\nuniform vec2 vReflectionInfos;\n#if defined(REFLECTIONMAP_PLANAR) || defined(REFLECTIONMAP_CUBIC) || defined(REFLECTIONMAP_PROJECTION) || defined(REFLECTIONMAP_EQUIRECTANGULAR) || defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_SKYBOX)\nuniform mat4 reflectionMatrix;\n#endif\n#ifndef REFLECTIONMAP_SKYBOX\n#if defined(USE_LOCAL_REFLECTIONMAP_CUBIC) && defined(REFLECTIONMAP_CUBIC)\nuniform vec3 vReflectionPosition;\nuniform vec3 vReflectionSize;\n#endif\n#endif\n#ifdef REFLECTIONFRESNEL\nuniform vec4 reflectionLeftColor;\nuniform vec4 reflectionRightColor;\n#endif\n#endif";
               ((l.a.IncludesShadersStore.defaultUboDeclaration =
@@ -51872,7 +52307,7 @@ and limitations under the License.
                 }));
               var v = (function (e) {
                   function t() {
-                    var t = e.call(this) || this;
+                    var t = e() || this;
                     return (
                       (t.MAINUV1 = false),
                       (t.MAINUV2 = false),
@@ -52002,7 +52437,7 @@ and limitations under the License.
                 })(h.a),
                 y = (function (e) {
                   function t(i, n) {
-                    var r = e.call(this, i, n) || this;
+                    var r = e(i, n) || this;
                     return (
                       (r._diffuseTexture = null),
                       (r._ambientTexture = null),
@@ -52080,21 +52515,23 @@ and limitations under the License.
                     (t.prototype._attachImageProcessingConfiguration =
                       function (e) {
                         var t = this;
-                        e !== this._imageProcessingConfiguration &&
+                        if (e !== this._imageProcessingConfiguration) {
                           (this._imageProcessingConfiguration &&
                             this._imageProcessingObserver &&
                             this._imageProcessingConfiguration.onUpdateParameters.remove(
                               this._imageProcessingObserver,
                             ),
-                          (this._imageProcessingConfiguration =
-                            e || this.getScene().imageProcessingConfiguration),
-                          this._imageProcessingConfiguration &&
-                            (this._imageProcessingObserver =
-                              this._imageProcessingConfiguration.onUpdateParameters.add(
-                                function () {
-                                  t._markAllSubMeshesAsImageProcessingDirty();
-                                },
-                              )));
+                            (this._imageProcessingConfiguration =
+                              e ||
+                              this.getScene().imageProcessingConfiguration),
+                            this._imageProcessingConfiguration &&
+                              (this._imageProcessingObserver =
+                                this._imageProcessingConfiguration.onUpdateParameters.add(
+                                  function () {
+                                    t._markAllSubMeshesAsImageProcessingDirty();
+                                  },
+                                )));
+                        }
                       }),
                     Object.defineProperty(
                       t.prototype,
@@ -52261,7 +52698,9 @@ and limitations under the License.
                         i.effect && this.isFrozen && this._wasPreviouslyReady)
                       )
                         return true;
-                      i._materialDefines || (i._materialDefines = new v());
+                      if (!i._materialDefines) {
+                        i._materialDefines = new v();
+                      }
                       var r = this.getScene(),
                         o = i._materialDefines;
                       if (
@@ -52563,76 +53002,76 @@ and limitations under the License.
                           d.a.PrepareAttributesForBones(h, e, o, s),
                           d.a.PrepareAttributesForInstances(h, o),
                           d.a.PrepareAttributesForMorphTargets(h, e, o));
-                        var f = "default",
-                          m = [
-                            "world",
-                            "view",
-                            "viewProjection",
-                            "vEyePosition",
-                            "vLightsType",
-                            "vAmbientColor",
-                            "vDiffuseColor",
-                            "vSpecularColor",
-                            "vEmissiveColor",
-                            "visibility",
-                            "vFogInfos",
-                            "vFogColor",
-                            "pointSize",
-                            "vDiffuseInfos",
-                            "vAmbientInfos",
-                            "vOpacityInfos",
-                            "vReflectionInfos",
-                            "vEmissiveInfos",
-                            "vSpecularInfos",
-                            "vBumpInfos",
-                            "vLightmapInfos",
-                            "vRefractionInfos",
-                            "mBones",
-                            "vClipPlane",
-                            "vClipPlane2",
-                            "vClipPlane3",
-                            "vClipPlane4",
-                            "diffuseMatrix",
-                            "ambientMatrix",
-                            "opacityMatrix",
-                            "reflectionMatrix",
-                            "emissiveMatrix",
-                            "specularMatrix",
-                            "bumpMatrix",
-                            "normalMatrix",
-                            "lightmapMatrix",
-                            "refractionMatrix",
-                            "diffuseLeftColor",
-                            "diffuseRightColor",
-                            "opacityParts",
-                            "reflectionLeftColor",
-                            "reflectionRightColor",
-                            "emissiveLeftColor",
-                            "emissiveRightColor",
-                            "refractionLeftColor",
-                            "refractionRightColor",
-                            "vReflectionPosition",
-                            "vReflectionSize",
-                            "logarithmicDepthConstant",
-                            "vTangentSpaceParams",
-                            "alphaCutOff",
-                            "boneTextureWidth",
-                          ],
-                          g = [
-                            "diffuseSampler",
-                            "ambientSampler",
-                            "opacitySampler",
-                            "reflectionCubeSampler",
-                            "reflection2DSampler",
-                            "emissiveSampler",
-                            "specularSampler",
-                            "bumpSampler",
-                            "lightmapSampler",
-                            "refractionCubeSampler",
-                            "refraction2DSampler",
-                            "boneSampler",
-                          ],
-                          y = ["Material", "Scene"];
+                        var f = "default";
+                        var m = [
+                          "world",
+                          "view",
+                          "viewProjection",
+                          "vEyePosition",
+                          "vLightsType",
+                          "vAmbientColor",
+                          "vDiffuseColor",
+                          "vSpecularColor",
+                          "vEmissiveColor",
+                          "visibility",
+                          "vFogInfos",
+                          "vFogColor",
+                          "pointSize",
+                          "vDiffuseInfos",
+                          "vAmbientInfos",
+                          "vOpacityInfos",
+                          "vReflectionInfos",
+                          "vEmissiveInfos",
+                          "vSpecularInfos",
+                          "vBumpInfos",
+                          "vLightmapInfos",
+                          "vRefractionInfos",
+                          "mBones",
+                          "vClipPlane",
+                          "vClipPlane2",
+                          "vClipPlane3",
+                          "vClipPlane4",
+                          "diffuseMatrix",
+                          "ambientMatrix",
+                          "opacityMatrix",
+                          "reflectionMatrix",
+                          "emissiveMatrix",
+                          "specularMatrix",
+                          "bumpMatrix",
+                          "normalMatrix",
+                          "lightmapMatrix",
+                          "refractionMatrix",
+                          "diffuseLeftColor",
+                          "diffuseRightColor",
+                          "opacityParts",
+                          "reflectionLeftColor",
+                          "reflectionRightColor",
+                          "emissiveLeftColor",
+                          "emissiveRightColor",
+                          "refractionLeftColor",
+                          "refractionRightColor",
+                          "vReflectionPosition",
+                          "vReflectionSize",
+                          "logarithmicDepthConstant",
+                          "vTangentSpaceParams",
+                          "alphaCutOff",
+                          "boneTextureWidth",
+                        ];
+                        var g = [
+                          "diffuseSampler",
+                          "ambientSampler",
+                          "opacitySampler",
+                          "reflectionCubeSampler",
+                          "reflection2DSampler",
+                          "emissiveSampler",
+                          "specularSampler",
+                          "bumpSampler",
+                          "lightmapSampler",
+                          "refractionCubeSampler",
+                          "refraction2DSampler",
+                          "boneSampler",
+                        ];
+                        var y = ["Material", "Scene"];
                         (u.a &&
                           (u.a.PrepareUniforms(m, o),
                           u.a.PrepareSamplers(g, o)),
@@ -52645,34 +53084,35 @@ and limitations under the License.
                           }),
                           this.customShaderNameResolve &&
                             (f = this.customShaderNameResolve(f, m, y, g, o)));
-                        var b = o.toString(),
-                          E = i.effect,
-                          T = r.getEngine().createEffect(
-                            f,
-                            {
-                              attributes: h,
-                              uniformsNames: m,
-                              uniformBuffersNames: y,
-                              samplers: g,
-                              defines: b,
-                              fallbacks: s,
-                              onCompiled: this.onCompiled,
-                              onError: this.onError,
-                              indexParameters: {
-                                maxSimultaneousLights:
-                                  this._maxSimultaneousLights,
-                                maxSimultaneousMorphTargets:
-                                  o.NUM_MORPH_INFLUENCERS,
-                              },
+                        var b = o.toString();
+                        var E = i.effect;
+                        var T = r.getEngine().createEffect(
+                          f,
+                          {
+                            attributes: h,
+                            uniformsNames: m,
+                            uniformBuffersNames: y,
+                            samplers: g,
+                            defines: b,
+                            fallbacks: s,
+                            onCompiled: this.onCompiled,
+                            onError: this.onError,
+                            indexParameters: {
+                              maxSimultaneousLights:
+                                this._maxSimultaneousLights,
+                              maxSimultaneousMorphTargets:
+                                o.NUM_MORPH_INFLUENCERS,
                             },
-                            a,
-                          );
-                        T &&
-                          (this.allowShaderHotSwapping && E && !T.isReady()
+                          },
+                          a,
+                        );
+                        if (T) {
+                          this.allowShaderHotSwapping && E && !T.isReady()
                             ? ((T = E), o.markAsUnprocessed())
                             : (r.resetCachedMaterial(),
                               i.setEffect(T, o),
-                              this.buildUniformLayout()));
+                              this.buildUniformLayout());
+                        }
                       }
                       return !(
                         !i.effect ||
@@ -52740,7 +53180,7 @@ and limitations under the License.
                             (t = true)),
                           t && this._markAllSubMeshesAsTexturesDirty());
                       }
-                      e.prototype.unbind.call(this);
+                      e.prototype.unbind();
                     }),
                     (t.prototype.bindForSubMesh = function (e, i, n) {
                       var r = this.getScene(),
@@ -53150,7 +53590,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.getActiveTextures = function () {
-                      var t = e.prototype.getActiveTextures.call(this);
+                      var t = e.prototype.getActiveTextures();
                       return (
                         this._diffuseTexture && t.push(this._diffuseTexture),
                         this._ambientTexture && t.push(this._ambientTexture),
@@ -53168,7 +53608,7 @@ and limitations under the License.
                     }),
                     (t.prototype.hasTexture = function (t) {
                       return (
-                        !!e.prototype.hasTexture.call(this, t) ||
+                        !!e.prototype.hasTexture(t) ||
                         this._diffuseTexture === t ||
                         this._ambientTexture === t ||
                         this._opacityTexture === t ||
@@ -53201,7 +53641,7 @@ and limitations under the License.
                           this._imageProcessingConfiguration.onUpdateParameters.remove(
                             this._imageProcessingObserver,
                           ),
-                        e.prototype.dispose.call(this, t, i));
+                        e.prototype.dispose(t, i));
                     }),
                     (t.prototype.clone = function (e) {
                       var i = this,
@@ -53913,7 +54353,7 @@ and limitations under the License.
                 })(),
                 o = (function (e) {
                   function t(t) {
-                    return e.call(this, r.DistanceJoint, t) || this;
+                    return e(r.DistanceJoint, t) || this;
                   }
                   return (
                     n.d(t, e),
@@ -53925,7 +54365,7 @@ and limitations under the License.
                 })(r),
                 a = (function (e) {
                   function t(t, i) {
-                    return e.call(this, t, i) || this;
+                    return e(t, i) || this;
                   }
                   return (
                     n.d(t, e),
@@ -53940,7 +54380,7 @@ and limitations under the License.
                 })(r),
                 s = (function (e) {
                   function t(t) {
-                    return e.call(this, r.HingeJoint, t) || this;
+                    return e(r.HingeJoint, t) || this;
                   }
                   return (
                     n.d(t, e),
@@ -53955,7 +54395,7 @@ and limitations under the License.
                 })(a),
                 c = (function (e) {
                   function t(t) {
-                    return e.call(this, r.Hinge2Joint, t) || this;
+                    return e(r.Hinge2Joint, t) || this;
                   }
                   return (
                     n.d(t, e),
@@ -53984,7 +54424,7 @@ and limitations under the License.
                 c = i(22),
                 u = (function (e) {
                   function t(i, n) {
-                    var r = e.call(this, i, n) || this;
+                    var r = e(i, n) || this;
                     return (
                       (r.diffuse = new o.e(1, 1, 1)),
                       (r.specular = new o.e(1, 1, 1)),
@@ -54052,9 +54492,10 @@ and limitations under the License.
                         return this._shadowEnabled;
                       },
                       set: function (e) {
-                        this._shadowEnabled !== e &&
+                        if (this._shadowEnabled !== e) {
                           ((this._shadowEnabled = e),
-                          this._markMeshesAsLightDirty());
+                            this._markMeshesAsLightDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -54112,9 +54553,10 @@ and limitations under the License.
                         return this._lightmapMode;
                       },
                       set: function (e) {
-                        this._lightmapMode !== e &&
+                        if (this._lightmapMode !== e) {
                           ((this._lightmapMode = e),
-                          this._markMeshesAsLightDirty());
+                            this._markMeshesAsLightDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -54138,12 +54580,11 @@ and limitations under the License.
                       return t;
                     }),
                     (t.prototype._syncParentEnabledState = function () {
-                      (e.prototype._syncParentEnabledState.call(this),
+                      (e.prototype._syncParentEnabledState(),
                         this._resyncMeshes());
                     }),
                     (t.prototype.setEnabled = function (t) {
-                      (e.prototype.setEnabled.call(this, t),
-                        this._resyncMeshes());
+                      (e.prototype.setEnabled(t), this._resyncMeshes());
                     }),
                     (t.prototype.getShadowGenerator = function () {
                       return this._shadowGenerator;
@@ -54186,7 +54627,7 @@ and limitations under the License.
                         r[n]._removeLightSource(this);
                       (this._uniformBuffer.dispose(),
                         this.getScene().removeLight(this),
-                        e.prototype.dispose.call(this, t, i));
+                        e.prototype.dispose(t, i));
                     }),
                     (t.prototype.getTypeID = function () {
                       return 0;
@@ -54242,9 +54683,11 @@ and limitations under the License.
                         e.animations)
                       ) {
                         for (var s = 0; s < e.animations.length; s++) {
-                          var u = e.animations[s],
-                            l = c.a.GetClass("BABYLON.Animation");
-                          l && o.animations.push(l.Parse(u));
+                          var u = e.animations[s];
+                          var l = c.a.GetClass("BABYLON.Animation");
+                          if (l) {
+                            o.animations.push(l.Parse(u));
+                          }
                         }
                         a.a.ParseAnimationRanges(o, e, i);
                       }
@@ -54318,8 +54761,9 @@ and limitations under the License.
                         e++
                       ) {
                         var i = t[e];
-                        -1 !== i.lightSources.indexOf(this) &&
+                        if (-1 !== i.lightSources.indexOf(this)) {
                           i._markSubMeshesAsLightDirty();
+                        }
                       }
                     }),
                     (t.prototype._computePhotometricScale = function () {
@@ -54447,7 +54891,6 @@ and limitations under the License.
               var a = getterFunc(81);
               var vec3Math = getterFunc(16);
               var c = getterFunc(21);
-
               var u = (function () {
                 function e(e, t, i) {
                   (void 0 === i && (i = Number.MAX_VALUE),
@@ -54457,7 +54900,9 @@ and limitations under the License.
                 }
                 return (
                   (e.prototype.intersectsBoxMinMax = function (t, i, n) {
-                    void 0 === n && (n = 0);
+                    if (void 0 === n) {
+                      n = 0;
+                    }
                     var r,
                       o,
                       a,
@@ -54516,7 +54961,9 @@ and limitations under the License.
                     );
                   }),
                   (e.prototype.intersectsSphere = function (e, t) {
-                    void 0 === t && (t = 0);
+                    if (void 0 === t) {
+                      t = 0;
+                    }
                     var i = e.center.x - this.origin.x,
                       n = e.center.y - this.origin.y,
                       r = e.center.z - this.origin.z,
@@ -54576,7 +55023,9 @@ and limitations under the License.
                     i ? (i.length = 0) : (i = []);
                     for (var n = 0; n < e.length; n++) {
                       var r = this.intersectsMesh(e[n], t);
-                      r.hit && i.push(r);
+                      if (r.hit) {
+                        i.push(r);
+                      }
                     }
                     return (i.sort(this._comparePickingInfo), i);
                   }),
@@ -54614,23 +55063,23 @@ and limitations under the License.
                       : ((d = p * v - m * _),
                         (h = m * v - g * _) < 0
                           ? ((h = 0), (d = v), (E = g))
-                          : h > b && ((h = b), (d = v + m), (E = g))),
+                          : h > y && ((h = y), (d = v + m), (E = g))),
                       d < 0
                         ? ((d = 0),
                           -_ < 0
                             ? (h = 0)
                             : -_ > p
-                              ? (h = b)
+                              ? (h = y)
                               : ((h = -_), (b = p)))
-                        : d > E &&
-                          ((d = E),
+                        : d > y &&
+                          ((d = y),
                           -_ + m < 0
                             ? (h = 0)
                             : -_ + m > p
-                              ? (h = b)
+                              ? (h = y)
                               : ((h = -_ + m), (b = p))),
-                      (l = Math.abs(h) < e.smallnum ? 0 : h / b),
-                      (f = Math.abs(d) < e.smallnum ? 0 : d / E));
+                      (l = Math.abs(h) < e.smallnum ? 0 : h / y),
+                      (f = Math.abs(d) < e.smallnum ? 0 : d / y));
                     var T = r.t.Vector3[4];
                     c.scaleToRef(f, T);
                     var A = r.t.Vector3[5];
@@ -54653,7 +55102,9 @@ and limitations under the License.
                     return e.Zero().update(t, i, n, r, o, a, s);
                   }),
                   (e.CreateNewFromTo = function (t, i, n) {
-                    void 0 === n && (n = r.j.IdentityReadOnly);
+                    if (void 0 === n) {
+                      n = r.j.IdentityReadOnly;
+                    }
                     var o = i.subtract(t),
                       a = Math.sqrt(o.x * o.x + o.y * o.y + o.z * o.z);
                     return (o.normalize(), e.Transform(new e(t, o, a), n));
@@ -54710,7 +55161,9 @@ and limitations under the License.
                 n,
                 r,
               ) {
-                void 0 === r && (r = false);
+                if (void 0 === r) {
+                  r = false;
+                }
                 var o = u.Zero();
                 return (this.createPickingRayToRef(e, t, i, o, n, r), o);
               }),
@@ -54722,7 +55175,9 @@ and limitations under the License.
                   o,
                   a,
                 ) {
-                  void 0 === a && (a = false);
+                  if (void 0 === a) {
+                    a = false;
+                  }
                   var s = this.getEngine();
                   if (!o) {
                     if (!this.activeCamera)
@@ -54800,8 +55255,8 @@ and limitations under the License.
                       if (!t(s)) continue;
                     } else if (!s.isEnabled() || !s.isVisible || !s.isPickable)
                       continue;
-                    var c = e(s.getWorldMatrix()),
-                      u = s.intersects(c, i, n);
+                    var c = e(s.getWorldMatrix());
+                    var u = s.intersects(c, i, n);
                     if (
                       u &&
                       u.hit &&
@@ -54824,9 +55279,11 @@ and limitations under the License.
                       if (!t(a)) continue;
                     } else if (!a.isEnabled() || !a.isVisible || !a.isPickable)
                       continue;
-                    var s = e(a.getWorldMatrix()),
-                      c = a.intersects(s, false, i);
-                    c && c.hit && n.push(c);
+                    var s = e(a.getWorldMatrix());
+                    var c = a.intersects(s, false, i);
+                    if (c && c.hit) {
+                      n.push(c);
+                    }
                   }
                   return n;
                 }),
@@ -55022,7 +55479,9 @@ and limitations under the License.
                   return c.CreateLines(e, o, i);
                 }),
                 (r.a.CreateDashedLines = function (e, t, i, n, r, o, a, s) {
-                  void 0 === o && (o = null);
+                  if (void 0 === o) {
+                    o = null;
+                  }
                   var u = {
                     points: t,
                     dashSize: i,
@@ -55041,10 +55500,12 @@ and limitations under the License.
                       r = t.lines,
                       c = t.colors;
                     if (n) {
-                      var u,
-                        l,
-                        h = n.getVerticesData(s.b.PositionKind);
-                      c && (u = n.getVerticesData(s.b.ColorKind));
+                      var u;
+                      var l;
+                      var h = n.getVerticesData(s.b.PositionKind);
+                      if (c) {
+                        u = n.getVerticesData(s.b.ColorKind);
+                      }
                       for (var f = 0, d = 0, p = 0; p < r.length; p++)
                         for (var m = r[p], g = 0; g < m.length; g++)
                           ((h[f] = m[g].x),
@@ -55083,7 +55544,9 @@ and limitations under the License.
                     );
                   }),
                   (e.CreateLines = function (t, i, n) {
-                    void 0 === n && (n = null);
+                    if (void 0 === n) {
+                      n = null;
+                    }
                     var r = i.colors ? [i.colors] : null;
                     return e.CreateLineSystem(
                       t,
@@ -55098,7 +55561,9 @@ and limitations under the License.
                     );
                   }),
                   (e.CreateDashedLines = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var s = t.points,
                       c = t.instance,
                       u = t.gapSize || 1,
@@ -55249,11 +55714,10 @@ and limitations under the License.
                                   (t.skipOnPointerObservable = true));
                               else {
                                 var s = t.ray
-                                    ? e.pickWithRay(t.ray)
-                                    : e.pick(e.pointerX, e.pointerY),
-                                  c = t.event;
-                                s &&
-                                  a &&
+                                  ? e.pickWithRay(t.ray)
+                                  : e.pick(e.pointerX, e.pointerY);
+                                var c = t.event;
+                                if (s && a) {
                                   (0 === a.distance && s.pickedMesh
                                     ? i.mainSceneTrackerPredicate &&
                                       i.mainSceneTrackerPredicate(s.pickedMesh)
@@ -55291,9 +55755,11 @@ and limitations under the License.
                                             delete i._lastPointerEvents[
                                               c.pointerId
                                             ])),
-                                  t.type === o.a.POINTERUP &&
-                                    i._pointerCaptures[c.pointerId] &&
-                                    (i._pointerCaptures[c.pointerId] = false));
+                                    t.type === o.a.POINTERUP &&
+                                      i._pointerCaptures[c.pointerId] &&
+                                      (i._pointerCaptures[c.pointerId] =
+                                        false));
+                                }
                               }
                             }
                           }
@@ -55306,7 +55772,9 @@ and limitations under the License.
                     (this._afterRenderObserver =
                       this.originalScene.onAfterRenderObservable.add(
                         function () {
-                          i.shouldRender && i.render();
+                          if (i.shouldRender) {
+                            i.render();
+                          }
                         },
                       )),
                     (this._sceneDisposeObserver =
@@ -55367,19 +55835,20 @@ and limitations under the License.
                     configurable: true,
                   }),
                   (e.prototype._notifyObservers = function (e, t, i) {
-                    e.skipOnPointerObservable ||
+                    if (!e.skipOnPointerObservable) {
                       (this.utilityLayerScene.onPointerObservable.notifyObservers(
                         new o.b(e.type, e.event, t),
                       ),
-                      (this._lastPointerEvents[i.pointerId] = true));
+                        (this._lastPointerEvents[i.pointerId] = true));
+                    }
                   }),
                   (e.prototype.render = function () {
                     if (
                       (this._updateCamera(),
                       this.utilityLayerScene.activeCamera)
                     ) {
-                      var e = this.utilityLayerScene.activeCamera.getScene(),
-                        t = this.utilityLayerScene.activeCamera;
+                      var e = this.utilityLayerScene.activeCamera.getScene();
+                      var t = this.utilityLayerScene.activeCamera;
                       ((t._scene = this.utilityLayerScene),
                         t.leftCamera &&
                           (t.leftCamera._scene = this.utilityLayerScene),
@@ -55434,7 +55903,7 @@ and limitations under the License.
                 s = (function (e) {
                   function t(i, n, r) {
                     (void 0 === n && (n = null), void 0 === r && (r = true));
-                    var s = e.call(this, i, n) || this;
+                    var s = e(i, n) || this;
                     return (
                       (s._forward = new a.x(0, 0, 1)),
                       (s._forwardInverted = new a.x(0, 0, -1)),
@@ -55474,7 +55943,9 @@ and limitations under the License.
                         return this._billboardMode;
                       },
                       set: function (e) {
-                        this._billboardMode !== e && (this._billboardMode = e);
+                        if (this._billboardMode !== e) {
+                          this._billboardMode = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -55487,8 +55958,9 @@ and limitations under the License.
                           return this._preserveParentRotationForBillboard;
                         },
                         set: function (e) {
-                          e !== this._preserveParentRotationForBillboard &&
-                            (this._preserveParentRotationForBillboard = e);
+                          if (e !== this._preserveParentRotationForBillboard) {
+                            this._preserveParentRotationForBillboard = e;
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -55499,8 +55971,9 @@ and limitations under the License.
                         return this._infiniteDistance;
                       },
                       set: function (e) {
-                        this._infiniteDistance !== e &&
-                          (this._infiniteDistance = e);
+                        if (this._infiniteDistance !== e) {
+                          this._infiniteDistance = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -55620,7 +56093,7 @@ and limitations under the License.
                       return !!e.scaling.equals(this._scaling);
                     }),
                     (t.prototype._initCache = function () {
-                      e.prototype._initCache.call(this);
+                      e.prototype._initCache();
                       var t = this._cache;
                       ((t.localMatrixUpdated = false),
                         (t.position = a.x.Zero()),
@@ -55874,8 +56347,8 @@ and limitations under the License.
                         i = a.t.Vector3[0],
                         n = a.t.Vector3[1];
                       if (e) {
-                        var r = a.t.Matrix[0],
-                          o = a.t.Matrix[1];
+                        var r = a.t.Matrix[0];
+                        var o = a.t.Matrix[1];
                         (this.computeWorldMatrix(true),
                           e.computeWorldMatrix(true),
                           e.getWorldMatrix().invertToRef(o),
@@ -56054,8 +56527,8 @@ and limitations under the License.
                         u = n.position;
                       if (this._infiniteDistance)
                         if (!this.parent && s) {
-                          var l = s.getWorldMatrix(),
-                            h = new a.x(l.m[12], l.m[13], l.m[14]);
+                          var l = s.getWorldMatrix();
+                          var h = new a.x(l.m[12], l.m[13], l.m[14]);
                           u.copyFromFloats(
                             this._position.x + h.x,
                             this._position.y + h.y,
@@ -56118,8 +56591,8 @@ and limitations under the License.
                                   a.t.Matrix[7],
                                 )
                             : a.t.Matrix[7].copyFrom(r.getWorldMatrix());
-                          var m = a.t.Vector3[5],
-                            g = a.t.Vector3[6];
+                          var m = a.t.Vector3[5];
+                          var g = a.t.Vector3[6];
                           (a.t.Matrix[7].decompose(g, void 0, m),
                             a.j.ScalingToRef(g.x, g.y, g.z, a.t.Matrix[7]),
                             a.t.Matrix[7].setTranslation(m),
@@ -56167,9 +56640,9 @@ and limitations under the License.
                             (this.billboardMode & t.BILLBOARDMODE_Z) !==
                               t.BILLBOARDMODE_Z && (v.z = 0),
                             a.j.RotationYawPitchRollToRef(
-                              v.y,
-                              v.x,
-                              v.z,
+                              0,
+                              0,
+                              0,
                               a.t.Matrix[0],
                             ));
                         }
@@ -56253,7 +56726,9 @@ and limitations under the License.
                           c++
                         ) {
                           var u = s[c];
-                          u.clone && u.clone(e + "." + u.name, a);
+                          if (u.clone) {
+                            u.clone(e + "." + u.name, a);
+                          }
                         }
                       return a;
                     }),
@@ -56314,7 +56789,7 @@ and limitations under the License.
                           var o = r[n];
                           ((o.parent = null), o.computeWorldMatrix(true));
                         }
-                      e.prototype.dispose.call(this, t, i);
+                      e.prototype.dispose(t, i);
                     }),
                     (t.BILLBOARDMODE_NONE = 0),
                     (t.BILLBOARDMODE_X = 1),
@@ -56450,9 +56925,10 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype.update = function (e) {
-                      this._isLocked ||
+                      if (!this._isLocked) {
                         (this.boundingBox._update(e),
-                        this.boundingSphere._update(e));
+                          this.boundingSphere._update(e));
+                      }
                     }),
                     (e.prototype.centerOn = function (t, i) {
                       var n = e.TmpVector3[0].copyFrom(t).subtractInPlace(i),
@@ -56614,13 +57090,14 @@ and limitations under the License.
                         return this._hasAlpha;
                       },
                       set: function (e) {
-                        this._hasAlpha !== e &&
+                        if (this._hasAlpha !== e) {
                           ((this._hasAlpha = e),
-                          this._scene &&
-                            this._scene.markAllMaterialsAsDirty(
-                              l.a.MATERIAL_TextureDirtyFlag |
-                                l.a.MATERIAL_MiscDirtyFlag,
-                            ));
+                            this._scene &&
+                              this._scene.markAllMaterialsAsDirty(
+                                l.a.MATERIAL_TextureDirtyFlag |
+                                  l.a.MATERIAL_MiscDirtyFlag,
+                              ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -56630,12 +57107,13 @@ and limitations under the License.
                         return this._coordinatesMode;
                       },
                       set: function (e) {
-                        this._coordinatesMode !== e &&
+                        if (this._coordinatesMode !== e) {
                           ((this._coordinatesMode = e),
-                          this._scene &&
-                            this._scene.markAllMaterialsAsDirty(
-                              l.a.MATERIAL_TextureDirtyFlag,
-                            ));
+                            this._scene &&
+                              this._scene.markAllMaterialsAsDirty(
+                                l.a.MATERIAL_TextureDirtyFlag,
+                              ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -56645,7 +57123,9 @@ and limitations under the License.
                         return !!this._texture && this._texture.isCube;
                       },
                       set: function (e) {
-                        this._texture && (this._texture.isCube = e);
+                        if (this._texture) {
+                          this._texture.isCube = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -56655,7 +57135,9 @@ and limitations under the License.
                         return !!this._texture && this._texture.is3D;
                       },
                       set: function (e) {
-                        this._texture && (this._texture.is3D = e);
+                        if (this._texture) {
+                          this._texture.is3D = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -56681,8 +57163,9 @@ and limitations under the License.
                           : 0;
                       },
                       set: function (e) {
-                        this._texture &&
-                          (this._texture._lodGenerationOffset = e);
+                        if (this._texture) {
+                          this._texture._lodGenerationOffset = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -56694,8 +57177,9 @@ and limitations under the License.
                           : 0;
                       },
                       set: function (e) {
-                        this._texture &&
-                          (this._texture._lodGenerationScale = e);
+                        if (this._texture) {
+                          this._texture._lodGenerationScale = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -56786,10 +57270,12 @@ and limitations under the License.
                     (e.prototype.updateSamplingMode = function (e) {
                       if (this._texture) {
                         var t = this.getScene();
-                        t &&
-                          t
-                            .getEngine()
-                            .updateTextureSamplingMode(e, this._texture);
+                        if (t) {
+                          t.getEngine().updateTextureSamplingMode(
+                            e,
+                            this._texture,
+                          );
+                        }
                       }
                     }),
                     (e.prototype.scale = function (e) {}),
@@ -56872,8 +57358,9 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype.releaseInternalTexture = function () {
-                      this._texture &&
+                      if (this._texture) {
                         (this._texture.dispose(), (this._texture = null));
+                      }
                     }),
                     Object.defineProperty(e.prototype, "sphericalPolynomial", {
                       get: function () {
@@ -56887,8 +57374,9 @@ and limitations under the License.
                           : null;
                       },
                       set: function (e) {
-                        this._texture &&
-                          (this._texture._sphericalPolynomial = e);
+                        if (this._texture) {
+                          this._texture._sphericalPolynomial = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -57106,14 +57594,14 @@ and limitations under the License.
                   _++
                 ) {
                   for (var v = _ / h, y = v * Math.PI * c, b = 0; b <= f; b++) {
-                    var E = b / f,
-                      T = E * Math.PI * 2 * s,
-                      A = n.j.RotationZ(-y),
-                      x = n.j.RotationY(T),
-                      S = n.x.TransformCoordinates(n.x.Up(), A),
-                      C = n.x.TransformCoordinates(S, x),
-                      P = C.multiply(l),
-                      R = C.divide(l).normalize();
+                    var E = b / f;
+                    var T = E * Math.PI * 2 * s;
+                    var A = n.j.RotationZ(-y);
+                    var x = n.j.RotationY(T);
+                    var S = n.x.TransformCoordinates(n.x.Up(), A);
+                    var C = n.x.TransformCoordinates(S, x);
+                    var P = C.multiply(l);
+                    var R = C.divide(l).normalize();
                     (p.push(P.x, P.y, P.z),
                       m.push(R.x, R.y, R.z),
                       g.push(E, v));
@@ -57270,8 +57758,8 @@ and limitations under the License.
                           this._updateScale)
                         ) {
                           var t =
-                              this.gizmoLayer.utilityLayerScene.activeCamera,
-                            i = t.globalPosition;
+                            this.gizmoLayer.utilityLayerScene.activeCamera;
+                          var i = t.globalPosition;
                           (t.devicePosition && (i = t.devicePosition),
                             this._rootMesh.position.subtractToRef(
                               i,
@@ -57334,8 +57822,10 @@ and limitations under the License.
                 })(),
                 l = (function (e) {
                   function t(t, i, n, r, o, a, s, c) {
-                    void 0 === c && (c = true);
-                    var u = e.call(this) || this;
+                    if (void 0 === c) {
+                      c = true;
+                    }
+                    var u = e() || this;
                     return (
                       (u.materialIndex = t),
                       (u.verticesStart = i),
@@ -57546,9 +58036,9 @@ and limitations under the License.
                         s < this.indexStart + this.indexCount;
                         s += 2
                       ) {
-                        var c = t[i[s]],
-                          u = t[i[s + 1]],
-                          l = e.intersectionSegment(c, u, n);
+                        var c = t[i[s]];
+                        var u = t[i[s + 1]];
+                        var l = e.intersectionSegment(c, u, n);
                         if (
                           !(l < 0) &&
                           (r || !o || l < o.distance) &&
@@ -57570,9 +58060,9 @@ and limitations under the License.
                         s < this.verticesStart + this.verticesCount;
                         s += 2
                       ) {
-                        var c = t[s],
-                          u = t[s + 1],
-                          l = e.intersectionSegment(c, u, n);
+                        var c = t[s];
+                        var u = t[s + 1];
+                        var l = e.intersectionSegment(c, u, n);
                         if (
                           !(l < 0) &&
                           (r || !o || l < o.distance) &&
@@ -57594,9 +58084,9 @@ and limitations under the License.
                         a < this.indexStart + this.indexCount;
                         a += 3
                       ) {
-                        var s = t[i[a]],
-                          c = t[i[a + 1]],
-                          u = t[i[a + 2]];
+                        var s = t[i[a]];
+                        var c = t[i[a + 1]];
+                        var u = t[i[a + 2]];
                         if (!r || r(s, c, u, e)) {
                           var l = e.intersectsTriangle(s, c, u);
                           if (l) {
@@ -57623,9 +58113,9 @@ and limitations under the License.
                         a < this.verticesStart + this.verticesCount;
                         a += 3
                       ) {
-                        var s = t[a],
-                          c = t[a + 1],
-                          u = t[a + 2];
+                        var s = t[a];
+                        var c = t[a + 1];
+                        var u = t[a + 2];
                         if (!r || r(s, c, u, e)) {
                           var l = e.intersectsTriangle(s, c, u);
                           if (l) {
@@ -57641,7 +58131,9 @@ and limitations under the License.
                       return o;
                     }),
                     (t.prototype._rebuild = function () {
-                      this._linesIndexBuffer && (this._linesIndexBuffer = null);
+                      if (this._linesIndexBuffer) {
+                        this._linesIndexBuffer = null;
+                      }
                     }),
                     (t.prototype.clone = function (e, i) {
                       var n = new t(
@@ -57662,12 +58154,13 @@ and limitations under the License.
                       return n;
                     }),
                     (t.prototype.dispose = function () {
-                      this._linesIndexBuffer &&
+                      if (this._linesIndexBuffer) {
                         (this._mesh
                           .getScene()
                           .getEngine()
                           ._releaseBuffer(this._linesIndexBuffer),
-                        (this._linesIndexBuffer = null));
+                          (this._linesIndexBuffer = null));
+                      }
                       var e = this._mesh.subMeshes.indexOf(this);
                       this._mesh.subMeshes.splice(e, 1);
                     }),
@@ -57729,10 +58222,10 @@ and limitations under the License.
                         o = this.pickedMesh.getIndices();
                       if (!o) return null;
                       if (t) {
-                        var a = this.pickedMesh.getVerticesData(r.b.NormalKind),
-                          s = n.x.FromArray(a, 3 * o[3 * this.faceId]),
-                          c = n.x.FromArray(a, 3 * o[3 * this.faceId + 1]),
-                          u = n.x.FromArray(a, 3 * o[3 * this.faceId + 2]);
+                        var a = this.pickedMesh.getVerticesData(r.b.NormalKind);
+                        var s = n.x.FromArray(a, 3 * o[3 * this.faceId]);
+                        var c = n.x.FromArray(a, 3 * o[3 * this.faceId + 1]);
+                        var u = n.x.FromArray(a, 3 * o[3 * this.faceId + 2]);
                         ((s = s.scale(this.bu)),
                           (c = c.scale(this.bv)),
                           (u = u.scale(1 - this.bu - this.bv)),
@@ -57743,13 +58236,13 @@ and limitations under the License.
                           )));
                       } else {
                         var l = this.pickedMesh.getVerticesData(
-                            r.b.PositionKind,
-                          ),
-                          h = n.x.FromArray(l, 3 * o[3 * this.faceId]),
-                          f = n.x.FromArray(l, 3 * o[3 * this.faceId + 1]),
-                          d = n.x.FromArray(l, 3 * o[3 * this.faceId + 2]),
-                          p = h.subtract(f),
-                          m = d.subtract(f);
+                          r.b.PositionKind,
+                        );
+                        var h = n.x.FromArray(l, 3 * o[3 * this.faceId]);
+                        var f = n.x.FromArray(l, 3 * o[3 * this.faceId + 1]);
+                        var d = n.x.FromArray(l, 3 * o[3 * this.faceId + 2]);
+                        var p = h.subtract(f);
+                        var m = d.subtract(f);
                         i = n.x.Cross(p, m);
                       }
                       if (e) {
@@ -57809,7 +58302,7 @@ and limitations under the License.
                 },
                 a = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, i) || this;
+                    var n = e(t, i) || this;
                     return (
                       (n.type = t),
                       (n.event = i),
@@ -57935,7 +58428,9 @@ and limitations under the License.
                 return R;
               }),
                 (r.a.CreateBox = function (e, t, i, n, r) {
-                  void 0 === i && (i = null);
+                  if (void 0 === i) {
+                    i = null;
+                  }
                   var o = {
                     size: t,
                     sideOrientation: r,
@@ -57947,7 +58442,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreateBox = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var n = new r.a(e, i);
                     return (
                       (t.sideOrientation = r.a._GetDefaultSideOrientation(
@@ -57967,12 +58464,10 @@ and limitations under the License.
               getterFunc.d(t, "a", function () {
                 return s;
               });
-
               var n = getterFunc(0);
               var r = getterFunc(11);
               var o = getterFunc(13);
               var vec3Math = getterFunc(16);
-
               ((o.a.CreateCylinder = function (e) {
                 var t,
                   i = e.height || 2,
@@ -58092,10 +58587,10 @@ and limitations under the License.
                   }
                 var U = 1 !== h && l ? s + 4 : s;
                 for (y = 0, B = 0; B < c; B++) {
-                  var V = 0,
-                    G = 0,
-                    z = 0,
-                    j = 0;
+                  var V = 0;
+                  var G = 0;
+                  var z = 0;
+                  var j = 0;
                   for (b = 0; b < s; b++)
                     ((V = y * (U + 1) + b),
                       (G = (y + 1) * (U + 1) + b),
@@ -58114,15 +58609,17 @@ and limitations under the License.
                 var H = function (e) {
                   var t = e ? r / 2 : a / 2;
                   if (0 !== t) {
-                    var o,
-                      c,
-                      u,
-                      l = e ? d[m - 1] : d[0],
-                      f = null;
-                    p && (f = e ? p[m - 1] : p[0]);
-                    var g = A.length / 3,
-                      _ = e ? i / 2 : -i / 2,
-                      v = new n.x(0, _, 0);
+                    var o;
+                    var c;
+                    var u;
+                    var l = e ? d[m - 1] : d[0];
+                    var f = null;
+                    if (p) {
+                      f = e ? p[m - 1] : p[0];
+                    }
+                    var g = A.length / 3;
+                    var _ = e ? i / 2 : -i / 2;
+                    var v = new n.x(0, _, 0);
                     (A.push(v.x, v.y, v.z),
                       x.push(0, e ? 1 : -1, 0),
                       S.push(l.x + 0.5 * (l.z - l.x), l.y + 0.5 * (l.w - l.y)),
@@ -58130,8 +58627,8 @@ and limitations under the License.
                     var y = new n.w(0.5, 0.5);
                     for (u = 0; u <= s; u++) {
                       o = (2 * Math.PI * u * h) / s;
-                      var b = Math.cos(-o),
-                        E = Math.sin(-o);
+                      var b = Math.cos(-o);
+                      var E = Math.sin(-o);
                       c = new n.x(b * t, _, E * t);
                       var P = new n.w(b * y.x + 0.5, E * y.y + 0.5);
                       (A.push(c.x, c.y, c.z),
@@ -58162,10 +58659,11 @@ and limitations under the License.
                 );
               }),
                 (r.a.CreateCylinder = function (e, t, i, n, o, c, u, l, h) {
-                  (void 0 !== u && u instanceof vec3Math.a) ||
+                  if (!(void 0 !== u && u instanceof vec3Math.a)) {
                     (void 0 !== u && ((h = l || r.a.DEFAULTSIDE), (l = u)),
-                    (u = c),
-                    (c = 1));
+                      (u = c),
+                      (c = 1));
+                  }
                   var f = {
                     height: t,
                     diameterTop: i,
@@ -58207,7 +58705,6 @@ and limitations under the License.
               var s = getterFunc(17);
               var c = getterFunc(39);
               var u = getterFunc(45);
-
               var l =
                 (getterFunc(80),
                 (function () {
@@ -58274,15 +58771,12 @@ and limitations under the License.
                             ? (e._planeScene = this._scene)
                             : ((e._planeScene = new vec3Math.a(
                                 this._scene.getEngine(),
-                                {
-                                  virtual: true,
-                                },
+                                { virtual: true },
                               )),
                               e._planeScene.detachControl(),
                               this._scene.onDisposeObservable.addOnce(
                                 function () {
-                                  (e._planeScene.dispose(),
-                                    (e._planeScene = null));
+                                  (null.dispose(), (e._planeScene = null));
                                 },
                               ))),
                         (this._dragPlane = n.a.CreatePlane(
@@ -58296,7 +58790,7 @@ and limitations under the License.
                         (this._pointerObserver =
                           this._scene.onPointerObservable.add(function (t, n) {
                             var r;
-                            if (i.enabled)
+                            if (i.enabled) {
                               if (t.type == s.a.POINTERDOWN)
                                 !i.dragging &&
                                   t.pickInfo &&
@@ -58348,25 +58842,26 @@ and limitations under the License.
                                       i.dragging &&
                                       i._moveDrag(t.pickInfo.ray)));
                               }
+                            }
                           })),
                         (this._beforeRenderObserver =
                           this._scene.onBeforeRenderObservable.add(function () {
-                            i._moving &&
-                              i.moveAttached &&
+                            if (i._moving && i.moveAttached) {
                               (u.a._RemoveAndStorePivotPoint(i._attachedNode),
-                              i._targetPosition.subtractToRef(
-                                i._attachedNode.absolutePosition,
-                                i._tmpVector,
-                              ),
-                              i._tmpVector.scaleInPlace(i.dragDeltaRatio),
-                              i._attachedNode
-                                .getAbsolutePosition()
-                                .addToRef(i._tmpVector, i._tmpVector),
-                              i.validateDrag(i._tmpVector) &&
-                                i._attachedNode.setAbsolutePosition(
+                                i._targetPosition.subtractToRef(
+                                  i._attachedNode.absolutePosition,
                                   i._tmpVector,
                                 ),
-                              u.a._RestorePivotPoint(i._attachedNode));
+                                i._tmpVector.scaleInPlace(i.dragDeltaRatio),
+                                i._attachedNode
+                                  .getAbsolutePosition()
+                                  .addToRef(i._tmpVector, i._tmpVector),
+                                i.validateDrag(i._tmpVector) &&
+                                  i._attachedNode.setAbsolutePosition(
+                                    i._tmpVector,
+                                  ),
+                                u.a._RestorePivotPoint(i._attachedNode));
+                            }
                           })));
                     }),
                     (e.prototype.releaseDrag = function () {
@@ -58455,8 +58950,9 @@ and limitations under the License.
                       this._moving = true;
                       var t = this._pickWithRayOnDragPlane(e);
                       if (t) {
-                        this.updateDragPlane &&
+                        if (this.updateDragPlane) {
                           this._updateDragPlanePosition(e, t);
+                        }
                         var i = 0;
                         (this._options.dragAxis
                           ? (a.x.TransformCoordinatesToRef(
@@ -58793,7 +59289,9 @@ and limitations under the License.
                       (e.applyToGeometry(this, t), this.notifyUpdate());
                     }),
                     (e.prototype.setVerticesData = function (e, t, i, n) {
-                      void 0 === i && (i = false);
+                      if (void 0 === i) {
+                        i = false;
+                      }
                       var r = new o.b(
                         this._engine,
                         t,
@@ -58805,12 +59303,15 @@ and limitations under the License.
                       this.setVerticesBuffer(r);
                     }),
                     (e.prototype.removeVerticesData = function (e) {
-                      this._vertexBuffers[e] &&
+                      if (this._vertexBuffers[e]) {
                         (this._vertexBuffers[e].dispose(),
-                        delete this._vertexBuffers[e]);
+                          delete this._vertexBuffers[e]);
+                      }
                     }),
                     (e.prototype.setVerticesBuffer = function (e, t) {
-                      void 0 === t && (t = null);
+                      if (void 0 === t) {
+                        t = null;
+                      }
                       var i = e.getKind();
                       if (
                         (this._vertexBuffers[i] &&
@@ -58851,18 +59352,25 @@ and limitations under the License.
                       i,
                       n,
                     ) {
-                      void 0 === n && (n = false);
+                      if (void 0 === n) {
+                        n = false;
+                      }
                       var r = this.getVertexBuffer(e);
-                      r && (r.updateDirectly(t, i, n), this.notifyUpdate(e));
+                      if (r) {
+                        (r.updateDirectly(t, i, n), this.notifyUpdate(e));
+                      }
                     }),
                     (e.prototype.updateVerticesData = function (e, t, i) {
-                      void 0 === i && (i = false);
+                      if (void 0 === i) {
+                        i = false;
+                      }
                       var n = this.getVertexBuffer(e);
-                      n &&
+                      if (n) {
                         (n.update(t),
-                        e === o.b.PositionKind &&
-                          this._updateBoundingInfo(i, t),
-                        this.notifyUpdate(e));
+                          e === o.b.PositionKind &&
+                            this._updateBoundingInfo(i, t),
+                          this.notifyUpdate(e));
+                      }
                     }),
                     (e.prototype._updateBoundingInfo = function (e, t) {
                       if (
@@ -58887,10 +59395,12 @@ and limitations under the License.
                     }),
                     (e.prototype._bind = function (e, t) {
                       if (e) {
-                        void 0 === t && (t = this._indexBuffer);
+                        if (void 0 === t) {
+                          t = this._indexBuffer;
+                        }
                         var i = this.getVertexBuffers();
-                        i &&
-                          (t == this._indexBuffer && this._vertexArrayObjects
+                        if (i) {
+                          t == this._indexBuffer && this._vertexArrayObjects
                             ? (this._vertexArrayObjects[e.key] ||
                                 (this._vertexArrayObjects[e.key] =
                                   this._engine.recordVertexArrayObject(
@@ -58902,7 +59412,8 @@ and limitations under the License.
                                 this._vertexArrayObjects[e.key],
                                 t,
                               ))
-                            : this._engine.bindBuffers(i, t, e));
+                            : this._engine.bindBuffers(i, t, e);
+                        }
                       }
                     }),
                     (e.prototype.getTotalVertices = function () {
@@ -58939,8 +59450,8 @@ and limitations under the License.
                           ((u = r.byteOffset + n.byteOffset),
                           i || (t && 1 !== this._meshes.length))
                         ) {
-                          var h = new Float32Array(s),
-                            f = new Float32Array(r.buffer, u, s);
+                          var h = new Float32Array(s);
+                          var f = new Float32Array(r.buffer, u, s);
                           return (h.set(f), h);
                         }
                         return new Float32Array(r.buffer, u, s);
@@ -59038,15 +59549,18 @@ and limitations under the License.
                     (e.prototype.releaseForMesh = function (e, t) {
                       var i = this._meshes,
                         n = i.indexOf(e);
-                      -1 !== n &&
+                      if (-1 !== n) {
                         (i.splice(n, 1),
-                        (e._geometry = null),
-                        0 === i.length && t && this.dispose());
+                          (e._geometry = null),
+                          0 === i.length && t && this.dispose());
+                      }
                     }),
                     (e.prototype.applyToMesh = function (e) {
                       if (e._geometry !== this) {
                         var t = e._geometry;
-                        t && t.releaseForMesh(e);
+                        if (t) {
+                          t.releaseForMesh(e);
+                        }
                         var i = this._meshes;
                         ((e._geometry = this),
                           this._scene.pushGeometry(this),
@@ -59070,7 +59584,9 @@ and limitations under the License.
                     (e.prototype._applyToMesh = function (e) {
                       var t = this._meshes.length;
                       for (var i in this._vertexBuffers) {
-                        1 === t && this._vertexBuffers[i].create();
+                        if (1 === t) {
+                          this._vertexBuffers[i].create();
+                        }
                         var n = this._vertexBuffers[i].getBuffer();
                         (n && (n.references = t),
                           i === o.b.PositionKind &&
@@ -59093,41 +59609,48 @@ and limitations under the License.
                         e.synchronizeInstances());
                     }),
                     (e.prototype.notifyUpdate = function (e) {
-                      this.onGeometryUpdated && this.onGeometryUpdated(this, e);
+                      if (this.onGeometryUpdated) {
+                        this.onGeometryUpdated(this, e);
+                      }
                       for (var t = 0, i = this._meshes; t < i.length; t++)
                         i[t]._markSubMeshesAsAttributesDirty();
                     }),
                     (e.prototype.load = function (e, t) {
-                      this.delayLoadState !== u.a.DELAYLOADSTATE_LOADING &&
-                        (this.isReady()
+                      if (this.delayLoadState !== u.a.DELAYLOADSTATE_LOADING) {
+                        this.isReady()
                           ? t && t()
                           : ((this.delayLoadState = u.a.DELAYLOADSTATE_LOADING),
-                            this._queueLoad(e, t)));
+                            this._queueLoad(e, t));
+                      }
                     }),
                     (e.prototype._queueLoad = function (e, t) {
                       var i = this;
-                      this.delayLoadingFile &&
+                      if (this.delayLoadingFile) {
                         (e._addPendingData(this),
-                        e._loadFile(
-                          this.delayLoadingFile,
-                          function (n) {
-                            if (i._delayLoadingFunction) {
-                              (i._delayLoadingFunction(JSON.parse(n), i),
-                                (i.delayLoadState = u.a.DELAYLOADSTATE_LOADED),
-                                (i._delayInfo = []),
-                                e._removePendingData(i));
-                              for (
-                                var r = i._meshes, o = r.length, a = 0;
-                                a < o;
-                                a++
-                              )
-                                i._applyToMesh(r[a]);
-                              t && t();
-                            }
-                          },
-                          void 0,
-                          true,
-                        ));
+                          e._loadFile(
+                            this.delayLoadingFile,
+                            function (n) {
+                              if (i._delayLoadingFunction) {
+                                (i._delayLoadingFunction(JSON.parse(n), i),
+                                  (i.delayLoadState =
+                                    u.a.DELAYLOADSTATE_LOADED),
+                                  (i._delayInfo = []),
+                                  e._removePendingData(i));
+                                for (
+                                  var r = i._meshes, o = r.length, a = 0;
+                                  a < o;
+                                  a++
+                                )
+                                  i._applyToMesh(r[a]);
+                                if (t) {
+                                  t();
+                                }
+                              }
+                            },
+                            void 0,
+                            true,
+                          ));
+                      }
                     }),
                     (e.prototype.toLeftHanded = function () {
                       var e = this.getIndices(false);
@@ -59215,7 +59738,9 @@ and limitations under the License.
                           !u)
                         ) {
                           var h = this.getVertexBuffer(a);
-                          h && (u = !(s = h.isUpdatable()));
+                          if (h) {
+                            u = !(s = h.isUpdatable());
+                          }
                         }
                       }
                       var f = new e(t, this._scene, i, s);
@@ -59343,7 +59868,9 @@ and limitations under the License.
                         s = t.geometryId;
                       if (s) {
                         var c = r.getGeometryByID(s);
-                        c && c.applyToMesh(i);
+                        if (c) {
+                          c.applyToMesh(i);
+                        }
                       } else if (t instanceof ArrayBuffer) {
                         var u = i._binaryInfo;
                         if (
@@ -59490,11 +60017,11 @@ and limitations under the License.
                             T < u.subMeshesAttrDesc.count;
                             T++
                           ) {
-                            var P = C[5 * T + 0],
-                              R = C[5 * T + 1],
-                              M = C[5 * T + 2],
-                              O = C[5 * T + 3],
-                              w = C[5 * T + 4];
+                            var P = C[5 * T + 0];
+                            var R = C[5 * T + 1];
+                            var M = C[5 * T + 2];
+                            var O = C[5 * T + 3];
+                            var w = C[5 * T + 4];
                             a.b.AddToMesh(P, R, M, O, w, i);
                           }
                         }
@@ -59754,7 +60281,7 @@ and limitations under the License.
                   function t(i, n, a) {
                     (void 0 === n && (n = o.e.Gray()),
                       void 0 === a && (a = l.a.DefaultUtilityLayer));
-                    var s = e.call(this, a) || this;
+                    var s = e(a) || this;
                     ((s._pointerObserver = null),
                       (s.snapDistance = 0),
                       (s.onSnapObservable = new r.c()));
@@ -59769,18 +60296,14 @@ and limitations under the License.
                       (d.parent = s._rootMesh));
                     var p = 0,
                       m = new o.x(),
-                      g = {
-                        snapDistance: 0,
-                      };
-                    ((s.dragBehavior = new c.a({
-                      dragAxis: i,
-                    })),
+                      g = { snapDistance: 0 };
+                    ((s.dragBehavior = new c.a({ dragAxis: i })),
                       (s.dragBehavior.moveAttached = false),
                       s._rootMesh.addBehavior(s.dragBehavior));
                     var _ = new o.x(),
                       v = new o.j();
                     (s.dragBehavior.onDragObservable.add(function (e) {
-                      if (s.attachedMesh)
+                      if (s.attachedMesh) {
                         if (
                           (s.attachedMesh.parent
                             ? (s.attachedMesh.parent
@@ -59803,6 +60326,7 @@ and limitations under the License.
                             (g.snapDistance = s.snapDistance * t),
                             s.onSnapObservable.notifyObservers(g));
                         }
+                      }
                     }),
                       (s._pointerObserver =
                         a.utilityLayerScene.onPointerObservable.add(
@@ -59883,7 +60407,9 @@ and limitations under the License.
                       return i;
                     }),
                     (t.prototype._attachedMeshChanged = function (e) {
-                      this.dragBehavior && (this.dragBehavior.enabled = !!e);
+                      if (this.dragBehavior) {
+                        this.dragBehavior.enabled = !!e;
+                      }
                     }),
                     (t.prototype.dispose = function () {
                       (this.onSnapObservable.clear(),
@@ -59891,7 +60417,7 @@ and limitations under the License.
                           this._pointerObserver,
                         ),
                         this.dragBehavior.detach(),
-                        e.prototype.dispose.call(this));
+                        e.prototype.dispose());
                     }),
                     t
                   );
@@ -59920,7 +60446,9 @@ and limitations under the License.
                   (e.prototype._injectCustomRequestHeaders = function () {
                     for (var t in e.CustomRequestHeaders) {
                       var i = e.CustomRequestHeaders[t];
-                      i && this._xhr.setRequestHeader(t, i);
+                      if (i) {
+                        this._xhr.setRequestHeader(t, i);
+                      }
                     }
                   }),
                   Object.defineProperty(e.prototype, "onprogress", {
@@ -60498,24 +61026,24 @@ and limitations under the License.
                       this.addUniform(e, 8);
                     }),
                     (e.prototype.create = function () {
-                      this._noUBO ||
-                        this._buffer ||
+                      if (!(this._noUBO || this._buffer)) {
                         (this._fillAlignment(4),
-                        (this._bufferData = new Float32Array(this._data)),
-                        this._rebuild(),
-                        (this._needSync = true));
+                          (this._bufferData = new Float32Array(this._data)),
+                          this._rebuild(),
+                          (this._needSync = true));
+                      }
                     }),
                     (e.prototype._rebuild = function () {
-                      !this._noUBO &&
-                        this._bufferData &&
-                        (this._dynamic
+                      if (!this._noUBO && this._bufferData) {
+                        this._dynamic
                           ? (this._buffer =
                               this._engine.createDynamicUniformBuffer(
                                 this._bufferData,
                               ))
                           : (this._buffer = this._engine.createUniformBuffer(
                               this._bufferData,
-                            )));
+                            ));
+                      }
                     }),
                     (e.prototype.update = function () {
                       this._buffer
@@ -60690,8 +61218,8 @@ and limitations under the License.
                     }),
                     (e.prototype.dispose = function () {
                       if (!this._noUBO) {
-                        var e = this._engine._uniformBuffers,
-                          t = e.indexOf(this);
+                        var e = this._engine._uniformBuffers;
+                        var t = e.indexOf(this);
                         (-1 !== t && ((e[t] = e[e.length - 1]), e.pop()),
                           this._buffer &&
                             this._engine._releaseBuffer(this._buffer) &&
@@ -60699,7 +61227,7 @@ and limitations under the License.
                       }
                     }),
                     (e._MAX_UNIFORM_SIZE = 256),
-                    (e._tempBuffer = new Float32Array(e._MAX_UNIFORM_SIZE)),
+                    (e._tempBuffer = new Float32Array(256)),
                     e
                   );
                 })();
@@ -60775,7 +61303,9 @@ and limitations under the License.
                     (this._keys && delete this._keys, (this._keys = []));
                     for (var e = 0, t = Object.keys(this); e < t.length; e++) {
                       var i = t[e];
-                      "_" !== i[0] && this._keys.push(i);
+                      if ("_" !== i[0]) {
+                        this._keys.push(i);
+                      }
                     }
                   }),
                   (e.prototype.isEqual = function (e) {
@@ -60787,8 +61317,9 @@ and limitations under the License.
                     return true;
                   }),
                   (e.prototype.cloneTo = function (e) {
-                    this._keys.length !== e._keys.length &&
-                      (e._keys = this._keys.slice(0));
+                    if (this._keys.length !== e._keys.length) {
+                      e._keys = this._keys.slice(0);
+                    }
                     for (var t = 0; t < this._keys.length; t++) {
                       var i = this._keys[t];
                       e[i] = this[i];
@@ -60811,8 +61342,8 @@ and limitations under the License.
                   }),
                   (e.prototype.toString = function () {
                     for (var e = "", t = 0; t < this._keys.length; t++) {
-                      var i = this._keys[t],
-                        n = this[i];
+                      var i = this._keys[t];
+                      var n = this[i];
                       switch (c(n)) {
                         case "number":
                         case "string":
@@ -60845,7 +61376,7 @@ and limitations under the License.
               });
               var c = (function (e) {
                 function t(t, i, n) {
-                  var r = e.call(this, t, n) || this;
+                  var r = e(t, n) || this;
                   return (
                     (r.groundColor = new o.e(0, 0, 0)),
                     (r.direction = i || o.x.Up()),
@@ -60923,7 +61454,7 @@ and limitations under the License.
                 a = i(22),
                 s = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, i, true) || this;
+                    var n = e(t, i, true) || this;
                     return (
                       i.multiMaterials.push(n),
                       (n.subMaterials = new Array()),
@@ -60968,8 +61499,7 @@ and limitations under the License.
                     }),
                     (t.prototype.getActiveTextures = function () {
                       var t;
-                      return (t =
-                        e.prototype.getActiveTextures.call(this)).concat.apply(
+                      return (t = e.prototype.getActiveTextures()).concat.apply(
                         t,
                         this.subMaterials.map(function (e) {
                           return e ? e.getActiveTextures() : [];
@@ -60998,8 +61528,8 @@ and limitations under the License.
                         r < this.subMaterials.length;
                         r++
                       ) {
-                        var o,
-                          a = this.subMaterials[r];
+                        var o;
+                        var a = this.subMaterials[r];
                         ((o =
                           i && a
                             ? a.clone(e + "-" + a.name)
@@ -61026,11 +61556,13 @@ and limitations under the License.
                         if (n)
                           for (var o = 0; o < this.subMaterials.length; o++) {
                             var a = this.subMaterials[o];
-                            a && a.dispose(t, i);
+                            if (a) {
+                              a.dispose(t, i);
+                            }
                           }
                         ((o = r.multiMaterials.indexOf(this)) >= 0 &&
                           r.multiMaterials.splice(o, 1),
-                          e.prototype.dispose.call(this, t, i));
+                          e.prototype.dispose(t, i));
                       }
                     }),
                     (t.ParseMultiMaterial = function (e, i) {
@@ -61104,9 +61636,12 @@ and limitations under the License.
                         u = e.gammaSpace,
                         l = a.a.TEXTUREFORMAT_RGBA,
                         h = a.a.TEXTURETYPE_UNSIGNED_INT;
-                      e.textureType &&
-                        e.textureType !== a.a.TEXTURETYPE_UNSIGNED_INT &&
-                        (h = a.a.TEXTURETYPE_FLOAT);
+                      if (
+                        e.textureType &&
+                        e.textureType !== a.a.TEXTURETYPE_UNSIGNED_INT
+                      ) {
+                        h = a.a.TEXTURETYPE_FLOAT;
+                      }
                       var f = {
                         size: n,
                         right: r,
@@ -61147,10 +61682,10 @@ and limitations under the License.
                               .add(h.worldAxisForFileY.scale(d))
                               .add(h.worldAxisForNormal);
                             v.normalize();
-                            var y = Math.pow(1 + g * g + d * d, -1.5),
-                              b = f[m * e.size * p + _ * p + 0],
-                              E = f[m * e.size * p + _ * p + 1],
-                              T = f[m * e.size * p + _ * p + 2];
+                            var y = Math.pow(1 + g * g + d * d, -1.5);
+                            var b = f[m * e.size * p + _ * p + 0];
+                            var E = f[m * e.size * p + _ * p + 1];
+                            var T = f[m * e.size * p + _ * p + 2];
                             (e.type === a.a.TEXTURETYPE_UNSIGNED_INT &&
                               ((b /= 255), (E /= 255), (T /= 255)),
                               e.gammaSpace &&
@@ -61231,7 +61766,7 @@ and limitations under the License.
                 h = (function (e) {
                   function t(t, i, n, a, s, c, l) {
                     (void 0 === i && (i = null), void 0 === n && (n = null));
-                    var h = e.call(this, t, i, n, a, s) || this;
+                    var h = e(t, i, n, a, s) || this;
                     ((h.useVertexColor = c),
                       (h.useVertexAlpha = l),
                       (h.color = new r.e(1, 1, 1)),
@@ -61280,14 +61815,16 @@ and limitations under the License.
                     n.d(t, e),
                     (t.prototype._addClipPlaneDefine = function (e) {
                       var t = "#define " + e;
-                      -1 === this._colorShader.options.defines.indexOf(t) &&
+                      if (-1 === this._colorShader.options.defines.indexOf(t)) {
                         this._colorShader.options.defines.push(t);
+                      }
                     }),
                     (t.prototype._removeClipPlaneDefine = function (e) {
                       var t = "#define " + e,
                         i = this._colorShader.options.defines.indexOf(t);
-                      -1 !== i &&
+                      if (-1 !== i) {
                         this._colorShader.options.defines.splice(i, 1);
+                      }
                     }),
                     (t.prototype.isReady = function () {
                       var t = this.getScene();
@@ -61304,8 +61841,7 @@ and limitations under the License.
                         t.clipPlane4
                           ? this._addClipPlaneDefine("CLIPPLANE4")
                           : this._removeClipPlaneDefine("CLIPPLANE4"),
-                        !!this._colorShader.isReady() &&
-                          e.prototype.isReady.call(this)
+                        !!this._colorShader.isReady() && e.prototype.isReady()
                       );
                     }),
                     (t.prototype.getClassName = function () {
@@ -61370,7 +61906,7 @@ and limitations under the License.
                     }),
                     (t.prototype.dispose = function (t) {
                       (this._colorShader.dispose(false, false, true),
-                        e.prototype.dispose.call(this, t));
+                        e.prototype.dispose(t));
                     }),
                     (t.prototype.clone = function (e, i, n) {
                       return new t(e, this.getScene(), i, this, n);
@@ -61383,7 +61919,7 @@ and limitations under the License.
                 })(a.a),
                 f = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, i) || this;
+                    var n = e(t, i) || this;
                     return (
                       (n.intersectionThreshold = i.intersectionThreshold),
                       n
@@ -61406,7 +61942,7 @@ and limitations under the License.
               var n = i(1),
                 r = (function (e) {
                   function t(t) {
-                    var i = e.call(this) || this;
+                    var i = e() || this;
                     return ((i._buffer = t), i);
                   }
                   return (
@@ -61549,8 +62085,10 @@ and limitations under the License.
                 c = n(1),
                 u = (function (e) {
                   function t(t, i, n, o) {
-                    void 0 === o && (o = 1);
-                    var a = e.call(this, t, o) || this;
+                    if (void 0 === o) {
+                      o = 1;
+                    }
+                    var a = e(t, o) || this;
                     return (
                       (a.pos = r.x.Zero()),
                       (a.xaxis = r.x.Zero()),
@@ -61570,8 +62108,7 @@ and limitations under the License.
                           t.getDirectionToRef(r.c.X, this.mesh, this.xaxis),
                           t.getDirectionToRef(r.c.Y, this.mesh, this.yaxis),
                           t.getDirectionToRef(r.c.Z, this.mesh, this.zaxis),
-                          e.prototype.update.call(
-                            this,
+                          e.prototype.update(
                             this.pos,
                             this.xaxis,
                             this.yaxis,
@@ -61580,10 +62117,11 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype.dispose = function () {
-                      this.mesh &&
+                      if (this.mesh) {
                         ((this.mesh = null),
-                        (this.bone = null),
-                        e.prototype.dispose.call(this));
+                          (this.bone = null),
+                          e.prototype.dispose());
+                      }
                     }),
                     t
                   );
@@ -61609,7 +62147,9 @@ and limitations under the License.
                       (this.onPropertyChangedObservable = new h.c()),
                       (this._scene = e),
                       this._scene.onDisposeObservable.add(function () {
-                        t._scene._debugLayer && t._scene._debugLayer.hide();
+                        if (t._scene._debugLayer) {
+                          t._scene._debugLayer.hide();
+                        }
                       }));
                   }
                   return (
@@ -61632,13 +62172,14 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype.select = function (e, t) {
-                      this.BJSINSPECTOR &&
+                      if (this.BJSINSPECTOR) {
                         (this.BJSINSPECTOR.Inspector.MarkLineContainerTitleForHighlighting(
                           t,
                         ),
-                        this.BJSINSPECTOR.Inspector.OnSelectionChangeObservable.notifyObservers(
-                          e,
-                        ));
+                          this.BJSINSPECTOR.Inspector.OnSelectionChangeObservable.notifyObservers(
+                            e,
+                          ));
+                      }
                     }),
                     (e.prototype._getGlobalInspector = function () {
                       return "undefined" != typeof INSPECTOR
@@ -61655,7 +62196,9 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype.hide = function () {
-                      this.BJSINSPECTOR && this.BJSINSPECTOR.Inspector.Hide();
+                      if (this.BJSINSPECTOR) {
+                        this.BJSINSPECTOR.Inspector.Hide();
+                      }
                     }),
                     (e.prototype.show = function (t) {
                       var n = this;
@@ -61712,7 +62255,9 @@ and limitations under the License.
                           else {
                             if (i.type === y.a.MeshImpostor) continue;
                             var n = this._meshes[t];
-                            n && e && e.syncMeshWithImpostor(n, i);
+                            if (n && e) {
+                              e.syncMeshWithImpostor(n, i);
+                            }
                           }
                       }
                     }),
@@ -61763,11 +62308,11 @@ and limitations under the License.
                               (t = true));
                             break;
                           }
-                        t &&
-                          0 === this._numMeshes &&
+                        if (t && 0 === this._numMeshes) {
                           this._scene.unregisterBeforeRender(
                             this._renderFunction,
                           );
+                        }
                       }
                     }),
                     (e.prototype._getDebugMaterial = function (e) {
@@ -61785,9 +62330,7 @@ and limitations under the License.
                         this._debugBoxMesh ||
                           ((this._debugBoxMesh = g.a.CreateBox(
                             "physicsBodyBoxViewMesh",
-                            {
-                              size: 1,
-                            },
+                            { size: 1 },
                             e,
                           )),
                           (this._debugBoxMesh.rotationQuaternion =
@@ -61805,9 +62348,7 @@ and limitations under the License.
                         this._debugSphereMesh ||
                           ((this._debugSphereMesh = _.a.CreateSphere(
                             "physicsBodySphereViewMesh",
-                            {
-                              diameter: 1,
-                            },
+                            { diameter: 1 },
                             e,
                           )),
                           (this._debugSphereMesh.rotationQuaternion =
@@ -61948,28 +62489,28 @@ and limitations under the License.
                               this._renderFunction,
                             ));
                       }
-                      t &&
-                        this._renderLine &&
+                      if (t && this._renderLine) {
                         this._renderLine.color.copyFrom(t);
+                      }
                     }),
                     (e.prototype.hide = function () {
-                      this._renderFunction &&
-                        this._scene &&
+                      if (this._renderFunction && this._scene) {
                         (this._scene.unregisterBeforeRender(
                           this._renderFunction,
                         ),
-                        (this._scene = null),
-                        (this._renderFunction = null),
-                        this._renderLine &&
-                          (this._renderLine.dispose(),
-                          (this._renderLine = null)),
-                        (this._renderPoints = []));
+                          (this._scene = null),
+                          (this._renderFunction = null),
+                          this._renderLine &&
+                            (this._renderLine.dispose(),
+                            (this._renderLine = null)),
+                          (this._renderPoints = []));
+                      }
                     }),
                     (e.prototype._render = function () {
                       var e = this.ray;
                       if (e) {
-                        var t = this._renderPoints[1],
-                          i = Math.min(e.length, 1e6);
+                        var t = this._renderPoints[1];
+                        var i = Math.min(e.length, 1e6);
                         (t.copyFrom(e.direction),
                           t.scaleInPlace(i),
                           t.addInPlace(e.origin),
@@ -61985,39 +62526,42 @@ and limitations under the License.
                     (e.prototype.attachToMesh = function (e, t, i, n) {
                       this._attachedToMesh = e;
                       var o = this.ray;
-                      o &&
+                      if (o) {
                         (o.direction || (o.direction = r.x.Zero()),
-                        o.origin || (o.origin = r.x.Zero()),
-                        n && (o.length = n),
-                        i || (i = r.x.Zero()),
-                        t || (t = new r.x(0, 0, -1)),
-                        this._meshSpaceDirection
-                          ? (this._meshSpaceDirection.copyFrom(t),
-                            this._meshSpaceOrigin.copyFrom(i))
-                          : ((this._meshSpaceDirection = t.clone()),
-                            (this._meshSpaceOrigin = i.clone())),
-                        this._updateToMeshFunction ||
-                          ((this._updateToMeshFunction =
-                            this._updateToMesh.bind(this)),
-                          this._attachedToMesh
-                            .getScene()
-                            .registerBeforeRender(this._updateToMeshFunction)),
-                        this._updateToMesh());
+                          o.origin || (o.origin = r.x.Zero()),
+                          n && (o.length = n),
+                          i || (i = r.x.Zero()),
+                          t || (t = new r.x(0, 0, -1)),
+                          this._meshSpaceDirection
+                            ? (this._meshSpaceDirection.copyFrom(t),
+                              this._meshSpaceOrigin.copyFrom(i))
+                            : ((this._meshSpaceDirection = t.clone()),
+                              (this._meshSpaceOrigin = i.clone())),
+                          this._updateToMeshFunction ||
+                            ((this._updateToMeshFunction =
+                              this._updateToMesh.bind(this)),
+                            this._attachedToMesh
+                              .getScene()
+                              .registerBeforeRender(
+                                this._updateToMeshFunction,
+                              )),
+                          this._updateToMesh());
+                      }
                     }),
                     (e.prototype.detachFromMesh = function () {
-                      this._attachedToMesh &&
+                      if (this._attachedToMesh) {
                         (this._updateToMeshFunction &&
                           this._attachedToMesh
                             .getScene()
                             .unregisterBeforeRender(this._updateToMeshFunction),
-                        (this._attachedToMesh = null),
-                        (this._updateToMeshFunction = null));
+                          (this._attachedToMesh = null),
+                          (this._updateToMeshFunction = null));
+                      }
                     }),
                     (e.prototype._updateToMesh = function () {
                       var e = this.ray;
-                      this._attachedToMesh &&
-                        e &&
-                        (this._attachedToMesh._isDisposed
+                      if (this._attachedToMesh && e) {
+                        this._attachedToMesh._isDisposed
                           ? this.detachFromMesh()
                           : (this._attachedToMesh.getDirectionToRef(
                               this._meshSpaceDirection,
@@ -62027,7 +62571,8 @@ and limitations under the License.
                               this._meshSpaceOrigin,
                               this._attachedToMesh.getWorldMatrix(),
                               e.origin,
-                            )));
+                            ));
+                      }
                     }),
                     (e.prototype.dispose = function () {
                       (this.hide(), this.detachFromMesh(), (this.ray = null));
@@ -62066,15 +62611,16 @@ and limitations under the License.
                         return this._isEnabled;
                       },
                       set: function (e) {
-                        this._isEnabled !== e &&
+                        if (this._isEnabled !== e) {
                           ((this._isEnabled = e),
-                          e
-                            ? this._scene.registerBeforeRender(
-                                this._renderFunction,
-                              )
-                            : this._scene.unregisterBeforeRender(
-                                this._renderFunction,
-                              ));
+                            e
+                              ? this._scene.registerBeforeRender(
+                                  this._renderFunction,
+                                )
+                              : this._scene.unregisterBeforeRender(
+                                  this._renderFunction,
+                                ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -62115,8 +62661,8 @@ and limitations under the License.
                         o < i;
                         o++
                       ) {
-                        var a = e[o],
-                          s = this._debugLines[o];
+                        var a = e[o];
+                        var s = this._debugLines[o];
                         (s ||
                           ((s = [r.x.Zero(), r.x.Zero()]),
                           (this._debugLines[o] = s)),
@@ -62136,8 +62682,8 @@ and limitations under the License.
                         s >= 0;
                         s--
                       ) {
-                        var c = e[s],
-                          u = c.getParent();
+                        var c = e[s];
+                        var u = c.getParent();
                         if (u) {
                           var l = this._debugLines[n];
                           (l ||
@@ -62153,8 +62699,9 @@ and limitations under the License.
                     }),
                     (e.prototype.update = function () {
                       if (this._utilityLayer) {
-                        this.autoUpdateBonesMatrices &&
+                        if (this.autoUpdateBonesMatrices) {
                           this.skeleton.computeAbsoluteTransforms();
+                        }
                         var e = this.mesh._effectiveMesh;
                         void 0 === this.skeleton.bones[0].length
                           ? this._getLinesForBonesNoLength(
@@ -62232,7 +62779,7 @@ and limitations under the License.
                 r = i(0),
                 o = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, i) || this;
+                    var n = e(t, i) || this;
                     return (
                       (n._normalMatrix = new r.j()),
                       (n.allowShaderHotSwapping = true),
@@ -62260,11 +62807,13 @@ and limitations under the License.
                       this._activeEffect.setMatrix("normalMatrix", e);
                     }),
                     (t.prototype.bind = function (e, t) {
-                      t && this.bindForSubMesh(e, t, t.subMeshes[0]);
+                      if (t) {
+                        this.bindForSubMesh(e, t, t.subMeshes[0]);
+                      }
                     }),
                     (t.prototype._afterBind = function (t, i) {
                       (void 0 === i && (i = null),
-                        e.prototype._afterBind.call(this, t),
+                        e.prototype._afterBind(t),
                         (this.getScene()._cachedEffect = i));
                     }),
                     (t.prototype._mustRebind = function (e, t, i) {
@@ -62293,8 +62842,10 @@ and limitations under the License.
                 h = i(22),
                 f = (function (e) {
                   function t(t, i, r, a) {
-                    void 0 === a && (a = {});
-                    var s = e.call(this, t, i) || this;
+                    if (void 0 === a) {
+                      a = {};
+                    }
+                    var s = e(t, i) || this;
                     return (
                       (s._textures = {}),
                       (s._textureArrays = {}),
@@ -62348,8 +62899,9 @@ and limitations under the License.
                       return this._options.needAlphaTesting;
                     }),
                     (t.prototype._checkUniform = function (e) {
-                      -1 === this._options.uniforms.indexOf(e) &&
+                      if (-1 === this._options.uniforms.indexOf(e)) {
                         this._options.uniforms.push(e);
+                      }
                     }),
                     (t.prototype.setTexture = function (e, t) {
                       return (
@@ -62534,9 +63086,9 @@ and limitations under the License.
                       } else r.push("#define NUM_BONE_INFLUENCERS 0");
                       for (var f in this._textures)
                         if (!this._textures[f].isReady()) return false;
-                      e &&
-                        this._shouldTurnAlphaTestOn(e) &&
+                      if (e && this._shouldTurnAlphaTestOn(e)) {
                         r.push("#define ALPHATEST");
+                      }
                       var d = this._effect,
                         p = r.join("\n");
                       return (
@@ -62562,26 +63114,27 @@ and limitations under the License.
                     }),
                     (t.prototype.bindOnlyWorldMatrix = function (e) {
                       var t = this.getScene();
-                      this._effect &&
+                      if (this._effect) {
                         (-1 !== this._options.uniforms.indexOf("world") &&
                           this._effect.setMatrix("world", e),
-                        -1 !== this._options.uniforms.indexOf("worldView") &&
-                          (e.multiplyToRef(
-                            t.getViewMatrix(),
-                            this._cachedWorldViewMatrix,
-                          ),
-                          this._effect.setMatrix(
-                            "worldView",
-                            this._cachedWorldViewMatrix,
-                          )),
-                        -1 !==
-                          this._options.uniforms.indexOf(
-                            "worldViewProjection",
-                          ) &&
-                          this._effect.setMatrix(
-                            "worldViewProjection",
-                            e.multiply(t.getTransformMatrix()),
-                          ));
+                          -1 !== this._options.uniforms.indexOf("worldView") &&
+                            (e.multiplyToRef(
+                              t.getViewMatrix(),
+                              this._cachedWorldViewMatrix,
+                            ),
+                            this._effect.setMatrix(
+                              "worldView",
+                              this._cachedWorldViewMatrix,
+                            )),
+                          -1 !==
+                            this._options.uniforms.indexOf(
+                              "worldViewProjection",
+                            ) &&
+                            this._effect.setMatrix(
+                              "worldViewProjection",
+                              e.multiply(t.getTransformMatrix()),
+                            ));
+                      }
                     }),
                     (t.prototype.bind = function (e, t) {
                       if (
@@ -62649,7 +63202,7 @@ and limitations under the License.
                       this._afterBind(t);
                     }),
                     (t.prototype.getActiveTextures = function () {
-                      var t = e.prototype.getActiveTextures.call(this);
+                      var t = e.prototype.getActiveTextures();
                       for (var i in this._textures) t.push(this._textures[i]);
                       for (var i in this._textureArrays)
                         for (
@@ -62661,7 +63214,7 @@ and limitations under the License.
                       return t;
                     }),
                     (t.prototype.hasTexture = function (t) {
-                      if (e.prototype.hasTexture.call(this, t)) return true;
+                      if (e.prototype.hasTexture(t)) return true;
                       for (var i in this._textures)
                         if (this._textures[i] === t) return true;
                       for (var i in this._textureArrays)
@@ -62693,8 +63246,7 @@ and limitations under the License.
                           )
                             o[a].dispose();
                       }
-                      ((this._textures = {}),
-                        e.prototype.dispose.call(this, t, i, n));
+                      ((this._textures = {}), e.prototype.dispose(t, i, n));
                     }),
                     (t.prototype.serialize = function () {
                       var e,
@@ -63130,7 +63682,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreatePlane = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var o = new n.a(e, i);
                     return (
                       (t.sideOrientation = n.a._GetDefaultSideOrientation(
@@ -63288,7 +63842,9 @@ and limitations under the License.
                     }),
                     (e.prototype._rebuild = function () {
                       var e = this._vertexBuffers[r.b.PositionKind];
-                      e && (e._rebuild(), this._buildIndexBuffer());
+                      if (e) {
+                        (e._rebuild(), this._buildIndexBuffer());
+                      }
                     }),
                     (e.prototype._prepareFrame = function (e, t) {
                       (void 0 === e && (e = null), void 0 === t && (t = null));
@@ -63330,23 +63886,26 @@ and limitations under the License.
                                 o,
                               )
                             : a.restoreDefaultFramebuffer();
-                        var c = e[s],
-                          u = c.apply();
-                        u &&
+                        var c = e[s];
+                        var u = c.apply();
+                        if (u) {
                           (c.onBeforeRenderObservable.notifyObservers(u),
-                          this._prepareBuffers(),
-                          a.bindBuffers(
-                            this._vertexBuffers,
-                            this._indexBuffer,
-                            u,
-                          ),
-                          a.drawElementsType(n.a.TriangleFillMode, 0, 6),
-                          c.onAfterRenderObservable.notifyObservers(u));
+                            this._prepareBuffers(),
+                            a.bindBuffers(
+                              this._vertexBuffers,
+                              this._indexBuffer,
+                              u,
+                            ),
+                            a.drawElementsType(n.a.TriangleFillMode, 0, 6),
+                            c.onAfterRenderObservable.notifyObservers(u));
+                        }
                       }
                       (a.setDepthBuffer(true), a.setDepthWrite(true));
                     }),
                     (e.prototype._finalizeFrame = function (e, t, i, r, a) {
-                      void 0 === a && (a = false);
+                      if (void 0 === a) {
+                        a = false;
+                      }
                       var s = this._scene.activeCamera;
                       if (
                         s &&
@@ -63376,16 +63935,17 @@ and limitations under the License.
                           )
                             break;
                           var f = h.apply();
-                          f &&
+                          if (f) {
                             (h.onBeforeRenderObservable.notifyObservers(f),
-                            this._prepareBuffers(),
-                            c.bindBuffers(
-                              this._vertexBuffers,
-                              this._indexBuffer,
-                              f,
-                            ),
-                            c.drawElementsType(n.a.TriangleFillMode, 0, 6),
-                            h.onAfterRenderObservable.notifyObservers(f));
+                              this._prepareBuffers(),
+                              c.bindBuffers(
+                                this._vertexBuffers,
+                                this._indexBuffer,
+                                f,
+                              ),
+                              c.drawElementsType(n.a.TriangleFillMode, 0, 6),
+                              h.onAfterRenderObservable.notifyObservers(f));
+                          }
                         }
                         (c.setDepthBuffer(true),
                           c.setDepthWrite(true),
@@ -63517,9 +64077,9 @@ and limitations under the License.
                             var l = this._useSceneAutoClearSetup
                               ? this._scene.getAutoClearDepthStencilSetup(a)
                               : this._autoClearDepthStencil[a];
-                            l &&
-                              l.autoClear &&
+                            if (l && l.autoClear) {
                               this._clearDepthStencilBuffer(l.depth, l.stencil);
+                            }
                           }
                           for (
                             var h = 0,
@@ -63550,7 +64110,9 @@ and limitations under the License.
                         t++
                       ) {
                         var i = this._renderingGroups[t];
-                        i && i.prepare();
+                        if (i) {
+                          i.prepare();
+                        }
                       }
                     }),
                     (e.prototype.dispose = function () {
@@ -63565,18 +64127,21 @@ and limitations under the License.
                         t++
                       ) {
                         var i = this._renderingGroups[t];
-                        i && i.dispose();
+                        if (i) {
+                          i.dispose();
+                        }
                       }
                     }),
                     (e.prototype._prepareRenderingGroup = function (e) {
-                      void 0 === this._renderingGroups[e] &&
-                        (this._renderingGroups[e] = new n.a(
+                      if (void 0 === this._renderingGroups[e]) {
+                        this._renderingGroups[e] = new n.a(
                           e,
                           this._scene,
                           this._customOpaqueSortCompareFn[e],
                           this._customAlphaTestSortCompareFn[e],
                           this._customTransparentSortCompareFn[e],
-                        ));
+                        );
+                      }
                     }),
                     (e.prototype.dispatchSprites = function (e) {
                       var t = e.renderingGroupId || 0;
@@ -63589,7 +64154,9 @@ and limitations under the License.
                         this._renderingGroups[t].dispatchParticles(e));
                     }),
                     (e.prototype.dispatch = function (e, t, i) {
-                      void 0 === t && (t = e.getMesh());
+                      if (void 0 === t) {
+                        t = e.getMesh();
+                      }
                       var n = t.renderingGroupId || 0;
                       (this._prepareRenderingGroup(n),
                         this._renderingGroups[n].dispatch(e, t, i));
@@ -63848,7 +64415,7 @@ and limitations under the License.
                       (void 0 === i && (i = "vCameraColorCurvePositive"),
                         void 0 === n && (n = "vCameraColorCurveNeutral"),
                         void 0 === r && (r = "vCameraColorCurveNegative"),
-                        e._dirty &&
+                        false &&
                           ((e._dirty = false),
                           e.getColorGradingDataToRef(
                             e._globalHue,
@@ -63935,18 +64502,19 @@ and limitations under the License.
                       r,
                       o,
                     ) {
-                      null != t &&
+                      if (null != t) {
                         ((t = e.clamp(t, 0, 360)),
-                        (i = e.clamp(i, -100, 100)),
-                        (n = e.clamp(n, -100, 100)),
-                        (r = e.clamp(r, -100, 100)),
-                        (i = e.applyColorGradingSliderNonlinear(i)),
-                        (i *= 0.5),
-                        (r = e.applyColorGradingSliderNonlinear(r)),
-                        i < 0 && ((i *= -1), (t = (t + 180) % 360)),
-                        e.fromHSBToRef(t, i, 50 + 0.25 * r, o),
-                        o.scaleToRef(2, o),
-                        (o.a = 1 + 0.01 * n));
+                          (i = e.clamp(i, -100, 100)),
+                          (n = e.clamp(n, -100, 100)),
+                          (r = e.clamp(r, -100, 100)),
+                          (i = e.applyColorGradingSliderNonlinear(i)),
+                          (i *= 0.5),
+                          (r = e.applyColorGradingSliderNonlinear(r)),
+                          i < 0 && ((i *= -1), (t = (t + 180) % 360)),
+                          e.fromHSBToRef(t, i, 50 + 0.25 * r, o),
+                          o.scaleToRef(2, o),
+                          (o.a = 1 + 0.01 * n));
+                      }
                     }),
                     (e.applyColorGradingSliderNonlinear = function (e) {
                       e /= 100;
@@ -63964,11 +64532,11 @@ and limitations under the License.
                       if (0 === a) ((r.r = s), (r.g = s), (r.b = s));
                       else {
                         o /= 60;
-                        var c = Math.floor(o),
-                          u = o - c,
-                          l = s * (1 - a),
-                          h = s * (1 - a * u),
-                          f = s * (1 - a * (1 - u));
+                        var c = Math.floor(o);
+                        var u = o - c;
+                        var l = s * (1 - a);
+                        var h = s * (1 - a * u);
+                        var f = s * (1 - a * (1 - u));
                         switch (c) {
                           case 0:
                             ((r.r = s), (r.g = f), (r.b = l));
@@ -64099,9 +64667,10 @@ and limitations under the License.
                         return this._alphaBlend;
                       },
                       set: function (e) {
-                        this._alphaBlend !== e &&
+                        if (this._alphaBlend !== e) {
                           ((this._alphaBlend = e),
-                          (this._isAlphaBlendDirty = true));
+                            (this._isAlphaBlendDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64112,15 +64681,20 @@ and limitations under the License.
                       i,
                       n,
                     ) {
-                      (this._blendConstants[0] === e &&
-                        this._blendConstants[1] === t &&
-                        this._blendConstants[2] === i &&
-                        this._blendConstants[3] === n) ||
+                      if (
+                        !(
+                          this._blendConstants[0] === e &&
+                          this._blendConstants[1] === t &&
+                          this._blendConstants[2] === i &&
+                          this._blendConstants[3] === n
+                        )
+                      ) {
                         ((this._blendConstants[0] = e),
-                        (this._blendConstants[1] = t),
-                        (this._blendConstants[2] = i),
-                        (this._blendConstants[3] = n),
-                        (this._isBlendConstantsDirty = true));
+                          (this._blendConstants[1] = t),
+                          (this._blendConstants[2] = i),
+                          (this._blendConstants[3] = n),
+                          (this._isBlendConstantsDirty = true));
+                      }
                     }),
                     (e.prototype.setAlphaBlendFunctionParameters = function (
                       e,
@@ -64128,22 +64702,32 @@ and limitations under the License.
                       i,
                       n,
                     ) {
-                      (this._blendFunctionParameters[0] === e &&
-                        this._blendFunctionParameters[1] === t &&
-                        this._blendFunctionParameters[2] === i &&
-                        this._blendFunctionParameters[3] === n) ||
+                      if (
+                        !(
+                          this._blendFunctionParameters[0] === e &&
+                          this._blendFunctionParameters[1] === t &&
+                          this._blendFunctionParameters[2] === i &&
+                          this._blendFunctionParameters[3] === n
+                        )
+                      ) {
                         ((this._blendFunctionParameters[0] = e),
-                        (this._blendFunctionParameters[1] = t),
-                        (this._blendFunctionParameters[2] = i),
-                        (this._blendFunctionParameters[3] = n),
-                        (this._isBlendFunctionParametersDirty = true));
+                          (this._blendFunctionParameters[1] = t),
+                          (this._blendFunctionParameters[2] = i),
+                          (this._blendFunctionParameters[3] = n),
+                          (this._isBlendFunctionParametersDirty = true));
+                      }
                     }),
                     (e.prototype.setAlphaEquationParameters = function (e, t) {
-                      (this._blendEquationParameters[0] === e &&
-                        this._blendEquationParameters[1] === t) ||
+                      if (
+                        !(
+                          this._blendEquationParameters[0] === e &&
+                          this._blendEquationParameters[1] === t
+                        )
+                      ) {
                         ((this._blendEquationParameters[0] = e),
-                        (this._blendEquationParameters[1] = t),
-                        (this._isBlendEquationParametersDirty = true));
+                          (this._blendEquationParameters[1] = t),
+                          (this._isBlendEquationParametersDirty = true));
+                      }
                     }),
                     (e.prototype.reset = function () {
                       ((this._alphaBlend = false),
@@ -64163,34 +64747,35 @@ and limitations under the License.
                         (this._isBlendConstantsDirty = false));
                     }),
                     (e.prototype.apply = function (e) {
-                      this.isDirty &&
+                      if (this.isDirty) {
                         (this._isAlphaBlendDirty &&
                           (this._alphaBlend
                             ? e.enable(e.BLEND)
                             : e.disable(e.BLEND),
                           (this._isAlphaBlendDirty = false)),
-                        this._isBlendFunctionParametersDirty &&
-                          (e.blendFuncSeparate(
-                            this._blendFunctionParameters[0],
-                            this._blendFunctionParameters[1],
-                            this._blendFunctionParameters[2],
-                            this._blendFunctionParameters[3],
-                          ),
-                          (this._isBlendFunctionParametersDirty = false)),
-                        this._isBlendEquationParametersDirty &&
-                          (e.blendEquationSeparate(
-                            this._blendEquationParameters[0],
-                            this._blendEquationParameters[1],
-                          ),
-                          (this._isBlendEquationParametersDirty = false)),
-                        this._isBlendConstantsDirty &&
-                          (e.blendColor(
-                            this._blendConstants[0],
-                            this._blendConstants[1],
-                            this._blendConstants[2],
-                            this._blendConstants[3],
-                          ),
-                          (this._isBlendConstantsDirty = false)));
+                          this._isBlendFunctionParametersDirty &&
+                            (e.blendFuncSeparate(
+                              this._blendFunctionParameters[0],
+                              this._blendFunctionParameters[1],
+                              this._blendFunctionParameters[2],
+                              this._blendFunctionParameters[3],
+                            ),
+                            (this._isBlendFunctionParametersDirty = false)),
+                          this._isBlendEquationParametersDirty &&
+                            (e.blendEquationSeparate(
+                              this._blendEquationParameters[0],
+                              this._blendEquationParameters[1],
+                            ),
+                            (this._isBlendEquationParametersDirty = false)),
+                          this._isBlendConstantsDirty &&
+                            (e.blendColor(
+                              this._blendConstants[0],
+                              this._blendConstants[1],
+                              this._blendConstants[2],
+                              this._blendConstants[3],
+                            ),
+                            (this._isBlendConstantsDirty = false)));
+                      }
                     }),
                     e
                   );
@@ -64227,8 +64812,9 @@ and limitations under the License.
                         return this._zOffset;
                       },
                       set: function (e) {
-                        this._zOffset !== e &&
+                        if (this._zOffset !== e) {
                           ((this._zOffset = e), (this._isZOffsetDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64238,9 +64824,10 @@ and limitations under the License.
                         return this._cullFace;
                       },
                       set: function (e) {
-                        this._cullFace !== e &&
+                        if (this._cullFace !== e) {
                           ((this._cullFace = e),
-                          (this._isCullFaceDirty = true));
+                            (this._isCullFaceDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64250,8 +64837,9 @@ and limitations under the License.
                         return this._cull;
                       },
                       set: function (e) {
-                        this._cull !== e &&
+                        if (this._cull !== e) {
                           ((this._cull = e), (this._isCullDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64261,9 +64849,10 @@ and limitations under the License.
                         return this._depthFunc;
                       },
                       set: function (e) {
-                        this._depthFunc !== e &&
+                        if (this._depthFunc !== e) {
                           ((this._depthFunc = e),
-                          (this._isDepthFuncDirty = true));
+                            (this._isDepthFuncDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64273,9 +64862,10 @@ and limitations under the License.
                         return this._depthMask;
                       },
                       set: function (e) {
-                        this._depthMask !== e &&
+                        if (this._depthMask !== e) {
                           ((this._depthMask = e),
-                          (this._isDepthMaskDirty = true));
+                            (this._isDepthMaskDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64285,9 +64875,10 @@ and limitations under the License.
                         return this._depthTest;
                       },
                       set: function (e) {
-                        this._depthTest !== e &&
+                        if (this._depthTest !== e) {
                           ((this._depthTest = e),
-                          (this._isDepthTestDirty = true));
+                            (this._isDepthTestDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64297,9 +64888,10 @@ and limitations under the License.
                         return this._frontFace;
                       },
                       set: function (e) {
-                        this._frontFace !== e &&
+                        if (this._frontFace !== e) {
                           ((this._frontFace = e),
-                          (this._isFrontFaceDirty = true));
+                            (this._isFrontFaceDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64321,35 +64913,36 @@ and limitations under the License.
                         (this._isFrontFaceDirty = false));
                     }),
                     (e.prototype.apply = function (e) {
-                      this.isDirty &&
+                      if (this.isDirty) {
                         (this._isCullDirty &&
                           (this.cull
                             ? e.enable(e.CULL_FACE)
                             : e.disable(e.CULL_FACE),
                           (this._isCullDirty = false)),
-                        this._isCullFaceDirty &&
-                          (e.cullFace(this.cullFace),
-                          (this._isCullFaceDirty = false)),
-                        this._isDepthMaskDirty &&
-                          (e.depthMask(this.depthMask),
-                          (this._isDepthMaskDirty = false)),
-                        this._isDepthTestDirty &&
-                          (this.depthTest
-                            ? e.enable(e.DEPTH_TEST)
-                            : e.disable(e.DEPTH_TEST),
-                          (this._isDepthTestDirty = false)),
-                        this._isDepthFuncDirty &&
-                          (e.depthFunc(this.depthFunc),
-                          (this._isDepthFuncDirty = false)),
-                        this._isZOffsetDirty &&
-                          (this.zOffset
-                            ? (e.enable(e.POLYGON_OFFSET_FILL),
-                              e.polygonOffset(this.zOffset, 0))
-                            : e.disable(e.POLYGON_OFFSET_FILL),
-                          (this._isZOffsetDirty = false)),
-                        this._isFrontFaceDirty &&
-                          (e.frontFace(this.frontFace),
-                          (this._isFrontFaceDirty = false)));
+                          this._isCullFaceDirty &&
+                            (e.cullFace(this.cullFace),
+                            (this._isCullFaceDirty = false)),
+                          this._isDepthMaskDirty &&
+                            (e.depthMask(this.depthMask),
+                            (this._isDepthMaskDirty = false)),
+                          this._isDepthTestDirty &&
+                            (this.depthTest
+                              ? e.enable(e.DEPTH_TEST)
+                              : e.disable(e.DEPTH_TEST),
+                            (this._isDepthTestDirty = false)),
+                          this._isDepthFuncDirty &&
+                            (e.depthFunc(this.depthFunc),
+                            (this._isDepthFuncDirty = false)),
+                          this._isZOffsetDirty &&
+                            (this.zOffset
+                              ? (e.enable(e.POLYGON_OFFSET_FILL),
+                                e.polygonOffset(this.zOffset, 0))
+                              : e.disable(e.POLYGON_OFFSET_FILL),
+                            (this._isZOffsetDirty = false)),
+                          this._isFrontFaceDirty &&
+                            (e.frontFace(this.frontFace),
+                            (this._isFrontFaceDirty = false)));
+                      }
                     }),
                     e
                   );
@@ -64381,9 +64974,10 @@ and limitations under the License.
                         return this._stencilFunc;
                       },
                       set: function (e) {
-                        this._stencilFunc !== e &&
+                        if (this._stencilFunc !== e) {
                           ((this._stencilFunc = e),
-                          (this._isStencilFuncDirty = true));
+                            (this._isStencilFuncDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64393,9 +64987,10 @@ and limitations under the License.
                         return this._stencilFuncRef;
                       },
                       set: function (e) {
-                        this._stencilFuncRef !== e &&
+                        if (this._stencilFuncRef !== e) {
                           ((this._stencilFuncRef = e),
-                          (this._isStencilFuncDirty = true));
+                            (this._isStencilFuncDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64405,9 +65000,10 @@ and limitations under the License.
                         return this._stencilFuncMask;
                       },
                       set: function (e) {
-                        this._stencilFuncMask !== e &&
+                        if (this._stencilFuncMask !== e) {
                           ((this._stencilFuncMask = e),
-                          (this._isStencilFuncDirty = true));
+                            (this._isStencilFuncDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64417,9 +65013,10 @@ and limitations under the License.
                         return this._stencilOpStencilFail;
                       },
                       set: function (e) {
-                        this._stencilOpStencilFail !== e &&
+                        if (this._stencilOpStencilFail !== e) {
                           ((this._stencilOpStencilFail = e),
-                          (this._isStencilOpDirty = true));
+                            (this._isStencilOpDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64429,9 +65026,10 @@ and limitations under the License.
                         return this._stencilOpDepthFail;
                       },
                       set: function (e) {
-                        this._stencilOpDepthFail !== e &&
+                        if (this._stencilOpDepthFail !== e) {
                           ((this._stencilOpDepthFail = e),
-                          (this._isStencilOpDirty = true));
+                            (this._isStencilOpDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64444,9 +65042,10 @@ and limitations under the License.
                           return this._stencilOpStencilDepthPass;
                         },
                         set: function (e) {
-                          this._stencilOpStencilDepthPass !== e &&
+                          if (this._stencilOpStencilDepthPass !== e) {
                             ((this._stencilOpStencilDepthPass = e),
-                            (this._isStencilOpDirty = true));
+                              (this._isStencilOpDirty = true));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -64457,9 +65056,10 @@ and limitations under the License.
                         return this._stencilMask;
                       },
                       set: function (e) {
-                        this._stencilMask !== e &&
+                        if (this._stencilMask !== e) {
                           ((this._stencilMask = e),
-                          (this._isStencilMaskDirty = true));
+                            (this._isStencilMaskDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64469,9 +65069,10 @@ and limitations under the License.
                         return this._stencilTest;
                       },
                       set: function (e) {
-                        this._stencilTest !== e &&
+                        if (this._stencilTest !== e) {
                           ((this._stencilTest = e),
-                          (this._isStencilTestDirty = true));
+                            (this._isStencilTestDirty = true));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -64491,29 +65092,30 @@ and limitations under the License.
                         (this._isStencilOpDirty = true));
                     }),
                     (e.prototype.apply = function (e) {
-                      this.isDirty &&
+                      if (this.isDirty) {
                         (this._isStencilTestDirty &&
                           (this.stencilTest
                             ? e.enable(e.STENCIL_TEST)
                             : e.disable(e.STENCIL_TEST),
                           (this._isStencilTestDirty = false)),
-                        this._isStencilMaskDirty &&
-                          (e.stencilMask(this.stencilMask),
-                          (this._isStencilMaskDirty = false)),
-                        this._isStencilFuncDirty &&
-                          (e.stencilFunc(
-                            this.stencilFunc,
-                            this.stencilFuncRef,
-                            this.stencilFuncMask,
-                          ),
-                          (this._isStencilFuncDirty = false)),
-                        this._isStencilOpDirty &&
-                          (e.stencilOp(
-                            this.stencilOpStencilFail,
-                            this.stencilOpDepthFail,
-                            this.stencilOpStencilDepthPass,
-                          ),
-                          (this._isStencilOpDirty = false)));
+                          this._isStencilMaskDirty &&
+                            (e.stencilMask(this.stencilMask),
+                            (this._isStencilMaskDirty = false)),
+                          this._isStencilFuncDirty &&
+                            (e.stencilFunc(
+                              this.stencilFunc,
+                              this.stencilFuncRef,
+                              this.stencilFuncMask,
+                            ),
+                            (this._isStencilFuncDirty = false)),
+                          this._isStencilOpDirty &&
+                            (e.stencilOp(
+                              this.stencilOpStencilFail,
+                              this.stencilOpDepthFail,
+                              this.stencilOpStencilDepthPass,
+                            ),
+                            (this._isStencilOpDirty = false)));
+                      }
                     }),
                     (e.ALWAYS = o.a.ALWAYS),
                     (e.KEEP = o.a.KEEP),
@@ -64568,8 +65170,8 @@ and limitations under the License.
                     }),
                     (e.prototype._executeCurrent = function (e) {
                       if (this._nextActiveAction._condition) {
-                        var t = this._nextActiveAction._condition,
-                          i = this._actionManager.getScene().getRenderId();
+                        var t = this._nextActiveAction._condition;
+                        var i = this._actionManager.getScene().getRenderId();
                         if (t._evaluationId === i) {
                           if (!t._currentResult) return;
                         } else {
@@ -64687,8 +65289,10 @@ and limitations under the License.
                 })(),
                 d = (function (e) {
                   function t(i, n, r, o, a) {
-                    void 0 === a && (a = t.IsEqual);
-                    var s = e.call(this, i) || this;
+                    if (void 0 === a) {
+                      a = t.IsEqual;
+                    }
+                    var s = e(i) || this;
                     return (
                       (s.propertyPath = r),
                       (s.value = o),
@@ -64800,7 +65404,7 @@ and limitations under the License.
                 })(f),
                 p = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t) || this;
+                    var n = e(t) || this;
                     return ((n.predicate = i), n);
                   }
                   return (
@@ -64813,7 +65417,7 @@ and limitations under the License.
                 })(f),
                 m = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t) || this;
+                    var r = e(t) || this;
                     return ((r.value = n), (r._target = i), r);
                   }
                   return (
@@ -64843,7 +65447,7 @@ and limitations under the License.
                 _ = n(3),
                 v = (function (e) {
                   function t(t, i, n, r) {
-                    var o = e.call(this, t, r) || this;
+                    var o = e(t, r) || this;
                     return (
                       (o.propertyPath = n),
                       (o._target = o._effectiveTarget = i),
@@ -64866,8 +65470,7 @@ and limitations under the License.
                         !this._effectiveTarget[this._property];
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "SwitchBooleanAction",
                           properties: [
@@ -64886,7 +65489,7 @@ and limitations under the License.
                 })(u),
                 y = (function (e) {
                   function t(t, i, n, r) {
-                    var o = e.call(this, t, r) || this;
+                    var o = e(t, r) || this;
                     return ((o.value = n), (o._target = i), o);
                   }
                   return (
@@ -64895,8 +65498,7 @@ and limitations under the License.
                       this._target.state = this.value;
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "SetStateAction",
                           properties: [
@@ -64915,7 +65517,7 @@ and limitations under the License.
                 })(u),
                 b = (function (e) {
                   function t(t, i, n, r, o) {
-                    var a = e.call(this, t, o) || this;
+                    var a = e(t, o) || this;
                     return (
                       (a.propertyPath = n),
                       (a.value = r),
@@ -64940,8 +65542,7 @@ and limitations under the License.
                           this._target.markAsDirty(this._property));
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "SetValueAction",
                           properties: [
@@ -64964,7 +65565,7 @@ and limitations under the License.
                 })(u),
                 E = (function (e) {
                   function t(t, i, n, r, o) {
-                    var a = e.call(this, t, o) || this;
+                    var a = e(t, o) || this;
                     return (
                       (a.propertyPath = n),
                       (a.value = r),
@@ -64992,8 +65593,7 @@ and limitations under the License.
                           this._target.markAsDirty(this._property));
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "IncrementValueAction",
                           properties: [
@@ -65016,7 +65616,7 @@ and limitations under the License.
                 })(u),
                 T = (function (e) {
                   function t(t, i, n, r, o, a) {
-                    var s = e.call(this, t, a) || this;
+                    var s = e(t, a) || this;
                     return (
                       (s.from = n),
                       (s.to = r),
@@ -65039,8 +65639,7 @@ and limitations under the License.
                         );
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "PlayAnimationAction",
                           properties: [
@@ -65068,7 +65667,7 @@ and limitations under the License.
                 })(u),
                 A = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, n) || this;
+                    var r = e(t, n) || this;
                     return ((r._target = i), r);
                   }
                   return (
@@ -65080,8 +65679,7 @@ and limitations under the License.
                         .stopAnimation(this._target);
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "StopAnimationAction",
                           properties: [u._GetTargetProperty(this._target)],
@@ -65096,15 +65694,14 @@ and limitations under the License.
                   function t(t, i) {
                     return (
                       void 0 === t && (t = _.a.ACTION_NothingTrigger),
-                      e.call(this, t, i) || this
+                      e(t, i) || this
                     );
                   }
                   return (
                     h.d(t, e),
                     (t.prototype.execute = function () {}),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "DoNothingAction",
                           properties: [],
@@ -65117,7 +65714,7 @@ and limitations under the License.
                 })(u),
                 S = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, n) || this;
+                    var r = e(t, n) || this;
                     return ((r.children = i), r);
                   }
                   return (
@@ -65134,8 +65731,7 @@ and limitations under the License.
                     }),
                     (t.prototype.serialize = function (t) {
                       for (
-                        var i = e.prototype._serialize.call(
-                            this,
+                        var i = e.prototype._serialize(
                             {
                               name: "CombineAction",
                               properties: [],
@@ -65155,7 +65751,7 @@ and limitations under the License.
                 })(u),
                 C = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, n) || this;
+                    var r = e(t, n) || this;
                     return ((r.func = i), r);
                   }
                   return (
@@ -65168,7 +65764,7 @@ and limitations under the License.
                 })(u),
                 P = (function (e) {
                   function t(t, i, n, r) {
-                    var o = e.call(this, t, r) || this;
+                    var o = e(t, r) || this;
                     return ((o._target = i), (o._parent = n), o);
                   }
                   return (
@@ -65186,8 +65782,7 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "SetParentAction",
                           properties: [
@@ -65214,7 +65809,7 @@ and limitations under the License.
                 M = n(32),
                 O = (function (e) {
                   function t(t) {
-                    var i = e.call(this) || this;
+                    var i = e() || this;
                     return (
                       (i._scene = t || R.a.LastCreatedScene),
                       t.actionManagers.push(i),
@@ -65234,7 +65829,9 @@ and limitations under the License.
                           0 === t.Triggers[n.trigger] &&
                             delete t.Triggers[n.trigger]);
                       }
-                      e > -1 && this._scene.actionManagers.splice(e, 1);
+                      if (e > -1) {
+                        this._scene.actionManagers.splice(e, 1);
+                      }
                     }),
                     (t.prototype.getScene = function () {
                       return this._scene;
@@ -65367,12 +65964,12 @@ and limitations under the License.
                         n++
                       ) {
                         var r = {
-                            type: 0,
-                            children: new Array(),
-                            name: t.GetTriggerName(this.actions[n].trigger),
-                            properties: new Array(),
-                          },
-                          o = this.actions[n].triggerOptions;
+                          type: 0,
+                          children: new Array(),
+                          name: t.GetTriggerName(this.actions[n].trigger),
+                          properties: new Array(),
+                        };
+                        var o = this.actions[n].triggerOptions;
                         if (o && "number" != typeof o)
                           if (o.parameter instanceof Node)
                             r.properties.push(
@@ -65432,10 +66029,10 @@ and limitations under the License.
                           },
                           c = function e(i, a, c, u, l) {
                             if ((void 0 === l && (l = null), !i.detached)) {
-                              var h = new Array(),
-                                p = null,
-                                m = null,
-                                g = i.combine && i.combine.length > 0;
+                              var h = new Array();
+                              var p = null;
+                              var m = null;
+                              var g = i.combine && i.combine.length > 0;
                               if ((2 === i.type ? h.push(r) : h.push(a), g)) {
                                 for (
                                   var _ = new Array(), v = 0;
@@ -65446,9 +66043,9 @@ and limitations under the License.
                                 h.push(_);
                               } else
                                 for (var y = 0; y < i.properties.length; y++) {
-                                  var b = i.properties[y].value,
-                                    E = i.properties[y].name,
-                                    T = i.properties[y].targetType;
+                                  var b = i.properties[y].value;
+                                  var E = i.properties[y].name;
+                                  var T = i.properties[y].targetType;
                                   ("target" === E
                                     ? (b = p =
                                         null !== T && "SceneProperties" === T
@@ -65508,14 +66105,14 @@ and limitations under the License.
                         u < e.children.length;
                         u++
                       ) {
-                        var l,
-                          h = e.children[u];
+                        var l;
+                        var h = e.children[u];
                         if (h.properties.length > 0) {
-                          var p = h.properties[0].value,
-                            m =
-                              null === h.properties[0].targetType
-                                ? p
-                                : n.getMeshByName(p);
+                          var p = h.properties[0].value;
+                          var m =
+                            null === h.properties[0].targetType
+                              ? p
+                              : n.getMeshByName(p);
                           (m._meshId && (m.mesh = n.getMeshByID(m._meshId)),
                             (l = {
                               trigger: t[h.name],
@@ -65588,18 +66185,19 @@ and limitations under the License.
                 })(n(79).a),
                 w = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, n) || this;
+                    var r = e(t, n) || this;
                     return ((r._sound = i), r);
                   }
                   return (
                     h.d(t, e),
                     (t.prototype._prepare = function () {}),
                     (t.prototype.execute = function () {
-                      void 0 !== this._sound && this._sound.play();
+                      if (void 0 !== this._sound) {
+                        this._sound.play();
+                      }
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "PlaySoundAction",
                           properties: [
@@ -65617,18 +66215,19 @@ and limitations under the License.
                 })(u),
                 I = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, n) || this;
+                    var r = e(t, n) || this;
                     return ((r._sound = i), r);
                   }
                   return (
                     h.d(t, e),
                     (t.prototype._prepare = function () {}),
                     (t.prototype.execute = function () {
-                      void 0 !== this._sound && this._sound.stop();
+                      if (void 0 !== this._sound) {
+                        this._sound.stop();
+                      }
                     }),
                     (t.prototype.serialize = function (t) {
-                      return e.prototype._serialize.call(
-                        this,
+                      return e.prototype._serialize(
                         {
                           name: "StopSoundAction",
                           properties: [
@@ -65894,10 +66493,14 @@ and limitations under the License.
                       return this._events;
                     }),
                     (e.prototype.createRange = function (e, t, i) {
-                      this._ranges[e] || (this._ranges[e] = new B(e, t, i));
+                      if (!this._ranges[e]) {
+                        this._ranges[e] = new B(e, t, i);
+                      }
                     }),
                     (e.prototype.deleteRange = function (e, t) {
-                      void 0 === t && (t = true);
+                      if (void 0 === t) {
+                        t = true;
+                      }
                       var i = this._ranges[e];
                       if (i) {
                         if (t)
@@ -65999,15 +66602,15 @@ and limitations under the License.
                         var a = n[o + 1];
                         if (a.frame >= t) {
                           i.key = o;
-                          var s = n[o],
-                            c = this._getKeyValue(s.value);
+                          var s = n[o];
+                          var c = this._getKeyValue(s.value);
                           if (s.interpolation === D.STEP) return c;
-                          var u = this._getKeyValue(a.value),
-                            l =
-                              void 0 !== s.outTangent && void 0 !== a.inTangent,
-                            h = a.frame - s.frame,
-                            f = (t - s.frame) / h,
-                            d = this.getEasingFunction();
+                          var u = this._getKeyValue(a.value);
+                          var l =
+                            void 0 !== s.outTangent && void 0 !== a.inTangent;
+                          var h = a.frame - s.frame;
+                          var f = (t - s.frame) / h;
+                          var d = this.getEasingFunction();
                           switch (
                             (null != d && (f = d.ease(f)), this.dataType)
                           ) {
@@ -66165,7 +66768,9 @@ and limitations under the License.
                       )
                         for (var i in ((t._ranges = {}), this._ranges)) {
                           var n = this._ranges[i];
-                          n && (t._ranges[i] = n.clone());
+                          if (n) {
+                            t._ranges[i] = n.clone();
+                          }
                         }
                       return t;
                     }),
@@ -66184,8 +66789,8 @@ and limitations under the License.
                       var i = this.dataType;
                       t.keys = [];
                       for (var n = this.getKeys(), r = 0; r < n.length; r++) {
-                        var o = n[r],
-                          a = {};
+                        var o = n[r];
+                        var a = {};
                         switch (((a.frame = o.frame), i)) {
                           case e.ANIMATIONTYPE_FLOAT:
                             a.values = [o.value];
@@ -66311,9 +66916,9 @@ and limitations under the License.
                         n < t.keys.length;
                         n++
                       ) {
-                        var c,
-                          u,
-                          l = t.keys[n];
+                        var c;
+                        var u;
+                        var l = t.keys[n];
                         switch (o) {
                           case e.ANIMATIONTYPE_FLOAT:
                             ((i = l.values[0]),
@@ -66326,11 +66931,15 @@ and limitations under the License.
                               l.values.length >= 8)
                             ) {
                               var h = a.q.FromArray(l.values.slice(4, 8));
-                              h.equals(a.q.Zero()) || (c = h);
+                              if (!h.equals(a.q.Zero())) {
+                                c = h;
+                              }
                             }
                             if (l.values.length >= 12) {
                               var f = a.q.FromArray(l.values.slice(8, 12));
-                              f.equals(a.q.Zero()) || (u = f);
+                              if (!f.equals(a.q.Zero())) {
+                                u = f;
+                              }
                             }
                             break;
                           case e.ANIMATIONTYPE_MATRIX:
@@ -66380,8 +66989,10 @@ and limitations under the License.
                 }));
               var V = (function (e) {
                 function t(t, i, n, r, a, s, c, u) {
-                  void 0 === a && (a = 1e3);
-                  var l = e.call(this, t, s) || this;
+                  if (void 0 === a) {
+                    a = 1e3;
+                  }
+                  var l = e(t, s) || this;
                   return (
                     (l.duration = 1e3),
                     (l.onInterpolationDoneObservable = new o.c()),
@@ -66458,8 +67069,7 @@ and limitations under the License.
                       ));
                   }),
                   (t.prototype.serialize = function (t) {
-                    return e.prototype._serialize.call(
-                      this,
+                    return e.prototype._serialize(
                       {
                         name: "InterpolateValueAction",
                         properties: [
@@ -66611,7 +67221,9 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype._preparePath = function (e, t) {
-                      void 0 === t && (t = 0);
+                      if (void 0 === t) {
+                        t = 0;
+                      }
                       var i = this._animation.targetPropertyPath;
                       if (i.length > 1) {
                         for (var n = e[i[0]], r = 1; r < i.length - 1; r++)
@@ -66673,7 +67285,9 @@ and limitations under the License.
                     }),
                     (e.prototype.dispose = function () {
                       var e = this._animation.runtimeAnimations.indexOf(this);
-                      e > -1 && this._animation.runtimeAnimations.splice(e, 1);
+                      if (e > -1) {
+                        this._animation.runtimeAnimations.splice(e, 1);
+                      }
                     }),
                     (e.prototype.setValue = function (e, t) {
                       if (this._targetIsArray)
@@ -66692,7 +67306,9 @@ and limitations under the License.
                     }),
                     (e.prototype._getOriginalValues = function (e) {
                       var t;
-                      void 0 === e && (e = 0);
+                      if (void 0 === e) {
+                        e = 0;
+                      }
                       var i = this._activeTargets[e];
                       (t =
                         i.getRestPose && "_matrix" === this._targetPath
@@ -66786,7 +67402,9 @@ and limitations under the License.
                       this._ratioOffset = this._previousRatio - t;
                     }),
                     (e.prototype.animate = function (e, t, i, n, r, o) {
-                      void 0 === o && (o = -1);
+                      if (void 0 === o) {
+                        o = -1;
+                      }
                       var a = this._animation,
                         s = a.targetPropertyPath;
                       if (!s || s.length < 1)
@@ -66820,8 +67438,8 @@ and limitations under the License.
                           ((this._animationState.repeatCount = 0),
                             (this._animationState.loopMode =
                               U.ANIMATIONLOOPMODE_CYCLE));
-                          var m = a._interpolate(t, this._animationState),
-                            g = a._interpolate(i, this._animationState);
+                          var m = a._interpolate(t, this._animationState);
+                          var g = a._interpolate(i, this._animationState);
                           switch (
                             ((this._animationState.loopMode =
                               this._getCorrectLoopMode()),
@@ -66889,18 +67507,15 @@ and limitations under the License.
                         (this._animationState.highLimitValue = d),
                         (this._animationState.offsetValue = u));
                       var b = a._interpolate(l, this._animationState);
-                      if ((this.setValue(b, o), v.length))
+                      if ((this.setValue(b, o), v.length)) {
                         for (y = 0; y < v.length; y++)
                           if (
                             (h > 0 && l >= v[y].frame && v[y].frame >= t) ||
                             (h < 0 && l <= v[y].frame && v[y].frame <= t)
                           ) {
                             var E = v[y];
-                            E.isDone ||
-                              (E.onlyOnce && (v.splice(y, 1), y--),
-                              (E.isDone = true),
-                              E.action(l));
                           }
+                      }
                       return (c || (this._stopped = true), c);
                     }),
                     e
@@ -66916,7 +67531,7 @@ and limitations under the License.
                       void 0 === o && (o = null),
                       void 0 === s && (s = null),
                       void 0 === c && (c = null));
-                    var u = e.call(this, t, i.getScene(), false) || this;
+                    var u = e(t, i.getScene(), false) || this;
                     return (
                       (u.name = t),
                       (u.children = new Array()),
@@ -66970,7 +67585,9 @@ and limitations under the License.
                       if ((void 0 === t && (t = true), this._parent !== e)) {
                         if (this._parent) {
                           var i = this._parent.children.indexOf(this);
-                          -1 !== i && this._parent.children.splice(i, 1);
+                          if (-1 !== i) {
+                            this._parent.children.splice(i, 1);
+                          }
                         }
                         ((this._parent = e),
                           this._parent && this._parent.children.push(this),
@@ -67060,27 +67677,29 @@ and limitations under the License.
                       },
                     ),
                     (t.prototype._decompose = function () {
-                      this._needToDecompose &&
+                      if (this._needToDecompose) {
                         ((this._needToDecompose = false),
-                        this._localScaling ||
-                          ((this._localScaling = a.x.Zero()),
-                          (this._localRotation = a.q.Zero()),
-                          (this._localPosition = a.x.Zero())),
-                        this._localMatrix.decompose(
-                          this._localScaling,
-                          this._localRotation,
-                          this._localPosition,
-                        ));
+                          this._localScaling ||
+                            ((this._localScaling = a.x.Zero()),
+                            (this._localRotation = a.q.Zero()),
+                            (this._localPosition = a.x.Zero())),
+                          this._localMatrix.decompose(
+                            this._localScaling,
+                            this._localRotation,
+                            this._localPosition,
+                          ));
+                      }
                     }),
                     (t.prototype._compose = function () {
-                      this._needToCompose &&
+                      if (this._needToCompose) {
                         ((this._needToCompose = false),
-                        a.j.ComposeToRef(
-                          this._localScaling,
-                          this._localRotation,
-                          this._localPosition,
-                          this._localMatrix,
-                        ));
+                          a.j.ComposeToRef(
+                            this._localScaling,
+                            this._localRotation,
+                            this._localPosition,
+                            this._localMatrix,
+                          ));
+                      }
                     }),
                     (t.prototype.updateMatrix = function (e, t, i) {
                       (void 0 === t && (t = true),
@@ -67124,7 +67743,9 @@ and limitations under the License.
                       (this.markAsDirty(), (this._needToDecompose = true));
                     }),
                     (t.prototype.translate = function (e, i, n) {
-                      void 0 === i && (i = a.s.LOCAL);
+                      if (void 0 === i) {
+                        i = a.s.LOCAL;
+                      }
                       var r = this.getLocalMatrix();
                       if (i == a.s.LOCAL)
                         (r.addAtIndex(12, e.x),
@@ -67134,8 +67755,8 @@ and limitations under the License.
                         var o = null;
                         (n && (o = n.getWorldMatrix()),
                           this._skeleton.computeAbsoluteTransforms());
-                        var s = t._tmpMats[0],
-                          c = t._tmpVecs[0];
+                        var s = t._tmpMats[0];
+                        var c = t._tmpVecs[0];
                         (this._parent &&
                           (n && o
                             ? (s.copyFrom(this._parent.getAbsoluteTransform()),
@@ -67151,7 +67772,9 @@ and limitations under the License.
                       this._markAsDirtyAndDecompose();
                     }),
                     (t.prototype.setPosition = function (e, i, n) {
-                      void 0 === i && (i = a.s.LOCAL);
+                      if (void 0 === i) {
+                        i = a.s.LOCAL;
+                      }
                       var r = this.getLocalMatrix();
                       if (i == a.s.LOCAL)
                         r.setTranslationFromFloats(e.x, e.y, e.z);
@@ -67159,8 +67782,8 @@ and limitations under the License.
                         var o = null;
                         (n && (o = n.getWorldMatrix()),
                           this._skeleton.computeAbsoluteTransforms());
-                        var s = t._tmpMats[0],
-                          c = t._tmpVecs[0];
+                        var s = t._tmpMats[0];
+                        var c = t._tmpVecs[0];
                         (this._parent &&
                           (n && o
                             ? (s.copyFrom(this._parent.getAbsoluteTransform()),
@@ -67176,7 +67799,9 @@ and limitations under the License.
                       this.setPosition(e, a.s.WORLD, t);
                     }),
                     (t.prototype.scale = function (e, i, n, r) {
-                      void 0 === r && (r = false);
+                      if (void 0 === r) {
+                        r = false;
+                      }
                       var o = this.getLocalMatrix(),
                         s = t._tmpMats[0];
                       (a.j.ScalingToRef(e, i, n, s),
@@ -67224,7 +67849,9 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype.rotate = function (e, i, n, r) {
-                      void 0 === n && (n = a.s.LOCAL);
+                      if (void 0 === n) {
+                        n = a.s.LOCAL;
+                      }
                       var o = t._tmpMats[0];
                       (o.setTranslationFromFloats(0, 0, 0),
                         a.j.RotationAxisToRef(e, i, o),
@@ -67282,7 +67909,9 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype._rotateWithMatrix = function (e, i, n) {
-                      void 0 === i && (i = a.s.LOCAL);
+                      if (void 0 === i) {
+                        i = a.s.LOCAL;
+                      }
                       var r = this.getLocalMatrix(),
                         o = r.m[12],
                         s = r.m[13],
@@ -67356,7 +67985,9 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype.getAbsolutePosition = function (e) {
-                      void 0 === e && (e = null);
+                      if (void 0 === e) {
+                        e = null;
+                      }
                       var t = a.x.Zero();
                       return (this.getPositionToRef(a.s.WORLD, e, t), t);
                     }),
@@ -67372,11 +68003,12 @@ and limitations under the License.
                       else {
                         this._absoluteTransform.copyFrom(this._localMatrix);
                         var e = this._skeleton.getPoseMatrix();
-                        e &&
+                        if (e) {
                           this._absoluteTransform.multiplyToRef(
                             e,
                             this._absoluteTransform,
                           );
+                        }
                       }
                       for (
                         var t = this.children, i = t.length, n = 0;
@@ -67386,12 +68018,16 @@ and limitations under the License.
                         t[n].computeAbsoluteTransforms();
                     }),
                     (t.prototype.getDirection = function (e, t) {
-                      void 0 === t && (t = null);
+                      if (void 0 === t) {
+                        t = null;
+                      }
                       var i = a.x.Zero();
                       return (this.getDirectionToRef(e, t, i), i);
                     }),
                     (t.prototype.getDirectionToRef = function (e, i, n) {
-                      void 0 === i && (i = null);
+                      if (void 0 === i) {
+                        i = null;
+                      }
                       var r = null;
                       (i && (r = i.getWorldMatrix()),
                         this._skeleton.computeAbsoluteTransforms());
@@ -67432,8 +68068,8 @@ and limitations under the License.
                       )
                         (this._decompose(), n.copyFrom(this._localRotation));
                       else {
-                        var r = t._tmpMats[0],
-                          o = this.getAbsoluteTransform();
+                        var r = t._tmpMats[0];
+                        var o = this.getAbsoluteTransform();
                         (i
                           ? o.multiplyToRef(i.getWorldMatrix(), r)
                           : r.copyFrom(o),
@@ -67444,7 +68080,9 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype.getRotationMatrix = function (e, t) {
-                      void 0 === e && (e = a.s.LOCAL);
+                      if (void 0 === e) {
+                        e = a.s.LOCAL;
+                      }
                       var i = a.j.Identity();
                       return (this.getRotationMatrixToRef(e, t, i), i);
                     }),
@@ -67452,8 +68090,8 @@ and limitations under the License.
                       if ((void 0 === e && (e = a.s.LOCAL), e == a.s.LOCAL))
                         this.getLocalMatrix().getRotationMatrixToRef(n);
                       else {
-                        var r = t._tmpMats[0],
-                          o = this.getAbsoluteTransform();
+                        var r = t._tmpMats[0];
+                        var o = this.getAbsoluteTransform();
                         (i
                           ? o.multiplyToRef(i.getWorldMatrix(), r)
                           : r.copyFrom(o),
@@ -67467,7 +68105,9 @@ and limitations under the License.
                       e,
                       t,
                     ) {
-                      void 0 === t && (t = null);
+                      if (void 0 === t) {
+                        t = null;
+                      }
                       var i = a.x.Zero();
                       return (
                         this.getAbsolutePositionFromLocalToRef(e, t, i),
@@ -67479,7 +68119,9 @@ and limitations under the License.
                       i,
                       n,
                     ) {
-                      void 0 === i && (i = null);
+                      if (void 0 === i) {
+                        i = null;
+                      }
                       var r = null;
                       (i && (r = i.getWorldMatrix()),
                         this._skeleton.computeAbsoluteTransforms());
@@ -67494,7 +68136,9 @@ and limitations under the License.
                       e,
                       t,
                     ) {
-                      void 0 === t && (t = null);
+                      if (void 0 === t) {
+                        t = null;
+                      }
                       var i = a.x.Zero();
                       return (
                         this.getLocalPositionFromAbsoluteToRef(e, t, i),
@@ -67506,7 +68150,9 @@ and limitations under the License.
                       i,
                       n,
                     ) {
-                      void 0 === i && (i = null);
+                      if (void 0 === i) {
+                        i = null;
+                      }
                       var r = null;
                       (i && (r = i.getWorldMatrix()),
                         this._skeleton.computeAbsoluteTransforms());
@@ -67595,9 +68241,10 @@ and limitations under the License.
                     (e.prototype.syncWith = function (e) {
                       if (((this._syncRoot = e), e)) {
                         var t = this._scene._activeAnimatables.indexOf(this);
-                        t > -1 &&
+                        if (t > -1) {
                           (this._scene._activeAnimatables.splice(t, 1),
-                          this._scene._activeAnimatables.push(this));
+                            this._scene._activeAnimatables.push(this));
+                        }
                       }
                       return this;
                     }),
@@ -67606,8 +68253,8 @@ and limitations under the License.
                     }),
                     (e.prototype.appendAnimations = function (e, t) {
                       for (var i = this, n = 0; n < t.length; n++) {
-                        var r = t[n],
-                          o = new X(e, r, this._scene, this);
+                        var r = t[n];
+                        var o = new X(e, r, this._scene, this);
                         ((o._onLoop = function () {
                           (i.onAnimationLoopObservable.notifyObservers(i),
                             i.onAnimationLoop && i.onAnimationLoop());
@@ -67665,12 +68312,12 @@ and limitations under the License.
                     (e.prototype.goToFrame = function (e) {
                       var t = this._runtimeAnimations;
                       if (t[0]) {
-                        var i = t[0].animation.framePerSecond,
-                          n = e - t[0].currentFrame,
-                          r =
-                            0 !== this.speedRatio
-                              ? (1e3 * n) / (i * this.speedRatio)
-                              : 0;
+                        var i = t[0].animation.framePerSecond;
+                        var n = e - t[0].currentFrame;
+                        var r =
+                          0 !== this.speedRatio
+                            ? (1e3 * n) / (i * this.speedRatio)
+                            : 0;
                         (null === this._localDelayOffset &&
                           (this._localDelayOffset = 0),
                           (this._localDelayOffset -= r));
@@ -67678,7 +68325,9 @@ and limitations under the License.
                       for (var o = 0; o < t.length; o++) t[o].goToFrame(e);
                     }),
                     (e.prototype.pause = function () {
-                      this._paused || (this._paused = true);
+                      if (!this._paused) {
+                        this._paused = true;
+                      }
                     }),
                     (e.prototype.restart = function () {
                       this._paused = false;
@@ -67697,13 +68346,19 @@ and limitations under the License.
                             n--
                           ) {
                             var r = o[n];
-                            (e && r.animation.name != e) ||
-                              (t && !t(r.target)) ||
+                            if (
+                              !(
+                                (e && r.animation.name != e) ||
+                                (t && !t(r.target))
+                              )
+                            ) {
                               (r.dispose(), o.splice(n, 1));
+                            }
                           }
-                          0 == o.length &&
+                          if (0 == o.length) {
                             (this._scene._activeAnimatables.splice(i, 1),
-                            this._raiseOnAnimationEnd());
+                              this._raiseOnAnimationEnd());
+                          }
                         }
                       } else if (
                         (n = this._scene._activeAnimatables.indexOf(this)) > -1
@@ -67972,10 +68627,10 @@ and limitations under the License.
                       return s.currentValue;
                     (n.scaleInPlace(u), i.scaleInPlace(u), r.scaleInPlace(u));
                     for (var l = o; l < e.animations.length; l++) {
-                      var h = e.animations[l],
-                        f = ((u = h.weight / t), a.t.Vector3[2]),
-                        d = a.t.Vector3[3],
-                        p = a.t.Quaternion[1];
+                      var h = e.animations[l];
+                      var f = ((u = h.weight / t), a.t.Vector3[2]);
+                      var d = a.t.Vector3[3];
+                      var p = a.t.Quaternion[1];
                       (h.currentValue.decompose(d, p, f),
                         d.scaleAndAddToRef(u, n),
                         p.scaleAndAddToRef(u, r),
@@ -68046,11 +68701,11 @@ and limitations under the License.
                     ) {
                       var t = this._registeredForLateAnimationBindings.data[e];
                       for (var i in t._lateAnimationHolders) {
-                        var n = t._lateAnimationHolders[i],
-                          r = n.animations[0],
-                          o = n.originalValue,
-                          s = U.AllowMatrixDecomposeForInterpolation && o.m,
-                          c = t[i];
+                        var n = t._lateAnimationHolders[i];
+                        var r = n.animations[0];
+                        var o = n.originalValue;
+                        var s = U.AllowMatrixDecomposeForInterpolation && o.m;
+                        var c = t[i];
                         if (s)
                           c = this._processLateAnimationBindingsForMatrices(n);
                         else if (void 0 !== o.w)
@@ -68059,8 +68714,8 @@ and limitations under the License.
                             c || a.q.Identity(),
                           );
                         else {
-                          var u = 0,
-                            l = 1;
+                          var u = 0;
+                          var l = 1;
                           if (n.totalWeight < 1)
                             c = o.scale
                               ? o.scale(1 - n.totalWeight)
@@ -68077,8 +68732,8 @@ and limitations under the License.
                               (u = 1));
                           }
                           for (var f = u; f < n.animations.length; f++) {
-                            var d = n.animations[f],
-                              p = d.weight / l;
+                            var d = n.animations[f];
+                            var p = d.weight / l;
                             d.currentValue.scaleAndAddToRef
                               ? d.currentValue.scaleAndAddToRef(p, c)
                               : (c += d.currentValue * p);
@@ -68263,9 +68918,9 @@ and limitations under the License.
                         i < this._targetedAnimations.length;
                         i++
                       ) {
-                        var n = this._targetedAnimations[i].animation.getKeys(),
-                          r = n[0],
-                          o = n[n.length - 1];
+                        var n = this._targetedAnimations[i].animation.getKeys();
+                        var r = n[0];
+                        var o = n[n.length - 1];
                         if (r.frame > e) {
                           var a = {
                             frame: e,
@@ -68276,7 +68931,7 @@ and limitations under the License.
                           };
                           n.splice(0, 0, a);
                         }
-                        o.frame < t &&
+                        if (o.frame < t) {
                           ((a = {
                             frame: t,
                             value: o.value,
@@ -68284,7 +68939,8 @@ and limitations under the License.
                             outTangent: o.outTangent,
                             interpolation: o.interpolation,
                           }),
-                          n.push(a));
+                            n.push(a));
+                        }
                       }
                       return ((this._from = e), (this._to = t), this);
                     }),
@@ -68329,7 +68985,7 @@ and limitations under the License.
                       )
                         if (i < n && this._speedRatio < 0) {
                           var u = n;
-                          ((n = i), (i = u));
+                          ((n = i), (i = n));
                         } else
                           i > n &&
                             this._speedRatio > 0 &&
@@ -68452,15 +69108,19 @@ and limitations under the License.
                         r < t.targetedAnimations.length;
                         r++
                       ) {
-                        var o = t.targetedAnimations[r],
-                          a = U.Parse(o.animation),
-                          s = o.targetId;
+                        var o = t.targetedAnimations[r];
+                        var a = U.Parse(o.animation);
+                        var s = o.targetId;
                         if ("influence" === o.animation.property) {
                           var c = i.getMorphTargetById(s);
-                          c && n.addTargetedAnimation(a, c);
+                          if (c) {
+                            n.addTargetedAnimation(a, c);
+                          }
                         } else {
                           var u = i.getNodeByID(s);
-                          null != u && n.addTargetedAnimation(a, u);
+                          if (null != u) {
+                            n.addTargetedAnimation(a, u);
+                          }
                         }
                       }
                       return (
@@ -68531,7 +69191,7 @@ and limitations under the License.
                 })(),
                 ie = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -68546,8 +69206,10 @@ and limitations under the License.
                 })(te),
                 ne = (function (e) {
                   function t(t) {
-                    void 0 === t && (t = 1);
-                    var i = e.call(this) || this;
+                    if (void 0 === t) {
+                      t = 1;
+                    }
+                    var i = e() || this;
                     return ((i.amplitude = t), i);
                   }
                   return (
@@ -68564,7 +69226,7 @@ and limitations under the License.
                 re = (function (e) {
                   function t(t, i) {
                     (void 0 === t && (t = 3), void 0 === i && (i = 2));
-                    var n = e.call(this) || this;
+                    var n = e() || this;
                     return ((n.bounces = t), (n.bounciness = i), n);
                   }
                   return (
@@ -68572,7 +69234,9 @@ and limitations under the License.
                     (t.prototype.easeInCore = function (e) {
                       var t = Math.max(0, this.bounces),
                         i = this.bounciness;
-                      i <= 1 && (i = 1.001);
+                      if (i <= 1) {
+                        i = 1.001;
+                      }
                       var n = Math.pow(i, t),
                         r = 1 - i,
                         o = (1 - n) / r + 0.5 * n,
@@ -68593,7 +69257,7 @@ and limitations under the License.
                 })(te),
                 oe = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -68606,7 +69270,7 @@ and limitations under the License.
                 ae = (function (e) {
                   function t(t, i) {
                     (void 0 === t && (t = 3), void 0 === i && (i = 3));
-                    var n = e.call(this) || this;
+                    var n = e() || this;
                     return ((n.oscillations = t), (n.springiness = i), n);
                   }
                   return (
@@ -68628,8 +69292,10 @@ and limitations under the License.
                 })(te),
                 se = (function (e) {
                   function t(t) {
-                    void 0 === t && (t = 2);
-                    var i = e.call(this) || this;
+                    if (void 0 === t) {
+                      t = 2;
+                    }
+                    var i = e() || this;
                     return ((i.exponent = t), i);
                   }
                   return (
@@ -68645,8 +69311,10 @@ and limitations under the License.
                 })(te),
                 ce = (function (e) {
                   function t(t) {
-                    void 0 === t && (t = 2);
-                    var i = e.call(this) || this;
+                    if (void 0 === t) {
+                      t = 2;
+                    }
+                    var i = e() || this;
                     return ((i.power = t), i);
                   }
                   return (
@@ -68660,7 +69328,7 @@ and limitations under the License.
                 })(te),
                 ue = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -68672,7 +69340,7 @@ and limitations under the License.
                 })(te),
                 le = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -68684,7 +69352,7 @@ and limitations under the License.
                 })(te),
                 he = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -68696,7 +69364,7 @@ and limitations under the License.
                 })(te),
                 fe = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -68712,7 +69380,7 @@ and limitations under the License.
                       void 0 === i && (i = 0),
                       void 0 === n && (n = 1),
                       void 0 === r && (r = 1));
-                    var o = e.call(this) || this;
+                    var o = e() || this;
                     return ((o.x1 = t), (o.y1 = i), (o.x2 = n), (o.y2 = r), o);
                   }
                   return (
@@ -68746,13 +69414,13 @@ and limitations under the License.
                 me = n(11),
                 ge = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (h.d(t, e), t);
                 })(r.a),
                 _e = (function (e) {
                   function t(t) {
-                    var i = e.call(this) || this;
+                    var i = e() || this;
                     return (
                       (i.scene = t),
                       (i.sounds = []),
@@ -68936,15 +69604,18 @@ and limitations under the License.
                     (t.prototype._moveAssets = function (e, t, i) {
                       if (e)
                         for (var n = 0, r = e; n < r.length; n++) {
-                          var o = r[n],
-                            a = true;
-                          if (i)
+                          var o = r[n];
+                          var a = true;
+                          if (i) {
                             for (var s = 0, c = i; s < c.length; s++)
                               if (o === c[s]) {
                                 a = false;
                                 break;
                               }
-                          a && t.push(o);
+                          }
+                          if (a) {
+                            t.push(o);
+                          }
                         }
                     }),
                     (t.prototype.moveAllFromScene = function (e) {
@@ -68958,7 +69629,9 @@ and limitations under the License.
                       var e = new me.a("assetContainerRootMesh", this.scene);
                       return (
                         this.meshes.forEach(function (t) {
-                          t.parent || e.addChild(t);
+                          if (!t.parent) {
+                            e.addChild(t);
+                          }
                         }),
                         this.meshes.unshift(e),
                         e
@@ -69075,13 +69748,13 @@ and limitations under the License.
                             this.DEBUGCANVASSIZE.height,
                           ));
                         for (var i = 0; i < this.getFrequencyBinCount(); i++) {
-                          var n = t[i] / this.BARGRAPHAMPLITUDE,
-                            r = this.DEBUGCANVASSIZE.height * n,
-                            o = this.DEBUGCANVASSIZE.height - r - 1,
-                            a =
-                              this.DEBUGCANVASSIZE.width /
-                              this.getFrequencyBinCount(),
-                            s = (i / this.getFrequencyBinCount()) * 360;
+                          var n = t[i] / this.BARGRAPHAMPLITUDE;
+                          var r = this.DEBUGCANVASSIZE.height * n;
+                          var o = this.DEBUGCANVASSIZE.height - r - 1;
+                          var a =
+                            this.DEBUGCANVASSIZE.width /
+                            this.getFrequencyBinCount();
+                          var s = (i / this.getFrequencyBinCount()) * 360;
                           ((this._debugCanvasContext.fillStyle =
                             "hsl(" + s + ", 100%, 50%)"),
                             this._debugCanvasContext.fillRect(i * a, o, a, r));
@@ -69089,24 +69762,27 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype.stopDebugCanvas = function () {
-                      this._debugCanvas &&
+                      if (this._debugCanvas) {
                         (this._registerFunc &&
                           (this._scene.unregisterBeforeRender(
                             this._registerFunc,
                           ),
                           (this._registerFunc = null)),
-                        document.body.removeChild(this._debugCanvas),
-                        (this._debugCanvas = null),
-                        (this._debugCanvasContext = null));
+                          document.body.removeChild(this._debugCanvas),
+                          (this._debugCanvas = null),
+                          (this._debugCanvasContext = null));
+                      }
                     }),
                     (e.prototype.connectAudioNodes = function (e, t) {
-                      this._audioEngine.canUseWebAudio &&
+                      if (this._audioEngine.canUseWebAudio) {
                         (e.connect(this._webAudioAnalyser),
-                        this._webAudioAnalyser.connect(t));
+                          this._webAudioAnalyser.connect(t));
+                      }
                     }),
                     (e.prototype.dispose = function () {
-                      this._audioEngine.canUseWebAudio &&
+                      if (this._audioEngine.canUseWebAudio) {
                         this._webAudioAnalyser.disconnect();
+                      }
                     }),
                     e
                   );
@@ -69141,20 +69817,26 @@ and limitations under the License.
                     var i = document.createElement("audio");
                     this._hostElement = e;
                     try {
-                      i &&
+                      if (
+                        i &&
                         i.canPlayType &&
                         i
                           .canPlayType('audio/mpeg; codecs="mp3"')
-                          .replace(/^no$/, "") &&
-                        (this.isMP3supported = true);
+                          .replace(/^no$/, "")
+                      ) {
+                        this.isMP3supported = true;
+                      }
                     } catch (e) {}
                     try {
-                      i &&
+                      if (
+                        i &&
                         i.canPlayType &&
                         i
                           .canPlayType('audio/ogg; codecs="vorbis"')
-                          .replace(/^no$/, "") &&
-                        (this.isOGGsupported = true);
+                          .replace(/^no$/, "")
+                      ) {
+                        this.isOGGsupported = true;
+                      }
                     } catch (e) {}
                   }
                   return (
@@ -69188,16 +69870,17 @@ and limitations under the License.
                     }),
                     (e.prototype._initializeAudioContext = function () {
                       try {
-                        this.canUseWebAudio &&
+                        if (this.canUseWebAudio) {
                           ((this._audioContext = new AudioContext()),
-                          (this.masterGain = this._audioContext.createGain()),
-                          (this.masterGain.gain.value = 1),
-                          this.masterGain.connect(
-                            this._audioContext.destination,
-                          ),
-                          (this._audioContextInitialized = true),
-                          "running" === this._audioContext.state &&
-                            this._triggerRunningState());
+                            (this.masterGain = this._audioContext.createGain()),
+                            (this.masterGain.gain.value = 1),
+                            this.masterGain.connect(
+                              this._audioContext.destination,
+                            ),
+                            (this._audioContextInitialized = true),
+                            "running" === this._audioContext.state &&
+                              this._triggerRunningState());
+                        }
                       } catch (e) {
                         ((this.canUseWebAudio = false),
                           g.a.Error("Web Audio: " + e.message));
@@ -69205,18 +69888,19 @@ and limitations under the License.
                     }),
                     (e.prototype._triggerRunningState = function () {
                       var e = this;
-                      this._tryToRun ||
+                      if (!this._tryToRun) {
                         ((this._tryToRun = true),
-                        this._resumeAudioContext()
-                          .then(function () {
-                            ((e._tryToRun = false),
-                              e._muteButton && e._hideMuteButton());
-                          })
-                          .catch(function () {
-                            ((e._tryToRun = false), (e.unlocked = false));
-                          }),
-                        (this.unlocked = true),
-                        this.onAudioUnlockedObservable.notifyObservers(this));
+                          this._resumeAudioContext()
+                            .then(function () {
+                              ((e._tryToRun = false),
+                                e._muteButton && e._hideMuteButton());
+                            })
+                            .catch(function () {
+                              ((e._tryToRun = false), (e.unlocked = false));
+                            }),
+                          (this.unlocked = true),
+                          this.onAudioUnlockedObservable.notifyObservers(this));
+                      }
                     }),
                     (e.prototype._triggerSuspendedState = function () {
                       ((this.unlocked = false),
@@ -69259,17 +69943,18 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype._moveButtonToTopLeft = function () {
-                      this._hostElement &&
-                        this._muteButton &&
+                      if (this._hostElement && this._muteButton) {
                         ((this._muteButton.style.top =
                           this._hostElement.offsetTop + 20 + "px"),
-                        (this._muteButton.style.left =
-                          this._hostElement.offsetLeft + 20 + "px"));
+                          (this._muteButton.style.left =
+                            this._hostElement.offsetLeft + 20 + "px"));
+                      }
                     }),
                     (e.prototype._hideMuteButton = function () {
-                      this._muteButton &&
+                      if (this._muteButton) {
                         (document.body.removeChild(this._muteButton),
-                        (this._muteButton = null));
+                          (this._muteButton = null));
+                      }
                     }),
                     (e.prototype.dispose = function () {
                       (this.canUseWebAudio &&
@@ -69297,9 +69982,12 @@ and limitations under the License.
                         : -1;
                     }),
                     (e.prototype.setGlobalVolume = function (e) {
-                      this.canUseWebAudio &&
-                        this._audioContextInitialized &&
-                        (this.masterGain.gain.value = e);
+                      if (
+                        this.canUseWebAudio &&
+                        this._audioContextInitialized
+                      ) {
+                        this.masterGain.gain.value = e;
+                      }
                     }),
                     (e.prototype.connectToAnalyser = function (e) {
                       (this._connectedAnalyser &&
@@ -69397,8 +70085,8 @@ and limitations under the License.
                               : i instanceof MediaStream
                                 ? (this._urlType = "MediaStream")
                                 : Array.isArray(i) && (this._urlType = "Array");
-                          var l = [],
-                            h = false;
+                          var l = [];
+                          var h = false;
                           switch (this._urlType) {
                             case "MediaStream":
                               ((this._streaming = true),
@@ -69492,8 +70180,9 @@ and limitations under the License.
                               ((this._isReadyToPlay = true),
                               this._readyToPlayCallback &&
                                 window.setTimeout(function () {
-                                  c._readyToPlayCallback &&
+                                  if (c._readyToPlayCallback) {
                                     c._readyToPlayCallback();
+                                  }
                                 }, 1e3))
                             : g.a.Error(
                                 "Parameter must be a URL to the sound, an Array of URLs (.mp3 & .ogg) or an ArrayBuffer of the sound.",
@@ -69513,49 +70202,52 @@ and limitations under the License.
                           (ve.b.audioEngine.WarnedWebAudioUnsupported = true)),
                         this._readyToPlayCallback &&
                           window.setTimeout(function () {
-                            c._readyToPlayCallback && c._readyToPlayCallback();
+                            if (c._readyToPlayCallback) {
+                              c._readyToPlayCallback();
+                            }
                           }, 1e3));
                   }
                   return (
                     (e.prototype.dispose = function () {
-                      ve.b.audioEngine.canUseWebAudio &&
+                      if (ve.b.audioEngine.canUseWebAudio) {
                         (this.isPlaying && this.stop(),
-                        (this._isReadyToPlay = false),
-                        -1 === this.soundTrackId
-                          ? this._scene.mainSoundTrack.RemoveSound(this)
-                          : this._scene.soundTracks &&
-                            this._scene.soundTracks[
-                              this.soundTrackId
-                            ].RemoveSound(this),
-                        this._soundGain &&
-                          (this._soundGain.disconnect(),
-                          (this._soundGain = null)),
-                        this._soundPanner &&
-                          (this._soundPanner.disconnect(),
-                          (this._soundPanner = null)),
-                        this._soundSource &&
-                          (this._soundSource.disconnect(),
-                          (this._soundSource = null)),
-                        (this._audioBuffer = null),
-                        this._htmlAudioElement &&
-                          (this._htmlAudioElement.pause(),
-                          (this._htmlAudioElement.src = ""),
-                          document.body.removeChild(this._htmlAudioElement)),
-                        this._streamingSource &&
-                          this._streamingSource.disconnect(),
-                        this._connectedTransformNode &&
-                          this._registerFunc &&
-                          (this._connectedTransformNode.unregisterAfterWorldMatrixUpdate(
-                            this._registerFunc,
-                          ),
-                          (this._connectedTransformNode = null)));
+                          (this._isReadyToPlay = false),
+                          -1 === this.soundTrackId
+                            ? this._scene.mainSoundTrack.RemoveSound(this)
+                            : this._scene.soundTracks &&
+                              this._scene.soundTracks[
+                                this.soundTrackId
+                              ].RemoveSound(this),
+                          this._soundGain &&
+                            (this._soundGain.disconnect(),
+                            (this._soundGain = null)),
+                          this._soundPanner &&
+                            (this._soundPanner.disconnect(),
+                            (this._soundPanner = null)),
+                          this._soundSource &&
+                            (this._soundSource.disconnect(),
+                            (this._soundSource = null)),
+                          (this._audioBuffer = null),
+                          this._htmlAudioElement &&
+                            (this._htmlAudioElement.pause(),
+                            (this._htmlAudioElement.src = ""),
+                            document.body.removeChild(this._htmlAudioElement)),
+                          this._streamingSource &&
+                            this._streamingSource.disconnect(),
+                          this._connectedTransformNode &&
+                            this._registerFunc &&
+                            (this._connectedTransformNode.unregisterAfterWorldMatrixUpdate(
+                              this._registerFunc,
+                            ),
+                            (this._connectedTransformNode = null)));
+                      }
                     }),
                     (e.prototype.isReady = function () {
                       return this._isReadyToPlay;
                     }),
                     (e.prototype._soundLoaded = function (e) {
                       var t = this;
-                      ve.b.audioEngine.audioContext &&
+                      if (ve.b.audioEngine.audioContext) {
                         ve.b.audioEngine.audioContext.decodeAudioData(
                           e,
                           function (e) {
@@ -69574,47 +70266,55 @@ and limitations under the License.
                             );
                           },
                         );
+                      }
                     }),
                     (e.prototype.setAudioBuffer = function (e) {
-                      ve.b.audioEngine.canUseWebAudio &&
+                      if (ve.b.audioEngine.canUseWebAudio) {
                         ((this._audioBuffer = e), (this._isReadyToPlay = true));
+                      }
                     }),
                     (e.prototype.updateOptions = function (e) {
-                      e &&
+                      if (e) {
                         ((this.loop = e.loop || this.loop),
-                        (this.maxDistance = e.maxDistance || this.maxDistance),
-                        (this.useCustomAttenuation =
-                          e.useCustomAttenuation || this.useCustomAttenuation),
-                        (this.rolloffFactor =
-                          e.rolloffFactor || this.rolloffFactor),
-                        (this.refDistance = e.refDistance || this.refDistance),
-                        (this.distanceModel =
-                          e.distanceModel || this.distanceModel),
-                        (this._playbackRate =
-                          e.playbackRate || this._playbackRate),
-                        this._updateSpatialParameters(),
-                        this.isPlaying &&
-                          (this._streaming && this._htmlAudioElement
-                            ? (this._htmlAudioElement.playbackRate =
-                                this._playbackRate)
-                            : this._soundSource &&
-                              (this._soundSource.playbackRate.value =
-                                this._playbackRate)));
+                          (this.maxDistance =
+                            e.maxDistance || this.maxDistance),
+                          (this.useCustomAttenuation =
+                            e.useCustomAttenuation ||
+                            this.useCustomAttenuation),
+                          (this.rolloffFactor =
+                            e.rolloffFactor || this.rolloffFactor),
+                          (this.refDistance =
+                            e.refDistance || this.refDistance),
+                          (this.distanceModel =
+                            e.distanceModel || this.distanceModel),
+                          (this._playbackRate =
+                            e.playbackRate || this._playbackRate),
+                          this._updateSpatialParameters(),
+                          this.isPlaying &&
+                            (this._streaming && this._htmlAudioElement
+                              ? (this._htmlAudioElement.playbackRate =
+                                  this._playbackRate)
+                              : this._soundSource &&
+                                (this._soundSource.playbackRate.value =
+                                  this._playbackRate)));
+                      }
                     }),
                     (e.prototype._createSpatialParameters = function () {
-                      ve.b.audioEngine.canUseWebAudio &&
-                        ve.b.audioEngine.audioContext &&
+                      if (
+                        ve.b.audioEngine.canUseWebAudio &&
+                        ve.b.audioEngine.audioContext
+                      ) {
                         (this._scene.headphone && (this._panningModel = "HRTF"),
-                        (this._soundPanner =
-                          ve.b.audioEngine.audioContext.createPanner()),
-                        this._updateSpatialParameters(),
-                        this._soundPanner.connect(this._outputAudioNode),
-                        (this._inputAudioNode = this._soundPanner));
+                          (this._soundPanner =
+                            ve.b.audioEngine.audioContext.createPanner()),
+                          this._updateSpatialParameters(),
+                          this._soundPanner.connect(this._outputAudioNode),
+                          (this._inputAudioNode = this._soundPanner));
+                      }
                     }),
                     (e.prototype._updateSpatialParameters = function () {
-                      this.spatialSound &&
-                        this._soundPanner &&
-                        (this.useCustomAttenuation
+                      if (this.spatialSound && this._soundPanner) {
+                        this.useCustomAttenuation
                           ? ((this._soundPanner.distanceModel = "linear"),
                             (this._soundPanner.maxDistance = Number.MAX_VALUE),
                             (this._soundPanner.refDistance = 1),
@@ -69628,7 +70328,8 @@ and limitations under the License.
                             (this._soundPanner.rolloffFactor =
                               this.rolloffFactor),
                             (this._soundPanner.panningModel =
-                              this._panningModel)));
+                              this._panningModel));
+                      }
                     }),
                     (e.prototype.switchPanningModelToHRTF = function () {
                       ((this._panningModel = "HRTF"),
@@ -69639,17 +70340,21 @@ and limitations under the License.
                         this._switchPanningModel());
                     }),
                     (e.prototype._switchPanningModel = function () {
-                      ve.b.audioEngine.canUseWebAudio &&
+                      if (
+                        ve.b.audioEngine.canUseWebAudio &&
                         this.spatialSound &&
-                        this._soundPanner &&
-                        (this._soundPanner.panningModel = this._panningModel);
+                        this._soundPanner
+                      ) {
+                        this._soundPanner.panningModel = this._panningModel;
+                      }
                     }),
                     (e.prototype.connectToSoundTrackAudioNode = function (e) {
-                      ve.b.audioEngine.canUseWebAudio &&
+                      if (ve.b.audioEngine.canUseWebAudio) {
                         (this._isOutputConnected &&
                           this._outputAudioNode.disconnect(),
-                        this._outputAudioNode.connect(e),
-                        (this._isOutputConnected = true));
+                          this._outputAudioNode.connect(e),
+                          (this._isOutputConnected = true));
+                      }
                     }),
                     (e.prototype.setDirectionalCone = function (e, t, i) {
                       t < e
@@ -69737,8 +70442,8 @@ and limitations under the License.
                     }),
                     (e.prototype._updateDirection = function () {
                       if (this._connectedTransformNode && this._soundPanner) {
-                        var e = this._connectedTransformNode.getWorldMatrix(),
-                          t = a.x.TransformNormal(this._localDirection, e);
+                        var e = this._connectedTransformNode.getWorldMatrix();
+                        var t = a.x.TransformNormal(this._localDirection, e);
                         (t.normalize(),
                           this._soundPanner.setOrientation(t.x, t.y, t.z));
                       }
@@ -69776,8 +70481,9 @@ and limitations under the License.
                         ve.b.audioEngine.audioContext
                       )
                         try {
-                          this._startOffset < 0 &&
+                          if (this._startOffset < 0) {
                             ((e = -this._startOffset), (this._startOffset = 0));
+                          }
                           var n = e
                             ? ve.b.audioEngine.audioContext.currentTime + e
                             : ve.b.audioEngine.audioContext.currentTime;
@@ -69827,7 +70533,7 @@ and limitations under the License.
                                 (r = function () {
                                   if (ve.b.audioEngine.unlocked) {
                                     var e = i._htmlAudioElement.play();
-                                    void 0 !== e &&
+                                    if (void 0 !== e) {
                                       e.catch(function (e) {
                                         (ve.b.audioEngine.lock(),
                                           (i.loop || i.autoplay) &&
@@ -69837,6 +70543,7 @@ and limitations under the License.
                                               },
                                             ));
                                       });
+                                    }
                                   } else
                                     (i.loop || i.autoplay) &&
                                       ve.b.audioEngine.onAudioUnlockedObservable.addOnce(
@@ -69847,28 +70554,30 @@ and limitations under the License.
                                 })());
                           else {
                             var r = function () {
-                              ve.b.audioEngine.audioContext &&
+                              if (ve.b.audioEngine.audioContext) {
                                 ((i._soundSource =
                                   ve.b.audioEngine.audioContext.createBufferSource()),
-                                (i._soundSource.buffer = i._audioBuffer),
-                                i._soundSource.connect(i._inputAudioNode),
-                                (i._soundSource.loop = i.loop),
-                                (i._soundSource.playbackRate.value =
-                                  i._playbackRate),
-                                (i._soundSource.onended = function () {
-                                  i._onended();
-                                }),
-                                (n = e
-                                  ? ve.b.audioEngine.audioContext.currentTime +
-                                    e
-                                  : ve.b.audioEngine.audioContext.currentTime),
-                                i._soundSource.start(
-                                  n,
-                                  i.isPaused
-                                    ? i._startOffset %
-                                        i._soundSource.buffer.duration
-                                    : t || 0,
-                                ));
+                                  (i._soundSource.buffer = i._audioBuffer),
+                                  i._soundSource.connect(i._inputAudioNode),
+                                  (i._soundSource.loop = i.loop),
+                                  (i._soundSource.playbackRate.value =
+                                    i._playbackRate),
+                                  (i._soundSource.onended = function () {
+                                    i._onended();
+                                  }),
+                                  (n = e
+                                    ? ve.b.audioEngine.audioContext
+                                        .currentTime + e
+                                    : ve.b.audioEngine.audioContext
+                                        .currentTime),
+                                  i._soundSource.start(
+                                    n,
+                                    i.isPaused
+                                      ? i._startOffset %
+                                          i._soundSource.buffer.duration
+                                      : t || 0,
+                                  ));
+                              }
                             };
                             "suspended" === ve.b.audioEngine.audioContext.state
                               ? setTimeout(function () {
@@ -69904,7 +70613,7 @@ and limitations under the License.
                     }),
                     (e.prototype.stop = function (e) {
                       var t = this;
-                      if (this.isPlaying)
+                      if (this.isPlaying) {
                         if (this._streaming)
                           (this._htmlAudioElement
                             ? (this._htmlAudioElement.pause(),
@@ -69925,19 +70634,21 @@ and limitations under the License.
                             }),
                             this.isPaused || (this._startOffset = 0));
                         }
+                      }
                     }),
                     (e.prototype.pause = function () {
-                      this.isPlaying &&
+                      if (this.isPlaying) {
                         ((this.isPaused = true),
-                        this._streaming
-                          ? this._htmlAudioElement
-                            ? this._htmlAudioElement.pause()
-                            : this._streamingSource.disconnect()
-                          : ve.b.audioEngine.audioContext &&
-                            (this.stop(0),
-                            (this._startOffset +=
-                              ve.b.audioEngine.audioContext.currentTime -
-                              this._startTime)));
+                          this._streaming
+                            ? this._htmlAudioElement
+                              ? this._htmlAudioElement.pause()
+                              : this._streamingSource.disconnect()
+                            : ve.b.audioEngine.audioContext &&
+                              (this.stop(0),
+                              (this._startOffset +=
+                                ve.b.audioEngine.audioContext.currentTime -
+                                this._startTime)));
+                      }
                     }),
                     (e.prototype.setVolume = function (e, t) {
                       (ve.b.audioEngine.canUseWebAudio &&
@@ -69996,13 +70707,13 @@ and limitations under the License.
                         ));
                     }),
                     (e.prototype.detachFromMesh = function () {
-                      this._connectedTransformNode &&
-                        this._registerFunc &&
+                      if (this._connectedTransformNode && this._registerFunc) {
                         (this._connectedTransformNode.unregisterAfterWorldMatrixUpdate(
                           this._registerFunc,
                         ),
-                        (this._registerFunc = null),
-                        (this._connectedTransformNode = null));
+                          (this._registerFunc = null),
+                          (this._connectedTransformNode = null));
+                      }
                     }),
                     (e.prototype._onRegisterAfterWorldMatrixUpdate = function (
                       e,
@@ -70010,16 +70721,19 @@ and limitations under the License.
                       if (e.getBoundingInfo) {
                         var t = e;
                         if (this._positionInEmitterSpace)
-                          (t.worldMatrixFromCache.invertToRef(a.t.Matrix[0]),
+                          (e.worldMatrixFromCache.invertToRef(a.t.Matrix[0]),
                             this.setPosition(a.t.Matrix[0].getTranslation()));
                         else {
                           var i = t.getBoundingInfo();
                           this.setPosition(i.boundingSphere.centerWorld);
                         }
-                        ve.b.audioEngine.canUseWebAudio &&
+                        if (
+                          ve.b.audioEngine.canUseWebAudio &&
                           this._isDirectional &&
-                          this.isPlaying &&
+                          this.isPlaying
+                        ) {
                           this._updateDirection();
+                        }
                       }
                     }),
                     (e.prototype.clone = function () {
@@ -70150,7 +70864,9 @@ and limitations under the License.
                       }
                       if (t.connectedMeshId) {
                         var f = i.getMeshByID(t.connectedMeshId);
-                        f && c.attachToMesh(f);
+                        if (f) {
+                          c.attachToMesh(f);
+                        }
                       }
                       return c;
                     }),
@@ -70176,20 +70892,23 @@ and limitations under the License.
                   }
                   return (
                     (e.prototype._initializeSoundTrackAudioGraph = function () {
-                      ve.b.audioEngine.canUseWebAudio &&
-                        ve.b.audioEngine.audioContext &&
+                      if (
+                        ve.b.audioEngine.canUseWebAudio &&
+                        ve.b.audioEngine.audioContext
+                      ) {
                         ((this._outputAudioNode =
                           ve.b.audioEngine.audioContext.createGain()),
-                        this._outputAudioNode.connect(
-                          ve.b.audioEngine.masterGain,
-                        ),
-                        this._options &&
-                          (this._options.volume &&
-                            (this._outputAudioNode.gain.value =
-                              this._options.volume),
-                          this._options.mainTrack &&
-                            (this._isMainTrack = this._options.mainTrack)),
-                        (this._isInitialized = true));
+                          this._outputAudioNode.connect(
+                            ve.b.audioEngine.masterGain,
+                          ),
+                          this._options &&
+                            (this._options.volume &&
+                              (this._outputAudioNode.gain.value =
+                                this._options.volume),
+                            this._options.mainTrack &&
+                              (this._isMainTrack = this._options.mainTrack)),
+                          (this._isInitialized = true));
+                      }
                     }),
                     (e.prototype.dispose = function () {
                       if (ve.b.audioEngine && ve.b.audioEngine.canUseWebAudio) {
@@ -70222,12 +70941,17 @@ and limitations under the License.
                     }),
                     (e.prototype.RemoveSound = function (e) {
                       var t = this.soundCollection.indexOf(e);
-                      -1 !== t && this.soundCollection.splice(t, 1);
+                      if (-1 !== t) {
+                        this.soundCollection.splice(t, 1);
+                      }
                     }),
                     (e.prototype.setVolume = function (e) {
-                      ve.b.audioEngine.canUseWebAudio &&
-                        this._outputAudioNode &&
-                        (this._outputAudioNode.gain.value = e);
+                      if (
+                        ve.b.audioEngine.canUseWebAudio &&
+                        this._outputAudioNode
+                      ) {
+                        this._outputAudioNode.gain.value = e;
+                      }
                     }),
                     (e.prototype.switchPanningModelToHRTF = function () {
                       if (ve.b.audioEngine.canUseWebAudio)
@@ -70301,7 +71025,7 @@ and limitations under the License.
                   )
                     if (this.mainSoundTrack.soundCollection[t].name === e)
                       return this.mainSoundTrack.soundCollection[t];
-                  if (this.soundTracks)
+                  if (this.soundTracks) {
                     for (var i = 0; i < this.soundTracks.length; i++)
                       for (
                         t = 0;
@@ -70310,6 +71034,7 @@ and limitations under the License.
                       )
                         if (this.soundTracks[i].soundCollection[t].name === e)
                           return this.soundTracks[i].soundCollection[t];
+                  }
                   return null;
                 }),
                 Object.defineProperty(Y.a.prototype, "audioEnabled", {
@@ -70390,12 +71115,13 @@ and limitations under the License.
                   }),
                   (e.prototype.addFromContainer = function (e) {
                     var t = this;
-                    e.sounds &&
+                    if (e.sounds) {
                       e.sounds.forEach(function (e) {
                         (e.play(),
                           (e.autoplay = true),
                           t.scene.mainSoundTrack.AddSound(e));
                       });
+                    }
                   }),
                   (e.prototype.removeFromContainer = function (e, t) {
                     var i = this;
@@ -70484,8 +71210,8 @@ and limitations under the License.
                       (0 !== e._mainSoundTrack.soundCollection.length ||
                         1 !== e.soundTracks.length)
                     ) {
-                      var t,
-                        i = ve.b.audioEngine;
+                      var t;
+                      var i = ve.b.audioEngine;
                       if (
                         (t =
                           e.activeCameras.length > 0
@@ -70501,9 +71227,9 @@ and limitations under the License.
                           t.rigCameras &&
                             t.rigCameras.length > 0 &&
                             (t = t.rigCameras[0]));
-                        var n,
-                          r = a.j.Invert(t.getViewMatrix()),
-                          o = a.x.TransformNormal(new a.x(0, 0, -1), r);
+                        var n;
+                        var r = a.j.Invert(t.getViewMatrix());
+                        var o = a.x.TransformNormal(new a.x(0, 0, -1), r);
                         for (
                           o.normalize(),
                             isNaN(o.x) ||
@@ -70522,8 +71248,9 @@ and limitations under the License.
                           n++
                         ) {
                           var s = e.mainSoundTrack.soundCollection[n];
-                          s.useCustomAttenuation &&
+                          if (s.useCustomAttenuation) {
                             s.updateDistanceFromListener();
+                          }
                         }
                         if (e.soundTracks)
                           for (n = 0; n < e.soundTracks.length; n++)
@@ -70543,7 +71270,9 @@ and limitations under the License.
               })();
               Ae._SceneComponentInitialization = function (e) {
                 var t = e._getComponent(Se.a.NAME_AUDIO);
-                t || ((t = new Ce(e)), e._addComponent(t));
+                if (!t) {
+                  ((t = new Ce(e)), e._addComponent(t));
+                }
               };
               var Pe = (function () {
                   function e(e, t, i) {
@@ -70813,9 +71542,12 @@ and limitations under the License.
                         );
                       }),
                     (e.prototype._applyUserInteraction = function () {
-                      this._userIsMoving() &&
-                        !this._shouldAnimationStopForInteraction() &&
-                        (this._lastInteractionTime = K.a.Now);
+                      if (
+                        this._userIsMoving() &&
+                        !this._shouldAnimationStopForInteraction()
+                      ) {
+                        this._lastInteractionTime = K.a.Now;
+                      }
                     }),
                     (e.prototype._userIsMoving = function () {
                       return (
@@ -70858,8 +71590,8 @@ and limitations under the License.
                         if (this._autoTransitionRange !== e) {
                           this._autoTransitionRange = e;
                           var i = this._attachedCamera;
-                          i &&
-                            (e
+                          if (i) {
+                            e
                               ? (this._onMeshTargetChangedObserver =
                                   i.onMeshTargetChangedObservable.add(
                                     function (e) {
@@ -70877,7 +71609,8 @@ and limitations under the License.
                               : this._onMeshTargetChangedObserver &&
                                 i.onMeshTargetChangedObservable.remove(
                                   this._onMeshTargetChangedObserver,
-                                ));
+                                );
+                          }
                         }
                       },
                       enumerable: true,
@@ -70889,32 +71622,34 @@ and limitations under the License.
                       ((this._attachedCamera = e),
                         (this._onAfterCheckInputsObserver =
                           e.onAfterCheckInputsObservable.add(function () {
-                            t._attachedCamera &&
+                            if (t._attachedCamera) {
                               (t._isRadiusAtLimit(
                                 t._attachedCamera.lowerRadiusLimit,
                               ) &&
                                 t._applyBoundRadiusAnimation(
                                   t.lowerRadiusTransitionRange,
                                 ),
-                              t._isRadiusAtLimit(
-                                t._attachedCamera.upperRadiusLimit,
-                              ) &&
-                                t._applyBoundRadiusAnimation(
-                                  t.upperRadiusTransitionRange,
-                                ));
+                                t._isRadiusAtLimit(
+                                  t._attachedCamera.upperRadiusLimit,
+                                ) &&
+                                  t._applyBoundRadiusAnimation(
+                                    t.upperRadiusTransitionRange,
+                                  ));
+                            }
                           })));
                     }),
                     (e.prototype.detach = function () {
-                      this._attachedCamera &&
+                      if (this._attachedCamera) {
                         (this._onAfterCheckInputsObserver &&
                           this._attachedCamera.onAfterCheckInputsObservable.remove(
                             this._onAfterCheckInputsObserver,
                           ),
-                        this._onMeshTargetChangedObserver &&
-                          this._attachedCamera.onMeshTargetChangedObservable.remove(
-                            this._onMeshTargetChangedObserver,
-                          ),
-                        (this._attachedCamera = null));
+                          this._onMeshTargetChangedObserver &&
+                            this._attachedCamera.onMeshTargetChangedObservable.remove(
+                              this._onMeshTargetChangedObserver,
+                            ),
+                          (this._attachedCamera = null));
+                      }
                     }),
                     (e.prototype._isRadiusAtLimit = function (e) {
                       return (
@@ -70952,7 +71687,9 @@ and limitations under the License.
                             return i._clearAnimationLocks();
                           },
                         );
-                        n && this._animatables.push(n);
+                        if (n) {
+                          this._animatables.push(n);
+                        }
                       }
                     }),
                     (e.prototype._clearAnimationLocks = function () {
@@ -71099,7 +71836,9 @@ and limitations under the License.
                           })),
                         (this._onMeshTargetChangedObserver =
                           t.onMeshTargetChangedObservable.add(function (e) {
-                            e && i.zoomOnMesh(e);
+                            if (e) {
+                              i.zoomOnMesh(e);
+                            }
                           })),
                         (this._onAfterCheckInputsObserver =
                           t.onAfterCheckInputsObservable.add(function () {
@@ -71175,9 +71914,9 @@ and limitations under the License.
                         void 0 === r && (r = null),
                         this._attachedCamera)
                       ) {
-                        var c = t.y,
-                          u = c + (i.y - c) * this._positionScale,
-                          l = i.subtract(t).scale(0.5);
+                        var c = t.y;
+                        var u = c + (i.y - c) * this._positionScale;
+                        var l = i.subtract(t).scale(0.5);
                         if (n) o = new a.x(0, u, 0);
                         else {
                           var h = t.add(l);
@@ -71200,7 +71939,9 @@ and limitations under the License.
                           this._vectorTransition,
                           this._framingTime,
                         );
-                        f && this._animatables.push(f);
+                        if (f) {
+                          this._animatables.push(f);
+                        }
                         var d = 0;
                         if (this._mode === e.FitFrustumSidesMode) {
                           var p =
@@ -71280,9 +72021,9 @@ and limitations under the License.
                     (e.prototype._maintainCameraAboveGround = function () {
                       var t = this;
                       if (!(this._elevationReturnTime < 0)) {
-                        var i = K.a.Now - this._lastInteractionTime,
-                          n = 0.5 * Math.PI - this._defaultElevation,
-                          r = 0.5 * Math.PI;
+                        var i = K.a.Now - this._lastInteractionTime;
+                        var n = 0.5 * Math.PI - this._defaultElevation;
+                        var r = 0.5 * Math.PI;
                         if (
                           this._attachedCamera &&
                           !this._betaIsAnimating &&
@@ -71310,7 +72051,9 @@ and limitations under the License.
                               (t._clearAnimationLocks(), t.stopAllAnimations());
                             },
                           );
-                          o && this._animatables.push(o);
+                          if (o) {
+                            this._animatables.push(o);
+                          }
                         }
                       }
                     }),
@@ -71326,10 +72069,11 @@ and limitations under the License.
                       this._betaIsAnimating = false;
                     }),
                     (e.prototype._applyUserInteraction = function () {
-                      this.isUserIsMoving &&
+                      if (this.isUserIsMoving) {
                         ((this._lastInteractionTime = K.a.Now),
-                        this.stopAllAnimations(),
-                        this._clearAnimationLocks());
+                          this.stopAllAnimations(),
+                          this._clearAnimationLocks());
+                      }
                     }),
                     (e.prototype.stopAllAnimations = function () {
                       for (
@@ -71449,8 +72193,9 @@ and limitations under the License.
                           this._scene.onBeforeRenderObservable.add(function () {
                             if (t._scene.activeCamera) {
                               var i = t._scene.activeCamera.position;
-                              t._scene.activeCamera.devicePosition &&
-                                (i = t._scene.activeCamera.devicePosition);
+                              if (t._scene.activeCamera.devicePosition) {
+                                i = t._scene.activeCamera.devicePosition;
+                              }
                               var n = t._closestFace(i.subtract(e.position));
                               (t._scene.activeCamera.leftCamera
                                 ? t._scene.activeCamera.leftCamera
@@ -71636,26 +72381,30 @@ and limitations under the License.
                       ((this._ownerNode = e),
                         this._dragBehaviorA.onDragStartObservable.add(
                           function (i) {
-                            t._dragBehaviorA.dragging &&
-                              t._dragBehaviorB.dragging &&
-                              (t._dragBehaviorA.currentDraggingPointerID ==
+                            if (
+                              t._dragBehaviorA.dragging &&
+                              t._dragBehaviorB.dragging
+                            ) {
+                              t._dragBehaviorA.currentDraggingPointerID ==
                               t._dragBehaviorB.currentDraggingPointerID
                                 ? t._dragBehaviorA.releaseDrag()
                                 : (t._initialScale.copyFrom(e.scaling),
-                                  (t._startDistance =
-                                    t._getCurrentDistance())));
+                                  (t._startDistance = t._getCurrentDistance()));
+                            }
                           },
                         ),
                         this._dragBehaviorB.onDragStartObservable.add(
                           function (i) {
-                            t._dragBehaviorA.dragging &&
-                              t._dragBehaviorB.dragging &&
-                              (t._dragBehaviorA.currentDraggingPointerID ==
+                            if (
+                              t._dragBehaviorA.dragging &&
+                              t._dragBehaviorB.dragging
+                            ) {
+                              t._dragBehaviorA.currentDraggingPointerID ==
                               t._dragBehaviorB.currentDraggingPointerID
                                 ? t._dragBehaviorB.releaseDrag()
                                 : (t._initialScale.copyFrom(e.scaling),
-                                  (t._startDistance =
-                                    t._getCurrentDistance())));
+                                  (t._startDistance = t._getCurrentDistance()));
+                            }
                           },
                         ),
                         [this._dragBehaviorA, this._dragBehaviorB].forEach(
@@ -71684,7 +72433,9 @@ and limitations under the License.
                               var i = t._targetScale
                                 .subtract(e.scaling)
                                 .scaleInPlace(0.1);
-                              i.length() > 0.01 && e.scaling.addInPlace(i);
+                              if (i.length() > 0.01) {
+                                e.scaling.addInPlace(i);
+                              }
                             }
                           })));
                     }),
@@ -71756,7 +72507,7 @@ and limitations under the License.
                         this._scene.onPointerObservable.add(function (e, t) {
                           if (e.type == Re.a.POINTERDOWN) {
                             if (
-                              !i.dragging &&
+                              !true &&
                               e.pickInfo &&
                               e.pickInfo.hit &&
                               e.pickInfo.pickedMesh &&
@@ -71850,13 +72601,16 @@ and limitations under the License.
                             n
                           ) {
                             var c = i.zDragFactor;
-                            i._scene.activeCamera &&
+                            if (
+                              i._scene.activeCamera &&
                               i._scene.activeCamera.cameraRigMode ==
-                                ke.a.RIG_MODE_NONE &&
+                                ke.a.RIG_MODE_NONE
+                            ) {
                               (e.pickInfo.ray.origin.copyFrom(
                                 i._scene.activeCamera.globalPosition,
                               ),
-                              (c = 0));
+                                (c = 0));
+                            }
                             var u = e.pickInfo.ray.origin.subtract(r);
                             r.copyFrom(e.pickInfo.ray.origin);
                             var l = -a.x.Dot(u, e.pickInfo.ray.direction);
@@ -71887,7 +72641,7 @@ and limitations under the License.
                                   a.j.Invert(n.parent.getWorldMatrix()),
                                   i._targetPosition,
                                 ),
-                              i._moving ||
+                              true ||
                                 i._startingOrientation.copyFrom(
                                   i._virtualDragMesh.rotationQuaternion,
                                 ),
@@ -71925,19 +72679,20 @@ and limitations under the License.
                                 ),
                                 s.multiplyToRef(i._startingOrientation, s));
                               var e = n.parent;
-                              (!e ||
+                              if (
+                                !e ||
                                 (e.scaling &&
-                                  !e.scaling.isNonUniformWithinEpsilon(
-                                    0.001,
-                                  ))) &&
+                                  !e.scaling.isNonUniformWithinEpsilon(0.001))
+                              ) {
                                 (n.setParent(null),
-                                a.q.SlerpToRef(
-                                  n.rotationQuaternion,
-                                  s,
-                                  i.dragDeltaRatio,
-                                  n.rotationQuaternion,
-                                ),
-                                n.setParent(e));
+                                  a.q.SlerpToRef(
+                                    n.rotationQuaternion,
+                                    s,
+                                    i.dragDeltaRatio,
+                                    n.rotationQuaternion,
+                                  ),
+                                  n.setParent(e));
+                              }
                             }
                             Ue.a._RestorePivotPoint(n);
                           }
@@ -71998,17 +72753,17 @@ and limitations under the License.
                             (this._bendAxis.z = 1))),
                         this._bone1.length)
                       ) {
-                        var r = this._bone1.getScale(),
-                          o = this._bone2.getScale();
+                        var r = this._bone1.getScale();
+                        var o = this._bone2.getScale();
                         ((this._bone1Length =
                           this._bone1.length * r.y * this.mesh.scaling.y),
                           (this._bone2Length =
                             this._bone2.length * o.y * this.mesh.scaling.y));
                       } else if (this._bone1.children[0]) {
                         e.computeWorldMatrix(true);
-                        var s = this._bone2.children[0].getAbsolutePosition(e),
-                          c = this._bone2.getAbsolutePosition(e),
-                          u = this._bone1.getAbsolutePosition(e);
+                        var s = this._bone2.children[0].getAbsolutePosition(e);
+                        var c = this._bone2.getAbsolutePosition(e);
+                        var u = this._bone1.getAbsolutePosition(e);
                         ((this._bone1Length = a.x.Distance(s, c)),
                           (this._bone2Length = a.x.Distance(c, u)));
                       }
@@ -72063,10 +72818,10 @@ and limitations under the License.
                     (e.prototype.update = function () {
                       var t = this._bone1;
                       if (t) {
-                        var i = this.targetPosition,
-                          n = this.poleTargetPosition,
-                          r = e._tmpMats[0],
-                          o = e._tmpMats[1];
+                        var i = this.targetPosition;
+                        var n = this.poleTargetPosition;
+                        var r = e._tmpMats[0];
+                        var o = e._tmpMats[1];
                         (this.targetMesh &&
                           i.copyFrom(this.targetMesh.getAbsolutePosition()),
                           this.poleTargetBone
@@ -72081,15 +72836,15 @@ and limitations under the License.
                                 this.poleTargetMesh.getWorldMatrix(),
                                 n,
                               ));
-                        var s = e._tmpVecs[0],
-                          c = e._tmpVecs[1],
-                          u = e._tmpVecs[2],
-                          l = e._tmpVecs[3],
-                          h = e._tmpVecs[4],
-                          f = e._tmpQuat;
+                        var s = e._tmpVecs[0];
+                        var c = e._tmpVecs[1];
+                        var u = e._tmpVecs[2];
+                        var l = e._tmpVecs[3];
+                        var h = e._tmpVecs[4];
+                        var f = e._tmpQuat;
                         (t.getAbsolutePositionToRef(this.mesh, s),
                           n.subtractToRef(s, h),
-                          0 == h.x && 0 == h.y && 0 == h.z
+                          0 == h.x && 0 == 1 && 0 == h.z
                             ? (h.y = 1)
                             : h.normalize(),
                           i.subtractToRef(s, l),
@@ -72099,19 +72854,21 @@ and limitations under the License.
                           a.x.CrossToRef(l, c, u),
                           u.normalize(),
                           a.j.FromXYZAxesToRef(u, l, c, r));
-                        var d = this._bone1Length,
-                          p = this._bone2Length,
-                          m = a.x.Distance(s, i);
-                        this._maxReach > 0 && (m = Math.min(this._maxReach, m));
-                        var g = (p * p + m * m - d * d) / (2 * p * m),
-                          _ = (m * m + d * d - p * p) / (2 * m * d);
+                        var d = this._bone1Length;
+                        var p = this._bone2Length;
+                        var m = a.x.Distance(s, i);
+                        if (this._maxReach > 0) {
+                          m = Math.min(this._maxReach, m);
+                        }
+                        var g = (p * p + m * m - d * d) / (2 * p * m);
+                        var _ = (m * m + d * d - p * p) / (2 * m * d);
                         (g > 1 && (g = 1),
                           _ > 1 && (_ = 1),
                           g < -1 && (g = -1),
                           _ < -1 && (_ = -1));
-                        var v = Math.acos(g),
-                          y = Math.acos(_),
-                          b = -v - y;
+                        var v = Math.acos(g);
+                        var y = Math.acos(_);
+                        var b = -v - y;
                         if (this._rightHandedSystem)
                           (a.j.RotationYawPitchRollToRef(
                             0,
@@ -72222,8 +72979,8 @@ and limitations under the License.
                           (this.upAxisSpace = n.upAxisSpace),
                         null != n.yawAxis || null != n.pitchAxis))
                     ) {
-                      var r = a.c.Y,
-                        o = a.c.X;
+                      var r = a.c.Y;
+                      var o = a.c.X;
                       (null != n.yawAxis && (r = n.yawAxis.clone()).normalize(),
                         null != n.pitchAxis &&
                           (o = n.pitchAxis.clone()).normalize());
@@ -72234,9 +72991,9 @@ and limitations under the License.
                           this._transformYawPitch.clone()),
                         this._transformYawPitch.invert());
                     }
-                    t.getParent() ||
-                      this.upAxisSpace != a.s.BONE ||
-                      (this.upAxisSpace = a.s.LOCAL);
+                    if (!(t.getParent() || this.upAxisSpace != a.s.BONE)) {
+                      this.upAxisSpace = a.s.LOCAL;
+                    }
                   }
                   return (
                     Object.defineProperty(e.prototype, "minYaw", {
@@ -72301,15 +73058,15 @@ and limitations under the License.
                       if (this.slerpAmount < 1 && !this._firstFrameSkipped)
                         this._firstFrameSkipped = true;
                       else {
-                        var t = this.bone,
-                          i = e._tmpVecs[0];
+                        var t = this.bone;
+                        var i = e._tmpVecs[0];
                         t.getAbsolutePositionToRef(this.mesh, i);
-                        var n = this.target,
-                          r = e._tmpMats[0],
-                          o = e._tmpMats[1],
-                          s = this.mesh,
-                          c = t.getParent(),
-                          u = e._tmpVecs[1];
+                        var n = this.target;
+                        var r = e._tmpMats[0];
+                        var o = e._tmpMats[1];
+                        var s = this.mesh;
+                        var c = t.getParent();
+                        var u = e._tmpVecs[1];
                         (u.copyFrom(this.upAxis),
                           this.upAxisSpace == a.s.BONE && c
                             ? (this._transformYawPitch &&
@@ -72325,8 +73082,8 @@ and limitations under the License.
                                 1 == s.scaling.y &&
                                 1 == s.scaling.z) ||
                                 u.normalize()));
-                        var l = false,
-                          h = false;
+                        var l = false;
+                        var h = false;
                         if (
                           ((this._maxYaw == Math.PI &&
                             this._minYaw == -Math.PI) ||
@@ -72336,8 +73093,8 @@ and limitations under the License.
                             (h = true),
                           l || h)
                         ) {
-                          var f = e._tmpMats[2],
-                            d = e._tmpMats[3];
+                          var f = e._tmpMats[2];
+                          var d = e._tmpMats[3];
                           if (this.upAxisSpace == a.s.BONE && 1 == u.y && c)
                             c.getRotationMatrixToRef(a.s.WORLD, this.mesh, f);
                           else if (
@@ -72367,15 +73124,15 @@ and limitations under the License.
                             (n.subtractToRef(i, _),
                               a.x.TransformCoordinatesToRef(_, d, _),
                               (g = Math.sqrt(_.x * _.x + _.z * _.z)));
-                            var v = Math.atan2(_.y, g),
-                              y = v;
+                            var v = Math.atan2(_.y, g);
+                            var y = v;
                             (v > this._maxPitch
                               ? ((_.y = this._maxPitchTan * g),
                                 (y = this._maxPitch))
                               : v < this._minPitch &&
                                 ((_.y = this._minPitchTan * g),
                                 (y = this._minPitch)),
-                              v != y &&
+                              v != v &&
                                 (a.x.TransformCoordinatesToRef(_, f, _),
                                 _.addInPlace(i),
                                 (n = _)));
@@ -72384,8 +73141,8 @@ and limitations under the License.
                             ((_ = e._tmpVecs[4]),
                               n.subtractToRef(i, _),
                               a.x.TransformCoordinatesToRef(_, d, _));
-                            var b = Math.atan2(_.x, _.z),
-                              E = b;
+                            var b = Math.atan2(_.x, _.z);
+                            var E = b;
                             if (
                               ((b > this._maxYaw || b < this._minYaw) &&
                                 (null == g &&
@@ -72435,8 +73192,9 @@ and limitations under the License.
                                 this._getAngleBetween(x, b) >
                                 this._getAngleBetween(x, this._midYawConstraint)
                               ) {
-                                null == g &&
-                                  (g = Math.sqrt(_.x * _.x + _.z * _.z));
+                                if (null == g) {
+                                  g = Math.sqrt(_.x * _.x + _.z * _.z);
+                                }
                                 var S = this._getAngleBetween(x, this._maxYaw);
                                 this._getAngleBetween(x, this._minYaw) < S
                                   ? ((E = x + 0.75 * Math.PI),
@@ -72447,16 +73205,17 @@ and limitations under the License.
                                     (_.x = Math.sin(E) * g));
                               }
                             }
-                            b != E &&
+                            if (b != b) {
                               (a.x.TransformCoordinatesToRef(_, f, _),
-                              _.addInPlace(i),
-                              (n = _));
+                                _.addInPlace(i),
+                                (n = _));
+                            }
                           }
                         }
-                        var C = e._tmpVecs[5],
-                          P = e._tmpVecs[6],
-                          R = e._tmpVecs[7],
-                          M = e._tmpQuat;
+                        var C = e._tmpVecs[5];
+                        var P = e._tmpVecs[6];
+                        var R = e._tmpVecs[7];
+                        var M = e._tmpQuat;
                         (n.subtractToRef(i, C),
                           C.normalize(),
                           a.x.CrossToRef(u, C, P),
@@ -72553,9 +73312,9 @@ and limitations under the License.
                   void 0 === o && (o = ve.b.TEXTURETYPE_UNSIGNED_INT),
                   e)
                 ) {
-                  var a = this._getRGBABufferInternalSizedFormat(o, i),
-                    s = this._getInternalFormat(i),
-                    c = this._getWebGLTextureType(o);
+                  var a = this._getRGBABufferInternalSizedFormat(o, i);
+                  var s = this._getInternalFormat(i);
+                  var c = this._getWebGLTextureType(o);
                   (this._bindTextureDirectly(this._gl.TEXTURE_2D, e, true),
                     this._unpackFlipY(void 0 === n || !!n),
                     this._doNotHandleContextLost ||
@@ -72648,7 +73407,9 @@ and limitations under the License.
                   a,
                   s,
                 ) {
-                  void 0 === s && (s = null);
+                  if (void 0 === s) {
+                    s = null;
+                  }
                   var c = this._gl,
                     u = new He.a(this, He.a.DATASOURCE_CUBERAW);
                   ((u.isCube = true),
@@ -72683,9 +73444,9 @@ and limitations under the License.
                           "Float texture filtering is not supported. Mipmap generation and sampling mode are forced to false and TEXTURE_NEAREST_SAMPLINGMODE, respectively.",
                         )));
                   var f = t,
-                    d = f;
-                  ((u.width = f),
-                    (u.height = d),
+                    d = t;
+                  ((u.width = t),
+                    (u.height = t),
                     !this.needPOTTextures ||
                       (Ee.h.IsExponentOfTwo(u.width) &&
                         Ee.h.IsExponentOfTwo(u.height)) ||
@@ -72824,10 +73585,10 @@ and limitations under the License.
                             o = a(e);
                           if (o) {
                             if (s) {
-                              var u = f._getWebGLTextureType(r),
-                                l = f._getInternalFormat(n),
-                                m = f._getRGBABufferInternalSizedFormat(r),
-                                g = false;
+                              var u = f._getWebGLTextureType(r);
+                              var l = f._getInternalFormat(n);
+                              var m = f._getRGBABufferInternalSizedFormat(r);
+                              var g = false;
                               (l === d.RGB && ((l = d.RGBA), (g = true)),
                                 f._bindTextureDirectly(
                                   d.TEXTURE_CUBE_MAP,
@@ -72969,7 +73730,7 @@ and limitations under the License.
                       void 0 === s && (s = false),
                       void 0 === c && (c = _.a.TEXTURE_TRILINEAR_SAMPLINGMODE),
                       void 0 === u && (u = _.a.TEXTURETYPE_UNSIGNED_INT));
-                    var l = e.call(this, null, o, !a, s) || this;
+                    var l = e(null, o, !a, s) || this;
                     return (
                       (l.format = r),
                       (l._engine = o.getEngine()),
@@ -73206,7 +73967,9 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype.deleteAnimationRange = function (e, t) {
-                      void 0 === t && (t = true);
+                      if (void 0 === t) {
+                        t = true;
+                      }
                       for (var i = 0, n = this.bones.length; i < n; i++)
                         this.bones[i].animations[0] &&
                           this.bones[i].animations[0].deleteRange(e, t);
@@ -73234,21 +73997,22 @@ and limitations under the License.
                         s = {},
                         c = e.bones;
                       for (r = 0, n = c.length; r < n; r++) s[c[r].name] = c[r];
-                      this.bones.length !== c.length &&
+                      if (this.bones.length !== c.length) {
                         (g.a.Warn(
                           "copyAnimationRange: this rig has " +
                             this.bones.length +
                             " bones, while source as " +
                             c.length,
                         ),
-                        (o = false));
+                          (o = false));
+                      }
                       var u =
                         i && this.dimensionsAtRest && e.dimensionsAtRest
                           ? this.dimensionsAtRest.divide(e.dimensionsAtRest)
                           : null;
                       for (r = 0, n = this.bones.length; r < n; r++) {
-                        var l = this.bones[r].name,
-                          h = s[l];
+                        var l = this.bones[r].name;
+                        var h = s[l];
                         h
                           ? (o =
                               o &&
@@ -73273,7 +74037,9 @@ and limitations under the License.
                       for (var e = 0, t = 0, i = this.bones.length; t < i; t++)
                         if (this.bones[t].animations[0]) {
                           var n = this.bones[t].animations[0].getHighestFrame();
-                          e < n && (e = n);
+                          if (e < n) {
+                            e = n;
+                          }
                         }
                       return e;
                     }),
@@ -73298,7 +74064,9 @@ and limitations under the License.
                     }),
                     (e.prototype._unregisterMeshWithPoseMatrix = function (e) {
                       var t = this._meshesWithPoseMatrix.indexOf(e);
-                      t > -1 && this._meshesWithPoseMatrix.splice(t, 1);
+                      if (t > -1) {
+                        this._meshesWithPoseMatrix.splice(t, 1);
+                      }
                     }),
                     (e.prototype._computeTransformMatrices = function (e, t) {
                       this.onBeforeComputeObservable.notifyObservers(this);
@@ -73335,10 +74103,11 @@ and limitations under the License.
                       if (this._numBonesWithLinkedTransformNode > 0)
                         for (var e = 0, t = this.bones; e < t.length; e++) {
                           var i = t[e];
-                          i._linkedTransformNode &&
+                          if (i._linkedTransformNode) {
                             (i._linkedTransformNode.computeWorldMatrix(),
-                            (i._matrix = i._linkedTransformNode._localMatrix),
-                            i.markAsDirty());
+                              (i._matrix = i._linkedTransformNode._localMatrix),
+                              i.markAsDirty());
+                          }
                         }
                       if (this._isDirty) {
                         if (this.needInitialSkinMatrix)
@@ -73347,8 +74116,8 @@ and limitations under the License.
                             n < this._meshesWithPoseMatrix.length;
                             n++
                           ) {
-                            var r = this._meshesWithPoseMatrix[n],
-                              o = r.getPoseMatrix();
+                            var r = this._meshesWithPoseMatrix[n];
+                            var o = r.getPoseMatrix();
                             if (
                               ((r._bonesTransformMatrices &&
                                 r._bonesTransformMatrices.length ===
@@ -73361,11 +74130,12 @@ and limitations under the License.
                               this._synchronizedWithMesh = r;
                               for (var s = 0; s < this.bones.length; s++) {
                                 var c = this.bones[s];
-                                c.getParent() ||
+                                if (!c.getParent()) {
                                   (c
                                     .getBaseMatrix()
                                     .multiplyToRef(o, a.t.Matrix[1]),
-                                  c._updateDifferenceMatrix(a.t.Matrix[1]));
+                                    c._updateDifferenceMatrix(a.t.Matrix[1]));
+                                }
                               }
                             }
                             this._computeTransformMatrices(
@@ -73425,9 +74195,9 @@ and limitations under the License.
                       var n = new e(t, i || t, this._scene);
                       n.needInitialSkinMatrix = this.needInitialSkinMatrix;
                       for (var r = 0; r < this.bones.length; r++) {
-                        var o = this.bones[r],
-                          a = null,
-                          s = o.getParent();
+                        var o = this.bones[r];
+                        var a = null;
+                        var s = o.getParent();
                         if (s) {
                           var c = this.bones.indexOf(s);
                           a = n.bones[c];
@@ -73444,7 +74214,9 @@ and limitations under the License.
                       if (this._ranges)
                         for (var l in ((n._ranges = {}), this._ranges)) {
                           var h = this._ranges[l];
-                          h && (n._ranges[l] = h.clone());
+                          if (h) {
+                            n._ranges[l] = h.clone();
+                          }
                         }
                       return ((this._isDirty = true), n);
                     }),
@@ -73474,14 +74246,14 @@ and limitations under the License.
                         (e.bones = []),
                         (e.needInitialSkinMatrix = this.needInitialSkinMatrix));
                       for (var t = 0; t < this.bones.length; t++) {
-                        var i = this.bones[t],
-                          n = i.getParent(),
-                          r = {
-                            parentBoneIndex: n ? this.bones.indexOf(n) : -1,
-                            name: i.name,
-                            matrix: i.getBaseMatrix().toArray(),
-                            rest: i.getRestPose().toArray(),
-                          };
+                        var i = this.bones[t];
+                        var n = i.getParent();
+                        var r = {
+                          parentBoneIndex: n ? this.bones.indexOf(n) : -1,
+                          name: i.name,
+                          matrix: i.getBaseMatrix().toArray(),
+                          rest: i.getRestPose().toArray(),
+                        };
                         for (var o in (e.bones.push(r),
                         i.length && (r.length = i.length),
                         i.metadata && (r.metadata = i.metadata),
@@ -73515,12 +74287,13 @@ and limitations under the License.
                         n < t.bones.length;
                         n++
                       ) {
-                        var o = t.bones[n],
-                          s = null;
-                        o.parentBoneIndex > -1 &&
-                          (s = r.bones[o.parentBoneIndex]);
-                        var c = o.rest ? a.j.FromArray(o.rest) : null,
-                          u = new q(o.name, r, s, a.j.FromArray(o.matrix), c);
+                        var o = t.bones[n];
+                        var s = null;
+                        if (o.parentBoneIndex > -1) {
+                          s = r.bones[o.parentBoneIndex];
+                        }
+                        var c = o.rest ? a.j.FromArray(o.rest) : null;
+                        var u = new q(o.name, r, s, a.j.FromArray(o.matrix), c);
                         (void 0 !== o.id && null !== o.id && (u.id = o.id),
                           o.length && (u.length = o.length),
                           o.metadata && (u.metadata = o.metadata),
@@ -73540,11 +74313,14 @@ and limitations under the License.
                       return r;
                     }),
                     (e.prototype.computeAbsoluteTransforms = function (e) {
-                      void 0 === e && (e = false);
+                      if (void 0 === e) {
+                        e = false;
+                      }
                       var t = this._scene.getRenderId();
-                      (this._lastAbsoluteTransformsUpdateId != t || e) &&
+                      if (this._lastAbsoluteTransformsUpdateId != t || e) {
                         (this.bones[0].computeAbsoluteTransforms(),
-                        (this._lastAbsoluteTransformsUpdateId = t));
+                          (this._lastAbsoluteTransformsUpdateId = t));
+                      }
                     }),
                     (e.prototype.getPoseMatrix = function () {
                       var e = null;
@@ -73569,7 +74345,9 @@ and limitations under the License.
                       if (!i[e]) {
                         i[e] = true;
                         var n = this.bones[e];
-                        void 0 === n._index && (n._index = e);
+                        if (void 0 === n._index) {
+                          n._index = e;
+                        }
                         var r = n.getParent();
                         (r && this._sortBones(this.bones.indexOf(r), t, i),
                           t.push(n));
@@ -73606,21 +74384,23 @@ and limitations under the License.
                     (e.prototype.remove = function (e) {
                       for (var t in this.attached) {
                         var i = this.attached[t];
-                        i === e &&
+                        if (i === e) {
                           (i.detachControl(this.attachedElement),
-                          (i.camera = null),
-                          delete this.attached[t],
-                          this.rebuildInputCheck());
+                            (i.camera = null),
+                            delete this.attached[t],
+                            this.rebuildInputCheck());
+                        }
                       }
                     }),
                     (e.prototype.removeByType = function (e) {
                       for (var t in this.attached) {
                         var i = this.attached[t];
-                        i.getClassName() === e &&
+                        if (i.getClassName() === e) {
                           (i.detachControl(this.attachedElement),
-                          (i.camera = null),
-                          delete this.attached[t],
-                          this.rebuildInputCheck());
+                            (i.camera = null),
+                            delete this.attached[t],
+                            this.rebuildInputCheck());
+                        }
                       }
                     }),
                     (e.prototype._addCheckInputs = function (e) {
@@ -73630,11 +74410,12 @@ and limitations under the License.
                       };
                     }),
                     (e.prototype.attachInput = function (e) {
-                      this.attachedElement &&
+                      if (this.attachedElement) {
                         e.attachControl(
                           this.attachedElement,
                           this.noPreventDefault,
                         );
+                      }
                     }),
                     (e.prototype.attachElement = function (e, t) {
                       if ((void 0 === t && (t = false), !this.attachedElement))
@@ -73660,10 +74441,11 @@ and limitations under the License.
                       for (var e in ((this.checkInputs = function () {}),
                       this.attached)) {
                         var t = this.attached[e];
-                        t.checkInputs &&
-                          (this.checkInputs = this._addCheckInputs(
+                        if (t.checkInputs) {
+                          this.checkInputs = this._addCheckInputs(
                             t.checkInputs.bind(t),
-                          ));
+                          );
+                        }
                       }
                     }),
                     (e.prototype.clear = function () {
@@ -73676,8 +74458,8 @@ and limitations under the License.
                     (e.prototype.serialize = function (e) {
                       var t = {};
                       for (var i in this.attached) {
-                        var n = this.attached[i],
-                          r = F.a.Serialize(n);
+                        var n = this.attached[i];
+                        var r = F.a.Serialize(n);
                         t[n.getClassName()] = r;
                       }
                       e.inputsmgr = t;
@@ -73687,20 +74469,20 @@ and limitations under the License.
                       if (t) {
                         for (var i in (this.clear(), t))
                           if ((o = Ye[i])) {
-                            var n = t[i],
-                              r = F.a.Parse(
-                                function () {
-                                  return new o();
-                                },
-                                n,
-                                null,
-                              );
+                            var n = t[i];
+                            var r = F.a.Parse(
+                              function () {
+                                return new o();
+                              },
+                              n,
+                              null,
+                            );
                             this.add(r);
                           }
                       } else
                         for (var i in this.attached) {
                           var o;
-                          (o = Ye[this.attached[i].getClassName()]) &&
+                          if ((o = Ye[this.attached[i].getClassName()])) {
                             ((r = F.a.Parse(
                               function () {
                                 return new o();
@@ -73708,8 +74490,9 @@ and limitations under the License.
                               e,
                               null,
                             )),
-                            this.remove(this.attached[i]),
-                            this.add(r));
+                              this.remove(this.attached[i]),
+                              this.add(r));
+                          }
                         }
                     }),
                     e
@@ -73818,7 +74601,7 @@ and limitations under the License.
                 })(),
                 Ze = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, i, n) || this;
+                    var r = e(t, i, n) || this;
                     return (
                       (r.onButtonDownObservable = new o.c()),
                       (r.onButtonUpObservable = new o.c()),
@@ -73848,7 +74631,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.update = function () {
-                      e.prototype.update.call(this);
+                      e.prototype.update();
                       for (var t = 0; t < this._buttons.length; t++)
                         this._buttons[t] = this._setButtonValue(
                           this.browserGamepad.buttons[t].value,
@@ -73857,7 +74640,7 @@ and limitations under the License.
                         );
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this.onButtonDownObservable.clear(),
                         this.onButtonUpObservable.clear());
                     }),
@@ -73875,13 +74658,16 @@ and limitations under the License.
                         n = this.camera.getScene().gamepadManager;
                       ((this._onGamepadConnectedObserver =
                         n.onGamepadConnectedObservable.add(function (e) {
-                          e.type !== qe.POSE_ENABLED &&
-                            ((i.gamepad && e.type !== qe.XBOX) ||
-                              (i.gamepad = e));
+                          if (e.type !== qe.POSE_ENABLED) {
+                            (i.gamepad && e.type !== qe.XBOX) ||
+                              (i.gamepad = e);
+                          }
                         })),
                         (this._onGamepadDisconnectedObserver =
                           n.onGamepadDisconnectedObservable.add(function (e) {
-                            i.gamepad === e && (i.gamepad = null);
+                            if (null === e) {
+                              i.gamepad = null;
+                            }
                           })),
                         (this.gamepad = n.getGamepadByType(qe.XBOX)));
                     }),
@@ -73900,28 +74686,28 @@ and limitations under the License.
                     }),
                     (e.prototype.checkInputs = function () {
                       if (this.gamepad) {
-                        var e = this.camera,
-                          t = this.gamepad.rightStick;
+                        var e = this.camera;
+                        var t = this.gamepad.rightStick;
                         if (t) {
                           if (0 != t.x) {
                             var i = t.x / this.gamepadRotationSensibility;
-                            0 != i &&
-                              Math.abs(i) > 0.005 &&
-                              (e.inertialAlphaOffset += i);
+                            if (0 != i && Math.abs(i) > 0.005) {
+                              e.inertialAlphaOffset += i;
+                            }
                           }
                           if (0 != t.y) {
                             var n = t.y / this.gamepadRotationSensibility;
-                            0 != n &&
-                              Math.abs(n) > 0.005 &&
-                              (e.inertialBetaOffset += n);
+                            if (0 != n && Math.abs(n) > 0.005) {
+                              e.inertialBetaOffset += n;
+                            }
                           }
                         }
                         var r = this.gamepad.leftStick;
                         if (r && 0 != r.y) {
                           var o = r.y / this.gamepadMoveSensibility;
-                          0 != o &&
-                            Math.abs(o) > 0.005 &&
-                            (this.camera.inertialRadiusOffset -= o);
+                          if (0 != o && Math.abs(o) > 0.005) {
+                            this.camera.inertialRadiusOffset -= o;
+                          }
                         }
                       }
                     }),
@@ -73964,40 +74750,45 @@ and limitations under the License.
                   return (
                     (e.prototype.attachControl = function (e, t) {
                       var i = this;
-                      this._onCanvasBlurObserver ||
+                      if (!this._onCanvasBlurObserver) {
                         ((this._scene = this.camera.getScene()),
-                        (this._engine = this._scene.getEngine()),
-                        (this._onCanvasBlurObserver =
-                          this._engine.onCanvasBlurObservable.add(function () {
-                            i._keys = [];
-                          })),
-                        (this._onKeyboardObserver =
-                          this._scene.onKeyboardObservable.add(function (e) {
-                            var n,
-                              r = e.event;
-                            r.metaKey ||
-                              (e.type === $e.a.KEYDOWN
-                                ? ((i._ctrlPressed = r.ctrlKey),
-                                  (i._altPressed = r.altKey),
-                                  (-1 !== i.keysUp.indexOf(r.keyCode) ||
-                                    -1 !== i.keysDown.indexOf(r.keyCode) ||
-                                    -1 !== i.keysLeft.indexOf(r.keyCode) ||
-                                    -1 !== i.keysRight.indexOf(r.keyCode) ||
-                                    -1 !== i.keysReset.indexOf(r.keyCode)) &&
-                                    (-1 === (n = i._keys.indexOf(r.keyCode)) &&
-                                      i._keys.push(r.keyCode),
+                          (this._engine = this._scene.getEngine()),
+                          (this._onCanvasBlurObserver =
+                            this._engine.onCanvasBlurObservable.add(
+                              function () {
+                                i._keys = [];
+                              },
+                            )),
+                          (this._onKeyboardObserver =
+                            this._scene.onKeyboardObservable.add(function (e) {
+                              var n,
+                                r = e.event;
+                              if (!r.metaKey) {
+                                e.type === $e.a.KEYDOWN
+                                  ? ((i._ctrlPressed = r.ctrlKey),
+                                    (i._altPressed = r.altKey),
+                                    (-1 !== i.keysUp.indexOf(r.keyCode) ||
+                                      -1 !== i.keysDown.indexOf(r.keyCode) ||
+                                      -1 !== i.keysLeft.indexOf(r.keyCode) ||
+                                      -1 !== i.keysRight.indexOf(r.keyCode) ||
+                                      -1 !== i.keysReset.indexOf(r.keyCode)) &&
+                                      (-1 ===
+                                        (n = i._keys.indexOf(r.keyCode)) &&
+                                        i._keys.push(r.keyCode),
+                                      r.preventDefault &&
+                                        (t || r.preventDefault())))
+                                  : (-1 === i.keysUp.indexOf(r.keyCode) &&
+                                      -1 === i.keysDown.indexOf(r.keyCode) &&
+                                      -1 === i.keysLeft.indexOf(r.keyCode) &&
+                                      -1 === i.keysRight.indexOf(r.keyCode) &&
+                                      -1 === i.keysReset.indexOf(r.keyCode)) ||
+                                    ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
+                                      i._keys.splice(n, 1),
                                     r.preventDefault &&
-                                      (t || r.preventDefault())))
-                                : (-1 === i.keysUp.indexOf(r.keyCode) &&
-                                    -1 === i.keysDown.indexOf(r.keyCode) &&
-                                    -1 === i.keysLeft.indexOf(r.keyCode) &&
-                                    -1 === i.keysRight.indexOf(r.keyCode) &&
-                                    -1 === i.keysReset.indexOf(r.keyCode)) ||
-                                  ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
-                                    i._keys.splice(n, 1),
-                                  r.preventDefault &&
-                                    (t || r.preventDefault())));
-                          })));
+                                      (t || r.preventDefault()));
+                              }
+                            })));
+                      }
                     }),
                     (e.prototype.detachControl = function (e) {
                       (this._scene &&
@@ -74103,10 +74894,10 @@ and limitations under the License.
                     var i = this;
                     ((this._wheel = function (e, n) {
                       if (e.type === Re.a.POINTERWHEEL) {
-                        var r = e.event,
-                          o = 0,
-                          a = r;
-                        if (a.wheelDelta)
+                        var r = e.event;
+                        var o = 0;
+                        var a = r;
+                        if (r.wheelDelta)
                           if (i.wheelDeltaPercentage) {
                             if (
                               (o = i.computeDeltaFromMouseWheelLegacyEvent(
@@ -74128,7 +74919,7 @@ and limitations under the License.
                                   s,
                                 )));
                             }
-                          } else o = a.wheelDelta / (40 * i.wheelPrecision);
+                          } else o = r.wheelDelta / (40 * i.wheelPrecision);
                         else o = -(r.deltaY || r.detail) / i.wheelPrecision;
                         (o && (i.camera.inertialRadiusOffset += o),
                           r.preventDefault && (t || r.preventDefault()));
@@ -74142,13 +74933,13 @@ and limitations under the License.
                         )));
                   }),
                   (e.prototype.detachControl = function (e) {
-                    this._observer &&
-                      e &&
+                    if (this._observer && e) {
                       (this.camera
                         .getScene()
                         .onPointerObservable.remove(this._observer),
-                      (this._observer = null),
-                      (this._wheel = null));
+                        (this._observer = null),
+                        (this._wheel = null));
+                    }
                   }),
                   (e.prototype.getClassName = function () {
                     return "ArcRotateCameraMouseWheelInput";
@@ -74202,17 +74993,17 @@ and limitations under the License.
                               n.isPointerLock)
                             ) {
                               var h =
-                                  c.movementX ||
-                                  c.mozMovementX ||
-                                  c.webkitMovementX ||
-                                  c.msMovementX ||
-                                  0,
-                                f =
-                                  c.movementY ||
-                                  c.mozMovementY ||
-                                  c.webkitMovementY ||
-                                  c.msMovementY ||
-                                  0;
+                                c.movementX ||
+                                c.mozMovementX ||
+                                c.webkitMovementX ||
+                                c.msMovementX ||
+                                0;
+                              var f =
+                                c.movementY ||
+                                c.mozMovementY ||
+                                c.webkitMovementY ||
+                                c.msMovementY ||
+                                0;
                               (i.onTouch(null, h, f),
                                 (i.pointA = null),
                                 (i.pointB = null));
@@ -74267,7 +75058,7 @@ and limitations under the License.
                                   (o = null)),
                                 i.onButtonUp(c),
                                 t || c.preventDefault());
-                            } else if (a.type === Re.a.POINTERMOVE)
+                            } else if (a.type === Re.a.POINTERMOVE) {
                               if (
                                 (t || c.preventDefault(),
                                 i.pointA && null === i.pointB)
@@ -74283,19 +75074,20 @@ and limitations under the License.
                                     ? i.pointA
                                     : i.pointB;
                                 ((d.x = c.clientX), (d.y = c.clientY));
-                                var p = i.pointA.x - i.pointB.x,
-                                  m = i.pointA.y - i.pointB.y,
-                                  g = p * p + m * m,
-                                  _ = {
-                                    x: (i.pointA.x + i.pointB.x) / 2,
-                                    y: (i.pointA.y + i.pointB.y) / 2,
-                                    pointerId: c.pointerId,
-                                    type: a.type,
-                                  };
+                                var p = i.pointA.x - i.pointB.x;
+                                var m = i.pointA.y - i.pointB.y;
+                                var g = p * p + m * m;
+                                var _ = {
+                                  x: (i.pointA.x + i.pointB.x) / 2,
+                                  y: (i.pointA.y + i.pointB.y) / 2,
+                                  pointerId: c.pointerId,
+                                  type: a.type,
+                                };
                                 (i.onMultiTouch(i.pointA, i.pointB, r, g, o, _),
                                   (o = _),
                                   (r = g));
                               }
+                            }
                           }
                         }),
                         (this._observer = this.camera
@@ -74371,7 +75163,7 @@ and limitations under the License.
                 })(),
                 nt = (function (e) {
                   function t() {
-                    var t = (null !== e && e.apply(this, arguments)) || this;
+                    var t = (null !== e && e()) || this;
                     return (
                       (t.buttons = [0, 1, 2]),
                       (t.angularSensibilityX = 1e3),
@@ -74407,8 +75199,9 @@ and limitations under the License.
                             i / this.angularSensibilityY));
                     }),
                     (t.prototype.onDoubleTap = function (e) {
-                      this.camera.useInputToRestoreState &&
+                      if (this.camera.useInputToRestoreState) {
                         this.camera.restoreState();
+                      }
                     }),
                     (t.prototype.onMultiTouch = function (e, t, i, n, r, o) {
                       if (
@@ -74432,8 +75225,8 @@ and limitations under the License.
                                     2)),
                             0 !== this.panningSensibility && r && o)
                           ) {
-                            var s = o.x - r.x,
-                              c = o.y - r.y;
+                            var s = o.x - r.x;
+                            var c = o.y - r.y;
                             ((this.camera.inertialPanningX +=
                               -s / this.panningSensibility),
                               (this.camera.inertialPanningY +=
@@ -74441,8 +75234,8 @@ and limitations under the License.
                           }
                         } else {
                           this._twoFingerActivityCount++;
-                          var u = Math.sqrt(i),
-                            l = Math.sqrt(n);
+                          var u = Math.sqrt(i);
+                          var l = Math.sqrt(n);
                           this._isPinching ||
                           (this._twoFingerActivityCount < 20 &&
                             Math.abs(l - u) > this.camera.pinchToPanMaxDistance)
@@ -74530,7 +75323,7 @@ and limitations under the License.
               Ye.ArcRotateCameraPointersInput = nt;
               var rt = (function (e) {
                 function t(t) {
-                  return e.call(this, t) || this;
+                  return e(t) || this;
                 }
                 return (
                   h.d(t, e),
@@ -74575,12 +75368,13 @@ and limitations under the License.
                       (this._dirty = true));
                   }),
                   (e.prototype.checkInputs = function () {
-                    this._dirty &&
+                    if (this._dirty) {
                       ((this._dirty = false),
-                      this._gamma < 0 && (this._gamma = 180 + this._gamma),
-                      (this.camera.alpha =
-                        (((-this._alpha / 180) * Math.PI) % Math.PI) * 2),
-                      (this.camera.beta = (this._gamma / 180) * Math.PI));
+                        this._gamma < 0 && (this._gamma = 180 + this._gamma),
+                        (this.camera.alpha =
+                          (((-this._alpha / 180) * Math.PI) % Math.PI) * 2),
+                        (this.camera.beta = (this._gamma / 180) * Math.PI));
+                    }
                   }),
                   (e.prototype.detachControl = function (e) {
                     window.removeEventListener(
@@ -74611,37 +75405,38 @@ and limitations under the License.
                 return (
                   (e.prototype.attachControl = function (e, t) {
                     var i = this;
-                    this._onCanvasBlurObserver ||
+                    if (!this._onCanvasBlurObserver) {
                       ((this._scene = this.camera.getScene()),
-                      (this._engine = this._scene.getEngine()),
-                      (this._onCanvasBlurObserver =
-                        this._engine.onCanvasBlurObservable.add(function () {
-                          i._keys = [];
-                        })),
-                      (this._onKeyboardObserver =
-                        this._scene.onKeyboardObservable.add(function (e) {
-                          var n,
-                            r = e.event;
-                          e.type === $e.a.KEYDOWN
-                            ? (-1 === i.keysForward.indexOf(r.keyCode) &&
-                                -1 === i.keysBackward.indexOf(r.keyCode) &&
-                                -1 === i.keysUp.indexOf(r.keyCode) &&
-                                -1 === i.keysDown.indexOf(r.keyCode) &&
-                                -1 === i.keysLeft.indexOf(r.keyCode) &&
-                                -1 === i.keysRight.indexOf(r.keyCode)) ||
-                              (-1 === (n = i._keys.indexOf(r.keyCode)) &&
-                                i._keys.push(r.keyCode),
-                              t || r.preventDefault())
-                            : (-1 === i.keysForward.indexOf(r.keyCode) &&
-                                -1 === i.keysBackward.indexOf(r.keyCode) &&
-                                -1 === i.keysUp.indexOf(r.keyCode) &&
-                                -1 === i.keysDown.indexOf(r.keyCode) &&
-                                -1 === i.keysLeft.indexOf(r.keyCode) &&
-                                -1 === i.keysRight.indexOf(r.keyCode)) ||
-                              ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
-                                i._keys.splice(n, 1),
-                              t || r.preventDefault());
-                        })));
+                        (this._engine = this._scene.getEngine()),
+                        (this._onCanvasBlurObserver =
+                          this._engine.onCanvasBlurObservable.add(function () {
+                            i._keys = [];
+                          })),
+                        (this._onKeyboardObserver =
+                          this._scene.onKeyboardObservable.add(function (e) {
+                            var n,
+                              r = e.event;
+                            e.type === $e.a.KEYDOWN
+                              ? (-1 === i.keysForward.indexOf(r.keyCode) &&
+                                  -1 === i.keysBackward.indexOf(r.keyCode) &&
+                                  -1 === i.keysUp.indexOf(r.keyCode) &&
+                                  -1 === i.keysDown.indexOf(r.keyCode) &&
+                                  -1 === i.keysLeft.indexOf(r.keyCode) &&
+                                  -1 === i.keysRight.indexOf(r.keyCode)) ||
+                                (-1 === (n = i._keys.indexOf(r.keyCode)) &&
+                                  i._keys.push(r.keyCode),
+                                t || r.preventDefault())
+                              : (-1 === i.keysForward.indexOf(r.keyCode) &&
+                                  -1 === i.keysBackward.indexOf(r.keyCode) &&
+                                  -1 === i.keysUp.indexOf(r.keyCode) &&
+                                  -1 === i.keysDown.indexOf(r.keyCode) &&
+                                  -1 === i.keysLeft.indexOf(r.keyCode) &&
+                                  -1 === i.keysRight.indexOf(r.keyCode)) ||
+                                ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
+                                  i._keys.splice(n, 1),
+                                t || r.preventDefault());
+                          })));
+                    }
                   }),
                   (e.prototype.detachControl = function (e) {
                     (this._scene &&
@@ -74673,8 +75468,8 @@ and limitations under the License.
                         t < this._keys.length;
                         t++
                       ) {
-                        var i = this._keys[t],
-                          n = e._computeLocalCameraSpeed();
+                        var i = this._keys[t];
+                        var n = e._computeLocalCameraSpeed();
                         (-1 !== this.keysForward.indexOf(i)
                           ? e._localDirection.copyFromFloats(0, 0, n)
                           : -1 !== this.keysBackward.indexOf(i)
@@ -74739,8 +75534,9 @@ and limitations under the License.
                       (this._rollObserver = this.camera
                         .getScene()
                         .onBeforeRenderObservable.add(function () {
-                          i.camera.rollCorrect &&
+                          if (i.camera.rollCorrect) {
                             i.camera.restoreRoll(i.camera.rollCorrect);
+                          }
                         })),
                       (this._mousemoveCallback = function (e) {
                         i._onMouseMove(e);
@@ -74752,23 +75548,23 @@ and limitations under the License.
                       ));
                   }),
                   (e.prototype.detachControl = function (e) {
-                    this._observer &&
-                      e &&
+                    if (this._observer && e) {
                       (this.camera
                         .getScene()
                         .onPointerObservable.remove(this._observer),
-                      this.camera
-                        .getScene()
-                        .onBeforeRenderObservable.remove(this._rollObserver),
-                      this._mousemoveCallback &&
-                        e.removeEventListener(
-                          "mousemove",
-                          this._mousemoveCallback,
-                        ),
-                      (this._observer = null),
-                      (this._rollObserver = null),
-                      (this.previousPosition = null),
-                      (this.noPreventDefault = void 0));
+                        this.camera
+                          .getScene()
+                          .onBeforeRenderObservable.remove(this._rollObserver),
+                        this._mousemoveCallback &&
+                          e.removeEventListener(
+                            "mousemove",
+                            this._mousemoveCallback,
+                          ),
+                        (this._observer = null),
+                        (this._rollObserver = null),
+                        (this.previousPosition = null),
+                        (this.noPreventDefault = void 0));
+                    }
                   }),
                   (e.prototype.getClassName = function () {
                     return "FlyCameraMouseInput";
@@ -74806,8 +75602,8 @@ and limitations under the License.
                           this.noPreventDefault || i.preventDefault());
                       } else if (e.type === Re.a.POINTERMOVE) {
                         if (!this.previousPosition || n.isPointerLock) return;
-                        var o = i.clientX - this.previousPosition.x,
-                          a = i.clientY - this.previousPosition.y;
+                        var o = i.clientX - this.previousPosition.x;
+                        var a = i.clientY - this.previousPosition.y;
                         (this.rotateCamera(o, a),
                           (this.previousPosition = {
                             x: i.clientX,
@@ -74821,17 +75617,17 @@ and limitations under the License.
                     var t = this.camera.getEngine();
                     if (t.isPointerLock && !t.isInVRExclusivePointerMode) {
                       var i =
-                          e.movementX ||
-                          e.mozMovementX ||
-                          e.webkitMovementX ||
-                          e.msMovementX ||
-                          0,
-                        n =
-                          e.movementY ||
-                          e.mozMovementY ||
-                          e.webkitMovementY ||
-                          e.msMovementY ||
-                          0;
+                        e.movementX ||
+                        e.mozMovementX ||
+                        e.webkitMovementX ||
+                        e.msMovementX ||
+                        0;
+                      var n =
+                        e.movementY ||
+                        e.mozMovementY ||
+                        e.webkitMovementY ||
+                        e.msMovementY ||
+                        0;
                       (this.rotateCamera(i, n),
                         (this.previousPosition = null),
                         this.noPreventDefault || e.preventDefault());
@@ -74918,58 +75714,69 @@ and limitations under the License.
                 return (
                   (e.prototype.attachControl = function (e, t) {
                     var i = this;
-                    this._onCanvasBlurObserver ||
+                    if (!this._onCanvasBlurObserver) {
                       ((this._scene = this.camera.getScene()),
-                      (this._engine = this._scene.getEngine()),
-                      (this._onCanvasBlurObserver =
-                        this._engine.onCanvasBlurObservable.add(function () {
-                          i._keys = [];
-                        })),
-                      (this._onKeyboardObserver =
-                        this._scene.onKeyboardObservable.add(function (e) {
-                          var n,
-                            r = e.event;
-                          r.metaKey ||
-                            (e.type === $e.a.KEYDOWN
-                              ? ((i._ctrlPressed = r.ctrlKey),
-                                (i._altPressed = r.altKey),
-                                (i._shiftPressed = r.shiftKey),
-                                (-1 !==
-                                  i.keysHeightOffsetIncr.indexOf(r.keyCode) ||
-                                  -1 !==
-                                    i.keysHeightOffsetDecr.indexOf(r.keyCode) ||
-                                  -1 !==
-                                    i.keysRotationOffsetIncr.indexOf(
-                                      r.keyCode,
-                                    ) ||
-                                  -1 !==
-                                    i.keysRotationOffsetDecr.indexOf(
-                                      r.keyCode,
-                                    ) ||
-                                  -1 !== i.keysRadiusIncr.indexOf(r.keyCode) ||
-                                  -1 !== i.keysRadiusDecr.indexOf(r.keyCode)) &&
-                                  (-1 === (n = i._keys.indexOf(r.keyCode)) &&
-                                    i._keys.push(r.keyCode),
+                        (this._engine = this._scene.getEngine()),
+                        (this._onCanvasBlurObserver =
+                          this._engine.onCanvasBlurObservable.add(function () {
+                            i._keys = [];
+                          })),
+                        (this._onKeyboardObserver =
+                          this._scene.onKeyboardObservable.add(function (e) {
+                            var n,
+                              r = e.event;
+                            if (!r.metaKey) {
+                              e.type === $e.a.KEYDOWN
+                                ? ((i._ctrlPressed = r.ctrlKey),
+                                  (i._altPressed = r.altKey),
+                                  (i._shiftPressed = r.shiftKey),
+                                  (-1 !==
+                                    i.keysHeightOffsetIncr.indexOf(r.keyCode) ||
+                                    -1 !==
+                                      i.keysHeightOffsetDecr.indexOf(
+                                        r.keyCode,
+                                      ) ||
+                                    -1 !==
+                                      i.keysRotationOffsetIncr.indexOf(
+                                        r.keyCode,
+                                      ) ||
+                                    -1 !==
+                                      i.keysRotationOffsetDecr.indexOf(
+                                        r.keyCode,
+                                      ) ||
+                                    -1 !==
+                                      i.keysRadiusIncr.indexOf(r.keyCode) ||
+                                    -1 !==
+                                      i.keysRadiusDecr.indexOf(r.keyCode)) &&
+                                    (-1 === (n = i._keys.indexOf(r.keyCode)) &&
+                                      i._keys.push(r.keyCode),
+                                    r.preventDefault &&
+                                      (t || r.preventDefault())))
+                                : (-1 ===
+                                    i.keysHeightOffsetIncr.indexOf(r.keyCode) &&
+                                    -1 ===
+                                      i.keysHeightOffsetDecr.indexOf(
+                                        r.keyCode,
+                                      ) &&
+                                    -1 ===
+                                      i.keysRotationOffsetIncr.indexOf(
+                                        r.keyCode,
+                                      ) &&
+                                    -1 ===
+                                      i.keysRotationOffsetDecr.indexOf(
+                                        r.keyCode,
+                                      ) &&
+                                    -1 ===
+                                      i.keysRadiusIncr.indexOf(r.keyCode) &&
+                                    -1 ===
+                                      i.keysRadiusDecr.indexOf(r.keyCode)) ||
+                                  ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
+                                    i._keys.splice(n, 1),
                                   r.preventDefault &&
-                                    (t || r.preventDefault())))
-                              : (-1 ===
-                                  i.keysHeightOffsetIncr.indexOf(r.keyCode) &&
-                                  -1 ===
-                                    i.keysHeightOffsetDecr.indexOf(r.keyCode) &&
-                                  -1 ===
-                                    i.keysRotationOffsetIncr.indexOf(
-                                      r.keyCode,
-                                    ) &&
-                                  -1 ===
-                                    i.keysRotationOffsetDecr.indexOf(
-                                      r.keyCode,
-                                    ) &&
-                                  -1 === i.keysRadiusIncr.indexOf(r.keyCode) &&
-                                  -1 === i.keysRadiusDecr.indexOf(r.keyCode)) ||
-                                ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
-                                  i._keys.splice(n, 1),
-                                r.preventDefault && (t || r.preventDefault())));
-                        })));
+                                    (t || r.preventDefault()));
+                            }
+                          })));
+                    }
                   }),
                   (e.prototype.detachControl = function (e) {
                     (this._scene &&
@@ -74987,7 +75794,7 @@ and limitations under the License.
                   }),
                   (e.prototype.checkInputs = function () {
                     var e = this;
-                    this._onKeyboardObserver &&
+                    if (this._onKeyboardObserver) {
                       this._keys.forEach(function (t) {
                         -1 !== e.keysHeightOffsetIncr.indexOf(t) &&
                         e._modifierHeightOffset()
@@ -75012,6 +75819,7 @@ and limitations under the License.
                                     e._modifierRadius() &&
                                     (e.camera.radius -= e.radiusSensibility);
                       });
+                    }
                   }),
                   (e.prototype.getClassName = function () {
                     return "FollowCameraKeyboardMoveInput";
@@ -75157,12 +75965,12 @@ and limitations under the License.
                     var i = this;
                     ((this._wheel = function (e, n) {
                       if (e.type === Re.a.POINTERWHEEL) {
-                        var r = e.event,
-                          o = 0,
-                          a = Math.max(
-                            -1,
-                            Math.min(1, r.deltaY || r.wheelDelta || -r.detail),
-                          );
+                        var r = e.event;
+                        var o = 0;
+                        var a = Math.max(
+                          -1,
+                          Math.min(1, r.deltaY || r.wheelDelta || -r.detail),
+                        );
                         (i.wheelDeltaPercentage
                           ? (console.assert(
                               i.axisControlRadius +
@@ -75213,13 +76021,13 @@ and limitations under the License.
                         )));
                   }),
                   (e.prototype.detachControl = function (e) {
-                    this._observer &&
-                      e &&
+                    if (this._observer && e) {
                       (this.camera
                         .getScene()
                         .onPointerObservable.remove(this._observer),
-                      (this._observer = null),
-                      (this._wheel = null));
+                        (this._observer = null),
+                        (this._wheel = null));
+                    }
                   }),
                   (e.prototype.getClassName = function () {
                     return "ArcRotateCameraMouseWheelInput";
@@ -75258,7 +76066,7 @@ and limitations under the License.
               Ye.FollowCameraMouseWheelInput = ut;
               var lt = (function (e) {
                 function t() {
-                  var t = (null !== e && e.apply(this, arguments)) || this;
+                  var t = (null !== e && e()) || this;
                   return (
                     (t.angularSensibilityX = 1),
                     (t.angularSensibilityY = 1),
@@ -75464,34 +76272,36 @@ and limitations under the License.
                 return (
                   (e.prototype.attachControl = function (e, t) {
                     var i = this;
-                    this._onCanvasBlurObserver ||
+                    if (!this._onCanvasBlurObserver) {
                       ((this._scene = this.camera.getScene()),
-                      (this._engine = this._scene.getEngine()),
-                      (this._onCanvasBlurObserver =
-                        this._engine.onCanvasBlurObservable.add(function () {
-                          i._keys = [];
-                        })),
-                      (this._onKeyboardObserver =
-                        this._scene.onKeyboardObservable.add(function (e) {
-                          var n,
-                            r = e.event;
-                          r.metaKey ||
-                            (e.type === $e.a.KEYDOWN
-                              ? (-1 === i.keysUp.indexOf(r.keyCode) &&
-                                  -1 === i.keysDown.indexOf(r.keyCode) &&
-                                  -1 === i.keysLeft.indexOf(r.keyCode) &&
-                                  -1 === i.keysRight.indexOf(r.keyCode)) ||
-                                (-1 === (n = i._keys.indexOf(r.keyCode)) &&
-                                  i._keys.push(r.keyCode),
-                                t || r.preventDefault())
-                              : (-1 === i.keysUp.indexOf(r.keyCode) &&
-                                  -1 === i.keysDown.indexOf(r.keyCode) &&
-                                  -1 === i.keysLeft.indexOf(r.keyCode) &&
-                                  -1 === i.keysRight.indexOf(r.keyCode)) ||
-                                ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
-                                  i._keys.splice(n, 1),
-                                t || r.preventDefault()));
-                        })));
+                        (this._engine = this._scene.getEngine()),
+                        (this._onCanvasBlurObserver =
+                          this._engine.onCanvasBlurObservable.add(function () {
+                            i._keys = [];
+                          })),
+                        (this._onKeyboardObserver =
+                          this._scene.onKeyboardObservable.add(function (e) {
+                            var n,
+                              r = e.event;
+                            if (!r.metaKey) {
+                              e.type === $e.a.KEYDOWN
+                                ? (-1 === i.keysUp.indexOf(r.keyCode) &&
+                                    -1 === i.keysDown.indexOf(r.keyCode) &&
+                                    -1 === i.keysLeft.indexOf(r.keyCode) &&
+                                    -1 === i.keysRight.indexOf(r.keyCode)) ||
+                                  (-1 === (n = i._keys.indexOf(r.keyCode)) &&
+                                    i._keys.push(r.keyCode),
+                                  t || r.preventDefault())
+                                : (-1 === i.keysUp.indexOf(r.keyCode) &&
+                                    -1 === i.keysDown.indexOf(r.keyCode) &&
+                                    -1 === i.keysLeft.indexOf(r.keyCode) &&
+                                    -1 === i.keysRight.indexOf(r.keyCode)) ||
+                                  ((n = i._keys.indexOf(r.keyCode)) >= 0 &&
+                                    i._keys.splice(n, 1),
+                                  t || r.preventDefault());
+                            }
+                          })));
+                    }
                   }),
                   (e.prototype.detachControl = function (e) {
                     (this._scene &&
@@ -75514,8 +76324,8 @@ and limitations under the License.
                         t < this._keys.length;
                         t++
                       ) {
-                        var i = this._keys[t],
-                          n = e._computeLocalCameraSpeed();
+                        var i = this._keys[t];
+                        var n = e._computeLocalCameraSpeed();
                         (-1 !== this.keysLeft.indexOf(i)
                           ? e._localDirection.copyFromFloats(-n, 0, 0)
                           : -1 !== this.keysUp.indexOf(i)
@@ -75597,8 +76407,8 @@ and limitations under the License.
                               t || o.preventDefault());
                           } else if (r.type === Re.a.POINTERMOVE) {
                             if (!i.previousPosition || n.isPointerLock) return;
-                            var s = o.clientX - i.previousPosition.x,
-                              c = o.clientY - i.previousPosition.y;
+                            var s = o.clientX - i.previousPosition.x;
+                            var c = o.clientY - i.previousPosition.y;
                             (i.camera.getScene().useRightHandedSystem &&
                               (s *= -1),
                               i.camera.parent &&
@@ -75667,23 +76477,23 @@ and limitations under the License.
                     e.preventDefault();
                   }),
                   (e.prototype.detachControl = function (e) {
-                    this._observer &&
-                      e &&
+                    if (this._observer && e) {
                       (this.camera
                         .getScene()
                         .onPointerObservable.remove(this._observer),
-                      this._onMouseMove &&
-                        e.removeEventListener("mousemove", this._onMouseMove),
-                      this.onContextMenu &&
-                        e.removeEventListener(
-                          "contextmenu",
-                          this.onContextMenu,
-                        ),
-                      this.onPointerMovedObservable &&
-                        this.onPointerMovedObservable.clear(),
-                      (this._observer = null),
-                      (this._onMouseMove = null),
-                      (this.previousPosition = null));
+                        this._onMouseMove &&
+                          e.removeEventListener("mousemove", this._onMouseMove),
+                        this.onContextMenu &&
+                          e.removeEventListener(
+                            "contextmenu",
+                            this.onContextMenu,
+                          ),
+                        this.onPointerMovedObservable &&
+                          this.onPointerMovedObservable.clear(),
+                        (this._observer = null),
+                        (this._onMouseMove = null),
+                        (this.previousPosition = null));
+                    }
                   }),
                   (e.prototype.getClassName = function () {
                     return "FreeCameraMouseInput";
@@ -75720,7 +76530,7 @@ and limitations under the License.
                       }),
                       (this._pointerInput = function (e) {
                         var r = e.event;
-                        if ("mouse" !== r.pointerType)
+                        if ("mouse" !== r.pointerType) {
                           if (e.type === Re.a.POINTERDOWN) {
                             if (
                               (t || r.preventDefault(),
@@ -75754,6 +76564,7 @@ and limitations under the License.
                             ((i._offsetX = r.clientX - n.x),
                               (i._offsetY = -(r.clientY - n.y)));
                           }
+                        }
                       })),
                       (this._observer = this.camera
                         .getScene()
@@ -75765,19 +76576,19 @@ and limitations under the License.
                         e.addEventListener("blur", this._onLostFocus));
                   }),
                   (e.prototype.detachControl = function (e) {
-                    this._pointerInput &&
-                      e &&
+                    if (this._pointerInput && e) {
                       (this._observer &&
                         (this.camera
                           .getScene()
                           .onPointerObservable.remove(this._observer),
                         (this._observer = null)),
-                      this._onLostFocus &&
-                        (e.removeEventListener("blur", this._onLostFocus),
-                        (this._onLostFocus = null)),
-                      (this._pointerPressed = []),
-                      (this._offsetX = null),
-                      (this._offsetY = null));
+                        this._onLostFocus &&
+                          (e.removeEventListener("blur", this._onLostFocus),
+                          (this._onLostFocus = null)),
+                        (this._pointerPressed = []),
+                        (this._offsetX = null),
+                        (this._offsetY = null));
+                    }
                   }),
                   (e.prototype.checkInputs = function () {
                     if (this._offsetX && this._offsetY) {
@@ -75790,12 +76601,12 @@ and limitations under the License.
                         e.cameraRotation.x +=
                           -this._offsetY / this.touchAngularSensibility;
                       else {
-                        var t = e._computeLocalCameraSpeed(),
-                          i = new a.x(
-                            0,
-                            0,
-                            (t * this._offsetY) / this.touchMoveSensibility,
-                          );
+                        var t = e._computeLocalCameraSpeed();
+                        var i = new a.x(
+                          0,
+                          0,
+                          (t * this._offsetY) / this.touchMoveSensibility,
+                        );
                         (a.j.RotationYawPitchRollToRef(
                           e.rotation.y,
                           e.rotation.x,
@@ -75835,7 +76646,7 @@ and limitations under the License.
               Ye.FreeCameraTouchInput = dt;
               var pt = (function (e) {
                 function t(t) {
-                  var i = e.call(this, t) || this;
+                  var i = e(t) || this;
                   return ((i._mouseInput = null), i);
                 }
                 return (
@@ -75862,7 +76673,7 @@ and limitations under the License.
                     return (this.add(new dt()), this);
                   }),
                   (t.prototype.clear = function () {
-                    (e.prototype.clear.call(this), (this._mouseInput = null));
+                    (e.prototype.clear(), (this._mouseInput = null));
                   }),
                   t
                 );
@@ -75959,21 +76770,22 @@ and limitations under the License.
                       (this._alpha = 0));
                   }),
                   (e.prototype.checkInputs = function () {
-                    this._alpha &&
+                    if (this._alpha) {
                       (a.q.RotationYawPitchRollToRef(
                         Ee.h.ToRadians(this._alpha),
                         Ee.h.ToRadians(this._beta),
                         -Ee.h.ToRadians(this._gamma),
                         this.camera.rotationQuaternion,
                       ),
-                      this._camera.rotationQuaternion.multiplyInPlace(
-                        this._screenQuaternion,
-                      ),
-                      this._camera.rotationQuaternion.multiplyInPlace(
-                        this._constantTranform,
-                      ),
-                      (this._camera.rotationQuaternion.z *= -1),
-                      (this._camera.rotationQuaternion.w *= -1));
+                        this._camera.rotationQuaternion.multiplyInPlace(
+                          this._screenQuaternion,
+                        ),
+                        this._camera.rotationQuaternion.multiplyInPlace(
+                          this._constantTranform,
+                        ),
+                        (this._camera.rotationQuaternion.z *= -1),
+                        (this._camera.rotationQuaternion.w *= -1));
+                    }
                   }),
                   (e.prototype.getClassName = function () {
                     return "FreeCameraDeviceOrientationInput";
@@ -76000,13 +76812,15 @@ and limitations under the License.
                       n = this.camera.getScene().gamepadManager;
                     ((this._onGamepadConnectedObserver =
                       n.onGamepadConnectedObservable.add(function (e) {
-                        e.type !== qe.POSE_ENABLED &&
-                          ((i.gamepad && e.type !== qe.XBOX) ||
-                            (i.gamepad = e));
+                        if (e.type !== qe.POSE_ENABLED) {
+                          (i.gamepad && e.type !== qe.XBOX) || (i.gamepad = e);
+                        }
                       })),
                       (this._onGamepadDisconnectedObserver =
                         n.onGamepadDisconnectedObservable.add(function (e) {
-                          i.gamepad === e && (i.gamepad = null);
+                          if (null === e) {
+                            i.gamepad = null;
+                          }
                         })),
                       (this.gamepad = n.getGamepadByType(qe.XBOX)));
                   }),
@@ -76025,16 +76839,16 @@ and limitations under the License.
                   }),
                   (e.prototype.checkInputs = function () {
                     if (this.gamepad && this.gamepad.leftStick) {
-                      var e = this.camera,
-                        t = this.gamepad.leftStick,
-                        i = t.x / this.gamepadMoveSensibility,
-                        n = t.y / this.gamepadMoveSensibility;
+                      var e = this.camera;
+                      var t = this.gamepad.leftStick;
+                      var i = t.x / this.gamepadMoveSensibility;
+                      var n = t.y / this.gamepadMoveSensibility;
                       ((t.x = Math.abs(i) > 0.005 ? 0 + i : 0),
                         (t.y = Math.abs(n) > 0.005 ? 0 + n : 0));
                       var r = this.gamepad.rightStick;
                       if (r) {
-                        var o = r.x / this.gamepadAngularSensibility,
-                          s = r.y / this.gamepadAngularSensibility;
+                        var o = r.x / this.gamepadAngularSensibility;
+                        var s = r.y / this.gamepadAngularSensibility;
                         ((r.x = Math.abs(o) > 0.001 ? 0 + o : 0),
                           (r.y = Math.abs(s) > 0.001 ? 0 + s : 0));
                       } else
@@ -76264,7 +77078,9 @@ and limitations under the License.
                       }
                     } else {
                       var n = this._touches.get(e.pointerId.toString());
-                      n && ((n.x = e.clientX), (n.y = e.clientY));
+                      if (n) {
+                        ((n.x = e.clientX), (n.y = e.clientY));
+                      }
                     }
                   }),
                   (e.prototype._onPointerUp = function (t) {
@@ -76285,13 +77101,14 @@ and limitations under the License.
                         (this.pressed = false));
                     else {
                       var i = this._touches.get(t.pointerId.toString());
-                      i &&
+                      if (i) {
                         e.vjCanvasContext.clearRect(
                           i.prevX - 44,
                           i.prevY - 44,
                           88,
                           88,
                         );
+                      }
                     }
                     ((this._deltaJoystickVector.x = 0),
                       (this._deltaJoystickVector.y = 0),
@@ -76410,28 +77227,7 @@ and limitations under the License.
                         t._drawVirtualJoystick();
                       }));
                   }),
-                  (e.prototype.releaseCanvas = function () {
-                    e.Canvas &&
-                      (e.Canvas.removeEventListener(
-                        "pointerdown",
-                        this._onPointerDownHandlerRef,
-                      ),
-                      e.Canvas.removeEventListener(
-                        "pointermove",
-                        this._onPointerMoveHandlerRef,
-                      ),
-                      e.Canvas.removeEventListener(
-                        "pointerup",
-                        this._onPointerUpHandlerRef,
-                      ),
-                      e.Canvas.removeEventListener(
-                        "pointerout",
-                        this._onPointerUpHandlerRef,
-                      ),
-                      window.removeEventListener("resize", this._onResize),
-                      document.body.removeChild(e.Canvas),
-                      (e.Canvas = null));
-                  }),
+                  (e.prototype.releaseCanvas = function () {}),
                   (e._globalJoystickIndex = 0),
                   e
                 );
@@ -76450,21 +77246,21 @@ and limitations under the License.
                   }),
                   (e.prototype.checkInputs = function () {
                     if (this._leftjoystick) {
-                      var e = this.camera,
-                        t = 50 * e._computeLocalCameraSpeed(),
-                        i = a.j.RotationYawPitchRoll(
-                          e.rotation.y,
-                          e.rotation.x,
-                          0,
+                      var e = this.camera;
+                      var t = 50 * e._computeLocalCameraSpeed();
+                      var i = a.j.RotationYawPitchRoll(
+                        e.rotation.y,
+                        e.rotation.x,
+                        0,
+                      );
+                      var n = a.x.TransformCoordinates(
+                        new a.x(
+                          this._leftjoystick.deltaPosition.x * t,
+                          this._leftjoystick.deltaPosition.y * t,
+                          this._leftjoystick.deltaPosition.z * t,
                         ),
-                        n = a.x.TransformCoordinates(
-                          new a.x(
-                            this._leftjoystick.deltaPosition.x * t,
-                            this._leftjoystick.deltaPosition.y * t,
-                            this._leftjoystick.deltaPosition.z * t,
-                          ),
-                          i,
-                        );
+                        i,
+                      );
                       ((e.cameraDirection = e.cameraDirection.add(n)),
                         (e.cameraRotation = e.cameraRotation.addVector3(
                           this._rightjoystick.deltaPosition,
@@ -76505,8 +77301,10 @@ and limitations under the License.
               Ye.FreeCameraVirtualJoystickInput = bt;
               var Et = (function (e) {
                   function t(t, i, n, r) {
-                    void 0 === r && (r = true);
-                    var o = e.call(this, t, i, n, r) || this;
+                    if (void 0 === r) {
+                      r = true;
+                    }
+                    var o = e(t, i, n, r) || this;
                     return (
                       (o.cameraDirection = new a.x(0, 0, 0)),
                       (o.cameraRotation = new a.w(0, 0)),
@@ -76558,12 +77356,12 @@ and limitations under the License.
                         this.rotationQuaternion &&
                           (this._storedRotationQuaternion =
                             this.rotationQuaternion.clone()),
-                        e.prototype.storeState.call(this)
+                        e.prototype.storeState()
                       );
                     }),
                     (t.prototype._restoreStateValues = function () {
                       return (
-                        !!e.prototype._restoreStateValues.call(this) &&
+                        !!e.prototype._restoreStateValues() &&
                         ((this.position = this._storedPosition.clone()),
                         (this.rotation = this._storedRotation.clone()),
                         this.rotationQuaternion &&
@@ -76575,7 +77373,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype._initCache = function () {
-                      (e.prototype._initCache.call(this),
+                      (e.prototype._initCache(),
                         (this._cache.lockedTarget = new a.x(
                           Number.MAX_VALUE,
                           Number.MAX_VALUE,
@@ -76594,7 +77392,9 @@ and limitations under the License.
                         )));
                     }),
                     (t.prototype._updateCache = function (t) {
-                      t || e.prototype._updateCache.call(this);
+                      if (!t) {
+                        e.prototype._updateCache();
+                      }
                       var i = this._getLockedTargetPosition();
                       (i
                         ? this._cache.lockedTarget
@@ -76608,7 +77408,7 @@ and limitations under the License.
                           ));
                     }),
                     (t.prototype._isSynchronizedViewMatrix = function () {
-                      if (!e.prototype._isSynchronizedViewMatrix.call(this))
+                      if (!e.prototype._isSynchronizedViewMatrix())
                         return false;
                       var t = this._getLockedTargetPosition();
                       return (
@@ -76726,7 +77526,7 @@ and limitations under the License.
                           Math.abs(this.cameraRotation.y) < this.speed * a.h &&
                             (this.cameraRotation.y = 0),
                           this.cameraRotation.scaleInPlace(this.inertia)),
-                        e.prototype._checkInputs.call(this));
+                        e.prototype._checkInputs());
                     }),
                     (t.prototype._updateCameraRotationMatrix = function () {
                       this.rotationQuaternion
@@ -76892,7 +77692,7 @@ and limitations under the License.
                             t.position.copyFrom(this.position),
                             i.position.copyFrom(this.position));
                       }
-                      e.prototype._updateRigCameras.call(this);
+                      e.prototype._updateRigCameras();
                     }),
                     (t.prototype._getRigCamPositionAndTarget = function (e, i) {
                       (this.getTarget().subtractToRef(
@@ -76949,8 +77749,10 @@ and limitations under the License.
                 })(ke.a),
                 Tt = (function (e) {
                   function t(t, i, n, r) {
-                    void 0 === r && (r = true);
-                    var o = e.call(this, t, i, n, r) || this;
+                    if (void 0 === r) {
+                      r = true;
+                    }
+                    var o = e(t, i, n, r) || this;
                     return (
                       (o.ellipsoid = new a.x(0.5, 1, 0.5)),
                       (o.ellipsoidOffset = new a.x(0, 0, 0)),
@@ -76988,7 +77790,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.mouse;
-                        t && (t.angularSensibility = e);
+                        if (t) {
+                          t.angularSensibility = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -77000,7 +77804,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysUp = e);
+                        if (t) {
+                          t.keysUp = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -77012,7 +77818,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysDown = e);
+                        if (t) {
+                          t.keysDown = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -77024,7 +77832,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysLeft = e);
+                        if (t) {
+                          t.keysLeft = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -77036,7 +77846,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysRight = e);
+                        if (t) {
+                          t.keysRight = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -77082,7 +77894,7 @@ and limitations under the License.
                         (i = e.add(this.getScene().gravity)),
                         t.getNewPosition(
                           this._oldPosition,
-                          i,
+                          e,
                           this._collider,
                           3,
                           null,
@@ -77095,7 +77907,7 @@ and limitations under the License.
                         ((this._localDirection = a.x.Zero()),
                         (this._transformedDirection = a.x.Zero())),
                         this.inputs.checkInputs(),
-                        e.prototype._checkInputs.call(this));
+                        e.prototype._checkInputs());
                     }),
                     (t.prototype._decideIfNeedsToMove = function () {
                       return (
@@ -77108,10 +77920,10 @@ and limitations under the License.
                     (t.prototype._updatePosition = function () {
                       this.checkCollisions && this.getScene().collisionsEnabled
                         ? this._collideWithWorld(this.cameraDirection)
-                        : e.prototype._updatePosition.call(this);
+                        : e.prototype._updatePosition();
                     }),
                     (t.prototype.dispose = function () {
-                      (this.inputs.clear(), e.prototype.dispose.call(this));
+                      (this.inputs.clear(), e.prototype.dispose());
                     }),
                     (t.prototype.getClassName = function () {
                       return "FreeCamera";
@@ -77140,7 +77952,7 @@ and limitations under the License.
               });
               var At = (function (e) {
                 function t(t, i, n) {
-                  var r = e.call(this, t, i, n) || this;
+                  var r = e(t, i, n) || this;
                   return (r.inputs.addTouch(), r._setupInputs(), r);
                 }
                 return (
@@ -77155,7 +77967,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.touch;
-                        t && (t.touchAngularSensibility = e);
+                        if (t) {
+                          t.touchAngularSensibility = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -77168,7 +77982,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.touch;
-                      t && (t.touchMoveSensibility = e);
+                      if (t) {
+                        t.touchMoveSensibility = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77178,7 +77994,9 @@ and limitations under the License.
                   }),
                   (t.prototype._setupInputs = function () {
                     var e = this.inputs.attached.mouse;
-                    e && (e.touchEnabled = false);
+                    if (e) {
+                      e.touchEnabled = false;
+                    }
                   }),
                   t
                 );
@@ -77190,8 +78008,10 @@ and limitations under the License.
               });
               var xt = (function (e) {
                 function t(t, i, n, r, s, c, u) {
-                  void 0 === u && (u = true);
-                  var l = e.call(this, t, a.x.Zero(), c, u) || this;
+                  if (void 0 === u) {
+                    u = true;
+                  }
+                  var l = e(t, a.x.Zero(), c, u) || this;
                   return (
                     (l._upVector = a.x.Up()),
                     (l.inertialAlphaOffset = 0),
@@ -77231,7 +78051,9 @@ and limitations under the License.
                         r = Math.sin(l.alpha),
                         o = Math.cos(l.beta),
                         a = Math.sin(l.beta);
-                      0 === a && (a = 1e-4);
+                      if (0 === a) {
+                        a = 1e-4;
+                      }
                       var s = l._getTargetPosition();
                       (l._computationVector.copyFromFloats(
                         l.radius * n * a,
@@ -77317,7 +78139,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.pointers;
-                      t && (t.angularSensibilityX = e);
+                      if (t) {
+                        t.angularSensibilityX = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77329,7 +78153,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.pointers;
-                      t && (t.angularSensibilityY = e);
+                      if (t) {
+                        t.angularSensibilityY = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77341,7 +78167,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.pointers;
-                      t && (t.pinchPrecision = e);
+                      if (t) {
+                        t.pinchPrecision = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77353,7 +78181,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.pointers;
-                      t && (t.pinchDeltaPercentage = e);
+                      if (t) {
+                        t.pinchDeltaPercentage = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77365,7 +78195,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.pointers;
-                      t && (t.panningSensibility = e);
+                      if (t) {
+                        t.panningSensibility = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77377,7 +78209,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.keyboard;
-                      t && (t.keysUp = e);
+                      if (t) {
+                        t.keysUp = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77389,7 +78223,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.keyboard;
-                      t && (t.keysDown = e);
+                      if (t) {
+                        t.keysDown = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77401,7 +78237,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.keyboard;
-                      t && (t.keysLeft = e);
+                      if (t) {
+                        t.keysLeft = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77413,7 +78251,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.keyboard;
-                      t && (t.keysRight = e);
+                      if (t) {
+                        t.keysRight = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77425,7 +78265,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.mousewheel;
-                      t && (t.wheelPrecision = e);
+                      if (t) {
+                        t.wheelPrecision = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77437,7 +78279,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.mousewheel;
-                      t && (t.wheelDeltaPercentage = e);
+                      if (t) {
+                        t.wheelDeltaPercentage = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77454,13 +78298,14 @@ and limitations under the License.
                       return null != this._bouncingBehavior;
                     },
                     set: function (e) {
-                      e !== this.useBouncingBehavior &&
-                        (e
+                      if (e !== this.useBouncingBehavior) {
+                        e
                           ? ((this._bouncingBehavior = new Oe()),
                             this.addBehavior(this._bouncingBehavior))
                           : this._bouncingBehavior &&
                             (this.removeBehavior(this._bouncingBehavior),
-                            (this._bouncingBehavior = null)));
+                            (this._bouncingBehavior = null));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77477,13 +78322,14 @@ and limitations under the License.
                       return null != this._framingBehavior;
                     },
                     set: function (e) {
-                      e !== this.useFramingBehavior &&
-                        (e
+                      if (e !== this.useFramingBehavior) {
+                        e
                           ? ((this._framingBehavior = new we()),
                             this.addBehavior(this._framingBehavior))
                           : this._framingBehavior &&
                             (this.removeBehavior(this._framingBehavior),
-                            (this._framingBehavior = null)));
+                            (this._framingBehavior = null));
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -77503,20 +78349,21 @@ and limitations under the License.
                         return null != this._autoRotationBehavior;
                       },
                       set: function (e) {
-                        e !== this.useAutoRotationBehavior &&
-                          (e
+                        if (e !== this.useAutoRotationBehavior) {
+                          e
                             ? ((this._autoRotationBehavior = new Me()),
                               this.addBehavior(this._autoRotationBehavior))
                             : this._autoRotationBehavior &&
                               (this.removeBehavior(this._autoRotationBehavior),
-                              (this._autoRotationBehavior = null)));
+                              (this._autoRotationBehavior = null));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
                     },
                   ),
                   (t.prototype._initCache = function () {
-                    (e.prototype._initCache.call(this),
+                    (e.prototype._initCache(),
                       (this._cache._target = new a.x(
                         Number.MAX_VALUE,
                         Number.MAX_VALUE,
@@ -77528,7 +78375,7 @@ and limitations under the License.
                       (this._cache.targetScreenOffset = a.w.Zero()));
                   }),
                   (t.prototype._updateCache = function (t) {
-                    (t || e.prototype._updateCache.call(this),
+                    (t || e.prototype._updateCache(),
                       this._cache._target.copyFrom(this._getTargetPosition()),
                       (this._cache.alpha = this.alpha),
                       (this._cache.beta = this.beta),
@@ -77555,12 +78402,12 @@ and limitations under the License.
                       (this._storedBeta = this.beta),
                       (this._storedRadius = this.radius),
                       (this._storedTarget = this._getTargetPosition().clone()),
-                      e.prototype.storeState.call(this)
+                      e.prototype.storeState()
                     );
                   }),
                   (t.prototype._restoreStateValues = function () {
                     return (
-                      !!e.prototype._restoreStateValues.call(this) &&
+                      !!e.prototype._restoreStateValues() &&
                       ((this.alpha = this._storedAlpha),
                       (this.beta = this._storedBeta),
                       (this.radius = this._storedRadius),
@@ -77575,7 +78422,7 @@ and limitations under the License.
                   }),
                   (t.prototype._isSynchronizedViewMatrix = function () {
                     return (
-                      !!e.prototype._isSynchronizedViewMatrix.call(this) &&
+                      !!e.prototype._isSynchronizedViewMatrix() &&
                       this._cache._target.equals(this._getTargetPosition()) &&
                       this._cache.alpha === this.alpha &&
                       this._cache.beta === this.beta &&
@@ -77677,7 +78524,7 @@ and limitations under the License.
                         Math.abs(this.inertialPanningY) < this.speed * a.h &&
                           (this.inertialPanningY = 0)),
                         this._checkLimits(),
-                        e.prototype._checkInputs.call(this));
+                        e.prototype._checkInputs());
                     }
                   }),
                   (t.prototype._checkLimits = function () {
@@ -77743,9 +78590,10 @@ and limitations under the License.
                       this._checkLimits());
                   }),
                   (t.prototype.setPosition = function (e) {
-                    this._position.equals(e) ||
+                    if (!this._position.equals(e)) {
                       (this._position.copyFrom(e),
-                      this.rebuildAnglesAndRadius());
+                        this.rebuildAnglesAndRadius());
+                    }
                   }),
                   (t.prototype.setTarget = function (e, t, i) {
                     if (
@@ -77763,11 +78611,11 @@ and limitations under the License.
                           this._targetHost,
                         ));
                     else {
-                      var n = e,
-                        r = this._getTargetPosition();
-                      if (r && !i && r.equals(n)) return;
+                      var n = e;
+                      var r = this._getTargetPosition();
+                      if (r && !i && r.equals(e)) return;
                       ((this._targetHost = null),
-                        (this._target = n),
+                        (this._target = e),
                         (this._targetBoundingCenter = null),
                         this.onMeshTargetChangedObservable.notifyObservers(
                           null,
@@ -77780,7 +78628,9 @@ and limitations under the License.
                       t = Math.sin(this.alpha),
                       i = Math.cos(this.beta),
                       n = Math.sin(this.beta);
-                    0 === n && (n = 1e-4);
+                    if (0 === n) {
+                      n = 1e-4;
+                    }
                     var r = this._getTargetPosition();
                     if (
                       (this._computationVector.copyFromFloats(
@@ -77906,10 +78756,10 @@ and limitations under the License.
                             this.alpha -
                             this._cameraRigParams.stereoHalfAngle));
                     }
-                    e.prototype._updateRigCameras.call(this);
+                    e.prototype._updateRigCameras();
                   }),
                   (t.prototype.dispose = function () {
-                    (this.inputs.clear(), e.prototype.dispose.call(this));
+                    (this.inputs.clear(), e.prototype.dispose());
                   }),
                   (t.prototype.getClassName = function () {
                     return "ArcRotateCamera";
@@ -77996,7 +78846,7 @@ and limitations under the License.
               );
               var St = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, i, n) || this;
+                    var r = e(t, i, n) || this;
                     return (
                       (r._tmpDragQuaternion = new a.q()),
                       (r._disablePointerInputWhenUsingDeviceOrientation = true),
@@ -78006,26 +78856,30 @@ and limitations under the License.
                       r.inputs._deviceOrientationInput &&
                         r.inputs._deviceOrientationInput._onDeviceOrientationChangedObservable.addOnce(
                           function () {
-                            r._disablePointerInputWhenUsingDeviceOrientation &&
-                              r.inputs._mouseInput &&
+                            if (
+                              r._disablePointerInputWhenUsingDeviceOrientation &&
+                              r.inputs._mouseInput
+                            ) {
                               ((r.inputs._mouseInput._allowCameraRotation = false),
-                              r.inputs._mouseInput.onPointerMovedObservable.add(
-                                function (e) {
-                                  0 != r._dragFactor &&
-                                    (r._initialQuaternion ||
-                                      (r._initialQuaternion = new a.q()),
-                                    a.q.FromEulerAnglesToRef(
-                                      0,
-                                      e.offsetX * r._dragFactor,
-                                      0,
-                                      r._tmpDragQuaternion,
-                                    ),
-                                    r._initialQuaternion.multiplyToRef(
-                                      r._tmpDragQuaternion,
-                                      r._initialQuaternion,
-                                    ));
-                                },
-                              ));
+                                r.inputs._mouseInput.onPointerMovedObservable.add(
+                                  function (e) {
+                                    if (0 != r._dragFactor) {
+                                      (r._initialQuaternion ||
+                                        (r._initialQuaternion = new a.q()),
+                                        a.q.FromEulerAnglesToRef(
+                                          0,
+                                          e.offsetX * r._dragFactor,
+                                          0,
+                                          r._tmpDragQuaternion,
+                                        ),
+                                        r._initialQuaternion.multiplyToRef(
+                                          r._tmpDragQuaternion,
+                                          r._initialQuaternion,
+                                        ));
+                                    }
+                                  },
+                                ));
+                            }
                           },
                         ),
                       r
@@ -78040,7 +78894,7 @@ and limitations under the License.
                       return "DeviceOrientationCamera";
                     }),
                     (t.prototype._checkInputs = function () {
-                      (e.prototype._checkInputs.call(this),
+                      (e.prototype._checkInputs(),
                         this._quaternionCache.copyFrom(this.rotationQuaternion),
                         this._initialQuaternion &&
                           this._initialQuaternion.multiplyToRef(
@@ -78073,7 +78927,7 @@ and limitations under the License.
                 })(Tt),
                 Ct = (function (e) {
                   function t(t) {
-                    return e.call(this, t) || this;
+                    return e(t) || this;
                   }
                   return (
                     h.d(t, e),
@@ -78092,8 +78946,10 @@ and limitations under the License.
                 })(Ke),
                 Pt = (function (e) {
                   function t(t, i, n, r) {
-                    void 0 === r && (r = true);
-                    var o = e.call(this, t, i, n, r) || this;
+                    if (void 0 === r) {
+                      r = true;
+                    }
+                    var o = e(t, i, n, r) || this;
                     return (
                       (o.ellipsoid = new a.x(1, 1, 1)),
                       (o.ellipsoidOffset = new a.x(0, 0, 0)),
@@ -78137,7 +78993,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.mouse;
-                        t && (t.angularSensibility = e);
+                        if (t) {
+                          t.angularSensibility = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -78149,7 +79007,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysForward = e);
+                        if (t) {
+                          t.keysForward = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -78161,7 +79021,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysBackward = e);
+                        if (t) {
+                          t.keysBackward = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -78173,7 +79035,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysUp = e);
+                        if (t) {
+                          t.keysUp = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -78185,7 +79049,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysDown = e);
+                        if (t) {
+                          t.keysDown = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -78197,7 +79063,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysLeft = e);
+                        if (t) {
+                          t.keysLeft = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -78209,7 +79077,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.keyboard;
-                        t && (t.keysRight = e);
+                        if (t) {
+                          t.keysRight = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -78254,7 +79124,7 @@ and limitations under the License.
                         (i = e.add(this.getScene().gravity)),
                         t.getNewPosition(
                           this._oldPosition,
-                          i,
+                          e,
                           this._collider,
                           3,
                           null,
@@ -78267,7 +79137,7 @@ and limitations under the License.
                         ((this._localDirection = a.x.Zero()),
                         (this._transformedDirection = a.x.Zero())),
                         this.inputs.checkInputs(),
-                        e.prototype._checkInputs.call(this));
+                        e.prototype._checkInputs());
                     }),
                     (t.prototype._decideIfNeedsToMove = function () {
                       return (
@@ -78280,18 +79150,19 @@ and limitations under the License.
                     (t.prototype._updatePosition = function () {
                       this.checkCollisions && this.getScene().collisionsEnabled
                         ? this._collideWithWorld(this.cameraDirection)
-                        : e.prototype._updatePosition.call(this);
+                        : e.prototype._updatePosition();
                     }),
                     (t.prototype.restoreRoll = function (e) {
                       var t = this._trackRoll,
                         i = t - this.rotation.z;
-                      Math.abs(i) >= 0.001 &&
+                      if (Math.abs(i) >= 0.001) {
                         ((this.rotation.z += i / e),
-                        Math.abs(t - this.rotation.z) <= 0.001 &&
-                          (this.rotation.z = t));
+                          Math.abs(t - this.rotation.z) <= 0.001 &&
+                            (this.rotation.z = t));
+                      }
                     }),
                     (t.prototype.dispose = function () {
-                      (this.inputs.clear(), e.prototype.dispose.call(this));
+                      (this.inputs.clear(), e.prototype.dispose());
                     }),
                     (t.prototype.getClassName = function () {
                       return "FlyCamera";
@@ -78315,7 +79186,7 @@ and limitations under the License.
                 })(Et),
                 Rt = (function (e) {
                   function t(t) {
-                    return e.call(this, t) || this;
+                    return e(t) || this;
                   }
                   return (
                     h.d(t, e),
@@ -78352,8 +79223,10 @@ and limitations under the License.
               var Mt,
                 Ot = (function (e) {
                   function t(t, i, n, r) {
-                    void 0 === r && (r = null);
-                    var o = e.call(this, t, i, n) || this;
+                    if (void 0 === r) {
+                      r = null;
+                    }
+                    var o = e(t, i, n) || this;
                     return (
                       (o.radius = 12),
                       (o.lowerRadiusLimit = null),
@@ -78382,16 +79255,16 @@ and limitations under the License.
                           (e.rotationQuaternion.toRotationMatrix(i),
                             (t = Math.atan2(i.m[8], i.m[10])));
                         } else t = e.rotation.y;
-                        var n = Ee.h.ToRadians(this.rotationOffset) + t,
-                          r = e.getAbsolutePosition(),
-                          o = r.x + Math.sin(n) * this.radius,
-                          s = r.z + Math.cos(n) * this.radius,
-                          c = o - this.position.x,
-                          u = r.y + this.heightOffset - this.position.y,
-                          l = s - this.position.z,
-                          h = c * this.cameraAcceleration * 2,
-                          f = u * this.cameraAcceleration,
-                          d = l * this.cameraAcceleration * 2;
+                        var n = Ee.h.ToRadians(this.rotationOffset) + t;
+                        var r = e.getAbsolutePosition();
+                        var o = r.x + Math.sin(n) * this.radius;
+                        var s = r.z + Math.cos(n) * this.radius;
+                        var c = o - this.position.x;
+                        var u = r.y + this.heightOffset - this.position.y;
+                        var l = s - this.position.z;
+                        var h = c * this.cameraAcceleration * 2;
+                        var f = u * this.cameraAcceleration;
+                        var d = l * this.cameraAcceleration * 2;
                         ((h > this.maxCameraSpeed ||
                           h < -this.maxCameraSpeed) &&
                           (h =
@@ -78427,7 +79300,7 @@ and limitations under the License.
                     (t.prototype._checkInputs = function () {
                       (this.inputs.checkInputs(),
                         this._checkLimits(),
-                        e.prototype._checkInputs.call(this),
+                        e.prototype._checkInputs(),
                         this.lockedTarget && this._follow(this.lockedTarget));
                     }),
                     (t.prototype._checkLimits = function () {
@@ -78511,7 +79384,7 @@ and limitations under the License.
                 })(Et),
                 wt = (function (e) {
                   function t(t, i, n, r, o, s) {
-                    var c = e.call(this, t, a.x.Zero(), s) || this;
+                    var c = e(t, a.x.Zero(), s) || this;
                     return (
                       (c.alpha = i),
                       (c.beta = n),
@@ -78542,7 +79415,7 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype._checkInputs = function () {
-                      (e.prototype._checkInputs.call(this), this._follow());
+                      (e.prototype._checkInputs(), this._follow());
                     }),
                     (t.prototype.getClassName = function () {
                       return "ArcFollowCamera";
@@ -78585,7 +79458,7 @@ and limitations under the License.
                 })(),
                 Nt = (function (e) {
                   function t(t) {
-                    var i = e.call(this, t.id, t.index, t) || this;
+                    var i = e(t.id, t.index, t) || this;
                     return (
                       (i._deviceRoomPosition = a.x.Zero()),
                       (i._deviceRoomRotationQuaternion = new a.q()),
@@ -78618,13 +79491,13 @@ and limitations under the License.
                   return (
                     h.d(t, e),
                     (t.prototype._disableTrackPosition = function (e) {
-                      this._trackPosition &&
+                      if (this._trackPosition) {
                         (this._calculatedPosition.copyFrom(e),
-                        (this._trackPosition = false));
+                          (this._trackPosition = false));
+                      }
                     }),
                     (t.prototype.update = function () {
-                      (e.prototype.update.call(this),
-                        this._updatePoseAndMesh());
+                      (e.prototype.update(), this._updatePoseAndMesh());
                     }),
                     (t.prototype._updatePoseAndMesh = function () {
                       var e = this.browserGamepad.pose;
@@ -78660,8 +79533,8 @@ and limitations under the License.
                               ? -this._maxRotationDistFromHeadset
                               : this._maxRotationDistFromHeadset);
                           this._draggedRoomRotation += n;
-                          var r = Math.sin(-n),
-                            o = Math.cos(-n);
+                          var r = Math.sin(-n);
+                          var o = Math.cos(-n);
                           ((this._calculatedPosition.x =
                             this._calculatedPosition.x * o -
                             this._calculatedPosition.z * r),
@@ -78713,26 +79586,26 @@ and limitations under the License.
                               this.position,
                             )));
                         var t = this.rawPose;
-                        e.orientation &&
-                          t.orientation &&
+                        if (e.orientation && t.orientation) {
                           (this._deviceRoomRotationQuaternion.copyFromFloats(
                             t.orientation[0],
                             t.orientation[1],
                             -t.orientation[2],
                             -t.orientation[3],
                           ),
-                          this._mesh &&
-                            (this._mesh.getScene().useRightHandedSystem
-                              ? ((this._deviceRoomRotationQuaternion.z *= -1),
-                                (this._deviceRoomRotationQuaternion.w *= -1))
-                              : this._deviceRoomRotationQuaternion.multiplyToRef(
-                                  this._leftHandSystemQuaternion,
-                                  this._deviceRoomRotationQuaternion,
-                                )),
-                          this._deviceRoomRotationQuaternion.multiplyToRef(
-                            this.rotationQuaternion,
-                            this._calculatedRotation,
-                          ));
+                            this._mesh &&
+                              (this._mesh.getScene().useRightHandedSystem
+                                ? ((this._deviceRoomRotationQuaternion.z *= -1),
+                                  (this._deviceRoomRotationQuaternion.w *= -1))
+                                : this._deviceRoomRotationQuaternion.multiplyToRef(
+                                    this._leftHandSystemQuaternion,
+                                    this._deviceRoomRotationQuaternion,
+                                  )),
+                            this._deviceRoomRotationQuaternion.multiplyToRef(
+                              this.rotationQuaternion,
+                              this._calculatedRotation,
+                            ));
+                        }
                       }
                     }),
                     (t.prototype.attachToMesh = function (e) {
@@ -78762,7 +79635,7 @@ and limitations under the License.
                     (t.prototype.dispose = function () {
                       (this._mesh && this._mesh.dispose(),
                         (this._mesh = null),
-                        e.prototype.dispose.call(this));
+                        e.prototype.dispose());
                     }),
                     Object.defineProperty(t.prototype, "mesh", {
                       get: function () {
@@ -78807,8 +79680,10 @@ and limitations under the License.
                 })(Ft || (Ft = {})));
               var kt = (function (e) {
                   function t(t, i, n, r) {
-                    void 0 === r && (r = false);
-                    var a = e.call(this, t, i, n, 0, 1, 2, 3) || this;
+                    if (void 0 === r) {
+                      r = false;
+                    }
+                    var a = e(t, i, n, 0, 1, 2, 3) || this;
                     return (
                       (a._leftTrigger = 0),
                       (a._rightTrigger = 0),
@@ -79103,7 +79978,7 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (t.prototype.update = function () {
-                      (e.prototype.update.call(this),
+                      (e.prototype.update(),
                         this._isXboxOnePad
                           ? ((this.buttonA =
                               this.browserGamepad.buttons[0].value),
@@ -79169,7 +80044,7 @@ and limitations under the License.
                               this.browserGamepad.buttons[15].value)));
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this.onButtonDownObservable.clear(),
                         this.onButtonUpObservable.clear(),
                         this.onPadDownObservable.clear(),
@@ -79200,24 +80075,29 @@ and limitations under the License.
                       ) {
                         for (var i in t._babylonGamepads) {
                           var n = t._babylonGamepads[i];
-                          n &&
-                            n._isConnected &&
+                          if (n && n._isConnected) {
                             t.onGamepadConnectedObservable.notifyObserver(e, n);
+                          }
                         }
                       })),
                       (this._onGamepadConnectedEvent = function (e) {
                         var i,
                           n = e.gamepad;
-                        (n.index in t._babylonGamepads &&
-                          t._babylonGamepads[n.index].isConnected) ||
+                        if (
+                          !(
+                            n.index in t._babylonGamepads &&
+                            t._babylonGamepads[n.index].isConnected
+                          )
+                        ) {
                           (t._babylonGamepads[n.index]
                             ? (((i =
                                 t._babylonGamepads[n.index]).browserGamepad =
                                 n),
                               (i._isConnected = true))
                             : (i = t._addNewGamepad(n)),
-                          t.onGamepadConnectedObservable.notifyObservers(i),
-                          t._startMonitoringGamepads());
+                            t.onGamepadConnectedObservable.notifyObservers(i),
+                            t._startMonitoringGamepads());
+                        }
                       }),
                       (this._onGamepadDisconnectedEvent = function (e) {
                         var i = e.gamepad;
@@ -79257,7 +80137,9 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype.getGamepadByType = function (e) {
-                      void 0 === e && (e = qe.XBOX);
+                      if (void 0 === e) {
+                        e = qe.XBOX;
+                      }
                       for (
                         var t = 0, i = this._babylonGamepads;
                         t < i.length;
@@ -79293,8 +80175,9 @@ and limitations under the License.
                     }),
                     (e.prototype._addNewGamepad = function (e) {
                       var t;
-                      this._oneGamepadConnected ||
-                        (this._oneGamepadConnected = true);
+                      if (!this._oneGamepadConnected) {
+                        this._oneGamepadConnected = true;
+                      }
                       var i = -1 !== e.id.search("Xbox One");
                       return (
                         (t =
@@ -79310,9 +80193,10 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype._startMonitoringGamepads = function () {
-                      this._isMonitoring ||
+                      if (!this._isMonitoring) {
                         ((this._isMonitoring = true),
-                        this._scene || this._checkGamepadsStatus());
+                          this._scene || this._checkGamepadsStatus());
+                      }
                     }),
                     (e.prototype._stopMonitoringGamepads = function () {
                       this._isMonitoring = false;
@@ -79322,13 +80206,15 @@ and limitations under the License.
                       for (var t in (this._updateGamepadObjects(),
                       this._babylonGamepads)) {
                         var i = this._babylonGamepads[t];
-                        i && i.isConnected && i.update();
+                        if (i && i.isConnected) {
+                          i.update();
+                        }
                       }
-                      this._isMonitoring &&
-                        !this._scene &&
+                      if (this._isMonitoring && !this._scene) {
                         Ee.h.QueueNewFrame(function () {
                           e._checkGamepadsStatus();
                         });
+                      }
                     }),
                     (e.prototype._updateGamepadObjects = function () {
                       for (
@@ -79366,7 +80252,9 @@ and limitations under the License.
                   if (!this._gamepadManager) {
                     this._gamepadManager = new Ut(this);
                     var e = this._getComponent(Se.a.NAME_GAMEPAD);
-                    e || ((e = new Vt(this)), this._addComponent(e));
+                    if (!e) {
+                      ((e = new Vt(this)), this._addComponent(e));
+                    }
                   }
                   return this._gamepadManager;
                 },
@@ -79394,11 +80282,15 @@ and limitations under the License.
                   (e.prototype.rebuild = function () {}),
                   (e.prototype.dispose = function () {
                     var e = this.scene._gamepadManager;
-                    e && (e.dispose(), (this.scene._gamepadManager = null));
+                    if (e) {
+                      (e.dispose(), (this.scene._gamepadManager = null));
+                    }
                   }),
                   (e.prototype._beforeCameraUpdate = function () {
                     var e = this.scene._gamepadManager;
-                    e && e._isMonitoring && e._checkGamepadsStatus();
+                    if (e && e._isMonitoring) {
+                      e._checkGamepadsStatus();
+                    }
                   }),
                   e
                 );
@@ -79410,7 +80302,7 @@ and limitations under the License.
               });
               var Gt = (function (e) {
                 function t(t, i, n) {
-                  var r = e.call(this, t, i, n) || this;
+                  var r = e(t, i, n) || this;
                   return (r.inputs.addGamepad(), r);
                 }
                 return (
@@ -79425,7 +80317,9 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this.inputs.attached.gamepad;
-                        t && (t.gamepadAngularSensibility = e);
+                        if (t) {
+                          t.gamepadAngularSensibility = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -79438,7 +80332,9 @@ and limitations under the License.
                     },
                     set: function (e) {
                       var t = this.inputs.attached.gamepad;
-                      t && (t.gamepadMoveSensibility = e);
+                      if (t) {
+                        t.gamepadMoveSensibility = e;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -79459,7 +80355,7 @@ and limitations under the License.
                 }));
               var zt = (function (e) {
                   function t(t, i, n) {
-                    return e.call(this, t, i, n) || this;
+                    return e(t, i, n) || this;
                   }
                   return (
                     h.d(t, e),
@@ -79536,11 +80432,12 @@ and limitations under the License.
                       var t = this;
                       ((this._samples = e),
                         this._textures.forEach(function (e) {
-                          e.samples !== t._samples &&
+                          if (e.samples !== t._samples) {
                             t._engine.updateRenderTargetTextureSampleCount(
                               e,
                               t._samples,
                             );
+                          }
                         }));
                     },
                     enumerable: true,
@@ -79683,7 +80580,9 @@ and limitations under the License.
                   }),
                   (e.prototype.activate = function (e, t, i) {
                     var n = this;
-                    void 0 === t && (t = null);
+                    if (void 0 === t) {
+                      t = null;
+                    }
                     var r = (e = e || this._camera).getScene(),
                       o = r.getEngine(),
                       a = o.getCaps().maxTextureSize,
@@ -79696,7 +80595,9 @@ and limitations under the License.
                           this._options) |
                         0,
                       u = e.parent;
-                    !u || (u.leftCamera != e && u.rightCamera != e) || (s /= 2);
+                    if (!(!u || (u.leftCamera != e && u.rightCamera != e))) {
+                      s /= 2;
+                    }
                     var l,
                       h = this._options.width || s,
                       f = this._options.height || c;
@@ -79706,7 +80607,9 @@ and limitations under the License.
                     ) {
                       if (this.adaptScaleToCurrentViewport) {
                         var d = o.currentViewport;
-                        d && ((h *= d.width), (f *= d.height));
+                        if (d) {
+                          ((h *= d.width), (f *= d.height));
+                        }
                       }
                       if (
                         ((this.renderTargetSamplingMode ===
@@ -79731,19 +80634,19 @@ and limitations under the License.
                         }
                         ((this.width = h), (this.height = f));
                         var m = {
-                            width: this.width,
-                            height: this.height,
-                          },
-                          g = {
-                            generateMipMaps: false,
-                            generateDepthBuffer:
-                              i || 0 === e._postProcesses.indexOf(this),
-                            generateStencilBuffer:
-                              (i || 0 === e._postProcesses.indexOf(this)) &&
-                              this._engine.isStencilEnable,
-                            samplingMode: this.renderTargetSamplingMode,
-                            type: this._textureType,
-                          };
+                          width: this.width,
+                          height: this.height,
+                        };
+                        var g = {
+                          generateMipMaps: false,
+                          generateDepthBuffer:
+                            i || 0 === e._postProcesses.indexOf(this),
+                          generateStencilBuffer:
+                            (i || 0 === e._postProcesses.indexOf(this)) &&
+                            this._engine.isStencilEnable,
+                          samplingMode: this.renderTargetSamplingMode,
+                          type: this._textureType,
+                        };
                         (this._textures.push(
                           this._engine.createRenderTargetTexture(m, g),
                         ),
@@ -79758,11 +80661,12 @@ and limitations under the License.
                           this.onSizeChangedObservable.notifyObservers(this));
                       }
                       this._textures.forEach(function (e) {
-                        e.samples !== n.samples &&
+                        if (e.samples !== n.samples) {
                           n._engine.updateRenderTargetTextureSampleCount(
                             e,
                             n.samples,
                           );
+                        }
                       });
                     }
                     return (
@@ -79871,10 +80775,14 @@ and limitations under the License.
                       this._scene)
                     ) {
                       var t = this._scene.postProcesses.indexOf(this);
-                      -1 !== t && this._scene.postProcesses.splice(t, 1);
+                      if (-1 !== t) {
+                        this._scene.postProcesses.splice(t, 1);
+                      }
                     } else {
                       var i = this._engine.postProcesses.indexOf(this);
-                      -1 !== i && this._engine.postProcesses.splice(i, 1);
+                      if (-1 !== i) {
+                        this._engine.postProcesses.splice(i, 1);
+                      }
                     }
                     if (e) {
                       if (
@@ -79883,7 +80791,9 @@ and limitations under the License.
                           e._postProcesses.length > 0)
                       ) {
                         var n = this._camera._getFirstPostProcess();
-                        n && n.markTextureDirty();
+                        if (n) {
+                          n.markTextureDirty();
+                        }
                       }
                       (this.onActivateObservable.clear(),
                         this.onAfterRenderObservable.clear(),
@@ -79905,8 +80815,7 @@ and limitations under the License.
                       void 0 === n && (n = null),
                       void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT),
                       void 0 === c && (c = false),
-                      e.call(
-                        this,
+                      e(
                         t,
                         "pass",
                         null,
@@ -79932,8 +80841,7 @@ and limitations under the License.
                       void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT),
                       void 0 === c && (c = false));
                     var u =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "passCube",
                         null,
@@ -80001,18 +80909,8 @@ and limitations under the License.
               var Kt = (function (e) {
                 function t(t, i, n, r, o, a) {
                   var s =
-                    e.call(
-                      this,
-                      t,
-                      "anaglyph",
-                      null,
-                      ["leftSampler"],
-                      i,
-                      n[1],
-                      r,
-                      o,
-                      a,
-                    ) || this;
+                    e(t, "anaglyph", null, ["leftSampler"], i, n[1], r, o, a) ||
+                    this;
                   return (
                     (s._passedProcess = n[0]._rigPostProcess),
                     s.onApplyObservable.add(function (e) {
@@ -80056,7 +80954,7 @@ and limitations under the License.
                 ));
               var Qt = (function (e) {
                 function t(t, i, n, r, o, a, s) {
-                  var c = e.call(this, t, i, n, r, o, s) || this;
+                  var c = e(t, i, n, r, o, s) || this;
                   return (
                     (c.interaxialDistance = a),
                     c.setCameraRigMode(ke.a.RIG_MODE_STEREOSCOPIC_ANAGLYPH, {
@@ -80080,7 +80978,7 @@ and limitations under the License.
               });
               var qt = (function (e) {
                 function t(t, i, n, r) {
-                  var o = e.call(this, t, i, r) || this;
+                  var o = e(t, i, r) || this;
                   return (
                     (o.interaxialDistance = n),
                     o.setCameraRigMode(ke.a.RIG_MODE_STEREOSCOPIC_ANAGLYPH, {
@@ -80107,7 +81005,7 @@ and limitations under the License.
               );
               var Zt = (function (e) {
                 function t(t, i, n, r) {
-                  var o = e.call(this, t, i, r) || this;
+                  var o = e(t, i, r) || this;
                   return (
                     (o.interaxialDistance = n),
                     o.setCameraRigMode(ke.a.RIG_MODE_STEREOSCOPIC_ANAGLYPH, {
@@ -80134,7 +81032,7 @@ and limitations under the License.
               );
               var Jt = (function (e) {
                 function t(t, i, n, r) {
-                  var o = e.call(this, t, i, r) || this;
+                  var o = e(t, i, r) || this;
                   return (
                     (o.interaxialDistance = n),
                     o.setCameraRigMode(ke.a.RIG_MODE_STEREOSCOPIC_ANAGLYPH, {
@@ -80156,8 +81054,7 @@ and limitations under the License.
               var $t = (function (e) {
                 function t(t, i, n, r, o, s) {
                   var c =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "stereoscopicInterlace",
                       ["stepSize"],
@@ -80223,7 +81120,7 @@ and limitations under the License.
                 ));
               var ei = (function (e) {
                 function t(t, i, n, r, o, a, s, c) {
-                  var u = e.call(this, t, i, n, r, o, c) || this;
+                  var u = e(t, i, n, r, o, c) || this;
                   return (
                     (u.interaxialDistance = a),
                     (u.isStereoscopicSideBySide = s),
@@ -80231,9 +81128,7 @@ and limitations under the License.
                       s
                         ? ke.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL
                         : ke.a.RIG_MODE_STEREOSCOPIC_OVERUNDER,
-                      {
-                        interaxialDistance: a,
-                      },
+                      { interaxialDistance: a },
                     ),
                     u
                   );
@@ -80262,7 +81157,7 @@ and limitations under the License.
               );
               var ti = (function (e) {
                 function t(t, i, n, r, o) {
-                  var a = e.call(this, t, i, o) || this;
+                  var a = e(t, i, o) || this;
                   return (
                     (a.interaxialDistance = n),
                     (a.isStereoscopicSideBySide = r),
@@ -80270,9 +81165,7 @@ and limitations under the License.
                       r
                         ? ke.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL
                         : ke.a.RIG_MODE_STEREOSCOPIC_OVERUNDER,
-                      {
-                        interaxialDistance: n,
-                      },
+                      { interaxialDistance: n },
                     ),
                     a
                   );
@@ -80301,7 +81194,7 @@ and limitations under the License.
               );
               var ii = (function (e) {
                 function t(t, i, n, r, o) {
-                  var a = e.call(this, t, i, o) || this;
+                  var a = e(t, i, o) || this;
                   return (
                     (a.interaxialDistance = n),
                     (a.isStereoscopicSideBySide = r),
@@ -80309,9 +81202,7 @@ and limitations under the License.
                       r
                         ? ke.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL
                         : ke.a.RIG_MODE_STEREOSCOPIC_OVERUNDER,
-                      {
-                        interaxialDistance: n,
-                      },
+                      { interaxialDistance: n },
                     ),
                     a
                   );
@@ -80340,7 +81231,7 @@ and limitations under the License.
               );
               var ni = (function (e) {
                 function t(t, i, n, r, o) {
-                  var a = e.call(this, t, i, o) || this;
+                  var a = e(t, i, o) || this;
                   return (
                     (a.interaxialDistance = n),
                     (a.isStereoscopicSideBySide = r),
@@ -80348,9 +81239,7 @@ and limitations under the License.
                       r
                         ? ke.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL
                         : ke.a.RIG_MODE_STEREOSCOPIC_OVERUNDER,
-                      {
-                        interaxialDistance: n,
-                      },
+                      { interaxialDistance: n },
                     ),
                     a
                   );
@@ -80370,7 +81259,7 @@ and limitations under the License.
               });
               var ri = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, i, n) || this;
+                    var r = e(t, i, n) || this;
                     return (r.inputs.addVirtualJoystick(), r);
                   }
                   return (
@@ -80481,8 +81370,7 @@ and limitations under the License.
               var ai = (function (e) {
                 function t(t, i, n, r) {
                   var o =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "vrDistortionCorrection",
                       ["LensCenter", "Scale", "ScaleIn", "HmdWarpParam"],
@@ -80645,7 +81533,7 @@ and limitations under the License.
                     void 0 === d && (d = false),
                     void 0 === p && (p = _.a.TEXTUREFORMAT_RGBA),
                     void 0 === m && (m = false));
-                  var g = e.call(this, null, n, !r) || this;
+                  var g = e(null, n, !r) || this;
                   return (
                     (g.isCube = u),
                     (g.renderParticles = true),
@@ -80804,7 +81692,9 @@ and limitations under the License.
                     configurable: true,
                   }),
                   (t.prototype._onRatioRescale = function () {
-                    this._sizeRatio && this.resize(this._initialSizeParameter);
+                    if (this._sizeRatio) {
+                      this.resize(this._initialSizeParameter);
+                    }
                   }),
                   Object.defineProperty(t.prototype, "boundingBoxSize", {
                     get: function () {
@@ -80817,10 +81707,11 @@ and limitations under the License.
                       ) {
                         this._boundingBoxSize = e;
                         var t = this.getScene();
-                        t &&
+                        if (t) {
                           t.markAllMaterialsAsDirty(
                             _.a.MATERIAL_TextureDirtyFlag,
                           );
+                        }
                       }
                     },
                     enumerable: true,
@@ -80868,13 +81759,14 @@ and limitations under the License.
                     set: function (e) {
                       if (this._samples !== e) {
                         var t = this.getScene();
-                        t &&
-                          (this._samples = t
+                        if (t) {
+                          this._samples = t
                             .getEngine()
                             .updateRenderTargetTextureSampleCount(
                               this._texture,
                               e,
-                            ));
+                            );
+                        }
                       }
                     },
                     enumerable: true,
@@ -80918,10 +81810,11 @@ and limitations under the License.
                   (t.prototype.removePostProcess = function (e) {
                     if (this._postProcesses) {
                       var t = this._postProcesses.indexOf(e);
-                      -1 !== t &&
+                      if (-1 !== t) {
                         (this._postProcesses.splice(t, 1),
-                        this._postProcesses.length > 0 &&
-                          (this._postProcesses[0].autoClear = false));
+                          this._postProcesses.length > 0 &&
+                            (this._postProcesses[0].autoClear = false));
+                      }
                     }
                   }),
                   (t.prototype._shouldRender = function () {
@@ -80954,27 +81847,28 @@ and limitations under the License.
                   (t.prototype.getReflectionTextureMatrix = function () {
                     return this.isCube
                       ? this._textureMatrix
-                      : e.prototype.getReflectionTextureMatrix.call(this);
+                      : e.prototype.getReflectionTextureMatrix();
                   }),
                   (t.prototype.resize = function (e) {
                     var t = this.isCube;
                     this.releaseInternalTexture();
                     var i = this.getScene();
-                    i &&
+                    if (i) {
                       (this._processSizeParameter(e),
-                      (this._texture = t
-                        ? i
-                            .getEngine()
-                            .createRenderTargetCubeTexture(
-                              this.getRenderSize(),
-                              this._renderTargetOptions,
-                            )
-                        : i
-                            .getEngine()
-                            .createRenderTargetTexture(
-                              this._size,
-                              this._renderTargetOptions,
-                            )));
+                        (this._texture = t
+                          ? i
+                              .getEngine()
+                              .createRenderTargetCubeTexture(
+                                this.getRenderSize(),
+                                this._renderTargetOptions,
+                              )
+                          : i
+                              .getEngine()
+                              .createRenderTargetTexture(
+                                this._size,
+                                this._renderTargetOptions,
+                              )));
+                    }
                   }),
                   (t.prototype.render = function (e, t) {
                     if (
@@ -80982,8 +81876,8 @@ and limitations under the License.
                       void 0 === t && (t = false),
                       (s = this.getScene()))
                     ) {
-                      var i,
-                        n = s.getEngine();
+                      var i;
+                      var n = s.getEngine();
                       if (
                         (void 0 !== this.useCameraPostProcesses &&
                           (e = this.useCameraPostProcesses),
@@ -80995,9 +81889,11 @@ and limitations under the License.
                           r < this._waitingRenderList.length;
                           r++
                         ) {
-                          var o = this._waitingRenderList[r],
-                            a = s.getMeshByID(o);
-                          a && this.renderList.push(a);
+                          var o = this._waitingRenderList[r];
+                          var a = s.getMeshByID(o);
+                          if (a) {
+                            this.renderList.push(a);
+                          }
                         }
                         delete this._waitingRenderList;
                       }
@@ -81013,8 +81909,9 @@ and limitations under the License.
                         var c = s.meshes;
                         for (r = 0; r < c.length; r++) {
                           var u = c[r];
-                          this.renderListPredicate(u) &&
+                          if (this.renderListPredicate(u)) {
                             this.renderList.push(u);
+                          }
                         }
                       }
                       (this.onBeforeBindObservable.notifyObservers(this),
@@ -81078,14 +81975,17 @@ and limitations under the License.
                           }
                         }
                       for (var _ = 0; _ < s.particleSystems.length; _++) {
-                        var v = s.particleSystems[_],
-                          y = v.emitter;
-                        v.isStarted() &&
+                        var v = s.particleSystems[_];
+                        var y = v.emitter;
+                        if (
+                          v.isStarted() &&
                           y &&
                           y.position &&
                           y.isEnabled() &&
-                          l.indexOf(y) >= 0 &&
+                          l.indexOf(y) >= 0
+                        ) {
                           this._renderingManager.dispatchParticles(v);
+                        }
                       }
                       if (this.isCube)
                         for (var b = 0; b < 6; b++)
@@ -81114,11 +82014,13 @@ and limitations under the License.
                     return Math.min(Ee.h.FloorPOT(e), n);
                   }),
                   (t.prototype._bindFrameBuffer = function (e) {
-                    void 0 === e && (e = 0);
+                    if (void 0 === e) {
+                      e = 0;
+                    }
                     var t = this.getScene();
                     if (t) {
                       var i = t.getEngine();
-                      this._texture &&
+                      if (this._texture) {
                         i.bindFramebuffer(
                           this._texture,
                           this.isCube ? e : void 0,
@@ -81129,11 +82031,12 @@ and limitations under the License.
                             ? this.depthStencilTexture
                             : void 0,
                         );
+                      }
                     }
                   }),
                   (t.prototype.unbindFrameBuffer = function (e, t) {
                     var i = this;
-                    this._texture &&
+                    if (this._texture) {
                       e.unBindFramebuffer(
                         this._texture,
                         this.isCube,
@@ -81141,6 +82044,7 @@ and limitations under the License.
                           i.onAfterRenderObservable.notifyObservers(t);
                         },
                       );
+                    }
                   }),
                   (t.prototype.renderToTarget = function (e, t, i, n) {
                     var r = this.getScene();
@@ -81258,7 +82162,7 @@ and limitations under the License.
                   }),
                   (t.prototype.serialize = function () {
                     if (!this.name) return null;
-                    var t = e.prototype.serialize.call(this);
+                    var t = e.prototype.serialize();
                     if (
                       ((t.renderTargetSize = this.getRenderSize()),
                       (t.renderList = []),
@@ -81271,7 +82175,9 @@ and limitations under the License.
                   (t.prototype.disposeFramebufferObjects = function () {
                     var e = this.getInternalTexture(),
                       t = this.getScene();
-                    e && t && t.getEngine()._releaseFramebufferObjects(e);
+                    if (e && t) {
+                      t.getEngine()._releaseFramebufferObjects(e);
+                    }
                   }),
                   (t.prototype.dispose = function () {
                     (this._postProcessManager &&
@@ -81287,13 +82193,16 @@ and limitations under the License.
                     var t = this.getScene();
                     if (t) {
                       var i = t.customRenderTargets.indexOf(this);
-                      i >= 0 && t.customRenderTargets.splice(i, 1);
+                      if (i >= 0) {
+                        t.customRenderTargets.splice(i, 1);
+                      }
                       for (var n = 0, r = t.cameras; n < r.length; n++) {
                         var o = r[n];
-                        (i = o.customRenderTargets.indexOf(this)) >= 0 &&
+                        if ((i = o.customRenderTargets.indexOf(this)) >= 0) {
                           o.customRenderTargets.splice(i, 1);
+                        }
                       }
-                      e.prototype.dispose.call(this);
+                      e.prototype.dispose();
                     }
                   }),
                   (t.prototype._rebuild = function () {
@@ -81303,8 +82212,9 @@ and limitations under the License.
                         this._postProcessManager._rebuild());
                   }),
                   (t.prototype.freeRenderingGroups = function () {
-                    this._renderingManager &&
+                    if (this._renderingManager) {
                       this._renderingManager.freeRenderingGroups();
+                    }
                   }),
                   (t.prototype.getViewCount = function () {
                     return 1;
@@ -81320,10 +82230,11 @@ and limitations under the License.
               };
               var hi = (function (e) {
                 function t(t, i) {
-                  void 0 === i && (i = 512);
+                  if (void 0 === i) {
+                    i = 512;
+                  }
                   var n =
-                      e.call(
-                        this,
+                      e(
                         "multiview rtt",
                         i,
                         t,
@@ -81505,8 +82416,7 @@ and limitations under the License.
               var fi = (function (e) {
                 function t(t, i, n) {
                   var r =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "vrMultiviewToSingleview",
                       ["imageIndex"],
@@ -81548,7 +82458,7 @@ and limitations under the License.
                     i.rightPreViewMatrix),
                   (e._rigCameras[1].getProjectionMatrix =
                     e._rigCameras[1]._getVRProjectionMatrix),
-                  i.multiviewEnabled &&
+                  false &&
                     (e.getScene().getEngine().getCaps().multiview
                       ? ((e._useMultiviewToSingleView = true),
                         (e._rigPostProcess = new fi(
@@ -81586,7 +82496,7 @@ and limitations under the License.
                 function t(t, i, n, r, o, a, s, c) {
                   (void 0 === s && (s = true),
                     void 0 === c && (c = oi.GetDefault()));
-                  var u = e.call(this, t, i, n, r, o, a) || this;
+                  var u = e(t, i, n, r, o, a) || this;
                   return (
                     (c.compensateDistortion = s),
                     u.setCameraRigMode(ke.a.RIG_MODE_VR, {
@@ -81616,7 +82526,7 @@ and limitations under the License.
                 function t(t, i, n, r, o) {
                   (void 0 === r && (r = true),
                     void 0 === o && (o = oi.GetDefault()));
-                  var a = e.call(this, t, i, n) || this;
+                  var a = e(t, i, n) || this;
                   return (
                     (o.compensateDistortion = r),
                     a.setCameraRigMode(ke.a.RIG_MODE_VR, {
@@ -81645,7 +82555,7 @@ and limitations under the License.
                   function t(t, i, n, r, o) {
                     (void 0 === r && (r = true),
                       void 0 === o && (o = oi.GetDefault()));
-                    var a = e.call(this, t, i, n, r, o) || this;
+                    var a = e(t, i, n, r, o) || this;
                     return (a.inputs.addGamepad(), a);
                   }
                   return (
@@ -81659,8 +82569,8 @@ and limitations under the License.
                 gi = n(65);
               ((ke.a._setWebVRRigMode = function (e, t) {
                 if (t.vrDisplay) {
-                  var i = t.vrDisplay.getEyeParameters("left"),
-                    n = t.vrDisplay.getEyeParameters("right");
+                  var i = t.vrDisplay.getEyeParameters("left");
+                  var n = t.vrDisplay.getEyeParameters("right");
                   ((e._rigCameras[0].viewport = new a.z(0, 0, 0.5, 1)),
                     e._rigCameras[0].setCameraRigParameter("left", true),
                     e._rigCameras[0].setCameraRigParameter("specs", t.specs),
@@ -81784,35 +82694,31 @@ and limitations under the License.
                             (e._vrDisplay = i[0]),
                             t({
                               vrDisplay: e._vrDisplay,
-                              vrSupported: e._vrSupported,
+                              vrSupported: true,
                             }));
                         })
                       : ((e._vrDisplay = void 0),
                         (e._vrSupported = false),
                         t({
                           vrDisplay: e._vrDisplay,
-                          vrSupported: e._vrSupported,
+                          vrSupported: false,
                         }));
                   });
                 }),
                 (ve.b.prototype.enableVR = function () {
                   var e = this;
-                  this._vrDisplay &&
-                    !this._vrDisplay.isPresenting &&
+                  if (this._vrDisplay && !this._vrDisplay.isPresenting) {
                     (this.onVRRequestPresentStart.notifyObservers(this),
-                    this._vrDisplay
-                      .requestPresent([
-                        {
-                          source: this.getRenderingCanvas(),
-                        },
-                      ])
-                      .then(function () {
-                        (e.onVRRequestPresentComplete.notifyObservers(true),
-                          e._onVRFullScreenTriggered());
-                      })
-                      .catch(function () {
-                        e.onVRRequestPresentComplete.notifyObservers(false);
-                      }));
+                      this._vrDisplay
+                        .requestPresent([{ source: this.getRenderingCanvas() }])
+                        .then(function () {
+                          (e.onVRRequestPresentComplete.notifyObservers(true),
+                            e._onVRFullScreenTriggered());
+                        })
+                        .catch(function () {
+                          e.onVRRequestPresentComplete.notifyObservers(false);
+                        }));
+                  }
                 }),
                 (ve.b.prototype._onVRFullScreenTriggered = function () {
                   if (this._vrDisplay && this._vrDisplay.isPresenting) {
@@ -81870,10 +82776,14 @@ and limitations under the License.
                 }),
                 (ve.b.prototype._connectVREvents = function (e, t) {
                   ((this._onVRDisplayPointerRestricted = function () {
-                    e && e.requestPointerLock();
+                    if (e) {
+                      e.requestPointerLock();
+                    }
                   }),
                     (this._onVRDisplayPointerUnrestricted = function () {
-                      t.exitPointerLock && t.exitPointerLock();
+                      if (t.exitPointerLock) {
+                        t.exitPointerLock();
+                      }
                     }),
                     It.a.IsWindowObjectExist() &&
                       (window.addEventListener(
@@ -81918,8 +82828,10 @@ and limitations under the License.
                 }));
               var _i = (function (e) {
                   function t(t, i, n, r) {
-                    void 0 === r && (r = {});
-                    var s = e.call(this, t, i, n) || this;
+                    if (void 0 === r) {
+                      r = {};
+                    }
+                    var s = e(t, i, n) || this;
                     ((s.webVROptions = r),
                       (s._vrDevice = null),
                       (s.rawPose = null),
@@ -81944,10 +82856,9 @@ and limitations under the License.
                       (s._htmlElementAttached = null),
                       (s._detachIfAttached = function () {
                         var e = s.getEngine().getVRDevice();
-                        e &&
-                          !e.isPresenting &&
-                          s._htmlElementAttached &&
+                        if (e && !e.isPresenting && s._htmlElementAttached) {
                           s.detachControl(s._htmlElementAttached);
+                        }
                       }),
                       (s._workingVector = a.x.Zero()),
                       (s._oneVector = a.x.One()),
@@ -81972,20 +82883,22 @@ and limitations under the License.
                     var c = s.getEngine();
                     return (
                       (s._onVREnabled = function (e) {
-                        e && s.initControllers();
+                        if (e) {
+                          s.initControllers();
+                        }
                       }),
                       c.onVRRequestPresentComplete.add(s._onVREnabled),
                       c.initWebVR().add(function (e) {
-                        e.vrDisplay &&
-                          s._vrDevice !== e.vrDisplay &&
+                        if (e.vrDisplay && s._vrDevice !== e.vrDisplay) {
                           ((s._vrDevice = e.vrDisplay),
-                          s.setCameraRigMode(ke.a.RIG_MODE_WEBVR, {
-                            parentCamera: s,
-                            vrDisplay: s._vrDevice,
-                            frameData: s._frameData,
-                            specs: s._specsVersion,
-                          }),
-                          s._attached && s.getEngine().enableVR());
+                            s.setCameraRigMode(ke.a.RIG_MODE_WEBVR, {
+                              parentCamera: s,
+                              vrDisplay: s._vrDevice,
+                              frameData: s._frameData,
+                              specs: s._specsVersion,
+                            }),
+                            s._attached && s.getEngine().enableVR());
+                        }
                       }),
                       "undefined" != typeof VRFrameData &&
                         (s._frameData = new VRFrameData()),
@@ -82002,8 +82915,7 @@ and limitations under the License.
                             ),
                             (s._useMultiviewToSingleView = false))),
                       n.onBeforeCameraRenderObservable.add(function (e) {
-                        e.parent === s &&
-                          s.rigParenting &&
+                        if (e.parent === s && s.rigParenting) {
                           ((s._descendants = s.getDescendants(
                             true,
                             function (e) {
@@ -82014,16 +82926,17 @@ and limitations under the License.
                               return !t && !i;
                             },
                           )),
-                          s._descendants.forEach(function (t) {
-                            t.parent = e;
-                          }));
+                            s._descendants.forEach(function (t) {
+                              t.parent = e;
+                            }));
+                        }
                       }),
                       n.onAfterCameraRenderObservable.add(function (e) {
-                        e.parent === s &&
-                          s.rigParenting &&
+                        if (e.parent === s && s.rigParenting) {
                           s._descendants.forEach(function (e) {
                             e.parent = s;
                           });
+                        }
                       }),
                       s
                     );
@@ -82081,7 +82994,7 @@ and limitations under the License.
                           this._scene.onBeforeRenderObservable.remove(
                             this._updateCacheWhenTrackingDisabledObserver,
                           ),
-                        e.prototype.dispose.call(this));
+                        e.prototype.dispose());
                     }),
                     (t.prototype.getControllerByName = function (e) {
                       for (var t = 0, i = this.controllers; t < i.length; t++) {
@@ -82118,13 +83031,12 @@ and limitations under the License.
                       return (
                         void 0 === t && (t = 100),
                         this.leftCamera
-                          ? e.prototype.getForwardRay.call(
-                              this,
+                          ? e.prototype.getForwardRay(
                               t,
                               this.leftCamera.getWorldMatrix(),
                               this.leftCamera.globalPosition,
                             )
-                          : e.prototype.getForwardRay.call(this, t)
+                          : e.prototype.getForwardRay(t)
                       );
                     }),
                     (t.prototype._checkInputs = function () {
@@ -82132,34 +83044,34 @@ and limitations under the License.
                         this._vrDevice.isPresenting &&
                         (this._vrDevice.getFrameData(this._frameData),
                         this.updateFromDevice(this._frameData.pose)),
-                        e.prototype._checkInputs.call(this));
+                        e.prototype._checkInputs());
                     }),
                     (t.prototype.updateFromDevice = function (e) {
-                      e &&
-                        e.orientation &&
+                      if (e && e.orientation) {
                         ((this.rawPose = e),
-                        this._deviceRoomRotationQuaternion.copyFromFloats(
-                          e.orientation[0],
-                          e.orientation[1],
-                          -e.orientation[2],
-                          -e.orientation[3],
-                        ),
-                        this.getScene().useRightHandedSystem &&
-                          ((this._deviceRoomRotationQuaternion.z *= -1),
-                          (this._deviceRoomRotationQuaternion.w *= -1)),
-                        this.webVROptions.trackPosition &&
-                          this.rawPose.position &&
-                          (this._deviceRoomPosition.copyFromFloats(
-                            this.rawPose.position[0],
-                            this.rawPose.position[1],
-                            -this.rawPose.position[2],
+                          this._deviceRoomRotationQuaternion.copyFromFloats(
+                            e.orientation[0],
+                            e.orientation[1],
+                            -e.orientation[2],
+                            -e.orientation[3],
                           ),
                           this.getScene().useRightHandedSystem &&
-                            (this._deviceRoomPosition.z *= -1)),
-                        (this._poseSet = true));
+                            ((this._deviceRoomRotationQuaternion.z *= -1),
+                            (this._deviceRoomRotationQuaternion.w *= -1)),
+                          this.webVROptions.trackPosition &&
+                            this.rawPose.position &&
+                            (this._deviceRoomPosition.copyFromFloats(
+                              this.rawPose.position[0],
+                              this.rawPose.position[1],
+                              -this.rawPose.position[2],
+                            ),
+                            this.getScene().useRightHandedSystem &&
+                              (this._deviceRoomPosition.z *= -1)),
+                          (this._poseSet = true));
+                      }
                     }),
                     (t.prototype.attachControl = function (t, i) {
-                      (e.prototype.attachControl.call(this, t, i),
+                      (e.prototype.attachControl(t, i),
                         (this._attached = true),
                         (this._htmlElementAttached = t),
                         (i =
@@ -82177,7 +83089,7 @@ and limitations under the License.
                         this.getScene().gamepadManager.onGamepadDisconnectedObservable.remove(
                           this._onGamepadDisconnectedObserver,
                         ),
-                        e.prototype.detachControl.call(this, t),
+                        e.prototype.detachControl(t),
                         (this._attached = false),
                         this.getEngine().disableVR(),
                         window.removeEventListener(
@@ -82262,7 +83174,7 @@ and limitations under the License.
                             ),
                             e.update());
                         })),
-                        t || e.prototype._updateCache.call(this),
+                        t || e.prototype._updateCache(),
                         (this.updateCacheCalled = false));
                     }),
                     (t.prototype._computeDevicePosition = function () {
@@ -82290,7 +83202,7 @@ and limitations under the License.
                           this.onPoseUpdatedFromDeviceObservable.notifyObservers(
                             null,
                           ),
-                        e.prototype.update.call(this));
+                        e.prototype.update());
                     }),
                     (t.prototype._getViewMatrix = function () {
                       return a.j.Identity();
@@ -82377,11 +83289,13 @@ and limitations under the License.
                         t.onGamepadDisconnectedObservable.add(function (t) {
                           if (t.type === qe.POSE_ENABLED) {
                             var i = t;
-                            (i.defaultModel && i.defaultModel.setEnabled(false),
-                              "right" === i.hand && (e._rightController = null),
-                              "left" === i.hand && (e._leftController = null));
-                            var n = e.controllers.indexOf(i);
-                            -1 !== n && e.controllers.splice(n, 1);
+                            (t.defaultModel && t.defaultModel.setEnabled(false),
+                              "right" === t.hand && (e._rightController = null),
+                              "left" === t.hand && (e._leftController = null));
+                            var n = e.controllers.indexOf(t);
+                            if (-1 !== n) {
+                              e.controllers.splice(n, 1);
+                            }
                           }
                         })),
                         (this._onGamepadConnectedObserver =
@@ -82390,9 +83304,9 @@ and limitations under the License.
                               var i = t;
                               if (
                                 (e.webVROptions.trackPosition ||
-                                  (i._disableTrackPosition(
+                                  (t._disableTrackPosition(
                                     new a.x(
-                                      "left" == i.hand ? -0.15 : 0.15,
+                                      "left" == t.hand ? -0.15 : 0.15,
                                       -0.5,
                                       0.25,
                                     ),
@@ -82404,15 +83318,15 @@ and limitations under the License.
                                           e._updateCache();
                                         },
                                       ))),
-                                (i.deviceScaleFactor = e.deviceScaleFactor),
-                                i._deviceToWorld.copyFrom(e._deviceToWorld),
+                                (t.deviceScaleFactor = e.deviceScaleFactor),
+                                t._deviceToWorld.copyFrom(e._deviceToWorld),
                                 e._correctPositionIfNotTrackPosition(
-                                  i._deviceToWorld,
+                                  t._deviceToWorld,
                                 ),
                                 e.webVROptions.controllerMeshes &&
-                                  (i.defaultModel
-                                    ? i.defaultModel.setEnabled(true)
-                                    : i.initControllerMesh(
+                                  (t.defaultModel
+                                    ? t.defaultModel.setEnabled(true)
+                                    : t.initControllerMesh(
                                         e.getScene(),
                                         function (t) {
                                           if (
@@ -82425,31 +83339,32 @@ and limitations under the License.
                                             e.webVROptions
                                               .defaultLightingOnControllers)
                                           ) {
-                                            e._lightOnControllers ||
-                                              (e._lightOnControllers = new gi.a(
+                                            if (!e._lightOnControllers) {
+                                              e._lightOnControllers = new gi.a(
                                                 "vrControllersLight",
                                                 new a.x(0, 1, 0),
                                                 e.getScene(),
-                                              ));
+                                              );
+                                            }
                                             (e._lightOnControllers.includedOnlyMeshes.push(
                                               t,
                                             ),
                                               (function e(t, i) {
                                                 var n = t.getChildren();
-                                                n &&
-                                                  0 !== n.length &&
+                                                if (n && 0 !== n.length) {
                                                   n.forEach(function (t) {
                                                     (i.includedOnlyMeshes.push(
                                                       t,
                                                     ),
                                                       e(t, i));
                                                   });
+                                                }
                                               })(t, e._lightOnControllers));
                                           }
                                         },
                                       )),
-                                i.attachToPoseControlledCamera(e),
-                                -1 === e.controllers.indexOf(i))
+                                t.attachToPoseControlledCamera(e),
+                                -1 === e.controllers.indexOf(t))
                               ) {
                                 e.controllers.push(i);
                                 for (
@@ -82462,10 +83377,11 @@ and limitations under the License.
                                       ? (e.controllers[r].hand = "right")
                                       : ((n = true),
                                         (e.controllers[r].hand = "left")));
-                                e.controllers.length >= 2 &&
+                                if (e.controllers.length >= 2) {
                                   e.onControllersAttachedObservable.notifyObservers(
                                     e.controllers,
                                   );
+                                }
                               }
                             }
                           })));
@@ -82475,7 +83391,7 @@ and limitations under the License.
                 })(Tt),
                 vi = (function (e) {
                   function t(t) {
-                    var i = e.call(this, t) || this;
+                    var i = e(t) || this;
                     return (
                       (i.onTriggerStateChangedObservable = new o.c()),
                       (i.onMainButtonStateChangedObservable = new o.c()),
@@ -82510,20 +83426,25 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (t.prototype.update = function () {
-                      e.prototype.update.call(this);
+                      e.prototype.update();
                       for (var t = 0; t < this._buttons.length; t++)
                         this._setButtonValue(
                           this.browserGamepad.buttons[t],
                           this._buttons[t],
                           t,
                         );
-                      (this.leftStick.x === this.pad.x &&
-                        this.leftStick.y === this.pad.y) ||
+                      if (
+                        !(
+                          this.leftStick.x === this.pad.x &&
+                          this.leftStick.y === this.pad.y
+                        )
+                      ) {
                         ((this.pad.x = this.leftStick.x),
-                        (this.pad.y = this.leftStick.y),
-                        this.onPadValuesChangedObservable.notifyObservers(
-                          this.pad,
-                        ));
+                          (this.pad.y = this.leftStick.y),
+                          this.onPadValuesChangedObservable.notifyObservers(
+                            this.pad,
+                          ));
+                      }
                     }),
                     (t.prototype._setButtonValue = function (e, t, i) {
                       (e ||
@@ -82561,7 +83482,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this.onTriggerStateChangedObservable.clear(),
                         this.onMainButtonStateChangedObservable.clear(),
                         this.onSecondaryButtonStateChangedObservable.clear(),
@@ -82579,8 +83500,7 @@ and limitations under the License.
                       void 0 === o && (o = _.a.TEXTURE_TRILINEAR_SAMPLINGMODE),
                       void 0 === a && (a = _.a.TEXTUREFORMAT_RGBA));
                     var s =
-                      e.call(
-                        this,
+                      e(
                         null,
                         n,
                         !r,
@@ -82676,7 +83596,9 @@ and limitations under the License.
                         ));
                     }),
                     (t.prototype.drawText = function (e, t, i, n, r, o, a, s) {
-                      void 0 === s && (s = true);
+                      if (void 0 === s) {
+                        s = true;
+                      }
                       var c = this.getSize();
                       if (
                         (o &&
@@ -82711,12 +83633,12 @@ and limitations under the License.
                     }),
                     (t.prototype.serialize = function () {
                       var t = this.getScene();
-                      t &&
-                        !t.isReady() &&
+                      if (t && !t.isReady()) {
                         g.a.Warn(
                           "The scene must be ready before serializing the dynamic texture",
                         );
-                      var i = e.prototype.serialize.call(this);
+                      }
+                      var i = e.prototype.serialize();
                       return (
                         (i.base64String = this._canvas.toDataURL()),
                         (i.invertY = this._invertY),
@@ -82741,8 +83663,7 @@ and limitations under the License.
                     (void 0 === n && (n = null),
                       void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT));
                     var u =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "imageProcessing",
                         [],
@@ -82822,9 +83743,9 @@ and limitations under the License.
                           )
                             this._imageProcessingConfiguration = e;
                           else {
-                            var n = null,
-                              r = this.getEngine(),
-                              o = this.getCamera();
+                            var n = null;
+                            var r = this.getEngine();
+                            var o = this.getCamera();
                             if (o) n = o.getScene();
                             else if (r && r.scenes) {
                               var a = r.scenes;
@@ -83023,9 +83944,10 @@ and limitations under the License.
                         return this._fromLinearSpace;
                       },
                       set: function (e) {
-                        this._fromLinearSpace !== e &&
+                        if (this._fromLinearSpace !== e) {
                           ((this._fromLinearSpace = e),
-                          this._updateParameters());
+                            this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -83050,7 +83972,7 @@ and limitations under the License.
                         this.updateEffect(e, n, i));
                     }),
                     (t.prototype.dispose = function (t) {
-                      (e.prototype.dispose.call(this, t),
+                      (e.prototype.dispose(t),
                         this._imageProcessingConfiguration &&
                           this._imageProcessingObserver &&
                           this._imageProcessingConfiguration.onUpdateParameters.remove(
@@ -83075,7 +83997,7 @@ and limitations under the License.
               };
               var Ci = (function (e) {
                 function t(t, i) {
-                  var n = e.call(this, t, i) || this;
+                  var n = e(t, i) || this;
                   return ((n.generateOctree = false), n);
                 }
                 return (
@@ -83127,8 +84049,9 @@ and limitations under the License.
                         t > this._maxZ)
                     )
                       return this.position.y;
-                    (this._heightQuads && 0 != this._heightQuads.length) ||
+                    if (!(this._heightQuads && 0 != this._heightQuads.length)) {
                       (this._initHeightQuads(), this._computeHeightQuads());
+                    }
                     var o = this._getFacetAt(e, t),
                       s = -(o.x * e + o.z * t + o.w) / o.y;
                     return (
@@ -83159,8 +84082,9 @@ and limitations under the License.
                         t > this._maxZ)
                     )
                       return this;
-                    (this._heightQuads && 0 != this._heightQuads.length) ||
+                    if (!(this._heightQuads && 0 != this._heightQuads.length)) {
                       (this._initHeightQuads(), this._computeHeightQuads());
+                    }
                     var s = this._getFacetAt(e, t);
                     return (
                       a.x.TransformNormalFromFloatsToRef(s.x, s.y, s.z, n, i),
@@ -83263,7 +84187,7 @@ and limitations under the License.
                     return this;
                   }),
                   (t.prototype.serialize = function (t) {
-                    (e.prototype.serialize.call(this, t),
+                    (e.prototype.serialize(t),
                       (t.subdivisionsX = this._subdivisionsX),
                       (t.subdivisionsY = this._subdivisionsY),
                       (t.minX = this._minX),
@@ -83304,11 +84228,11 @@ and limitations under the License.
                 for (t = 0; t <= h; t++)
                   for (i = 0; i <= l; i++) {
                     var f = new a.x(
-                        (i * c) / l - c / 2,
-                        0,
-                        ((h - t) * u) / h - u / 2,
-                      ),
-                      d = new a.x(0, 1, 0);
+                      (i * c) / l - c / 2,
+                      0,
+                      ((h - t) * u) / h - u / 2,
+                    );
+                    var d = new a.x(0, 1, 0);
                     (r.push(f.x, f.y, f.z),
                       o.push(d.x, d.y, d.z),
                       s.push(i / l, 1 - t / h));
@@ -83381,7 +84305,7 @@ and limitations under the License.
                       for (l.z = (t * (o - n)) / h.h + n, i = 0; i <= h.w; i++)
                         ((l.x = (i * (r - e)) / h.w + e),
                           (l.y = 0),
-                          d.push(l.x, l.y, l.z),
+                          d.push(l.x, 0, l.z),
                           p.push(g.x, g.y, g.z),
                           m.push(i / h.w, t / h.h));
                   }
@@ -83415,25 +84339,27 @@ and limitations under the License.
                   for (t = 0; t <= e.subdivisions; t++)
                     for (i = 0; i <= e.subdivisions; i++) {
                       var f = new a.x(
-                          (i * e.width) / e.subdivisions - e.width / 2,
-                          0,
-                          ((e.subdivisions - t) * e.height) / e.subdivisions -
-                            e.height / 2,
-                        ),
-                        d =
-                          4 *
-                          (((((f.x + e.width / 2) / e.width) *
-                            (e.bufferWidth - 1)) |
-                            0) +
-                            (((1 - (f.z + e.height / 2) / e.height) *
-                              (e.bufferHeight - 1)) |
-                              0) *
-                              e.bufferWidth),
-                        p = e.buffer[d] / 255,
-                        m = e.buffer[d + 1] / 255,
-                        g = e.buffer[d + 2] / 255,
-                        _ = e.buffer[d + 3] / 255;
-                      l && ((p = 1 - p), (m = 1 - m), (g = 1 - g));
+                        (i * e.width) / e.subdivisions - e.width / 2,
+                        0,
+                        ((e.subdivisions - t) * e.height) / e.subdivisions -
+                          e.height / 2,
+                      );
+                      var d =
+                        4 *
+                        (((((f.x + e.width / 2) / e.width) *
+                          (e.bufferWidth - 1)) |
+                          0) +
+                          (((1 - (f.z + e.height / 2) / e.height) *
+                            (e.bufferHeight - 1)) |
+                            0) *
+                            e.bufferWidth);
+                      var p = e.buffer[d] / 255;
+                      var m = e.buffer[d + 1] / 255;
+                      var g = e.buffer[d + 2] / 255;
+                      var _ = e.buffer[d + 3] / 255;
+                      if (l) {
+                        ((p = 1 - p), (m = 1 - m), (g = 1 - g));
+                      }
                       var v = p * c.r + m * c.g + g * c.b;
                       ((f.y =
                         _ >= u
@@ -83445,13 +84371,13 @@ and limitations under the License.
                     }
                   for (t = 0; t < e.subdivisions; t++)
                     for (i = 0; i < e.subdivisions; i++) {
-                      var y = i + 1 + (t + 1) * (e.subdivisions + 1),
-                        b = i + 1 + t * (e.subdivisions + 1),
-                        E = i + t * (e.subdivisions + 1),
-                        T = i + (t + 1) * (e.subdivisions + 1),
-                        A = r[3 * y + 1] >= e.minHeight,
-                        x = r[3 * b + 1] >= e.minHeight,
-                        S = r[3 * E + 1] >= e.minHeight;
+                      var y = i + 1 + (t + 1) * (e.subdivisions + 1);
+                      var b = i + 1 + t * (e.subdivisions + 1);
+                      var E = i + t * (e.subdivisions + 1);
+                      var T = i + (t + 1) * (e.subdivisions + 1);
+                      var A = r[3 * y + 1] >= e.minHeight;
+                      var x = r[3 * b + 1] >= e.minHeight;
+                      var S = r[3 * E + 1] >= e.minHeight;
                       (A && x && S && (n.push(y), n.push(b), n.push(E)),
                         r[3 * T + 1] >= e.minHeight &&
                           A &&
@@ -83537,7 +84463,9 @@ and limitations under the License.
                     );
                   }),
                   (e.CreateTiledGround = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var n = new me.a(e, i);
                     return (
                       xi.a.CreateTiledGround(t).applyToMesh(n, t.updatable),
@@ -83545,7 +84473,9 @@ and limitations under the License.
                     );
                   }),
                   (e.CreateGroundFromHeightMap = function (e, t, i, n) {
-                    void 0 === n && (n = null);
+                    if (void 0 === n) {
+                      n = null;
+                    }
                     var r = i.width || 10,
                       o = i.height || 10,
                       s = i.subdivisions || 1,
@@ -83577,8 +84507,8 @@ and limitations under the License.
                               "Unable to get 2d context for CreateGroundFromHeightMap",
                             );
                           if (!n.isDisposed) {
-                            var a = e.width,
-                              m = e.height;
+                            var a = e.width;
+                            var m = e.height;
                             ((t.width = a),
                               (t.height = m),
                               i.drawImage(e, 0, 0));
@@ -83638,20 +84568,20 @@ and limitations under the License.
                     m <= c;
                     m++
                   ) {
-                    var g = 1 - m / c,
-                      _ = (m * Math.PI * 2) / c + Math.PI,
-                      v = Math.cos(_),
-                      y = Math.sin(_),
-                      b = new a.x(v, y, 0),
-                      E = b.scale(s / 2),
-                      T = new a.w(f, g);
+                    var g = 1 - m / c;
+                    var _ = (m * Math.PI * 2) / c + Math.PI;
+                    var v = Math.cos(_);
+                    var y = Math.sin(_);
+                    var b = new a.x(v, y, 0);
+                    var E = b.scale(s / 2);
+                    var T = new a.w(f, g);
                     ((E = a.x.TransformCoordinates(E, p)),
                       (b = a.x.TransformNormal(b, p)),
                       i.push(E.x, E.y, E.z),
                       n.push(b.x, b.y, b.z),
                       r.push(T.x, T.y));
-                    var A = (h + 1) % l,
-                      x = (m + 1) % l;
+                    var A = (h + 1) % l;
+                    var x = (m + 1) % l;
                     (t.push(h * l + m),
                       t.push(h * l + x),
                       t.push(A * l + m),
@@ -83759,7 +84689,9 @@ and limitations under the License.
                       this._activePointer = false;
                     }),
                     (e.prototype._updatePointerDistance = function (e) {
-                      void 0 === e && (e = 100);
+                      if (void 0 === e) {
+                        e = 100;
+                      }
                     }),
                     (e.prototype.dispose = function () {
                       ((this._interactionsEnabled = false),
@@ -83772,7 +84704,7 @@ and limitations under the License.
                 })(),
                 Ii = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, i, n) || this;
+                    var r = e(i, n) || this;
                     ((r.webVRController = t),
                       (r._laserPointer = me.a.CreateCylinder(
                         "laserPointer",
@@ -83795,8 +84727,8 @@ and limitations under the License.
                       (r._laserPointer.isPickable = false),
                       !t.mesh)
                     ) {
-                      var s = new me.a("preloadControllerMesh", i),
-                        c = new me.a(Nt.POINTING_POSE, i);
+                      var s = new me.a("preloadControllerMesh", i);
+                      var c = new me.a(Nt.POINTING_POSE, i);
                       ((c.rotation.x = -0.7), s.addChild(c), t.attachToMesh(s));
                     }
                     return (
@@ -83815,11 +84747,11 @@ and limitations under the License.
                       return this.webVRController.getForwardRay(e);
                     }),
                     (t.prototype._activatePointer = function () {
-                      (e.prototype._activatePointer.call(this),
+                      (e.prototype._activatePointer(),
                         (this._laserPointer.isVisible = true));
                     }),
                     (t.prototype._deactivatePointer = function () {
-                      (e.prototype._deactivatePointer.call(this),
+                      (e.prototype._deactivatePointer(),
                         (this._laserPointer.isVisible = false));
                     }),
                     (t.prototype._setLaserPointerColor = function (e) {
@@ -83844,7 +84776,7 @@ and limitations under the License.
                             (this.webVRController._pointingPoseNode = i));
                           break;
                         }
-                      this._laserPointer.parent = i;
+                      this._laserPointer.parent = e;
                     }),
                     (t.prototype._updatePointerDistance = function (e) {
                       (void 0 === e && (e = 100),
@@ -83852,7 +84784,7 @@ and limitations under the License.
                         (this._laserPointer.position.z = -e / 2));
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this._laserPointer.dispose(),
                         this._meshAttachedObserver &&
                           this.webVRController._meshAttachedObservable.remove(
@@ -83864,7 +84796,7 @@ and limitations under the License.
                 })(wi),
                 Di = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, i) || this;
+                    var n = e(i) || this;
                     return ((n.getCamera = t), n);
                   }
                   return (
@@ -83931,15 +84863,17 @@ and limitations under the License.
                       }),
                       (this._onFullscreenChange = function () {
                         var e = document;
-                        (void 0 !== e.fullscreen
+                        (void 0 !== document.fullscreen
                           ? (i._fullscreenVRpresenting = document.fullscreen)
-                          : void 0 !== e.mozFullScreen
-                            ? (i._fullscreenVRpresenting = e.mozFullScreen)
-                            : void 0 !== e.webkitIsFullScreen
+                          : void 0 !== document.mozFullScreen
+                            ? (i._fullscreenVRpresenting =
+                                document.mozFullScreen)
+                            : void 0 !== document.webkitIsFullScreen
                               ? (i._fullscreenVRpresenting =
-                                  e.webkitIsFullScreen)
-                              : void 0 !== e.msIsFullScreen
-                                ? (i._fullscreenVRpresenting = e.msIsFullScreen)
+                                  document.webkitIsFullScreen)
+                              : void 0 !== document.msIsFullScreen
+                                ? (i._fullscreenVRpresenting =
+                                    document.msIsFullScreen)
                                 : void 0 !== document.msFullscreenElement &&
                                   (i._fullscreenVRpresenting =
                                     document.msFullscreenElement),
@@ -83978,42 +84912,46 @@ and limitations under the License.
                         if (e.type !== qe.POSE_ENABLED)
                           (e.leftStick &&
                             e.onleftstickchanged(function (e) {
-                              i._teleportationInitialized &&
+                              if (
+                                i._teleportationInitialized &&
                                 i.teleportationEnabled &&
                                 ((!i._leftController && !i._rightController) ||
                                   (i._leftController &&
                                     !i._leftController._activePointer &&
                                     i._rightController &&
-                                    !i._rightController._activePointer)) &&
+                                    !i._rightController._activePointer))
+                              ) {
                                 (i._checkTeleportWithRay(e, i._cameraGazer),
-                                i._checkTeleportBackwards(e, i._cameraGazer));
+                                  i._checkTeleportBackwards(e, i._cameraGazer));
+                              }
                             }),
                             e.rightStick &&
                               e.onrightstickchanged(function (e) {
-                                i._teleportationInitialized &&
+                                if (i._teleportationInitialized) {
                                   i._checkRotate(e, i._cameraGazer);
+                                }
                               }),
                             e.type === qe.XBOX &&
                               (e.onbuttondown(function (e) {
-                                i._interactionsEnabled &&
-                                  e === Lt.A &&
+                                if (i._interactionsEnabled && e === Lt.A) {
                                   i._cameraGazer._selectionPointerDown();
+                                }
                               }),
                               e.onbuttonup(function (e) {
-                                i._interactionsEnabled &&
-                                  e === Lt.A &&
+                                if (i._interactionsEnabled && e === Lt.A) {
                                   i._cameraGazer._selectionPointerUp();
+                                }
                               })));
                         else {
-                          var t = e,
-                            n = new Ii(
-                              t,
-                              i._scene,
-                              i._cameraGazer._gazeTracker,
-                            );
-                          ("right" === t.hand ||
+                          var t = e;
+                          var n = new Ii(
+                            e,
+                            i._scene,
+                            i._cameraGazer._gazeTracker,
+                          );
+                          ("right" === e.hand ||
                           (i._leftController &&
-                            i._leftController.webVRController != t)
+                            i._leftController.webVRController != e)
                             ? (i._rightController = n)
                             : (i._leftController = n),
                             i._tryEnableInteractionOnController(n));
@@ -84028,15 +84966,14 @@ and limitations under the License.
                             i._enableTeleportationOnController(e));
                       }),
                       (this._onNewGamepadDisconnected = function (e) {
-                        e instanceof vi &&
+                        if (e instanceof vi) {
                           ("left" === e.hand &&
-                            null != i._leftController &&
-                            (i._leftController.dispose(),
-                            (i._leftController = null)),
-                          "right" === e.hand &&
-                            null != i._rightController &&
-                            (i._rightController.dispose(),
-                            (i._rightController = null)));
+                            null != null &&
+                            (null.dispose(), (i._leftController = null)),
+                            "right" === e.hand &&
+                              null != null &&
+                              (null.dispose(), (i._rightController = null)));
+                        }
                       }),
                       (this._workingVector = a.x.Zero()),
                       (this._workingQuaternion = a.q.Identity()),
@@ -84173,18 +85110,23 @@ and limitations under the License.
                         : this._scene
                             .getEngine()
                             .onVRDisplayChangedObservable.add(function (e) {
-                              e.vrDisplay && i.displayVRButton();
+                              if (e.vrDisplay) {
+                                i.displayVRButton();
+                              }
                             }),
                       (this._onKeyDown = function (e) {
-                        27 === e.keyCode && i.isInVRMode && i.exitVR();
+                        if (27 === e.keyCode && i.isInVRMode) {
+                          i.exitVR();
+                        }
                       }),
                       document.addEventListener("keydown", this._onKeyDown),
                       this._scene.onPrePointerObservable.add(
                         function () {
-                          i.isInVRMode &&
+                          if (i.isInVRMode) {
                             (i.exitVR(),
-                            i._fullscreenVRpresenting &&
-                              i._scene.getEngine().exitFullscreen());
+                              i._fullscreenVRpresenting &&
+                                i._scene.getEngine().exitFullscreen());
+                          }
                         },
                         Re.a.POINTERDOUBLETAP,
                         false,
@@ -84275,10 +85217,11 @@ and limitations under the License.
                         return this._teleportationTarget;
                       },
                       set: function (e) {
-                        e &&
+                        if (e) {
                           ((e.name = "teleportationTarget"),
-                          (this._isDefaultTeleportationTarget = false),
-                          (this._teleportationTarget = e));
+                            (this._isDefaultTeleportationTarget = false),
+                            (this._teleportationTarget = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -84288,30 +85231,32 @@ and limitations under the License.
                         return this._cameraGazer._gazeTracker;
                       },
                       set: function (e) {
-                        e &&
+                        if (e) {
                           (this._cameraGazer._gazeTracker &&
                             this._cameraGazer._gazeTracker.dispose(),
-                          this._leftController &&
-                            this._leftController._gazeTracker &&
-                            this._leftController._gazeTracker.dispose(),
-                          this._rightController &&
-                            this._rightController._gazeTracker &&
-                            this._rightController._gazeTracker.dispose(),
-                          (this._cameraGazer._gazeTracker = e),
-                          this._cameraGazer._gazeTracker.bakeCurrentTransformIntoVertices(),
-                          (this._cameraGazer._gazeTracker.isPickable = false),
-                          (this._cameraGazer._gazeTracker.isVisible = false),
-                          (this._cameraGazer._gazeTracker.name = "gazeTracker"),
-                          this._leftController &&
-                            (this._leftController._gazeTracker =
-                              this._cameraGazer._gazeTracker.clone(
-                                "gazeTracker",
-                              )),
-                          this._rightController &&
-                            (this._rightController._gazeTracker =
-                              this._cameraGazer._gazeTracker.clone(
-                                "gazeTracker",
-                              )));
+                            this._leftController &&
+                              this._leftController._gazeTracker &&
+                              this._leftController._gazeTracker.dispose(),
+                            this._rightController &&
+                              this._rightController._gazeTracker &&
+                              this._rightController._gazeTracker.dispose(),
+                            (this._cameraGazer._gazeTracker = e),
+                            this._cameraGazer._gazeTracker.bakeCurrentTransformIntoVertices(),
+                            (this._cameraGazer._gazeTracker.isPickable = false),
+                            (this._cameraGazer._gazeTracker.isVisible = false),
+                            (this._cameraGazer._gazeTracker.name =
+                              "gazeTracker"),
+                            this._leftController &&
+                              (this._leftController._gazeTracker =
+                                this._cameraGazer._gazeTracker.clone(
+                                  "gazeTracker",
+                                )),
+                            this._rightController &&
+                              (this._rightController._gazeTracker =
+                                this._cameraGazer._gazeTracker.clone(
+                                  "gazeTracker",
+                                )));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -84485,38 +85430,39 @@ and limitations under the License.
                         this.updateButtonVisibility());
                     }),
                     (e.prototype.moveButtonToBottomRight = function () {
-                      this._canvas &&
-                        !this._useCustomVRButton &&
+                      if (this._canvas && !this._useCustomVRButton) {
                         ((this._btnVR.style.top =
                           this._canvas.offsetTop +
                           this._canvas.offsetHeight -
                           70 +
                           "px"),
-                        (this._btnVR.style.left =
-                          this._canvas.offsetLeft +
-                          this._canvas.offsetWidth -
-                          100 +
-                          "px"));
+                          (this._btnVR.style.left =
+                            this._canvas.offsetLeft +
+                            this._canvas.offsetWidth -
+                            100 +
+                            "px"));
+                      }
                     }),
                     (e.prototype.displayVRButton = function () {
-                      this._useCustomVRButton ||
-                        this._btnVRDisplayed ||
+                      if (!(this._useCustomVRButton || this._btnVRDisplayed)) {
                         (document.body.appendChild(this._btnVR),
-                        (this._btnVRDisplayed = true));
+                          (this._btnVRDisplayed = true));
+                      }
                     }),
                     (e.prototype.updateButtonVisibility = function () {
-                      this._btnVR &&
-                        !this._useCustomVRButton &&
+                      if (this._btnVR && !this._useCustomVRButton) {
                         ((this._btnVR.className = "babylonVRicon"),
-                        this.isInVRMode
-                          ? (this._btnVR.className += " vrdisplaypresenting")
-                          : (this._webVRready &&
-                              (this._btnVR.className += " vrdisplayready"),
-                            this._webVRsupported &&
-                              (this._btnVR.className += " vrdisplaysupported"),
-                            this._webVRrequesting &&
-                              (this._btnVR.className +=
-                                " vrdisplayrequesting")));
+                          this.isInVRMode
+                            ? (this._btnVR.className += " vrdisplaypresenting")
+                            : (this._webVRready &&
+                                (this._btnVR.className += " vrdisplayready"),
+                              this._webVRsupported &&
+                                (this._btnVR.className +=
+                                  " vrdisplaysupported"),
+                              this._webVRrequesting &&
+                                (this._btnVR.className +=
+                                  " vrdisplayrequesting")));
+                      }
                     }),
                     (e.prototype.enterVR = function () {
                       var e = this;
@@ -84544,19 +85490,19 @@ and limitations under the License.
                           this.webVRCamera)
                         ) {
                           var t =
-                              this.webVRCamera.deviceRotationQuaternion.toEulerAngles()
-                                .y,
-                            i =
-                              a.q
-                                .FromRotationMatrix(
-                                  this._scene.activeCamera
-                                    .getWorldMatrix()
-                                    .getRotationMatrix(),
-                                )
-                                .toEulerAngles().y - t,
-                            n =
-                              this.webVRCamera.rotationQuaternion.toEulerAngles()
-                                .y;
+                            this.webVRCamera.deviceRotationQuaternion.toEulerAngles()
+                              .y;
+                          var i =
+                            a.q
+                              .FromRotationMatrix(
+                                this._scene.activeCamera
+                                  .getWorldMatrix()
+                                  .getRotationMatrix(),
+                              )
+                              .toEulerAngles().y - t;
+                          var n =
+                            this.webVRCamera.rotationQuaternion.toEulerAngles()
+                              .y;
                           this.webVRCamera.rotationQuaternion =
                             a.q.FromEulerAngles(0, n + i, 0);
                         }
@@ -84577,7 +85523,7 @@ and limitations under the License.
                             (this._existingCamera.angularSensibility =
                               Number.MAX_VALUE)));
                       }
-                      this._webVRrequesting ||
+                      if (!this._webVRrequesting) {
                         (this._webVRready
                           ? this._webVRpresenting ||
                             (this._scene
@@ -84610,18 +85556,24 @@ and limitations under the License.
                                 });
                               },
                             )),
-                        this._scene.activeCamera &&
-                          this._canvas &&
-                          this._scene.activeCamera.attachControl(this._canvas),
-                        this._interactionsEnabled &&
-                          this._scene.registerBeforeRender(this.beforeRender),
-                        this._displayLaserPointer &&
-                          [this._leftController, this._rightController].forEach(
-                            function (e) {
-                              e && e._activatePointer();
-                            },
-                          ),
-                        (this._hasEnteredVR = true));
+                          this._scene.activeCamera &&
+                            this._canvas &&
+                            this._scene.activeCamera.attachControl(
+                              this._canvas,
+                            ),
+                          this._interactionsEnabled &&
+                            this._scene.registerBeforeRender(this.beforeRender),
+                          this._displayLaserPointer &&
+                            [
+                              this._leftController,
+                              this._rightController,
+                            ].forEach(function (e) {
+                              if (e) {
+                                e._activatePointer();
+                              }
+                            }),
+                          (this._hasEnteredVR = true));
+                      }
                     }),
                     (e.prototype.exitVR = function () {
                       if (this._hasEnteredVR) {
@@ -84702,13 +85654,16 @@ and limitations under the License.
                           this._scene.getEngine().resize(),
                           [this._leftController, this._rightController].forEach(
                             function (e) {
-                              e && e._deactivatePointer();
+                              if (e) {
+                                e._deactivatePointer();
+                              }
                             },
                           ),
                           (this._hasEnteredVR = false));
                         var e = this._scene.getEngine();
-                        e._onVrDisplayPresentChange &&
+                        if (e._onVrDisplayPresentChange) {
                           e._onVrDisplayPresentChange();
+                        }
                       }
                     }),
                     Object.defineProperty(e.prototype, "position", {
@@ -84725,36 +85680,38 @@ and limitations under the License.
                     }),
                     (e.prototype.enableInteractions = function () {
                       var e = this;
-                      this._interactionsEnabled ||
+                      if (!this._interactionsEnabled) {
                         ((this._interactionsRequested = true),
-                        this._leftController &&
-                          this._enableInteractionOnController(
-                            this._leftController,
-                          ),
-                        this._rightController &&
-                          this._enableInteractionOnController(
-                            this._rightController,
-                          ),
-                        (this.raySelectionPredicate = function (t) {
-                          return (
-                            t.isVisible &&
-                            (t.isPickable || t.name === e._floorMeshName)
-                          );
-                        }),
-                        (this.meshSelectionPredicate = function () {
-                          return true;
-                        }),
-                        (this._raySelectionPredicate = function (t) {
-                          return (
-                            !!(
-                              e._isTeleportationFloor(t) ||
-                              (-1 === t.name.indexOf("gazeTracker") &&
-                                -1 === t.name.indexOf("teleportationTarget") &&
-                                -1 === t.name.indexOf("torusTeleportation"))
-                            ) && e.raySelectionPredicate(t)
-                          );
-                        }),
-                        (this._interactionsEnabled = true));
+                          this._leftController &&
+                            this._enableInteractionOnController(
+                              this._leftController,
+                            ),
+                          this._rightController &&
+                            this._enableInteractionOnController(
+                              this._rightController,
+                            ),
+                          (this.raySelectionPredicate = function (t) {
+                            return (
+                              t.isVisible &&
+                              (t.isPickable || t.name === e._floorMeshName)
+                            );
+                          }),
+                          (this.meshSelectionPredicate = function () {
+                            return true;
+                          }),
+                          (this._raySelectionPredicate = function (t) {
+                            return (
+                              !!(
+                                e._isTeleportationFloor(t) ||
+                                (-1 === t.name.indexOf("gazeTracker") &&
+                                  -1 ===
+                                    t.name.indexOf("teleportationTarget") &&
+                                  -1 === t.name.indexOf("torusTeleportation"))
+                              ) && e.raySelectionPredicate(t)
+                            );
+                          }),
+                          (this._interactionsEnabled = true));
+                      }
                     }),
                     Object.defineProperty(
                       e.prototype,
@@ -84785,14 +85742,17 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype.addFloorMesh = function (e) {
-                      this._floorMeshesCollection &&
-                        (this._floorMeshesCollection.indexOf(e) > -1 ||
-                          this._floorMeshesCollection.push(e));
+                      if (this._floorMeshesCollection) {
+                        this._floorMeshesCollection.indexOf(e) > -1 ||
+                          this._floorMeshesCollection.push(e);
+                      }
                     }),
                     (e.prototype.removeFloorMesh = function (e) {
                       if (this._floorMeshesCollection) {
                         var t = this._floorMeshesCollection.indexOf(e);
-                        -1 !== t && this._floorMeshesCollection.splice(t, 1);
+                        if (-1 !== t) {
+                          this._floorMeshesCollection.splice(t, 1);
+                        }
                       }
                     }),
                     (e.prototype.enableTeleportation = function (e) {
@@ -84840,40 +85800,45 @@ and limitations under the License.
                     }),
                     (e.prototype._enableInteractionOnController = function (e) {
                       var t = this;
-                      e.webVRController.mesh &&
+                      if (e.webVRController.mesh) {
                         ((e._interactionsEnabled = true),
-                        this.isInVRMode &&
-                          this._displayLaserPointer &&
-                          e._activatePointer(),
-                        this.webVROptions.laserToggle &&
-                          e.webVRController.onMainButtonStateChangedObservable.add(
+                          this.isInVRMode &&
+                            this._displayLaserPointer &&
+                            e._activatePointer(),
+                          this.webVROptions.laserToggle &&
+                            e.webVRController.onMainButtonStateChangedObservable.add(
+                              function (i) {
+                                if (t._displayLaserPointer && 1 === i.value) {
+                                  (e._activePointer
+                                    ? e._deactivatePointer()
+                                    : e._activatePointer(),
+                                    t.displayGaze &&
+                                      (e._gazeTracker.isVisible =
+                                        e._activePointer));
+                                }
+                              },
+                            ),
+                          e.webVRController.onTriggerStateChangedObservable.add(
                             function (i) {
-                              t._displayLaserPointer &&
-                                1 === i.value &&
-                                (e._activePointer
-                                  ? e._deactivatePointer()
-                                  : e._activatePointer(),
-                                t.displayGaze &&
-                                  (e._gazeTracker.isVisible =
-                                    e._activePointer));
+                              var n = e;
+                              (t._noControllerIsActive && (n = t._cameraGazer),
+                                e._pointerDownOnMeshAsked
+                                  ? i.value < t._padSensibilityDown &&
+                                    e._selectionPointerUp()
+                                  : i.value > t._padSensibilityUp &&
+                                    e._selectionPointerDown());
                             },
-                          ),
-                        e.webVRController.onTriggerStateChangedObservable.add(
-                          function (i) {
-                            var n = e;
-                            (t._noControllerIsActive && (n = t._cameraGazer),
-                              n._pointerDownOnMeshAsked
-                                ? i.value < t._padSensibilityDown &&
-                                  n._selectionPointerUp()
-                                : i.value > t._padSensibilityUp &&
-                                  n._selectionPointerDown());
-                          },
-                        ));
+                          ));
+                      }
                     }),
                     (e.prototype._checkTeleportWithRay = function (e, t) {
-                      (this._teleportationRequestInitiated &&
-                        !t._teleportationRequestInitiated) ||
-                        (t._teleportationRequestInitiated
+                      if (
+                        !(
+                          this._teleportationRequestInitiated &&
+                          !t._teleportationRequestInitiated
+                        )
+                      ) {
+                        t._teleportationRequestInitiated
                           ? Math.sqrt(e.y * e.y + e.x * e.x) <
                               this._padSensibilityDown &&
                             (this._teleportActive &&
@@ -84882,10 +85847,11 @@ and limitations under the License.
                           : e.y < -this._padSensibilityUp &&
                             t._dpadPressed &&
                             (t._activatePointer(),
-                            (t._teleportationRequestInitiated = true)));
+                            (t._teleportationRequestInitiated = true));
+                      }
                     }),
                     (e.prototype._checkRotate = function (e, t) {
-                      t._teleportationRequestInitiated ||
+                      if (!t._teleportationRequestInitiated) {
                         (t._rotationLeftAsked
                           ? e.x > -this._padSensibilityDown &&
                             (t._rotationLeftAsked = false)
@@ -84893,90 +85859,49 @@ and limitations under the License.
                             t._dpadPressed &&
                             ((t._rotationLeftAsked = true),
                             this._rotationAllowed && this._rotateCamera(false)),
-                        t._rotationRightAsked
-                          ? e.x < this._padSensibilityDown &&
-                            (t._rotationRightAsked = false)
-                          : e.x > this._padSensibilityUp &&
-                            t._dpadPressed &&
-                            ((t._rotationRightAsked = true),
-                            this._rotationAllowed && this._rotateCamera(true)));
+                          t._rotationRightAsked
+                            ? e.x < this._padSensibilityDown &&
+                              (t._rotationRightAsked = false)
+                            : e.x > this._padSensibilityUp &&
+                              t._dpadPressed &&
+                              ((t._rotationRightAsked = true),
+                              this._rotationAllowed &&
+                                this._rotateCamera(true)));
+                      }
                     }),
                     (e.prototype._checkTeleportBackwards = function (e, t) {
                       if (!t._teleportationRequestInitiated)
                         if (e.y > this._padSensibilityUp && t._dpadPressed) {
-                          if (!t._teleportationBackRequestInitiated) {
-                            if (!this.currentVRCamera) return;
-                            var i = a.q.FromRotationMatrix(
-                                this.currentVRCamera
-                                  .getWorldMatrix()
-                                  .getRotationMatrix(),
-                              ),
-                              n = this.currentVRCamera.position;
-                            (this.currentVRCamera.devicePosition &&
-                              this.currentVRCamera.deviceRotationQuaternion &&
-                              ((i =
-                                this.currentVRCamera.deviceRotationQuaternion),
-                              (n = this.currentVRCamera.devicePosition)),
-                              i.toEulerAnglesToRef(this._workingVector),
-                              (this._workingVector.z = 0),
-                              (this._workingVector.x = 0),
-                              a.q.RotationYawPitchRollToRef(
-                                this._workingVector.y,
-                                this._workingVector.x,
-                                this._workingVector.z,
-                                this._workingQuaternion,
-                              ),
-                              this._workingQuaternion.toRotationMatrix(
-                                this._workingMatrix,
-                              ),
-                              a.x.TransformCoordinatesToRef(
-                                this._teleportBackwardsVector,
-                                this._workingMatrix,
-                                this._workingVector,
-                              ));
-                            var r = new Dt.a(n, this._workingVector),
-                              o = this._scene.pickWithRay(
-                                r,
-                                this._raySelectionPredicate,
-                              );
-                            (o &&
-                              o.pickedPoint &&
-                              o.pickedMesh &&
-                              this._isTeleportationFloor(o.pickedMesh) &&
-                              o.distance < 5 &&
-                              this.teleportCamera(o.pickedPoint),
-                              (t._teleportationBackRequestInitiated = true));
-                          }
                         } else t._teleportationBackRequestInitiated = false;
                     }),
                     (e.prototype._enableTeleportationOnController = function (
                       e,
                     ) {
                       var t = this;
-                      e.webVRController.mesh &&
-                        (e._interactionsEnabled ||
-                          this._enableInteractionOnController(e),
-                        (e._interactionsEnabled = true),
-                        (e._teleportationEnabled = true),
-                        e.webVRController.controllerType === Mt.VIVE &&
-                          ((e._dpadPressed = false),
-                          e.webVRController.onPadStateChangedObservable.add(
-                            function (t) {
-                              ((e._dpadPressed = t.pressed),
-                                e._dpadPressed ||
-                                  ((e._rotationLeftAsked = false),
-                                  (e._rotationRightAsked = false),
-                                  (e._teleportationBackRequestInitiated = false)));
+                      if (e.webVRController.mesh) {
+                        (true || this._enableInteractionOnController(e),
+                          (e._interactionsEnabled = true),
+                          (e._teleportationEnabled = true),
+                          e.webVRController.controllerType === Mt.VIVE &&
+                            ((e._dpadPressed = false),
+                            e.webVRController.onPadStateChangedObservable.add(
+                              function (t) {
+                                ((e._dpadPressed = t.pressed),
+                                  e._dpadPressed ||
+                                    ((e._rotationLeftAsked = false),
+                                    (e._rotationRightAsked = false),
+                                    (e._teleportationBackRequestInitiated = false)));
+                              },
+                            )),
+                          e.webVRController.onPadValuesChangedObservable.add(
+                            function (i) {
+                              (t.teleportationEnabled &&
+                                (t._checkTeleportBackwards(i, e),
+                                t._checkTeleportWithRay(i, e)),
+                                t._checkRotate(i, e));
                             },
-                          )),
-                        e.webVRController.onPadValuesChangedObservable.add(
-                          function (i) {
-                            (t.teleportationEnabled &&
-                              (t._checkTeleportBackwards(i, e),
-                              t._checkTeleportWithRay(i, e)),
-                              t._checkRotate(i, e));
-                          },
-                        ));
+                          ));
+                      }
                     }),
                     (e.prototype._createTeleportationCircles = function () {
                       ((this._teleportationTarget = me.a.CreateGround(
@@ -85061,16 +85986,16 @@ and limitations under the License.
                         (e ? this._rotationAngle++ : this._rotationAngle--,
                           (this.currentVRCamera.animations = []));
                         var i = a.q.FromRotationMatrix(
-                            a.j.RotationY((Math.PI / 4) * this._rotationAngle),
-                          ),
-                          n = new U(
-                            "animationRotation",
-                            "rotationQuaternion",
-                            90,
-                            U.ANIMATIONTYPE_QUATERNION,
-                            U.ANIMATIONLOOPMODE_CONSTANT,
-                          ),
-                          r = [];
+                          a.j.RotationY((Math.PI / 4) * this._rotationAngle),
+                        );
+                        var n = new U(
+                          "animationRotation",
+                          "rotationQuaternion",
+                          90,
+                          U.ANIMATIONTYPE_QUATERNION,
+                          U.ANIMATIONLOOPMODE_CONSTANT,
+                        );
+                        var r = [];
                         (r.push({
                           frame: 0,
                           value: this.currentVRCamera.rotationQuaternion,
@@ -85084,13 +86009,13 @@ and limitations under the License.
                           this.currentVRCamera.animations.push(n),
                           (this._postProcessMove.animations = []));
                         var o = new U(
-                            "animationPP",
-                            "vignetteWeight",
-                            90,
-                            U.ANIMATIONTYPE_FLOAT,
-                            U.ANIMATIONLOOPMODE_CONSTANT,
-                          ),
-                          s = [];
+                          "animationPP",
+                          "vignetteWeight",
+                          90,
+                          U.ANIMATIONTYPE_FLOAT,
+                          U.ANIMATIONLOOPMODE_CONSTANT,
+                        );
+                        var s = [];
                         (s.push({
                           frame: 0,
                           value: 0,
@@ -85107,13 +86032,13 @@ and limitations under the License.
                           o.setEasingFunction(this._circleEase),
                           this._postProcessMove.animations.push(o));
                         var c = new U(
-                            "animationPP2",
-                            "vignetteStretch",
-                            90,
-                            U.ANIMATIONTYPE_FLOAT,
-                            U.ANIMATIONLOOPMODE_CONSTANT,
-                          ),
-                          u = [];
+                          "animationPP2",
+                          "vignetteStretch",
+                          90,
+                          U.ANIMATIONTYPE_FLOAT,
+                          U.ANIMATIONLOOPMODE_CONSTANT,
+                        );
+                        var u = [];
                         (u.push({
                           frame: 0,
                           value: 0,
@@ -85162,19 +86087,20 @@ and limitations under the License.
                       i,
                     ) {
                       if (e.pickedPoint) {
-                        t._teleportationRequestInitiated &&
+                        if (t._teleportationRequestInitiated) {
                           (this._displayTeleportationTarget(),
-                          this._haloCenter.copyFrom(e.pickedPoint),
-                          this._teleportationTarget.position.copyFrom(
-                            e.pickedPoint,
-                          ));
+                            this._haloCenter.copyFrom(e.pickedPoint),
+                            this._teleportationTarget.position.copyFrom(
+                              e.pickedPoint,
+                            ));
+                        }
                         var n = this._convertNormalToDirectionOfRay(
                           e.getNormal(true, false),
                           i,
                         );
                         if (n) {
-                          var r = a.x.Cross(a.c.Y, n),
-                            o = a.x.Cross(n, r);
+                          var r = a.x.Cross(a.c.Y, n);
+                          var o = a.x.Cross(n, r);
                           a.x.RotationFromAxisToRef(
                             o,
                             n,
@@ -85210,34 +86136,34 @@ and limitations under the License.
                           ),
                           (this.currentVRCamera.animations = []));
                         var i = new U(
-                            "animationCameraTeleportation",
-                            "position",
-                            90,
-                            U.ANIMATIONTYPE_VECTOR3,
-                            U.ANIMATIONLOOPMODE_CONSTANT,
-                          ),
-                          n = [
-                            {
-                              frame: 0,
-                              value: this.currentVRCamera.position,
-                            },
-                            {
-                              frame: 11,
-                              value: this._workingVector,
-                            },
-                          ];
+                          "animationCameraTeleportation",
+                          "position",
+                          90,
+                          U.ANIMATIONTYPE_VECTOR3,
+                          U.ANIMATIONLOOPMODE_CONSTANT,
+                        );
+                        var n = [
+                          {
+                            frame: 0,
+                            value: this.currentVRCamera.position,
+                          },
+                          {
+                            frame: 11,
+                            value: this._workingVector,
+                          },
+                        ];
                         (i.setKeys(n),
                           i.setEasingFunction(this._circleEase),
                           this.currentVRCamera.animations.push(i),
                           (this._postProcessMove.animations = []));
                         var r = new U(
-                            "animationPP",
-                            "vignetteWeight",
-                            90,
-                            U.ANIMATIONTYPE_FLOAT,
-                            U.ANIMATIONLOOPMODE_CONSTANT,
-                          ),
-                          o = [];
+                          "animationPP",
+                          "vignetteWeight",
+                          90,
+                          U.ANIMATIONTYPE_FLOAT,
+                          U.ANIMATIONLOOPMODE_CONSTANT,
+                        );
+                        var o = [];
                         (o.push({
                           frame: 0,
                           value: 0,
@@ -85253,13 +86179,13 @@ and limitations under the License.
                           r.setKeys(o),
                           this._postProcessMove.animations.push(r));
                         var a = new U(
-                            "animationPP2",
-                            "vignetteStretch",
-                            90,
-                            U.ANIMATIONTYPE_FLOAT,
-                            U.ANIMATIONLOOPMODE_CONSTANT,
-                          ),
-                          s = [];
+                          "animationPP2",
+                          "vignetteStretch",
+                          90,
+                          U.ANIMATIONTYPE_FLOAT,
+                          U.ANIMATIONLOOPMODE_CONSTANT,
+                        );
+                        var s = [];
                         (s.push({
                           frame: 0,
                           value: 0,
@@ -85319,11 +86245,11 @@ and limitations under the License.
                     }),
                     (e.prototype._castRayAndSelectObject = function (e) {
                       if (this.currentVRCamera instanceof Tt) {
-                        var t = e._getForwardRay(this._rayLength),
-                          i = this._scene.pickWithRay(
-                            t,
-                            this._raySelectionPredicate,
-                          );
+                        var t = e._getForwardRay(this._rayLength);
+                        var i = this._scene.pickWithRay(
+                          t,
+                          this._raySelectionPredicate,
+                        );
                         if (
                           (i &&
                             (e._laserPointer &&
@@ -85347,8 +86273,8 @@ and limitations under the License.
                               t,
                             );
                             if (r) {
-                              var o = a.x.Cross(a.c.Y, r),
-                                s = a.x.Cross(r, o);
+                              var o = a.x.Cross(a.c.Y, r);
+                              var s = a.x.Cross(r, o);
                               a.x.RotationFromAxisToRef(
                                 s,
                                 r,
@@ -85434,7 +86360,9 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype._notifySelectedMeshUnselected = function (e) {
-                      e && this.onSelectedMeshUnselected.notifyObservers(e);
+                      if (e) {
+                        this.onSelectedMeshUnselected.notifyObservers(e);
+                      }
                     }),
                     (e.prototype.changeLaserColor = function (e) {
                       (this._leftController &&
@@ -85443,16 +86371,19 @@ and limitations under the License.
                           this._rightController._setLaserPointerColor(e));
                     }),
                     (e.prototype.changeGazeColor = function (e) {
-                      this.updateGazeTrackerColor &&
-                        this._cameraGazer._gazeTracker.material &&
+                      if (
+                        this.updateGazeTrackerColor &&
+                        this._cameraGazer._gazeTracker.material
+                      ) {
                         ((this._cameraGazer._gazeTracker.material.emissiveColor =
                           e),
-                        this._leftController &&
-                          (this._leftController._gazeTracker.material.emissiveColor =
-                            e),
-                        this._rightController &&
-                          (this._rightController._gazeTracker.material.emissiveColor =
-                            e));
+                          this._leftController &&
+                            (this._leftController._gazeTracker.material.emissiveColor =
+                              e),
+                          this._rightController &&
+                            (this._rightController._gazeTracker.material.emissiveColor =
+                              e));
+                      }
                     }),
                     (e.prototype.dispose = function () {
                       (this.isInVRMode && this.exitVR(),
@@ -85536,7 +86467,7 @@ and limitations under the License.
                 })(),
                 Bi = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, a.x.Zero(), i) || this;
+                    var n = e(t, a.x.Zero(), i) || this;
                     return (
                       (n.minZ = 0),
                       (n.rotationQuaternion = new a.q()),
@@ -85566,7 +86497,9 @@ and limitations under the License.
                       }
                       for (; this.rigCameras.length > e; ) {
                         var i = this.rigCameras.pop();
-                        i && i.dispose();
+                        if (i) {
+                          i.dispose();
+                        }
                       }
                     }),
                     (t.prototype._updateForDualEyeDebugging = function (e) {
@@ -85696,9 +86629,7 @@ and limitations under the License.
                                   n.onXRSessionEnded.notifyObservers(null),
                                   n.scene.getEngine()._renderLoop());
                               },
-                              {
-                                once: true,
-                              },
+                              { once: true },
                             ),
                             (n._xrSession.baseLayer = new XRWebGLLayer(
                               n._xrSession,
@@ -85996,12 +86927,12 @@ and limitations under the License.
                         this._updateButtons(null));
                     }
                     var a = e.getEngine().getRenderingCanvas();
-                    a &&
-                      a.parentNode &&
+                    if (a && a.parentNode) {
                       (a.parentNode.appendChild(this._overlay),
-                      e.onDisposeObservable.addOnce(function () {
-                        i.dispose();
-                      }));
+                        e.onDisposeObservable.addOnce(function () {
+                          i.dispose();
+                        }));
+                    }
                   }
                   return (
                     (e.CreateAsync = function (t, n, r) {
@@ -86014,44 +86945,49 @@ and limitations under the License.
                         });
                       return (
                         n.onStateChangedObservable.add(function (e) {
-                          e == Ri.NOT_IN_XR && a._updateButtons(null);
+                          if (e == Ri.NOT_IN_XR) {
+                            a._updateButtons(null);
+                          }
                         }),
                         i.all(s).then(function (e) {
                           return (
                             e.forEach(function (e, t) {
-                              e &&
+                              if (e) {
                                 (a._overlay.appendChild(a._buttons[t].element),
-                                (a._buttons[t].element.onclick = function () {
-                                  return h.b(o, void 0, void 0, function () {
-                                    return h.e(this, function (e) {
-                                      switch (e.label) {
-                                        case 0:
-                                          return n.state != Ri.IN_XR
-                                            ? [3, 2]
-                                            : (a._updateButtons(null),
-                                              [4, n.exitXRAsync()]);
-                                        case 1:
-                                          return (e.sent(), [2]);
-                                        case 2:
-                                          return n.state != Ri.NOT_IN_XR
-                                            ? [3, 4]
-                                            : (a._updateButtons(a._buttons[t]),
-                                              [
-                                                4,
-                                                n.enterXRAsync(
-                                                  a._buttons[t]
-                                                    .initializationOptions,
-                                                  "eye-level",
+                                  (a._buttons[t].element.onclick = function () {
+                                    return h.b(o, void 0, void 0, function () {
+                                      return h.e(this, function (e) {
+                                        switch (e.label) {
+                                          case 0:
+                                            return n.state != Ri.IN_XR
+                                              ? [3, 2]
+                                              : (a._updateButtons(null),
+                                                [4, n.exitXRAsync()]);
+                                          case 1:
+                                            return (e.sent(), [2]);
+                                          case 2:
+                                            return n.state != Ri.NOT_IN_XR
+                                              ? [3, 4]
+                                              : (a._updateButtons(
+                                                  a._buttons[t],
                                                 ),
-                                              ]);
-                                        case 3:
-                                          (e.sent(), (e.label = 4));
-                                        case 4:
-                                          return [2];
-                                      }
+                                                [
+                                                  4,
+                                                  n.enterXRAsync(
+                                                    a._buttons[t]
+                                                      .initializationOptions,
+                                                    "eye-level",
+                                                  ),
+                                                ]);
+                                          case 3:
+                                            (e.sent(), (e.label = 4));
+                                          case 4:
+                                            return [2];
+                                        }
+                                      });
                                     });
-                                  });
-                                }));
+                                  }));
+                              }
                             }),
                             a
                           );
@@ -86112,10 +87048,11 @@ and limitations under the License.
                                   e._sessionManager._frameOfReference,
                                 );
                                 if (o) {
-                                  t.controllers.length <= r &&
+                                  if (t.controllers.length <= r) {
                                     t.controllers.push(
                                       new ji(e.container.getScene()),
                                     );
+                                  }
                                   var s = t.controllers[r];
                                   (o.gripMatrix &&
                                     (s.grip ||
@@ -86201,12 +87138,17 @@ and limitations under the License.
                             (this.canvasContext = null)));
                     }),
                     (e.prototype._addCanvas = function () {
-                      this._canvas && document.body.appendChild(this._canvas);
+                      if (this._canvas) {
+                        document.body.appendChild(this._canvas);
+                      }
                     }),
                     (e.prototype._removeCanvas = function () {
-                      this._canvas &&
-                        document.body.contains(this._canvas) &&
+                      if (
+                        this._canvas &&
+                        document.body.contains(this._canvas)
+                      ) {
                         document.body.removeChild(this._canvas);
+                      }
                     }),
                     e
                   );
@@ -86225,7 +87167,7 @@ and limitations under the License.
                       s = (-t + o) / (2 * e);
                     if (a > s) {
                       var c = s;
-                      ((s = a), (a = c));
+                      ((s = a), (a = s));
                     }
                     return a > 0 && a < n
                       ? ((ki.root = a), (ki.found = true), ki)
@@ -86349,8 +87291,8 @@ and limitations under the License.
                           t[e].copyFromPoints(i, n, r)));
                       var u = t[e];
                       if (o || u.isFrontFacingTo(this._normalizedVelocity, 0)) {
-                        var l = u.signedDistanceTo(this._basePoint),
-                          h = a.x.Dot(u.normal, this._velocity);
+                        var l = u.signedDistanceTo(this._basePoint);
+                        var h = a.x.Dot(u.normal, this._velocity);
                         if (0 == h) {
                           if (Math.abs(l) >= 1) return;
                           ((c = true), (s = 0));
@@ -86358,14 +87300,14 @@ and limitations under the License.
                           var f = (1 - l) / h;
                           if ((s = (-1 - l) / h) > f) {
                             var d = f;
-                            ((f = s), (s = d));
+                            ((f = s), (s = f));
                           }
                           if (s > 1 || f < 0) return;
                           (s < 0 && (s = 0), s > 1 && (s = 1));
                         }
                         this._collisionPoint.copyFromFloats(0, 0, 0);
-                        var p = false,
-                          m = 1;
+                        var p = false;
+                        var m = 1;
                         if (
                           (c ||
                             (this._basePoint.subtractToRef(
@@ -86390,12 +87332,12 @@ and limitations under the License.
                               ))),
                           !p)
                         ) {
-                          var g = this._velocity.lengthSquared(),
-                            _ = g;
+                          var g = this._velocity.lengthSquared();
+                          var _ = g;
                           this._basePoint.subtractToRef(i, this._tempVector);
-                          var v = 2 * a.x.Dot(this._velocity, this._tempVector),
-                            y = this._tempVector.lengthSquared() - 1,
-                            b = Xi(_, v, y, m);
+                          var v = 2 * a.x.Dot(this._velocity, this._tempVector);
+                          var y = this._tempVector.lengthSquared() - 1;
+                          var b = Xi(g, v, y, m);
                           (b.found &&
                             ((m = b.root),
                             (p = true),
@@ -86403,14 +87345,14 @@ and limitations under the License.
                             this._basePoint.subtractToRef(n, this._tempVector),
                             (v = 2 * a.x.Dot(this._velocity, this._tempVector)),
                             (y = this._tempVector.lengthSquared() - 1),
-                            (b = Xi(_, v, y, m)).found &&
+                            (b = Xi(g, v, y, m)).found &&
                               ((m = b.root),
                               (p = true),
                               this._collisionPoint.copyFrom(n)),
                             this._basePoint.subtractToRef(r, this._tempVector),
                             (v = 2 * a.x.Dot(this._velocity, this._tempVector)),
                             (y = this._tempVector.lengthSquared() - 1),
-                            (b = Xi(_, v, y, m)).found &&
+                            (b = Xi(g, v, y, m)).found &&
                               ((m = b.root),
                               (p = true),
                               this._collisionPoint.copyFrom(r)),
@@ -86419,9 +87361,9 @@ and limitations under the License.
                               this._basePoint,
                               this._baseToVertex,
                             ));
-                          var E = this._edge.lengthSquared(),
-                            T = a.x.Dot(this._edge, this._velocity),
-                            A = a.x.Dot(this._edge, this._baseToVertex);
+                          var E = this._edge.lengthSquared();
+                          var T = a.x.Dot(this._edge, this._velocity);
+                          var A = a.x.Dot(this._edge, this._baseToVertex);
                           if (
                             ((_ = E * -g + T * T),
                             (v =
@@ -86432,15 +87374,15 @@ and limitations under the License.
                             (y =
                               E * (1 - this._baseToVertex.lengthSquared()) +
                               A * A),
-                            (b = Xi(_, v, y, m)).found)
+                            (b = Xi(g, v, y, m)).found)
                           ) {
                             var x = (T * b.root - A) / E;
-                            x >= 0 &&
-                              x <= 1 &&
+                            if (x >= 0 && x <= 1) {
                               ((m = b.root),
-                              (p = true),
-                              this._edge.scaleInPlace(x),
-                              i.addToRef(this._edge, this._collisionPoint));
+                                (p = true),
+                                this._edge.scaleInPlace(x),
+                                i.addToRef(this._edge, this._collisionPoint));
+                            }
                           }
                           (r.subtractToRef(n, this._edge),
                             n.subtractToRef(
@@ -86459,7 +87401,7 @@ and limitations under the License.
                             (y =
                               E * (1 - this._baseToVertex.lengthSquared()) +
                               A * A),
-                            (b = Xi(_, v, y, m)).found &&
+                            (b = Xi(g, v, y, m)).found &&
                               (x = (T * b.root - A) / E) >= 0 &&
                               x <= 1 &&
                               ((m = b.root),
@@ -86483,7 +87425,7 @@ and limitations under the License.
                             (y =
                               E * (1 - this._baseToVertex.lengthSquared()) +
                               A * A),
-                            (b = Xi(_, v, y, m)).found &&
+                            (b = Xi(g, v, y, m)).found &&
                               (x = (T * b.root - A) / E) >= 0 &&
                               x <= 1 &&
                               ((m = b.root),
@@ -86493,23 +87435,27 @@ and limitations under the License.
                         }
                         if (p) {
                           var S = m * this._velocity.length();
-                          (!this.collisionFound || S < this._nearestDistance) &&
+                          if (
+                            !this.collisionFound ||
+                            S < this._nearestDistance
+                          ) {
                             (this.intersectionPoint
                               ? this.intersectionPoint.copyFrom(
                                   this._collisionPoint,
                                 )
                               : (this.intersectionPoint =
                                   this._collisionPoint.clone()),
-                            (this._nearestDistance = S),
-                            (this.collisionFound = true));
+                              (this._nearestDistance = S),
+                              (this.collisionFound = true));
+                          }
                         }
                       }
                     }),
                     (e.prototype._collide = function (e, t, i, n, r, o, a) {
                       for (var s = n; s < r; s += 3) {
-                        var c = t[i[s] - o],
-                          u = t[i[s + 1] - o],
-                          l = t[i[s + 2] - o];
+                        var c = t[i[s] - o];
+                        var u = t[i[s + 1] - o];
+                        var l = t[i[s + 2] - o];
                         this._testTriangle(s, e, l, u, c, a);
                       }
                     }),
@@ -86579,7 +87525,7 @@ and limitations under the License.
                           r,
                         ),
                         this._finalPosition.multiplyInPlace(i._radius),
-                        o(a, this._finalPosition, i.collidedMesh));
+                        o(a, this._finalPosition, null));
                     }),
                     (e.prototype.createCollider = function () {
                       return new Yi();
@@ -86595,7 +87541,9 @@ and limitations under the License.
                       r,
                       o,
                     ) {
-                      void 0 === o && (o = null);
+                      if (void 0 === o) {
+                        o = null;
+                      }
                       var a = 10 * ve.b.CollisionsEpsilon;
                       if (i._retry >= n) r.copyFrom(e);
                       else {
@@ -86603,12 +87551,15 @@ and limitations under the License.
                         i._initialize(e, t, a);
                         for (var c = 0; c < this._scene.meshes.length; c++) {
                           var u = this._scene.meshes[c];
-                          u.isEnabled() &&
+                          if (
+                            u.isEnabled() &&
                             u.checkCollisions &&
                             u.subMeshes &&
                             u !== o &&
-                            0 != (s & u.collisionGroup) &&
+                            0 != (s & u.collisionGroup)
+                          ) {
                             u._checkCollision(i);
+                          }
                         }
                         i.collisionFound
                           ? ((0 === t.x && 0 === t.y && 0 === t.z) ||
@@ -86695,7 +87646,9 @@ and limitations under the License.
                           this.blocks[t].removeEntry(e);
                       else {
                         var i = this.entries.indexOf(e);
-                        i > -1 && this.entries.splice(i, 1);
+                        if (i > -1) {
+                          this.entries.splice(i, 1);
+                        }
                       }
                     }),
                     (e.prototype.addEntries = function (e) {
@@ -86861,18 +87814,21 @@ and limitations under the License.
                     }),
                     (e.CreationFuncForMeshes = function (e, t) {
                       var i = e.getBoundingInfo();
-                      !e.isBlocked &&
-                        i.boundingBox.intersectsMinMax(
-                          t.minPoint,
-                          t.maxPoint,
-                        ) &&
+                      if (
+                        !e.isBlocked &&
+                        i.boundingBox.intersectsMinMax(t.minPoint, t.maxPoint)
+                      ) {
                         t.entries.push(e);
+                      }
                     }),
                     (e.CreationFuncForSubMeshes = function (e, t) {
-                      e
-                        .getBoundingInfo()
-                        .boundingBox.intersectsMinMax(t.minPoint, t.maxPoint) &&
+                      if (
+                        e
+                          .getBoundingInfo()
+                          .boundingBox.intersectsMinMax(t.minPoint, t.maxPoint)
+                      ) {
                         t.entries.push(e);
+                      }
                     }),
                     e
                   );
@@ -86947,12 +87903,16 @@ and limitations under the License.
                         var i = e.scene.selectionOctree;
                         if (null != i) {
                           var n = i.dynamicContent.indexOf(t);
-                          -1 !== n && i.dynamicContent.splice(n, 1);
+                          if (-1 !== n) {
+                            i.dynamicContent.splice(n, 1);
+                          }
                         }
                       }),
                         this.scene.onMeshImportedObservable.add(function (t) {
                           var i = e.scene.selectionOctree;
-                          null != i && i.addMesh(t);
+                          if (null != i) {
+                            i.addMesh(t);
+                          }
                         }));
                     }),
                     (e.prototype.getActiveMeshCandidates = function () {
@@ -87094,9 +88054,10 @@ and limitations under the License.
                   if (!i || !e) return -1;
                   if (t.canUseTimestampForTimerQuery) {
                     if (!e._startTimeQuery) return -1;
-                    e._endTimeQuery ||
+                    if (!e._endTimeQuery) {
                       ((e._endTimeQuery = this._createTimeQuery()),
-                      i.queryCounterEXT(e._endTimeQuery, i.TIMESTAMP_EXT));
+                        i.queryCounterEXT(e._endTimeQuery, i.TIMESTAMP_EXT));
+                    }
                   } else if (!e._timeElapsedQueryEnded) {
                     if (!e._timeElapsedQuery) return -1;
                     (i.endQueryEXT
@@ -87109,25 +88070,22 @@ and limitations under the License.
                   if (
                     (e._endTimeQuery
                       ? (r = this._getTimeQueryAvailability(e._endTimeQuery))
-                      : e._timeElapsedQuery &&
-                        (r = this._getTimeQueryAvailability(
-                          e._timeElapsedQuery,
-                        )),
+                      : null && (r = this._getTimeQueryAvailability(null)),
                     r && !n)
                   ) {
                     var o = 0;
                     if (t.canUseTimestampForTimerQuery) {
-                      if (!e._startTimeQuery || !e._endTimeQuery) return -1;
-                      var a = this._getTimeQueryResult(e._startTimeQuery);
-                      ((o = this._getTimeQueryResult(e._endTimeQuery) - a),
-                        this._deleteTimeQuery(e._startTimeQuery),
-                        this._deleteTimeQuery(e._endTimeQuery),
+                      if (!null || !null) return -1;
+                      var a = this._getTimeQueryResult(null);
+                      ((o = this._getTimeQueryResult(null) - a),
+                        this._deleteTimeQuery(null),
+                        this._deleteTimeQuery(null),
                         (e._startTimeQuery = null),
                         (e._endTimeQuery = null));
                     } else {
-                      if (!e._timeElapsedQuery) return -1;
-                      ((o = this._getTimeQueryResult(e._timeElapsedQuery)),
-                        this._deleteTimeQuery(e._timeElapsedQuery),
+                      return -1;
+                      ((o = this._getTimeQueryResult(null)),
+                        this._deleteTimeQuery(null),
                         (e._timeElapsedQuery = null),
                         (e._timeElapsedQueryEnded = false),
                         (this._currentNonTimestampToken = null));
@@ -87402,7 +88360,9 @@ and limitations under the License.
                     }),
                     (e._getPluginForFilename = function (t) {
                       var i = t.indexOf("?");
-                      -1 !== i && (t = t.substring(0, i));
+                      if (-1 !== i) {
+                        t = t.substring(0, i);
+                      }
                       var n = t.lastIndexOf("."),
                         r = t.substring(n, t.length).toLowerCase();
                       return e._getPluginForExtension(r);
@@ -87435,13 +88395,14 @@ and limitations under the License.
                         p = null,
                         m = false,
                         g = c.onDisposeObservable;
-                      g &&
+                      if (g) {
                         g.add(function () {
                           ((m = true), p && (p.abort(), (p = null)), a());
                         });
+                      }
                       var _ = function () {
-                        m ||
-                          (p = Ee.h.LoadFile(
+                        if (!m) {
+                          p = Ee.h.LoadFile(
                             t.url,
                             d,
                             r
@@ -87458,7 +88419,8 @@ and limitations under the License.
                                 t,
                               );
                             },
-                          ));
+                          );
+                        }
                       };
                       if (u) return (d(u), c);
                       var v = t.file || fn.a.FilesToLoad[t.name.toLowerCase()];
@@ -87466,8 +88428,8 @@ and limitations under the License.
                         -1 === t.rootUrl.indexOf("file:") ||
                         (-1 !== t.rootUrl.indexOf("file:") && !v)
                       ) {
-                        var y = i.getEngine(),
-                          b = y.enableOfflineSupport;
+                        var y = i.getEngine();
+                        var b = y.enableOfflineSupport;
                         if (b) {
                           for (
                             var E = false,
@@ -87502,15 +88464,15 @@ and limitations under the License.
                       if (t)
                         if (t.name) {
                           var o = t;
-                          ((i = e + o.name), (n = o.name), (r = o));
+                          ((i = e + t.name), (n = t.name), (r = t));
                         } else {
                           var a = t;
-                          if ("/" === a.substr(0, 1))
+                          if ("/" === t.substr(0, 1))
                             return (
                               Ee.h.Error("Wrong sceneFilename parameter"),
                               null
                             );
-                          ((i = e + a), (n = a));
+                          ((i = e + t), (n = t));
                         }
                       else
                         ((i = e),
@@ -87599,11 +88561,11 @@ and limitations under the License.
                               (u.rootUrl = e.rewriteRootURL(u.rootUrl, n)),
                             e.importMesh)
                           ) {
-                            var o = e,
-                              a = new Array(),
-                              s = new Array(),
-                              c = new Array();
-                            if (!o.importMesh(t, r, i, u.rootUrl, a, s, c, f))
+                            var o = e;
+                            var a = new Array();
+                            var s = new Array();
+                            var c = new Array();
+                            if (!e.importMesh(t, r, i, u.rootUrl, a, s, c, f))
                               return;
                             ((r.loadingPluginName = e.name), p(a, s, c, []));
                           } else
@@ -87708,7 +88670,9 @@ and limitations under the License.
                         );
                       var c = e._getFileInfo(t, i);
                       if (!c) return null;
-                      e.ShowLoadingScreen && n.getEngine().displayLoadingUI();
+                      if (e.ShowLoadingScreen) {
+                        n.getEngine().displayLoadingUI();
+                      }
                       var u = {};
                       n._addPendingData(u);
                       var l = function () {
@@ -87755,10 +88719,11 @@ and limitations under the License.
                               .catch(function (e) {
                                 h(e.message, e);
                               });
-                          e.ShowLoadingScreen &&
+                          if (e.ShowLoadingScreen) {
                             n.executeWhenReady(function () {
                               n.getEngine().hideLoadingUI();
                             });
+                          }
                         },
                         f,
                         h,
@@ -87864,10 +88829,11 @@ and limitations under the License.
                               : h(
                                   "LoadAssetContainer is not supported by this plugin. Plugin did not provide a loadAssetContainer or loadAssetContainerAsync method.",
                                 );
-                          e.ShowLoadingScreen &&
+                          if (e.ShowLoadingScreen) {
                             n.executeWhenReady(function () {
                               n.getEngine().hideLoadingUI();
                             });
+                          }
                         },
                         f,
                         h,
@@ -87909,7 +88875,7 @@ and limitations under the License.
                 })(),
                 gn = (function (e) {
                   function t(t) {
-                    var i = e.call(this, t) || this;
+                    var i = e(t) || this;
                     return ((i.controllerType = Mt.DAYDREAM), i);
                   }
                   return (
@@ -87931,7 +88897,9 @@ and limitations under the License.
                     (t.prototype._handleButtonChange = function (e, t, i) {
                       if (0 === e) {
                         var n = this.onTriggerStateChangedObservable;
-                        n && n.notifyObservers(t);
+                        if (n) {
+                          n.notifyObservers(t);
+                        }
                       } else
                         g.a.Warn("Unrecognized Daydream button index: " + e);
                     }),
@@ -87952,7 +88920,7 @@ and limitations under the License.
               });
               var _n = (function (e) {
                 function t(t) {
-                  var i = e.call(this, t) || this;
+                  var i = e(t) || this;
                   return (
                     (i._buttonIndexToObservableNameMap = [
                       "onPadStateChangedObservable",
@@ -87990,7 +88958,9 @@ and limitations under the License.
                   (t.prototype._handleButtonChange = function (e, t, i) {
                     if (e < this._buttonIndexToObservableNameMap.length) {
                       var n = this[this._buttonIndexToObservableNameMap[e]];
-                      n && n.notifyObservers(t);
+                      if (n) {
+                        n.notifyObservers(t);
+                      }
                     }
                   }),
                   (t.MODEL_BASE_URL =
@@ -88013,7 +88983,7 @@ and limitations under the License.
               });
               var vn = (function (e) {
                 function t(t) {
-                  return e.call(this, t) || this;
+                  return e(t) || this;
                 }
                 return (
                   h.d(t, e),
@@ -88046,7 +89016,7 @@ and limitations under the License.
               };
               var yn = (function (e) {
                 function t(t) {
-                  var i = e.call(this, t) || this;
+                  var i = e(t) || this;
                   return (
                     (i.onSecondaryTriggerStateChangedObservable = new o.c()),
                     (i.onThumbRestChangedObservable = new o.c()),
@@ -88127,55 +89097,55 @@ and limitations under the License.
                     switch (e) {
                       case 0:
                         return void this.onPadStateChangedObservable.notifyObservers(
-                          n,
+                          t,
                         );
                       case 1:
                         return (
                           this._defaultModel &&
                             ((this._defaultModel.getChildren()[3].rotation.x =
-                              0.2 * -n.value),
+                              0.2 * -t.value),
                             (this._defaultModel.getChildren()[3].position.y =
-                              0.005 * -n.value),
+                              0.005 * -t.value),
                             (this._defaultModel.getChildren()[3].position.z =
-                              0.005 * -n.value)),
+                              0.005 * -t.value)),
                           void this.onTriggerStateChangedObservable.notifyObservers(
-                            n,
+                            t,
                           )
                         );
                       case 2:
                         return (
                           this._defaultModel &&
                             (this._defaultModel.getChildren()[4].position.x =
-                              r * n.value * 0.0035),
+                              r * t.value * 0.0035),
                           void this.onSecondaryTriggerStateChangedObservable.notifyObservers(
-                            n,
+                            t,
                           )
                         );
                       case 3:
                         return (
                           this._defaultModel &&
-                            (n.pressed
+                            (t.pressed
                               ? (this._defaultModel.getChildren()[1].position.y =
                                   -0.001)
                               : (this._defaultModel.getChildren()[1].position.y = 0)),
                           void this.onMainButtonStateChangedObservable.notifyObservers(
-                            n,
+                            t,
                           )
                         );
                       case 4:
                         return (
                           this._defaultModel &&
-                            (n.pressed
+                            (t.pressed
                               ? (this._defaultModel.getChildren()[2].position.y =
                                   -0.001)
                               : (this._defaultModel.getChildren()[2].position.y = 0)),
                           void this.onSecondaryButtonStateChangedObservable.notifyObservers(
-                            n,
+                            t,
                           )
                         );
                       case 5:
                         return void this.onThumbRestChangedObservable.notifyObservers(
-                          n,
+                          t,
                         );
                     }
                   }),
@@ -88196,7 +89166,7 @@ and limitations under the License.
               });
               var bn = (function (e) {
                 function t(t) {
-                  var i = e.call(this, t) || this;
+                  var i = e(t) || this;
                   return (
                     (i.controllerType = Mt.VIVE),
                     (i._invertLeftStickY = true),
@@ -88257,30 +89227,30 @@ and limitations under the License.
                     switch (e) {
                       case 0:
                         return void this.onPadStateChangedObservable.notifyObservers(
-                          n,
+                          t,
                         );
                       case 1:
                         return (
                           this._defaultModel &&
                             (this._defaultModel.getChildren()[6].rotation.x =
-                              0.15 * -n.value),
+                              0.15 * -t.value),
                           void this.onTriggerStateChangedObservable.notifyObservers(
-                            n,
+                            t,
                           )
                         );
                       case 2:
                         return void this.onMainButtonStateChangedObservable.notifyObservers(
-                          n,
+                          t,
                         );
                       case 3:
                         return (
                           this._defaultModel &&
-                            (n.pressed
+                            (t.pressed
                               ? (this._defaultModel.getChildren()[2].position.y =
                                   -0.001)
                               : (this._defaultModel.getChildren()[2].position.y = 0)),
                           void this.onSecondaryButtonStateChangedObservable.notifyObservers(
-                            n,
+                            t,
                           )
                         );
                     }
@@ -88304,7 +89274,7 @@ and limitations under the License.
                 },
                 Tn = (function (e) {
                   function t(t) {
-                    var i = e.call(this, t) || this;
+                    var i = e(t) || this;
                     return (
                       (i._mapping = {
                         buttons: [
@@ -88416,18 +89386,23 @@ and limitations under the License.
                       },
                     ),
                     (t.prototype._updateTrackpad = function () {
-                      !this.browserGamepad.axes ||
-                        (this.browserGamepad.axes[2] == this.trackpad.x &&
-                          this.browserGamepad.axes[3] == this.trackpad.y) ||
+                      if (
+                        !(
+                          !this.browserGamepad.axes ||
+                          (this.browserGamepad.axes[2] == this.trackpad.x &&
+                            this.browserGamepad.axes[3] == this.trackpad.y)
+                        )
+                      ) {
                         ((this.trackpad.x = this.browserGamepad.axes[2]),
-                        (this.trackpad.y = this.browserGamepad.axes[3]),
-                        this.onTrackpadValuesChangedObservable.notifyObservers(
-                          this.trackpad,
-                        ));
+                          (this.trackpad.y = this.browserGamepad.axes[3]),
+                          this.onTrackpadValuesChangedObservable.notifyObservers(
+                            this.trackpad,
+                          ));
+                      }
                     }),
                     (t.prototype.update = function () {
                       if (
-                        (e.prototype.update.call(this),
+                        (e.prototype.update(),
                         this.browserGamepad.axes &&
                           (this._updateTrackpad(), this._loadedMeshInfo))
                       )
@@ -88453,21 +89428,24 @@ and limitations under the License.
                     (t.prototype._lerpButtonTransform = function (e, t) {
                       if (this._loadedMeshInfo) {
                         var i = this._loadedMeshInfo.buttonMeshes[e];
-                        i.unpressed.rotationQuaternion &&
+                        if (
+                          i.unpressed.rotationQuaternion &&
                           i.pressed.rotationQuaternion &&
-                          i.value.rotationQuaternion &&
+                          i.value.rotationQuaternion
+                        ) {
                           (a.q.SlerpToRef(
                             i.unpressed.rotationQuaternion,
                             i.pressed.rotationQuaternion,
                             t,
                             i.value.rotationQuaternion,
                           ),
-                          a.x.LerpToRef(
-                            i.unpressed.position,
-                            i.pressed.position,
-                            t,
-                            i.value.position,
-                          ));
+                            a.x.LerpToRef(
+                              i.unpressed.position,
+                              i.pressed.position,
+                              t,
+                              i.value.position,
+                            ));
+                        }
                       }
                     }),
                     (t.prototype._lerpAxisTransform = function (e, t) {
@@ -88669,7 +89647,7 @@ and limitations under the License.
                         !this._loadedMeshInfo ||
                           !this._loadedMeshInfo.pointingPoseNode)
                       )
-                        return e.prototype.getForwardRay.call(this, t);
+                        return e.prototype.getForwardRay(t);
                       var i =
                           this._loadedMeshInfo.pointingPoseNode.getWorldMatrix(),
                         n = i.getTranslation(),
@@ -88679,7 +89657,7 @@ and limitations under the License.
                       return new Dt.a(n, s, t);
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this.onTrackpadChangedObservable.clear());
                     }),
                     (t.MODEL_BASE_URL =
@@ -88708,7 +89686,7 @@ and limitations under the License.
                   function t(t, i, n) {
                     (void 0 === i && (i = a.e.Gray()),
                       void 0 === n && (n = Cn.a.DefaultUtilityLayer));
-                    var r = e.call(this, n) || this;
+                    var r = e(n) || this;
                     ((r._pointerObserver = null),
                       (r.snapDistance = 0),
                       (r.onSnapObservable = new o.c()),
@@ -88723,9 +89701,7 @@ and limitations under the License.
                     var c = new Ne.a("", n.utilityLayerScene),
                       u = xn.a.CreateBox(
                         "yPosMesh",
-                        {
-                          size: 0.4,
-                        },
+                        { size: 0.4 },
                         n.utilityLayerScene,
                       ),
                       l = Oi.a.CreateCylinder(
@@ -88750,23 +89726,19 @@ and limitations under the License.
                       c.lookAt(r._rootMesh.position.add(t)),
                       r._rootMesh.addChild(c),
                       c.scaling.scaleInPlace(1 / 3),
-                      (r.dragBehavior = new Fe.a({
-                        dragAxis: t,
-                      })),
+                      (r.dragBehavior = new Fe.a({ dragAxis: t })),
                       (r.dragBehavior.moveAttached = false),
                       r._rootMesh.addBehavior(r.dragBehavior));
                     var h = 0,
                       f = new a.x(),
-                      d = {
-                        snapDistance: 0,
-                      };
+                      d = { snapDistance: 0 };
                     (r.dragBehavior.onDragObservable.add(function (e) {
                       if (r.attachedMesh) {
                         var i =
-                            e.dragDistance *
-                            ((3 * r.scaleRatio) / r._rootMesh.scaling.length()),
-                          n = false,
-                          o = 0;
+                          e.dragDistance *
+                          ((3 * r.scaleRatio) / r._rootMesh.scaling.length());
+                        var n = false;
+                        var o = 0;
                         (r.uniformScaling
                           ? (r.attachedMesh.scaling.normalizeToRef(f),
                             f.y < 0 && f.scaleInPlace(-1))
@@ -88821,7 +89793,9 @@ and limitations under the License.
                   return (
                     h.d(t, e),
                     (t.prototype._attachedMeshChanged = function (e) {
-                      this.dragBehavior && (this.dragBehavior.enabled = !!e);
+                      if (this.dragBehavior) {
+                        this.dragBehavior.enabled = !!e;
+                      }
                     }),
                     (t.prototype.dispose = function () {
                       (this.onSnapObservable.clear(),
@@ -88829,12 +89803,12 @@ and limitations under the License.
                           this._pointerObserver,
                         ),
                         this.dragBehavior.detach(),
-                        e.prototype.dispose.call(this));
+                        e.prototype.dispose());
                     }),
                     (t.prototype.setCustomMesh = function (t, i) {
                       var n = this;
                       (void 0 === i && (i = false),
-                        e.prototype.setCustomMesh.call(this, t),
+                        e.prototype.setCustomMesh(t),
                         i &&
                           (this._rootMesh
                             .getChildMeshes()
@@ -88854,7 +89828,7 @@ and limitations under the License.
                   function t(t, i) {
                     (void 0 === t && (t = a.e.Gray()),
                       void 0 === i && (i = Cn.a.DefaultKeepDepthUtilityLayer));
-                    var n = e.call(this, i) || this;
+                    var n = e(i) || this;
                     ((n._boundingDimensions = new a.x(1, 1, 1)),
                       (n._renderObserver = null),
                       (n._pointerObserver = null),
@@ -89104,9 +90078,7 @@ and limitations under the License.
                       var s = function (e) {
                           var t = Rn.a.CreateSphere(
                             "",
-                            {
-                              diameter: 1,
-                            },
+                            { diameter: 1 },
                             i.utilityLayerScene,
                           );
                           ((t.rotationQuaternion = new a.q()),
@@ -89136,15 +90108,15 @@ and limitations under the License.
                                     "BoundingBoxGizmo controls are not supported on child meshes with non-uniform parent scaling",
                                   );
                                 Ue.a._RemoveAndStorePivotPoint(n.attachedMesh);
-                                var s = r,
-                                  c = t.dragPlaneNormal.scale(
-                                    a.x.Dot(t.dragPlaneNormal, s),
-                                  ),
-                                  u = s.subtract(c).normalizeToNew(),
-                                  l =
-                                    a.x.Dot(u, t.delta) < 0
-                                      ? Math.abs(t.delta.length())
-                                      : -Math.abs(t.delta.length());
+                                var s = r;
+                                var c = t.dragPlaneNormal.scale(
+                                  a.x.Dot(t.dragPlaneNormal, r),
+                                );
+                                var u = r.subtract(c).normalizeToNew();
+                                var l =
+                                  a.x.Dot(u, t.delta) < 0
+                                    ? Math.abs(t.delta.length())
+                                    : -Math.abs(t.delta.length());
                                 ((l =
                                   (l / n._boundingDimensions.length()) *
                                   n._anchorMesh.scaling.length()),
@@ -89225,9 +90197,7 @@ and limitations under the License.
                             d = function () {
                               var e = xn.a.CreateBox(
                                 "",
-                                {
-                                  size: 1,
-                                },
+                                { size: 1 },
                                 i.utilityLayerScene,
                               );
                               e.material = p.coloredMaterial;
@@ -89236,9 +90206,8 @@ and limitations under the License.
                                 0 == h ? -1 : 1,
                                 0 == m ? -1 : 1,
                               );
-                              (((f = new Fe.a({
-                                dragAxis: t,
-                              })).moveAttached = false),
+                              (((f = new Fe.a({ dragAxis: t })).moveAttached =
+                                false),
                                 e.addBehavior(f),
                                 f.onDragObservable.add(function (t) {
                                   if (
@@ -89260,10 +90229,10 @@ and limitations under the License.
                                       n.attachedMesh,
                                     );
                                     var r =
-                                        (t.dragDistance /
-                                          n._boundingDimensions.length()) *
-                                        n._anchorMesh.scaling.length(),
-                                      o = new a.x(r, r, r);
+                                      (t.dragDistance /
+                                        n._boundingDimensions.length()) *
+                                      n._anchorMesh.scaling.length();
+                                    var o = new a.x(r, r, r);
                                     (o.scaleInPlace(n._scaleDragSpeed),
                                       n.updateBoundingBox(),
                                       n.scalePivot
@@ -89352,10 +90321,13 @@ and limitations under the License.
                                   .getChildMeshes()
                                   .concat(n._scaleBoxesParent.getChildMeshes())
                                   .forEach(function (t) {
-                                    e.pickInfo &&
-                                      e.pickInfo.pickedMesh == t &&
+                                    if (
+                                      e.pickInfo &&
+                                      e.pickInfo.pickedMesh == t
+                                    ) {
                                       ((_[e.event.pointerId] = t),
-                                      (t.material = n.hoverColoredMaterial));
+                                        (t.material = n.hoverColoredMaterial));
+                                    }
                                   });
                           },
                         )),
@@ -89396,7 +90368,9 @@ and limitations under the License.
                         this._lineBoundingBox
                           .getChildren()
                           .forEach(function (t) {
-                            t.color && (t.color = e);
+                            if (t.color) {
+                              t.color = e;
+                            }
                           }));
                     }),
                     (t.prototype._attachedMeshChanged = function (e) {
@@ -89661,16 +90635,17 @@ and limitations under the License.
                         });
                     }),
                     (t.prototype._updateDummy = function () {
-                      this._dragMesh &&
+                      if (this._dragMesh) {
                         (this._dragMesh.position.copyFrom(
                           this._lineBoundingBox.getAbsolutePosition(),
                         ),
-                        this._dragMesh.scaling.copyFrom(
-                          this._lineBoundingBox.scaling,
-                        ),
-                        this._dragMesh.rotationQuaternion.copyFrom(
-                          this._rootMesh.rotationQuaternion,
-                        ));
+                          this._dragMesh.scaling.copyFrom(
+                            this._lineBoundingBox.scaling,
+                          ),
+                          this._dragMesh.rotationQuaternion.copyFrom(
+                            this._rootMesh.rotationQuaternion,
+                          ));
+                      }
                     }),
                     (t.prototype.enableDragBehavior = function () {
                       ((this._dragMesh = me.a.CreateBox(
@@ -89694,7 +90669,7 @@ and limitations under the License.
                         this._rotateSpheresParent.dispose(),
                         this._scaleBoxesParent.dispose(),
                         this._dragMesh && this._dragMesh.dispose(),
-                        e.prototype.dispose.call(this));
+                        e.prototype.dispose());
                     }),
                     (t.MakeNotPickableAndWrapInBoundingBox = function (e) {
                       ((function e(t) {
@@ -89713,13 +90688,7 @@ and limitations under the License.
                         i = e.rotationQuaternion.clone();
                       (e.rotationQuaternion.set(0, 0, 0, 1),
                         e.position.set(0, 0, 0));
-                      var n = xn.a.CreateBox(
-                          "box",
-                          {
-                            size: 1,
-                          },
-                          e.getScene(),
-                        ),
+                      var n = xn.a.CreateBox("box", { size: 1 }, e.getScene()),
                         r = e.getHierarchyBoundingVectors();
                       return (
                         r.max.subtractToRef(r.min, n.scaling),
@@ -89753,7 +90722,7 @@ and limitations under the License.
                     (void 0 === i && (i = a.e.Gray()),
                       void 0 === n && (n = Cn.a.DefaultUtilityLayer),
                       void 0 === r && (r = 32));
-                    var s = e.call(this, n) || this;
+                    var s = e(n) || this;
                     ((s._pointerObserver = null),
                       (s.snapDistance = 0),
                       (s.onSnapObservable = new o.c()));
@@ -89786,47 +90755,48 @@ and limitations under the License.
                       l.lookAt(s._rootMesh.position.add(t)),
                       s._rootMesh.addChild(l),
                       l.scaling.scaleInPlace(1 / 3),
-                      (s.dragBehavior = new Fe.a({
-                        dragPlaneNormal: t,
-                      })),
+                      (s.dragBehavior = new Fe.a({ dragPlaneNormal: t })),
                       (s.dragBehavior.moveAttached = false),
                       (s.dragBehavior.maxDragAngle = (9 * Math.PI) / 20),
                       (s.dragBehavior._useAlternatePickedPointAboveMaxDragAngle = true),
                       s._rootMesh.addBehavior(s.dragBehavior));
                     var d = new a.x();
                     s.dragBehavior.onDragStartObservable.add(function (e) {
-                      s.attachedMesh && d.copyFrom(e.dragPlanePoint);
+                      if (s.attachedMesh) {
+                        d.copyFrom(e.dragPlanePoint);
+                      }
                     });
                     var p = new a.j(),
                       m = new a.x(),
                       g = new a.x(),
-                      _ = {
-                        snapDistance: 0,
-                      },
+                      _ = { snapDistance: 0 },
                       v = 0,
                       y = new a.j(),
                       b = new a.x(),
                       E = new a.q();
                     (s.dragBehavior.onDragObservable.add(function (e) {
                       if (s.attachedMesh) {
-                        s.attachedMesh.rotationQuaternion ||
-                          (s.attachedMesh.rotationQuaternion =
+                        if (!s.attachedMesh.rotationQuaternion) {
+                          s.attachedMesh.rotationQuaternion =
                             a.q.RotationYawPitchRoll(
                               s.attachedMesh.rotation.y,
                               s.attachedMesh.rotation.x,
                               s.attachedMesh.rotation.z,
-                            ));
+                            );
+                        }
                         var i = s.attachedMesh.parent;
-                        i && s.attachedMesh.setParent(null);
+                        if (i) {
+                          s.attachedMesh.setParent(null);
+                        }
                         var r = e.dragPlanePoint
-                            .subtract(s.attachedMesh.absolutePosition)
-                            .normalize(),
-                          o = d
-                            .subtract(s.attachedMesh.absolutePosition)
-                            .normalize(),
-                          c = a.x.Cross(r, o),
-                          u = a.x.Dot(r, o),
-                          l = Math.atan2(c.length(), u);
+                          .subtract(s.attachedMesh.absolutePosition)
+                          .normalize();
+                        var o = d
+                          .subtract(s.attachedMesh.absolutePosition)
+                          .normalize();
+                        var c = a.x.Cross(r, o);
+                        var u = a.x.Dot(r, o);
+                        var l = Math.atan2(c.length(), u);
                         if (
                           (m.copyFrom(t),
                           g.copyFrom(t),
@@ -89841,10 +90811,13 @@ and limitations under the License.
                             n.utilityLayerScene.activeCamera.position.subtract(
                               s.attachedMesh.position,
                             );
-                          a.x.Dot(h, g) > 0 &&
+                          if (a.x.Dot(h, g) > 0) {
                             (m.scaleInPlace(-1), g.scaleInPlace(-1));
+                          }
+                        }
+                        if (a.x.Dot(g, c) > 0) {
+                          l = -l;
                         }
-                        a.x.Dot(g, c) > 0 && (l = -l);
                         var f = false;
                         if (0 != s.snapDistance)
                           if (((v += l), Math.abs(v) > s.snapDistance)) {
@@ -89914,7 +90887,9 @@ and limitations under the License.
                   return (
                     h.d(t, e),
                     (t.prototype._attachedMeshChanged = function (e) {
-                      this.dragBehavior && (this.dragBehavior.enabled = !!e);
+                      if (this.dragBehavior) {
+                        this.dragBehavior.enabled = !!e;
+                      }
                     }),
                     (t.prototype.dispose = function () {
                       (this.onSnapObservable.clear(),
@@ -89922,7 +90897,7 @@ and limitations under the License.
                           this._pointerObserver,
                         ),
                         this.dragBehavior.detach(),
-                        e.prototype.dispose.call(this));
+                        e.prototype.dispose());
                     }),
                     t
                   );
@@ -89931,7 +90906,7 @@ and limitations under the License.
                   function t(t, i) {
                     (void 0 === t && (t = Cn.a.DefaultUtilityLayer),
                       void 0 === i && (i = 32));
-                    var n = e.call(this, t) || this;
+                    var n = e(t) || this;
                     return (
                       (n.onDragStartObservable = new o.c()),
                       (n.onDragEndObservable = new o.c()),
@@ -89972,10 +90947,11 @@ and limitations under the License.
                         return this.xGizmo.attachedMesh;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.attachedMesh = e),
-                          (this.yGizmo.attachedMesh = e),
-                          (this.zGizmo.attachedMesh = e));
+                            (this.yGizmo.attachedMesh = e),
+                            (this.zGizmo.attachedMesh = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -89989,13 +90965,14 @@ and limitations under the License.
                             .updateGizmoRotationToMatchAttachedMesh;
                         },
                         set: function (e) {
-                          this.xGizmo &&
+                          if (this.xGizmo) {
                             ((this.xGizmo.updateGizmoRotationToMatchAttachedMesh =
                               e),
-                            (this.yGizmo.updateGizmoRotationToMatchAttachedMesh =
-                              e),
-                            (this.zGizmo.updateGizmoRotationToMatchAttachedMesh =
-                              e));
+                              (this.yGizmo.updateGizmoRotationToMatchAttachedMesh =
+                                e),
+                              (this.zGizmo.updateGizmoRotationToMatchAttachedMesh =
+                                e));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -90006,10 +90983,11 @@ and limitations under the License.
                         return this.xGizmo.snapDistance;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.snapDistance = e),
-                          (this.yGizmo.snapDistance = e),
-                          (this.zGizmo.snapDistance = e));
+                            (this.yGizmo.snapDistance = e),
+                            (this.zGizmo.snapDistance = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90019,10 +90997,11 @@ and limitations under the License.
                         return this.xGizmo.scaleRatio;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.scaleRatio = e),
-                          (this.yGizmo.scaleRatio = e),
-                          (this.zGizmo.scaleRatio = e));
+                            (this.yGizmo.scaleRatio = e),
+                            (this.zGizmo.scaleRatio = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90044,8 +91023,10 @@ and limitations under the License.
                 })(Sn.a),
                 Dn = (function (e) {
                   function t(t) {
-                    void 0 === t && (t = Cn.a.DefaultUtilityLayer);
-                    var i = e.call(this, t) || this;
+                    if (void 0 === t) {
+                      t = Cn.a.DefaultUtilityLayer;
+                    }
+                    var i = e(t) || this;
                     return (
                       (i.onDragStartObservable = new o.c()),
                       (i.onDragEndObservable = new o.c()),
@@ -90083,10 +91064,11 @@ and limitations under the License.
                         return this.xGizmo.attachedMesh;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.attachedMesh = e),
-                          (this.yGizmo.attachedMesh = e),
-                          (this.zGizmo.attachedMesh = e));
+                            (this.yGizmo.attachedMesh = e),
+                            (this.zGizmo.attachedMesh = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90100,13 +91082,14 @@ and limitations under the License.
                             .updateGizmoRotationToMatchAttachedMesh;
                         },
                         set: function (e) {
-                          this.xGizmo &&
+                          if (this.xGizmo) {
                             ((this.xGizmo.updateGizmoRotationToMatchAttachedMesh =
                               e),
-                            (this.yGizmo.updateGizmoRotationToMatchAttachedMesh =
-                              e),
-                            (this.zGizmo.updateGizmoRotationToMatchAttachedMesh =
-                              e));
+                              (this.yGizmo.updateGizmoRotationToMatchAttachedMesh =
+                                e),
+                              (this.zGizmo.updateGizmoRotationToMatchAttachedMesh =
+                                e));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -90117,10 +91100,11 @@ and limitations under the License.
                         return this.xGizmo.snapDistance;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.snapDistance = e),
-                          (this.yGizmo.snapDistance = e),
-                          (this.zGizmo.snapDistance = e));
+                            (this.yGizmo.snapDistance = e),
+                            (this.zGizmo.snapDistance = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90130,10 +91114,11 @@ and limitations under the License.
                         return this.xGizmo.scaleRatio;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.scaleRatio = e),
-                          (this.yGizmo.scaleRatio = e),
-                          (this.zGizmo.scaleRatio = e));
+                            (this.yGizmo.scaleRatio = e),
+                            (this.zGizmo.scaleRatio = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90672,7 +91657,9 @@ and limitations under the License.
                   function e() {}
                   return (
                     (e.CreatePolyhedron = function (e, t, i) {
-                      void 0 === i && (i = null);
+                      if (void 0 === i) {
+                        i = null;
+                      }
                       var n = new me.a(e, i);
                       return (
                         (t.sideOrientation = me.a._GetDefaultSideOrientation(
@@ -90688,8 +91675,10 @@ and limitations under the License.
                 })(),
                 Fn = (function (e) {
                   function t(t) {
-                    void 0 === t && (t = Cn.a.DefaultUtilityLayer);
-                    var i = e.call(this, t) || this;
+                    if (void 0 === t) {
+                      t = Cn.a.DefaultUtilityLayer;
+                    }
+                    var i = e(t) || this;
                     ((i.onDragStartObservable = new o.c()),
                       (i.onDragEndObservable = new o.c()),
                       (i.xGizmo = new Pn(
@@ -90716,17 +91705,13 @@ and limitations under the License.
                       (i.uniformScaleGizmo.uniformScaling = true));
                     var n = Ln.CreatePolyhedron(
                       "",
-                      {
-                        type: 1,
-                      },
+                      { type: 1 },
                       i.uniformScaleGizmo.gizmoLayer.utilityLayerScene,
                     );
                     (n.scaling.scaleInPlace(0.02), (n.visibility = 0));
                     var r = Ln.CreatePolyhedron(
                       "",
-                      {
-                        type: 1,
-                      },
+                      { type: 1 },
                       i.uniformScaleGizmo.gizmoLayer.utilityLayerScene,
                     );
                     (r.scaling.scaleInPlace(0.007),
@@ -90759,11 +91744,12 @@ and limitations under the License.
                         return this.xGizmo.attachedMesh;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.attachedMesh = e),
-                          (this.yGizmo.attachedMesh = e),
-                          (this.zGizmo.attachedMesh = e),
-                          (this.uniformScaleGizmo.attachedMesh = e));
+                            (this.yGizmo.attachedMesh = e),
+                            (this.zGizmo.attachedMesh = e),
+                            (this.uniformScaleGizmo.attachedMesh = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90798,11 +91784,12 @@ and limitations under the License.
                         return this.xGizmo.snapDistance;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.snapDistance = e),
-                          (this.yGizmo.snapDistance = e),
-                          (this.zGizmo.snapDistance = e),
-                          (this.uniformScaleGizmo.snapDistance = e));
+                            (this.yGizmo.snapDistance = e),
+                            (this.zGizmo.snapDistance = e),
+                            (this.uniformScaleGizmo.snapDistance = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90812,11 +91799,12 @@ and limitations under the License.
                         return this.xGizmo.scaleRatio;
                       },
                       set: function (e) {
-                        this.xGizmo &&
+                        if (this.xGizmo) {
                           ((this.xGizmo.scaleRatio = e),
-                          (this.yGizmo.scaleRatio = e),
-                          (this.zGizmo.scaleRatio = e),
-                          (this.uniformScaleGizmo.scaleRatio = e));
+                            (this.yGizmo.scaleRatio = e),
+                            (this.zGizmo.scaleRatio = e),
+                            (this.uniformScaleGizmo.scaleRatio = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -90872,9 +91860,9 @@ and limitations under the License.
                               else {
                                 var n = false;
                                 (t.attachableMeshes.forEach(function (e) {
-                                  i &&
-                                    (i == e || i.isDescendantOf(e)) &&
+                                  if (i && (i == e || i.isDescendantOf(e))) {
                                     ((i = e), (n = true));
+                                  }
                                 }),
                                   n || (i = null));
                               }
@@ -90897,7 +91885,9 @@ and limitations under the License.
                       (this._attachedMesh = e),
                       this.gizmos)) {
                         var i = this.gizmos[t];
-                        i && this._gizmosEnabled[t] && (i.attachedMesh = e);
+                        if (i && this._gizmosEnabled[t]) {
+                          i.attachedMesh = e;
+                        }
                       }
                       (this.boundingBoxGizmoEnabled &&
                         this._attachedMesh &&
@@ -91005,7 +91995,9 @@ and limitations under the License.
                       ),
                       this.gizmos)) {
                         var t = this.gizmos[e];
-                        t && t.dispose();
+                        if (t) {
+                          t.dispose();
+                        }
                       }
                       (this._defaultKeepDepthUtilityLayer.dispose(),
                         this.boundingBoxDragBehavior.detach(),
@@ -91017,7 +92009,7 @@ and limitations under the License.
                 Nn = n(38),
                 kn = (function (e) {
                   function t() {
-                    var t = (null !== e && e.apply(this, arguments)) || this;
+                    var t = (null !== e && e()) || this;
                     return ((t._needProjectionMatrixCompute = true), t);
                   }
                   return (
@@ -91129,7 +92121,7 @@ and limitations under the License.
                       this._needProjectionMatrixCompute = true;
                     }),
                     (t.prototype._initCache = function () {
-                      (e.prototype._initCache.call(this),
+                      (e.prototype._initCache(),
                         (this._cache.position = a.x.Zero()));
                     }),
                     (t.prototype._isSynchronized = function () {
@@ -91196,7 +92188,7 @@ and limitations under the License.
               });
               var Un = (function (e) {
                 function t(t, i, n) {
-                  var r = e.call(this, t, n) || this;
+                  var r = e(t, n) || this;
                   return (
                     (r._shadowFrustumSize = 0),
                     (r._shadowOrthoScale = 0.1),
@@ -91256,7 +92248,7 @@ and limitations under the License.
                   (t.prototype._setDefaultFixedFrustumShadowProjectionMatrix =
                     function (e) {
                       var t = this.getScene().activeCamera;
-                      t &&
+                      if (t) {
                         a.j.OrthoLHToRef(
                           this.shadowFrustumSize,
                           this.shadowFrustumSize,
@@ -91264,6 +92256,7 @@ and limitations under the License.
                           void 0 !== this.shadowMaxZ ? this.shadowMaxZ : t.maxZ,
                           e,
                         );
+                      }
                     }),
                   (t.prototype._setDefaultAutoExtendShadowProjectionMatrix =
                     function (e, t, i) {
@@ -91301,8 +92294,8 @@ and limitations under the License.
                                     (this._orthoTop = r.y));
                           }
                         }
-                        var l = this._orthoRight - this._orthoLeft,
-                          h = this._orthoTop - this._orthoBottom;
+                        var l = this._orthoRight - this._orthoLeft;
+                        var h = this._orthoTop - this._orthoBottom;
                         a.j.OrthoOffCenterLHToRef(
                           this._orthoLeft - l * this.shadowOrthoScale,
                           this._orthoRight + l * this.shadowOrthoScale,
@@ -91374,23 +92367,17 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreateHemisphere = function (e, t, i) {
-                    (t.diameter || (t.diameter = 1),
-                      t.segments || (t.segments = 16));
+                    (1 || (t.diameter = 1), 16 || (t.segments = 16));
                     var n = Rn.a.CreateSphere(
                         "",
                         {
                           slice: 0.5,
-                          diameter: t.diameter,
-                          segments: t.segments,
+                          diameter: 1,
+                          segments: 16,
                         },
                         i,
                       ),
-                      r = me.a.CreateDisc(
-                        "",
-                        t.diameter / 2,
-                        3 * t.segments + (4 - t.segments),
-                        i,
-                      );
+                      r = me.a.CreateDisc("", 1 / 2, 3 * 16 + (4 - 16), i);
                     ((r.rotation.x = -Math.PI / 2), (r.parent = n));
                     var o = me.a.MergeMeshes([r, n], true);
                     return ((o.name = e), o);
@@ -91405,7 +92392,7 @@ and limitations under the License.
               });
               var Gn = (function (e) {
                   function t(t, i, n, r, o, s) {
-                    var c = e.call(this, t, s) || this;
+                    var c = e(t, s) || this;
                     return (
                       (c._innerAngle = 0),
                       (c._projectionTextureMatrix = a.j.Zero()),
@@ -91550,10 +92537,11 @@ and limitations under the License.
                             !this._projectionTexture.isReady())
                         ) {
                           var i = this._projectionTexture;
-                          i.onLoadObservable &&
+                          if (i.onLoadObservable) {
                             i.onLoadObservable.addOnce(function () {
                               t._markMeshesAsLightDirty();
                             });
+                          }
                         }
                       },
                       enumerable: true,
@@ -91566,11 +92554,11 @@ and limitations under the License.
                       return Nn.a.LIGHTTYPEID_SPOTLIGHT;
                     }),
                     (t.prototype._setDirection = function (t) {
-                      (e.prototype._setDirection.call(this, t),
+                      (e.prototype._setDirection(t),
                         (this._projectionTextureViewLightDirty = true));
                     }),
                     (t.prototype._setPosition = function (t) {
-                      (e.prototype._setPosition.call(this, t),
+                      (e.prototype._setPosition(t),
                         (this._projectionTextureViewLightDirty = true));
                     }),
                     (t.prototype._setDefaultShadowProjectionMatrix = function (
@@ -91724,7 +92712,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this._projectionTexture &&
                           this._projectionTexture.dispose());
                     }),
@@ -91768,7 +92756,7 @@ and limitations under the License.
                 })(kn),
                 zn = (function (e) {
                   function t(t) {
-                    var i = e.call(this, t) || this;
+                    var i = e(t) || this;
                     return (
                       (i.cachedPosition = new a.x()),
                       (i.cachedForward = new a.x(0, 0, 1)),
@@ -91835,7 +92823,7 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (t.prototype._update = function () {
-                      (e.prototype._update.call(this),
+                      (e.prototype._update(),
                         this._light &&
                           (this._light.position &&
                             (this.attachedMesh.position.equals(
@@ -91880,8 +92868,7 @@ and limitations under the License.
                             : this._material.diffuseColor.set(0, 0, 0)));
                     }),
                     (t.prototype.dispose = function () {
-                      (this._material.dispose(),
-                        e.prototype.dispose.call(this));
+                      (this._material.dispose(), e.prototype.dispose());
                     }),
                     (t._CreateHemisphericLightMesh = function (e) {
                       var i = new me.a("hemisphereLight", e),
@@ -92055,8 +93042,7 @@ and limitations under the License.
                       void 0 === l && (l = ""),
                       void 0 === h && (h = false));
                     var f =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "kernelBlur",
                         ["delta", "direction", "cameraMinMaxZ"],
@@ -92105,11 +93091,12 @@ and limitations under the License.
                         return this._idealKernel;
                       },
                       set: function (e) {
-                        this._idealKernel !== e &&
+                        if (this._idealKernel !== e) {
                           ((e = Math.max(e, 1)),
-                          (this._idealKernel = e),
-                          (this._kernel = this._nearestBestKernel(e)),
-                          this.blockCompilation || this._updateParameters());
+                            (this._idealKernel = e),
+                            (this._kernel = this._nearestBestKernel(e)),
+                            this.blockCompilation || this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -92119,9 +93106,10 @@ and limitations under the License.
                         return this._packedFloat;
                       },
                       set: function (e) {
-                        this._packedFloat !== e &&
+                        if (this._packedFloat !== e) {
                           ((this._packedFloat = e),
-                          this.blockCompilation || this._updateParameters());
+                            this.blockCompilation || this._updateParameters());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -92143,8 +93131,8 @@ and limitations under the License.
                         c < n;
                         c++
                       ) {
-                        var u = c / (n - 1),
-                          l = this._gaussianWeight(2 * u - 1);
+                        var u = c / (n - 1);
+                        var l = this._gaussianWeight(2 * u - 1);
                         ((o[c] = c - r), (a[c] = l), (s += l));
                       }
                       for (c = 0; c < a.length; c++) a[c] /= s;
@@ -92159,9 +93147,9 @@ and limitations under the License.
                             w: a[c],
                           });
                         else {
-                          var m = p === r,
-                            g = a[c] + a[p] * (m ? 0.5 : 1),
-                            _ = o[c] + 1 / (1 + a[c] / a[p]);
+                          var m = p === r;
+                          var g = a[c] + a[p] * (m ? 0.5 : 1);
+                          var _ = o[c] + 1 / (1 + a[c] / a[p]);
                           0 === _
                             ? (d.push({
                                 o: o[c],
@@ -92229,8 +93217,7 @@ and limitations under the License.
                           T++);
                       (this.packedFloat && (E += "#define PACKEDFLOAT 1"),
                         (this.blockCompilation = false),
-                        e.prototype.updateEffect.call(
-                          this,
+                        e.prototype.updateEffect(
                           E,
                           null,
                           null,
@@ -92276,8 +93263,7 @@ and limitations under the License.
                     (void 0 === o && (o = _.a.TEXTURETYPE_UNSIGNED_INT),
                       void 0 === s && (s = je.a.BILINEAR_SAMPLINGMODE),
                       void 0 === c && (c = true));
-                    var u =
-                      e.call(this, t, i, n, r, true, o, false, s, c) || this;
+                    var u = e(t, i, n, r, true, o, false, s, c) || this;
                     return (
                       (u.scene = n),
                       (u.mirrorPlane = new a.n(0, 1, 0, 1)),
@@ -92332,8 +93318,9 @@ and limitations under the License.
                         return this._blurRatio;
                       },
                       set: function (e) {
-                        this._blurRatio !== e &&
+                        if (this._blurRatio !== e) {
                           ((this._blurRatio = e), this._preparePostProcesses());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -92358,9 +93345,10 @@ and limitations under the License.
                         return this._blurKernelX;
                       },
                       set: function (e) {
-                        this._blurKernelX !== e &&
+                        if (this._blurKernelX !== e) {
                           ((this._blurKernelX = e),
-                          this._preparePostProcesses());
+                            this._preparePostProcesses());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -92370,9 +93358,10 @@ and limitations under the License.
                         return this._blurKernelY;
                       },
                       set: function (e) {
-                        this._blurKernelY !== e &&
+                        if (this._blurKernelY !== e) {
                           ((this._blurKernelY = e),
-                          this._preparePostProcesses());
+                            this._preparePostProcesses());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -92403,10 +93392,10 @@ and limitations under the License.
                         (this.clearPostProcesses(true),
                         this._blurKernelX && this._blurKernelY)
                       ) {
-                        var e = this.getScene().getEngine(),
-                          t = e.getCaps().textureFloatRender
-                            ? _.a.TEXTURETYPE_FLOAT
-                            : _.a.TEXTURETYPE_HALF_FLOAT;
+                        var e = this.getScene().getEngine();
+                        var t = e.getCaps().textureFloatRender
+                          ? _.a.TEXTURETYPE_FLOAT
+                          : _.a.TEXTURETYPE_HALF_FLOAT;
                         ((this._blurX = new Hn(
                           "horizontal blur",
                           new a.w(1, 0),
@@ -92473,11 +93462,11 @@ and limitations under the License.
                     }),
                     (t.prototype.serialize = function () {
                       if (!this.name) return null;
-                      var t = e.prototype.serialize.call(this);
+                      var t = e.prototype.serialize();
                       return ((t.mirrorPlane = this.mirrorPlane.asArray()), t);
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this.scene.imageProcessingConfiguration.onUpdateParameters.remove(
                           this._imageProcessingConfigChangeObserver,
                         ));
@@ -92559,19 +93548,25 @@ and limitations under the License.
                       void 0,
                       true,
                       function (e, t) {
-                        r && e && r(e.status + " " + e.statusText, t);
+                        if (r && e) {
+                          r(e.status + " " + e.statusText, t);
+                        }
                       },
                     ));
                 }),
                 (ve.b.prototype._cascadeLoadFiles = function (e, t, i, n) {
-                  void 0 === n && (n = null);
+                  if (void 0 === n) {
+                    n = null;
+                  }
                   var r = [];
                   r._internalCount = 0;
                   for (var o = 0; o < 6; o++)
                     this._partialLoadFile(i[o], o, r, t, n);
                 }),
                 (ve.b.prototype._cascadeLoadImgs = function (e, t, i, n) {
-                  void 0 === n && (n = null);
+                  if (void 0 === n) {
+                    n = null;
+                  }
                   var r = [];
                   r._internalCount = 0;
                   for (var o = 0; o < 6; o++)
@@ -92700,7 +93695,9 @@ and limitations under the License.
                                   )
                                 );
                             }
-                            o && e && o(e.status + " " + e.statusText, s);
+                            if (o && e) {
+                              o(e.status + " " + e.statusText, s);
+                            }
                           },
                         );
                   } else {
@@ -92798,7 +93795,7 @@ and limitations under the License.
                     void 0 === f && (f = false),
                     void 0 === d && (d = 0.8),
                     void 0 === p && (p = 0));
-                  var m = e.call(this, i) || this;
+                  var m = e(i) || this;
                   if (
                     ((m.boundingBoxPosition = a.x.Zero()),
                     (m._rotationY = 0),
@@ -92896,10 +93893,11 @@ and limitations under the License.
                       ) {
                         this._boundingBoxSize = e;
                         var t = this.getScene();
-                        t &&
+                        if (t) {
                           t.markAllMaterialsAsDirty(
                             _.a.MATERIAL_TextureDirtyFlag,
                           );
+                        }
                       }
                     },
                     enumerable: true,
@@ -92978,39 +93976,40 @@ and limitations under the License.
                   (t.prototype.delayLoad = function (e) {
                     if (this.delayLoadState === _.a.DELAYLOADSTATE_NOTLOADED) {
                       var t = this.getScene();
-                      t &&
+                      if (t) {
                         ((this.delayLoadState = _.a.DELAYLOADSTATE_LOADED),
-                        (this._texture = this._getFromCache(
-                          this.url,
-                          this._noMipmap,
-                        )),
-                        this._texture ||
-                          (this._prefiltered
-                            ? (this._texture = t
-                                .getEngine()
-                                .createPrefilteredCubeTexture(
-                                  this.url,
-                                  t,
-                                  this.lodGenerationScale,
-                                  this.lodGenerationOffset,
-                                  this._delayedOnLoad,
-                                  void 0,
-                                  this._format,
-                                  void 0,
-                                  this._createPolynomials,
-                                ))
-                            : (this._texture = t
-                                .getEngine()
-                                .createCubeTexture(
-                                  this.url,
-                                  t,
-                                  this._files,
-                                  this._noMipmap,
-                                  this._delayedOnLoad,
-                                  null,
-                                  this._format,
-                                  e,
-                                ))));
+                          (this._texture = this._getFromCache(
+                            this.url,
+                            this._noMipmap,
+                          )),
+                          this._texture ||
+                            (this._prefiltered
+                              ? (this._texture = t
+                                  .getEngine()
+                                  .createPrefilteredCubeTexture(
+                                    this.url,
+                                    t,
+                                    this.lodGenerationScale,
+                                    this.lodGenerationOffset,
+                                    this._delayedOnLoad,
+                                    void 0,
+                                    this._format,
+                                    void 0,
+                                    this._createPolynomials,
+                                  ))
+                              : (this._texture = t
+                                  .getEngine()
+                                  .createCubeTexture(
+                                    this.url,
+                                    t,
+                                    this._files,
+                                    this._noMipmap,
+                                    this._delayedOnLoad,
+                                    null,
+                                    this._format,
+                                    e,
+                                  ))));
+                      }
                     }
                   }),
                   (t.prototype.getReflectionTextureMatrix = function () {
@@ -93018,7 +94017,7 @@ and limitations under the License.
                   }),
                   (t.prototype.setReflectionTextureMatrix = function (e) {
                     var t = this;
-                    e.updateFlag !== this._textureMatrix.updateFlag &&
+                    if (e.updateFlag !== this._textureMatrix.updateFlag) {
                       (e.isIdentity() !== this._textureMatrix.isIdentity() &&
                         this.getScene().markAllMaterialsAsDirty(
                           _.a.MATERIAL_TextureDirtyFlag,
@@ -93026,7 +94025,8 @@ and limitations under the License.
                             return -1 !== e.getActiveTextures().indexOf(t);
                           },
                         ),
-                      (this._textureMatrix = e));
+                        (this._textureMatrix = e));
+                    }
                   }),
                   (t.Parse = function (e, i, n) {
                     var r = F.a.Parse(
@@ -93060,9 +94060,11 @@ and limitations under the License.
                       e.animations)
                     )
                       for (var o = 0; o < e.animations.length; o++) {
-                        var c = e.animations[o],
-                          u = s.a.GetClass("BABYLON.Animation");
-                        u && r.animations.push(u.Parse(c));
+                        var c = e.animations[o];
+                        var u = s.a.GetClass("BABYLON.Animation");
+                        if (u) {
+                          r.animations.push(u.Parse(c));
+                        }
                       }
                     return r;
                   }),
@@ -93135,7 +94137,7 @@ and limitations under the License.
                 "precision highp float;\n#include<__decl__backgroundVertex>\n#include<helperFunctions>\n\nattribute vec3 position;\n#ifdef NORMAL\nattribute vec3 normal;\n#endif\n#include<bonesDeclaration>\n\n#include<instancesDeclaration>\n\nvarying vec3 vPositionW;\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#endif\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n#if defined(DIFFUSE) && DIFFUSEDIRECTUV == 0\nvarying vec2 vDiffuseUV;\n#endif\n#include<clipPlaneVertexDeclaration>\n#include<fogVertexDeclaration>\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\nvoid main(void) {\n#ifdef REFLECTIONMAP_SKYBOX\n#ifdef REFLECTIONMAP_SKYBOX_TRANSFORMED\nvPositionUVW=(reflectionMatrix*vec4(position,1.0)).xyz;\n#else\nvPositionUVW=position;\n#endif\n#endif\n#include<instancesVertex>\n#include<bonesVertex>\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR == 0u) {\ngl_Position=viewProjection*finalWorld*vec4(position,1.0);\n} else {\ngl_Position=viewProjectionR*finalWorld*vec4(position,1.0);\n}\n#else\ngl_Position=viewProjection*finalWorld*vec4(position,1.0);\n#endif\nvec4 worldPos=finalWorld*vec4(position,1.0);\nvPositionW=vec3(worldPos);\n#ifdef NORMAL\nmat3 normalWorld=mat3(finalWorld);\n#ifdef NONUNIFORMSCALING\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\n#endif\nvNormalW=normalize(normalWorld*normal);\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvDirectionW=normalize(vec3(finalWorld*vec4(position,0.0)));\n#ifdef EQUIRECTANGULAR_RELFECTION_FOV\nmat3 screenToWorld=inverseMat3(mat3(finalWorld*viewProjection));\nvec3 segment=mix(vDirectionW,screenToWorld*vec3(0.0,0.0,1.0),abs(fFovMultiplier-1.0));\nif (fFovMultiplier<=1.0) {\nvDirectionW=normalize(segment);\n} else {\nvDirectionW=normalize(vDirectionW+(vDirectionW-segment));\n}\n#endif\n#endif\n#ifndef UV1\nvec2 uv=vec2(0.,0.);\n#endif\n#ifndef UV2\nvec2 uv2=vec2(0.,0.);\n#endif\n#ifdef MAINUV1\nvMainUV1=uv;\n#endif\n#ifdef MAINUV2\nvMainUV2=uv2;\n#endif\n#if defined(DIFFUSE) && DIFFUSEDIRECTUV == 0\nif (vDiffuseInfos.x == 0.)\n{\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n\n#include<clipPlaneVertex>\n\n#include<fogVertex>\n\n#include<shadowsVertex>[0..maxSimultaneousLights]\n\n#ifdef VERTEXCOLOR\nvColor=color;\n#endif\n\n#ifdef POINTSIZE\ngl_PointSize=pointSize;\n#endif\n}\n";
               var Zn = (function (e) {
                   function t() {
-                    var t = e.call(this) || this;
+                    var t = e() || this;
                     return (
                       (t.DIFFUSE = false),
                       (t.DIFFUSEDIRECTUV = 0),
@@ -93207,7 +94209,7 @@ and limitations under the License.
                 })(Kn.a),
                 Jn = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, i) || this;
+                    var n = e(t, i) || this;
                     return (
                       (n.primaryColor = a.e.White()),
                       (n._primaryColorShadowLevel = 0),
@@ -93306,19 +94308,19 @@ and limitations under the License.
                       {
                         set: function (e) {
                           var i = e;
-                          i < 0.5
+                          e < 0.5
                             ? ((i *= 2),
                               (this.reflectionReflectance0 =
-                                t.StandardReflectance0 * i),
+                                t.StandardReflectance0 * e),
                               (this.reflectionReflectance90 =
-                                t.StandardReflectance90 * i))
-                            : ((i = 2 * i - 1),
+                                t.StandardReflectance90 * e))
+                            : ((i = 2 * e - 1),
                               (this.reflectionReflectance0 =
                                 t.StandardReflectance0 +
-                                (1 - t.StandardReflectance0) * i),
+                                (1 - t.StandardReflectance0) * e),
                               (this.reflectionReflectance90 =
                                 t.StandardReflectance90 +
-                                (1 - t.StandardReflectance90) * i));
+                                (1 - t.StandardReflectance90) * e));
                         },
                         enumerable: true,
                         configurable: true,
@@ -93338,22 +94340,24 @@ and limitations under the License.
                     (t.prototype._attachImageProcessingConfiguration =
                       function (e) {
                         var t = this;
-                        e !== this._imageProcessingConfiguration &&
+                        if (e !== this._imageProcessingConfiguration) {
                           (this._imageProcessingConfiguration &&
                             this._imageProcessingObserver &&
                             this._imageProcessingConfiguration.onUpdateParameters.remove(
                               this._imageProcessingObserver,
                             ),
-                          (this._imageProcessingConfiguration =
-                            e || this.getScene().imageProcessingConfiguration),
-                          this._imageProcessingConfiguration &&
-                            (this._imageProcessingObserver =
-                              this._imageProcessingConfiguration.onUpdateParameters.add(
-                                function () {
-                                  (t._computePrimaryColorFromPerceptualColor(),
-                                    t._markAllSubMeshesAsImageProcessingDirty());
-                                },
-                              )));
+                            (this._imageProcessingConfiguration =
+                              e ||
+                              this.getScene().imageProcessingConfiguration),
+                            this._imageProcessingConfiguration &&
+                              (this._imageProcessingObserver =
+                                this._imageProcessingConfiguration.onUpdateParameters.add(
+                                  function () {
+                                    (t._computePrimaryColorFromPerceptualColor(),
+                                      t._markAllSubMeshesAsImageProcessingDirty());
+                                  },
+                                )));
+                        }
                       }),
                     Object.defineProperty(
                       t.prototype,
@@ -93501,7 +94505,9 @@ and limitations under the License.
                         t.effect && this.isFrozen && this._wasPreviouslyReady)
                       )
                         return true;
-                      t._materialDefines || (t._materialDefines = new Zn());
+                      if (!t._materialDefines) {
+                        t._materialDefines = new Zn();
+                      }
                       var r = this.getScene(),
                         o = t._materialDefines;
                       if (
@@ -93702,39 +94708,39 @@ and limitations under the License.
                           Yn.a.PrepareAttributesForBones(u, e, o, c),
                           Yn.a.PrepareAttributesForInstances(u, o));
                         var l = [
-                            "world",
-                            "view",
-                            "viewProjection",
-                            "vEyePosition",
-                            "vLightsType",
-                            "vFogInfos",
-                            "vFogColor",
-                            "pointSize",
-                            "vClipPlane",
-                            "vClipPlane2",
-                            "vClipPlane3",
-                            "vClipPlane4",
-                            "mBones",
-                            "vPrimaryColor",
-                            "vPrimaryColorShadow",
-                            "vReflectionInfos",
-                            "reflectionMatrix",
-                            "vReflectionMicrosurfaceInfos",
-                            "fFovMultiplier",
-                            "shadowLevel",
-                            "alpha",
-                            "vBackgroundCenter",
-                            "vReflectionControl",
-                            "vDiffuseInfos",
-                            "diffuseMatrix",
-                          ],
-                          h = [
-                            "diffuseSampler",
-                            "reflectionSampler",
-                            "reflectionSamplerLow",
-                            "reflectionSamplerHigh",
-                          ],
-                          f = ["Material", "Scene"];
+                          "world",
+                          "view",
+                          "viewProjection",
+                          "vEyePosition",
+                          "vLightsType",
+                          "vFogInfos",
+                          "vFogColor",
+                          "pointSize",
+                          "vClipPlane",
+                          "vClipPlane2",
+                          "vClipPlane3",
+                          "vClipPlane4",
+                          "mBones",
+                          "vPrimaryColor",
+                          "vPrimaryColorShadow",
+                          "vReflectionInfos",
+                          "reflectionMatrix",
+                          "vReflectionMicrosurfaceInfos",
+                          "fFovMultiplier",
+                          "shadowLevel",
+                          "alpha",
+                          "vBackgroundCenter",
+                          "vReflectionControl",
+                          "vDiffuseInfos",
+                          "diffuseMatrix",
+                        ];
+                        var h = [
+                          "diffuseSampler",
+                          "reflectionSampler",
+                          "reflectionSamplerLow",
+                          "reflectionSamplerHigh",
+                        ];
+                        var f = ["Material", "Scene"];
                         (yi.a &&
                           (yi.a.PrepareUniforms(l, o),
                           yi.a.PrepareSamplers(h, o)),
@@ -93785,41 +94791,47 @@ and limitations under the License.
                     }),
                     (t.prototype._computePrimaryColorFromPerceptualColor =
                       function () {
-                        this.__perceptualColor &&
+                        if (this.__perceptualColor) {
                           (this._primaryColor.copyFrom(this.__perceptualColor),
-                          this._primaryColor.toLinearSpaceToRef(
-                            this._primaryColor,
-                          ),
-                          this._imageProcessingConfiguration &&
-                            this._primaryColor.scaleToRef(
-                              1 / this._imageProcessingConfiguration.exposure,
+                            this._primaryColor.toLinearSpaceToRef(
                               this._primaryColor,
                             ),
-                          this._computePrimaryColors());
+                            this._imageProcessingConfiguration &&
+                              this._primaryColor.scaleToRef(
+                                1 / this._imageProcessingConfiguration.exposure,
+                                this._primaryColor,
+                              ),
+                            this._computePrimaryColors());
+                        }
                       }),
                     (t.prototype._computePrimaryColors = function () {
-                      (0 === this._primaryColorShadowLevel &&
-                        0 === this._primaryColorHighlightLevel) ||
+                      if (
+                        !(
+                          0 === this._primaryColorShadowLevel &&
+                          0 === this._primaryColorHighlightLevel
+                        )
+                      ) {
                         (this._primaryColor.scaleToRef(
                           this._primaryColorShadowLevel,
                           this._primaryShadowColor,
                         ),
-                        this._primaryColor.subtractToRef(
-                          this._primaryShadowColor,
-                          this._primaryShadowColor,
-                        ),
-                        this._white.subtractToRef(
-                          this._primaryColor,
-                          this._primaryHighlightColor,
-                        ),
-                        this._primaryHighlightColor.scaleToRef(
-                          this._primaryColorHighlightLevel,
-                          this._primaryHighlightColor,
-                        ),
-                        this._primaryColor.addToRef(
-                          this._primaryHighlightColor,
-                          this._primaryHighlightColor,
-                        ));
+                          this._primaryColor.subtractToRef(
+                            this._primaryShadowColor,
+                            this._primaryShadowColor,
+                          ),
+                          this._white.subtractToRef(
+                            this._primaryColor,
+                            this._primaryHighlightColor,
+                          ),
+                          this._primaryHighlightColor.scaleToRef(
+                            this._primaryColorHighlightLevel,
+                            this._primaryHighlightColor,
+                          ),
+                          this._primaryColor.addToRef(
+                            this._primaryHighlightColor,
+                            this._primaryHighlightColor,
+                          ));
+                      }
                     }),
                     (t.prototype.buildUniformLayout = function () {
                       (this._uniformBuffer.addUniform("vPrimaryColor", 4),
@@ -93853,7 +94865,7 @@ and limitations under the License.
                             "reflectionSampler",
                             null,
                           ),
-                        e.prototype.unbind.call(this));
+                        e.prototype.unbind());
                     }),
                     (t.prototype.bindOnlyWorldMatrix = function (e) {
                       this._activeEffect.setMatrix("world", e);
@@ -94026,7 +95038,7 @@ and limitations under the License.
                           this._imageProcessingConfiguration.onUpdateParameters.remove(
                             this._imageProcessingObserver,
                           ),
-                        e.prototype.dispose.call(this, t));
+                        e.prototype.dispose(t));
                     }),
                     (t.prototype.clone = function (e) {
                       var i = this;
@@ -94419,14 +95431,15 @@ and limitations under the License.
                           )));
                     }),
                     (e.prototype._setupImageProcessing = function () {
-                      this._options.setupImageProcessing &&
+                      if (this._options.setupImageProcessing) {
                         ((this._scene.imageProcessingConfiguration.contrast =
                           this._options.cameraContrast),
-                        (this._scene.imageProcessingConfiguration.exposure =
-                          this._options.cameraExposure),
-                        (this._scene.imageProcessingConfiguration.toneMappingEnabled =
-                          this._options.toneMappingEnabled),
-                        this._setupEnvironmentTexture());
+                          (this._scene.imageProcessingConfiguration.exposure =
+                            this._options.cameraExposure),
+                          (this._scene.imageProcessingConfiguration.toneMappingEnabled =
+                            this._options.toneMappingEnabled),
+                          this._setupEnvironmentTexture());
+                      }
                     }),
                     (e.prototype._setupEnvironmentTexture = function () {
                       if (!this._scene.environmentTexture)
@@ -94488,10 +95501,12 @@ and limitations under the License.
                         }),
                         o = r.max.subtract(r.min);
                       if (this._options.sizeAuto) {
-                        this._scene.activeCamera instanceof xt &&
-                          this._scene.activeCamera.upperRadiusLimit &&
-                          (i = t =
-                            2 * this._scene.activeCamera.upperRadiusLimit);
+                        if (
+                          this._scene.activeCamera instanceof xt &&
+                          this._scene.activeCamera.upperRadiusLimit
+                        ) {
+                          i = t = 2 * this._scene.activeCamera.upperRadiusLimit;
+                        }
                         var a = o.length();
                         (a > t && (i = t = 2 * a),
                           (t *= 1.1),
@@ -94566,9 +95581,7 @@ and limitations under the License.
                         !this._groundMirror &&
                         ((this._groundMirror = new Wn(
                           "BackgroundPlaneMirrorTexture",
-                          {
-                            ratio: this._options.groundMirrorSizeRatio,
-                          },
+                          { ratio: this._options.groundMirrorSizeRatio },
                           this._scene,
                           false,
                           this._options.groundMirrorTextureType,
@@ -94589,10 +95602,13 @@ and limitations under the License.
                       )
                         for (var i = 0; i < this._scene.meshes.length; i++) {
                           var n = this._scene.meshes[i];
-                          n !== this._ground &&
+                          if (
+                            n !== this._ground &&
                             n !== this._skybox &&
-                            n !== this._rootMesh &&
+                            n !== this._rootMesh
+                          ) {
                             this._groundMirror.renderList.push(n);
+                          }
                         }
                       ((this._groundMirror.clearColor = new a.f(
                         this._options.groundColor.r,
@@ -94604,16 +95620,17 @@ and limitations under the License.
                           this._options.groundMirrorBlurKernel));
                     }),
                     (e.prototype._setupMirrorInGroundMaterial = function () {
-                      this._groundMaterial &&
+                      if (this._groundMaterial) {
                         ((this._groundMaterial.reflectionTexture =
                           this._groundMirror),
-                        (this._groundMaterial.reflectionFresnel = true),
-                        (this._groundMaterial.reflectionAmount =
-                          this._options.groundMirrorAmount),
-                        (this._groundMaterial.reflectionStandardFresnelWeight =
-                          this._options.groundMirrorFresnelWeight),
-                        (this._groundMaterial.reflectionFalloffDistance =
-                          this._options.groundMirrorFallOffDistance));
+                          (this._groundMaterial.reflectionFresnel = true),
+                          (this._groundMaterial.reflectionAmount =
+                            this._options.groundMirrorAmount),
+                          (this._groundMaterial.reflectionStandardFresnelWeight =
+                            this._options.groundMirrorFresnelWeight),
+                          (this._groundMaterial.reflectionFalloffDistance =
+                            this._options.groundMirrorFallOffDistance));
+                      }
                     }),
                     (e.prototype._setupSkybox = function (e) {
                       var t = this;
@@ -94631,21 +95648,22 @@ and limitations under the License.
                         (this._skybox.parent = this._rootMesh));
                     }),
                     (e.prototype._setupSkyboxMaterial = function () {
-                      this._skybox &&
+                      if (this._skybox) {
                         (this._skyboxMaterial ||
                           (this._skyboxMaterial = new Jn(
                             "BackgroundSkyboxMaterial",
                             this._scene,
                           )),
-                        (this._skyboxMaterial.useRGBColor = false),
-                        (this._skyboxMaterial.primaryColor =
-                          this._options.skyboxColor),
-                        (this._skyboxMaterial.enableNoise = true),
-                        (this._skybox.material = this._skyboxMaterial));
+                          (this._skyboxMaterial.useRGBColor = false),
+                          (this._skyboxMaterial.primaryColor =
+                            this._options.skyboxColor),
+                          (this._skyboxMaterial.enableNoise = true),
+                          (this._skybox.material = this._skyboxMaterial));
+                      }
                     }),
                     (e.prototype._setupSkyboxReflectionTexture = function () {
-                      this._skyboxMaterial &&
-                        (this._skyboxTexture ||
+                      if (this._skyboxMaterial) {
+                        this._skyboxTexture ||
                           (this._options.skyboxTexture instanceof jn.a
                             ? (this._skyboxMaterial.reflectionTexture =
                                 this._options.skyboxTexture)
@@ -94662,7 +95680,8 @@ and limitations under the License.
                                 je.a.SKYBOX_MODE),
                               (this._skyboxTexture.gammaSpace = false),
                               (this._skyboxMaterial.reflectionTexture =
-                                this._skyboxTexture))));
+                                this._skyboxTexture)));
+                      }
                     }),
                     (e.prototype.dispose = function () {
                       (this._groundMaterial &&
@@ -94683,8 +95702,10 @@ and limitations under the License.
                 tr = n(42),
                 ir = (function (e) {
                   function t(t, i, n, r, s) {
-                    void 0 === s && (s = null);
-                    var c = e.call(this, t, r) || this;
+                    if (void 0 === s) {
+                      s = null;
+                    }
+                    var c = e(t, r) || this;
                     ((c._useDirectMapping = false),
                       (c.onLoadErrorObservable = new o.c()),
                       (t = t || "photoDome"),
@@ -94695,7 +95716,7 @@ and limitations under the License.
                       void 0 === n.useDirectMapping
                         ? (c._useDirectMapping = true)
                         : (c._useDirectMapping = n.useDirectMapping),
-                      void 0 === n.faceForward && (n.faceForward = true),
+                      void 0 === true && (n.faceForward = true),
                       c._setReady(false));
                     var u = (c._material = new Jn(t + "_material", r));
                     if (
@@ -94729,11 +95750,11 @@ and limitations under the License.
                       }),
                       (c._mesh.material = u),
                       (c._mesh.parent = c),
-                      n.faceForward && r.activeCamera)
+                      true && r.activeCamera)
                     ) {
-                      var l = r.activeCamera,
-                        h = a.x.Forward(),
-                        f = a.x.TransformNormal(h, l.getViewMatrix());
+                      var l = r.activeCamera;
+                      var h = a.x.Forward();
+                      var f = a.x.TransformNormal(h, l.getViewMatrix());
                       (f.normalize(),
                         (c.rotation.y = Math.acos(a.x.Dot(h, f))));
                     }
@@ -94746,21 +95767,22 @@ and limitations under the License.
                         return this._photoTexture;
                       },
                       set: function (e) {
-                        this._photoTexture !== e &&
+                        if (this._photoTexture !== e) {
                           ((this._photoTexture = e),
-                          this._useDirectMapping
-                            ? ((this._photoTexture.wrapU =
-                                je.a.CLAMP_ADDRESSMODE),
-                              (this._photoTexture.wrapV =
-                                je.a.CLAMP_ADDRESSMODE),
-                              (this._material.diffuseTexture =
-                                this._photoTexture))
-                            : ((this._photoTexture.coordinatesMode =
-                                je.a.FIXED_EQUIRECTANGULAR_MIRRORED_MODE),
-                              (this._photoTexture.wrapV =
-                                je.a.CLAMP_ADDRESSMODE),
-                              (this._material.reflectionTexture =
-                                this._photoTexture)));
+                            this._useDirectMapping
+                              ? ((this._photoTexture.wrapU =
+                                  je.a.CLAMP_ADDRESSMODE),
+                                (this._photoTexture.wrapV =
+                                  je.a.CLAMP_ADDRESSMODE),
+                                (this._material.diffuseTexture =
+                                  this._photoTexture))
+                              : ((this._photoTexture.coordinatesMode =
+                                  je.a.FIXED_EQUIRECTANGULAR_MIRRORED_MODE),
+                                (this._photoTexture.wrapV =
+                                  je.a.CLAMP_ADDRESSMODE),
+                                (this._material.reflectionTexture =
+                                  this._photoTexture)));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -94781,7 +95803,7 @@ and limitations under the License.
                         this._mesh.dispose(),
                         this._material.dispose(),
                         this.onLoadErrorObservable.clear(),
-                        e.prototype.dispose.call(this, t, i));
+                        e.prototype.dispose(t, i));
                     }),
                     t
                   );
@@ -95035,10 +96057,10 @@ and limitations under the License.
                             this.intensity,
                             this.roughness,
                           ));
-                        var s = 1 - this._indiceOfRefraction,
-                          c = 1 + this._indiceOfRefraction,
-                          u = Math.pow(-s / c, 2),
-                          l = 1 / this._indiceOfRefraction;
+                        var s = 1 - this._indiceOfRefraction;
+                        var c = 1 + this._indiceOfRefraction;
+                        var u = Math.pow(-s / c, 2);
+                        var l = 1 / this._indiceOfRefraction;
                         (e.updateFloat4(
                           "vClearCoatRefractionParams",
                           u,
@@ -95059,25 +96081,26 @@ and limitations under the License.
                               Math.max(1e-5, this.tintColorAtDistance),
                             )));
                       }
-                      t.texturesEnabled &&
+                      if (t.texturesEnabled) {
                         (this._texture &&
                           qn.a.ClearCoatTextureEnabled &&
                           e.setTexture("clearCoatSampler", this._texture),
-                        this._bumpTexture &&
-                          i.getCaps().standardDerivatives &&
-                          qn.a.ClearCoatBumpTextureEnabled &&
-                          !n &&
-                          e.setTexture(
-                            "clearCoatBumpSampler",
-                            this._bumpTexture,
-                          ),
-                        this._isTintEnabled &&
-                          this._tintTexture &&
-                          qn.a.ClearCoatTintTextureEnabled &&
-                          e.setTexture(
-                            "clearCoatTintSampler",
-                            this._tintTexture,
-                          ));
+                          this._bumpTexture &&
+                            i.getCaps().standardDerivatives &&
+                            qn.a.ClearCoatBumpTextureEnabled &&
+                            !n &&
+                            e.setTexture(
+                              "clearCoatBumpSampler",
+                              this._bumpTexture,
+                            ),
+                          this._isTintEnabled &&
+                            this._tintTexture &&
+                            qn.a.ClearCoatTintTextureEnabled &&
+                            e.setTexture(
+                              "clearCoatTintSampler",
+                              this._tintTexture,
+                            ));
+                      }
                     }),
                     (e.prototype.hasTexture = function (e) {
                       return (
@@ -95106,10 +96129,11 @@ and limitations under the License.
                           e.push(this._tintTexture));
                     }),
                     (e.prototype.dispose = function (e) {
-                      e &&
+                      if (e) {
                         (this._texture && this._texture.dispose(),
-                        this._bumpTexture && this._bumpTexture.dispose(),
-                        this._tintTexture && this._tintTexture.dispose());
+                          this._bumpTexture && this._bumpTexture.dispose(),
+                          this._tintTexture && this._tintTexture.dispose());
+                      }
                     }),
                     (e.prototype.getClassName = function () {
                       return "PBRClearCoatConfiguration";
@@ -95309,16 +96333,23 @@ and limitations under the License.
                       return this._texture === e;
                     }),
                     (e.prototype.getActiveTextures = function (e) {
-                      this._texture && e.push(this._texture);
+                      if (this._texture) {
+                        e.push(this._texture);
+                      }
                     }),
                     (e.prototype.getAnimatables = function (e) {
-                      this._texture &&
+                      if (
+                        this._texture &&
                         this._texture.animations &&
-                        this._texture.animations.length > 0 &&
+                        this._texture.animations.length > 0
+                      ) {
                         e.push(this._texture);
+                      }
                     }),
                     (e.prototype.dispose = function (e) {
-                      e && this._texture && this._texture.dispose();
+                      if (e && this._texture) {
+                        this._texture.dispose();
+                      }
                     }),
                     (e.prototype.getClassName = function () {
                       return "PBRAnisotropicConfiguration";
@@ -95541,16 +96572,23 @@ and limitations under the License.
                       return this._texture === e;
                     }),
                     (e.prototype.getActiveTextures = function (e) {
-                      this._texture && e.push(this._texture);
+                      if (this._texture) {
+                        e.push(this._texture);
+                      }
                     }),
                     (e.prototype.getAnimatables = function (e) {
-                      this._texture &&
+                      if (
+                        this._texture &&
                         this._texture.animations &&
-                        this._texture.animations.length > 0 &&
+                        this._texture.animations.length > 0
+                      ) {
                         e.push(this._texture);
+                      }
                     }),
                     (e.prototype.dispose = function (e) {
-                      e && this._texture && this._texture.dispose();
+                      if (e && this._texture) {
+                        this._texture.dispose();
+                      }
                     }),
                     (e.prototype.getClassName = function () {
                       return "PBRSheenConfiguration";
@@ -95703,16 +96741,16 @@ and limitations under the License.
                         this._isRefractionEnabled && t.texturesEnabled)
                       ) {
                         var i = this._getRefractionTexture(t);
-                        i &&
-                          qn.a.RefractionTextureEnabled &&
+                        if (i && qn.a.RefractionTextureEnabled) {
                           ((e.SS_REFRACTION = true),
-                          (e.SS_REFRACTIONMAP_3D = i.isCube),
-                          (e.SS_GAMMAREFRACTION = i.gammaSpace),
-                          (e.SS_RGBDREFRACTION = i.isRGBD),
-                          (e.SS_REFRACTIONMAP_OPPOSITEZ = i.invertZ),
-                          (e.SS_LODINREFRACTIONALPHA = i.lodLevelInAlpha),
-                          (e.SS_LINKREFRACTIONTOTRANSPARENCY =
-                            this._linkRefractionWithTransparency));
+                            (e.SS_REFRACTIONMAP_3D = i.isCube),
+                            (e.SS_GAMMAREFRACTION = i.gammaSpace),
+                            (e.SS_RGBDREFRACTION = i.isRGBD),
+                            (e.SS_REFRACTIONMAP_OPPOSITEZ = i.invertZ),
+                            (e.SS_LODINREFRACTIONALPHA = i.lodLevelInAlpha),
+                            (e.SS_LINKREFRACTIONTOTRANSPARENCY =
+                              this._linkRefractionWithTransparency));
+                        }
                       }
                     }),
                     (e.prototype.bindForSubMesh = function (e, t, i, n, r) {
@@ -95776,29 +96814,30 @@ and limitations under the License.
                             this.scatteringIntensity,
                           ));
                       }
-                      t.texturesEnabled &&
+                      if (t.texturesEnabled) {
                         (this._thicknessTexture &&
                           qn.a.ThicknessTextureEnabled &&
                           e.setTexture(
                             "thicknessSampler",
                             this._thicknessTexture,
                           ),
-                        o &&
-                          qn.a.RefractionTextureEnabled &&
-                          (r
-                            ? e.setTexture("refractionSampler", o)
-                            : (e.setTexture(
-                                "refractionSampler",
-                                o._lodTextureMid || o,
-                              ),
-                              e.setTexture(
-                                "refractionSamplerLow",
-                                o._lodTextureLow || o,
-                              ),
-                              e.setTexture(
-                                "refractionSamplerHigh",
-                                o._lodTextureHigh || o,
-                              ))));
+                          o &&
+                            qn.a.RefractionTextureEnabled &&
+                            (r
+                              ? e.setTexture("refractionSampler", o)
+                              : (e.setTexture(
+                                  "refractionSampler",
+                                  o._lodTextureMid || o,
+                                ),
+                                e.setTexture(
+                                  "refractionSamplerLow",
+                                  o._lodTextureLow || o,
+                                ),
+                                e.setTexture(
+                                  "refractionSamplerHigh",
+                                  o._lodTextureHigh || o,
+                                ))));
+                      }
                     }),
                     (e.prototype.unbind = function (e) {
                       return !(
@@ -95825,10 +96864,13 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype.fillRenderTargetTextures = function (e) {
-                      qn.a.RefractionTextureEnabled &&
+                      if (
+                        qn.a.RefractionTextureEnabled &&
                         this._refractionTexture &&
-                        this._refractionTexture.isRenderTarget &&
+                        this._refractionTexture.isRenderTarget
+                      ) {
                         e.push(this._refractionTexture);
+                      }
                     }),
                     (e.prototype.hasTexture = function (e) {
                       return (
@@ -95859,11 +96901,12 @@ and limitations under the License.
                           e.push(this._refractionTexture));
                     }),
                     (e.prototype.dispose = function (e) {
-                      e &&
+                      if (e) {
                         (this._thicknessTexture &&
                           this._thicknessTexture.dispose(),
-                        this._refractionTexture &&
-                          this._refractionTexture.dispose());
+                          this._refractionTexture &&
+                            this._refractionTexture.dispose());
+                      }
                     }),
                     (e.prototype.getClassName = function () {
                       return "PBRSubSurfaceConfiguration";
@@ -96105,7 +97148,7 @@ and limitations under the License.
                 "precision highp float;\n#include<__decl__pbrVertex>\n#define CUSTOM_VERTEX_BEGIN\n\nattribute vec3 position;\n#ifdef NORMAL\nattribute vec3 normal;\n#endif\n#ifdef TANGENT\nattribute vec4 tangent;\n#endif\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n#ifdef VERTEXCOLOR\nattribute vec4 color;\n#endif\n#include<helperFunctions>\n#include<bonesDeclaration>\n\n#include<instancesDeclaration>\n#if defined(ALBEDO) && ALBEDODIRECTUV == 0\nvarying vec2 vAlbedoUV;\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nvarying vec2 vAmbientUV;\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nvarying vec2 vOpacityUV;\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nvarying vec2 vEmissiveUV;\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nvarying vec2 vLightmapUV;\n#endif\n#if defined(REFLECTIVITY) && REFLECTIVITYDIRECTUV == 0\nvarying vec2 vReflectivityUV;\n#endif\n#if defined(MICROSURFACEMAP) && MICROSURFACEMAPDIRECTUV == 0\nvarying vec2 vMicroSurfaceSamplerUV;\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nvarying vec2 vBumpUV;\n#endif\n#ifdef CLEARCOAT\n#if defined(CLEARCOAT_TEXTURE) && CLEARCOAT_TEXTUREDIRECTUV == 0\nvarying vec2 vClearCoatUV;\n#endif\n#if defined(CLEARCOAT_BUMP) && CLEARCOAT_BUMPDIRECTUV == 0\nvarying vec2 vClearCoatBumpUV;\n#endif\n#if defined(CLEARCOAT_TINT_TEXTURE) && CLEARCOAT_TINT_TEXTUREDIRECTUV == 0\nvarying vec2 vClearCoatTintUV;\n#endif\n#endif\n#ifdef SHEEN\n#if defined(SHEEN_TEXTURE) && SHEEN_TEXTUREDIRECTUV == 0\nvarying vec2 vSheenUV;\n#endif\n#endif\n#ifdef ANISOTROPIC\n#if defined(ANISOTROPIC_TEXTURE) && ANISOTROPIC_TEXTUREDIRECTUV == 0\nvarying vec2 vAnisotropyUV;\n#endif\n#endif\n#ifdef SUBSURFACE\n#if defined(SS_THICKNESSANDMASK_TEXTURE) && SS_THICKNESSANDMASK_TEXTUREDIRECTUV == 0\nvarying vec2 vThicknessUV;\n#endif\n#endif\n\nvarying vec3 vPositionW;\n#if DEBUGMODE>0\nvarying vec4 vClipSpacePosition;\n#endif\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#if defined(USESPHERICALFROMREFLECTIONMAP) && defined(USESPHERICALINVERTEX)\nvarying vec3 vEnvironmentIrradiance;\n#include<harmonicsFunctions>\n#endif\n#endif\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\n#include<bumpVertexDeclaration>\n#include<clipPlaneVertexDeclaration>\n#include<fogVertexDeclaration>\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\n#include<logDepthDeclaration>\n#define CUSTOM_VERTEX_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_VERTEX_MAIN_BEGIN\nvec3 positionUpdated=position;\n#ifdef NORMAL\nvec3 normalUpdated=normal;\n#endif\n#ifdef TANGENT\nvec4 tangentUpdated=tangent;\n#endif\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\n#ifdef REFLECTIONMAP_SKYBOX_TRANSFORMED\nvPositionUVW=(reflectionMatrix*vec4(positionUpdated,1.0)).xyz;\n#else\nvPositionUVW=positionUpdated;\n#endif\n#endif\n#define CUSTOM_VERTEX_UPDATE_POSITION\n#define CUSTOM_VERTEX_UPDATE_NORMAL\n#include<instancesVertex>\n#include<bonesVertex>\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR == 0u) {\ngl_Position=viewProjection*finalWorld*vec4(positionUpdated,1.0);\n} else {\ngl_Position=viewProjectionR*finalWorld*vec4(positionUpdated,1.0);\n}\n#else\ngl_Position=viewProjection*finalWorld*vec4(positionUpdated,1.0);\n#endif\n#if DEBUGMODE>0\nvClipSpacePosition=gl_Position;\n#endif\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\nvPositionW=vec3(worldPos);\n#ifdef NORMAL\nmat3 normalWorld=mat3(finalWorld);\n#ifdef NONUNIFORMSCALING\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\n#endif\nvNormalW=normalize(normalWorld*normalUpdated);\n#if defined(USESPHERICALFROMREFLECTIONMAP) && defined(USESPHERICALINVERTEX)\nvec3 reflectionVector=vec3(reflectionMatrix*vec4(vNormalW,0)).xyz;\n#ifdef REFLECTIONMAP_OPPOSITEZ\nreflectionVector.z*=-1.0;\n#endif\nvEnvironmentIrradiance=computeEnvironmentIrradiance(reflectionVector);\n#endif\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvDirectionW=normalize(vec3(finalWorld*vec4(positionUpdated,0.0)));\n#endif\n\n#ifndef UV1\nvec2 uv=vec2(0.,0.);\n#endif\n#ifndef UV2\nvec2 uv2=vec2(0.,0.);\n#endif\n#ifdef MAINUV1\nvMainUV1=uv;\n#endif\n#ifdef MAINUV2\nvMainUV2=uv2;\n#endif\n#if defined(ALBEDO) && ALBEDODIRECTUV == 0\nif (vAlbedoInfos.x == 0.)\n{\nvAlbedoUV=vec2(albedoMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvAlbedoUV=vec2(albedoMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nif (vAmbientInfos.x == 0.)\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nif (vOpacityInfos.x == 0.)\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nif (vEmissiveInfos.x == 0.)\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nif (vLightmapInfos.x == 0.)\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(REFLECTIVITY) && REFLECTIVITYDIRECTUV == 0\nif (vReflectivityInfos.x == 0.)\n{\nvReflectivityUV=vec2(reflectivityMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvReflectivityUV=vec2(reflectivityMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(MICROSURFACEMAP) && MICROSURFACEMAPDIRECTUV == 0\nif (vMicroSurfaceSamplerInfos.x == 0.)\n{\nvMicroSurfaceSamplerUV=vec2(microSurfaceSamplerMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvMicroSurfaceSamplerUV=vec2(microSurfaceSamplerMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nif (vBumpInfos.x == 0.)\n{\nvBumpUV=vec2(bumpMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvBumpUV=vec2(bumpMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#ifdef CLEARCOAT\n#if defined(CLEARCOAT_TEXTURE) && CLEARCOAT_TEXTUREDIRECTUV == 0\nif (vClearCoatInfos.x == 0.)\n{\nvClearCoatUV=vec2(clearCoatMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvClearCoatUV=vec2(clearCoatMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(CLEARCOAT_BUMP) && CLEARCOAT_BUMPDIRECTUV == 0\nif (vClearCoatBumpInfos.x == 0.)\n{\nvClearCoatBumpUV=vec2(clearCoatBumpMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvClearCoatBumpUV=vec2(clearCoatBumpMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(CLEARCOAT_TINT_TEXTURE) && CLEARCOAT_TINT_TEXTUREDIRECTUV == 0\nif (vClearCoatTintInfos.x == 0.)\n{\nvClearCoatTintUV=vec2(clearCoatTintMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvClearCoatTintUV=vec2(clearCoatTintMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n#ifdef SHEEN\n#if defined(SHEEN_TEXTURE) && SHEEN_TEXTUREDIRECTUV == 0\nif (vSheenInfos.x == 0.)\n{\nvSheenUV=vec2(sheenMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvSheenUV=vec2(sheenMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n#ifdef ANISOTROPIC\n#if defined(ANISOTROPIC_TEXTURE) && ANISOTROPIC_TEXTUREDIRECTUV == 0\nif (vAnisotropyInfos.x == 0.)\n{\nvAnisotropyUV=vec2(anisotropyMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvAnisotropyUV=vec2(anisotropyMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n#ifdef SUBSURFACE\n#if defined(SS_THICKNESSANDMASK_TEXTURE) && SS_THICKNESSANDMASK_TEXTUREDIRECTUV == 0\nif (vThicknessInfos.x == 0.)\n{\nvThicknessUV=vec2(thicknessMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvThicknessUV=vec2(thicknessMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n\n#include<bumpVertex>\n\n#include<clipPlaneVertex>\n\n#include<fogVertex>\n\n#include<shadowsVertex>[0..maxSimultaneousLights]\n\n#ifdef VERTEXCOLOR\nvColor=color;\n#endif\n\n#ifdef POINTSIZE\ngl_PointSize=pointSize;\n#endif\n\n#include<logDepthVertex>\n#define CUSTOM_VERTEX_MAIN_END\n}";
               var ur = (function (e) {
                   function t() {
-                    var t = e.call(this) || this;
+                    var t = e() || this;
                     return (
                       (t.PBR = true),
                       (t.MAINUV1 = false),
@@ -96261,7 +97304,7 @@ and limitations under the License.
                   return (
                     h.d(t, e),
                     (t.prototype.reset = function () {
-                      (e.prototype.reset.call(this),
+                      (e.prototype.reset(),
                         (this.ALPHATESTVALUE = "0.5"),
                         (this.PBR = true));
                     }),
@@ -96270,18 +97313,13 @@ and limitations under the License.
                 })(Kn.a),
                 lr = (function (e) {
                   function t(i, n) {
-                    var r = e.call(this, i, n) || this;
+                    var r = e(i, n) || this;
                     return (
                       (r._directIntensity = 1),
                       (r._emissiveIntensity = 1),
                       (r._environmentIntensity = 1),
                       (r._specularIntensity = 1),
-                      (r._lightingInfos = new a.y(
-                        r._directIntensity,
-                        r._emissiveIntensity,
-                        r._environmentIntensity,
-                        r._specularIntensity,
-                      )),
+                      (r._lightingInfos = new a.y(1, 1, 1, 1)),
                       (r._disableBumpMap = false),
                       (r._albedoTexture = null),
                       (r._ambientTexture = null),
@@ -96382,21 +97420,23 @@ and limitations under the License.
                     (t.prototype._attachImageProcessingConfiguration =
                       function (e) {
                         var t = this;
-                        e !== this._imageProcessingConfiguration &&
+                        if (e !== this._imageProcessingConfiguration) {
                           (this._imageProcessingConfiguration &&
                             this._imageProcessingObserver &&
                             this._imageProcessingConfiguration.onUpdateParameters.remove(
                               this._imageProcessingObserver,
                             ),
-                          (this._imageProcessingConfiguration =
-                            e || this.getScene().imageProcessingConfiguration),
-                          this._imageProcessingConfiguration &&
-                            (this._imageProcessingObserver =
-                              this._imageProcessingConfiguration.onUpdateParameters.add(
-                                function () {
-                                  t._markAllSubMeshesAsImageProcessingDirty();
-                                },
-                              )));
+                            (this._imageProcessingConfiguration =
+                              e ||
+                              this.getScene().imageProcessingConfiguration),
+                            this._imageProcessingConfiguration &&
+                              (this._imageProcessingObserver =
+                                this._imageProcessingConfiguration.onUpdateParameters.add(
+                                  function () {
+                                    t._markAllSubMeshesAsImageProcessingDirty();
+                                  },
+                                )));
+                        }
                       }),
                     Object.defineProperty(
                       t.prototype,
@@ -96436,11 +97476,12 @@ and limitations under the License.
                         return this._transparencyMode;
                       },
                       set: function (e) {
-                        this._transparencyMode !== e &&
+                        if (this._transparencyMode !== e) {
                           ((this._transparencyMode = e),
-                          (this._forceAlphaTest =
-                            e === t.PBRMATERIAL_ALPHATESTANDBLEND),
-                          this._markAllSubMeshesAsTexturesAndMiscDirty());
+                            (this._forceAlphaTest =
+                              e === t.PBRMATERIAL_ALPHATESTANDBLEND),
+                            this._markAllSubMeshesAsTexturesAndMiscDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -96471,7 +97512,7 @@ and limitations under the License.
                     (t.prototype.needAlphaBlendingForMesh = function (t) {
                       return (
                         !(this._disableAlphaBlending && t.visibility >= 1) &&
-                        e.prototype.needAlphaBlendingForMesh.call(this, t)
+                        e.prototype.needAlphaBlendingForMesh(t)
                       );
                     }),
                     (t.prototype.needAlphaTesting = function () {
@@ -96499,7 +97540,9 @@ and limitations under the License.
                     (t.prototype.isReadyForSubMesh = function (e, t, i) {
                       if (t.effect && this.isFrozen && this._wasPreviouslyReady)
                         return true;
-                      t._materialDefines || (t._materialDefines = new ur());
+                      if (!t._materialDefines) {
+                        t._materialDefines = new ur();
+                      }
                       var n = t._materialDefines;
                       if (
                         !this.checkReadyOnEveryCall &&
@@ -96597,13 +97640,18 @@ and limitations under the License.
                         !this._imageProcessingConfiguration.isReady()
                       )
                         return false;
-                      o.getCaps().standardDerivatives ||
-                        e.isVerticesDataPresent(Si.b.NormalKind) ||
+                      if (
+                        !(
+                          o.getCaps().standardDerivatives ||
+                          e.isVerticesDataPresent(Si.b.NormalKind)
+                        )
+                      ) {
                         (e.createNormals(true),
-                        g.a.Warn(
-                          "PBRMaterial: Normals have been created for the mesh: " +
-                            e.name,
-                        ));
+                          g.a.Warn(
+                            "PBRMaterial: Normals have been created for the mesh: " +
+                              e.name,
+                          ));
+                      }
                       var s = t.effect,
                         c = this._prepareEffect(
                           e,
@@ -97106,12 +98154,7 @@ and limitations under the License.
                     }),
                     (t.prototype.forceCompilation = function (e, t, i) {
                       var n = this,
-                        r = h.a(
-                          {
-                            clipPlane: false,
-                          },
-                          i,
-                        ),
+                        r = h.a({ clipPlane: false }, i),
                         o = new ur(),
                         a = this._prepareEffect(
                           e,
@@ -97124,7 +98167,9 @@ and limitations under the License.
                       a.isReady()
                         ? t && t(this)
                         : a.onCompileObservable.add(function () {
-                            t && t(n);
+                            if (t) {
+                              t(n);
+                            }
                           });
                     }),
                     (t.prototype.buildUniformLayout = function () {
@@ -97178,7 +98223,7 @@ and limitations under the License.
                             (t = true),
                           t && this._markAllSubMeshesAsTexturesDirty());
                       }
-                      e.prototype.unbind.call(this);
+                      e.prototype.unbind();
                     }),
                     (t.prototype.bindForSubMesh = function (e, i, n) {
                       var r = this.getScene(),
@@ -97193,8 +98238,8 @@ and limitations under the License.
                               this.bindOnlyNormalMatrix(this._normalMatrix)));
                           var c = this._mustRebind(r, s, i.visibility);
                           Yn.a.BindBonesParameters(i, this._activeEffect);
-                          var u = null,
-                            l = this._uniformBuffer;
+                          var u = null;
+                          var l = this._uniformBuffer;
                           if (c) {
                             var h = r.getEngine();
                             if (
@@ -97261,11 +98306,11 @@ and limitations under the License.
                                     var f = u;
                                     (l.updateVector3(
                                       "vReflectionPosition",
-                                      f.boundingBoxPosition,
+                                      u.boundingBoxPosition,
                                     ),
                                       l.updateVector3(
                                         "vReflectionSize",
-                                        f.boundingBoxSize,
+                                        u.boundingBoxSize,
                                       ));
                                   }
                                   var d = u.sphericalPolynomial;
@@ -97612,13 +98657,13 @@ and limitations under the License.
                                 this._globalAmbientColor,
                               ));
                             var m = r._forcedViewPosition
-                                ? r._forcedViewPosition
-                                : r._mirroredCameraPosition
-                                  ? r._mirroredCameraPosition
-                                  : r.activeCamera.globalPosition,
-                              g =
-                                r.useRightHandedSystem ===
-                                (null != r._mirroredCameraPosition);
+                              ? r._forcedViewPosition
+                              : r._mirroredCameraPosition
+                                ? r._mirroredCameraPosition
+                                : r.activeCamera.globalPosition;
+                            var g =
+                              r.useRightHandedSystem ===
+                              (null != r._mirroredCameraPosition);
                             (s.setFloat4(
                               "vEyePosition",
                               m.x,
@@ -97724,7 +98769,7 @@ and limitations under the License.
                         : this.getScene().environmentTexture;
                     }),
                     (t.prototype.getActiveTextures = function () {
-                      var t = e.prototype.getActiveTextures.call(this);
+                      var t = e.prototype.getActiveTextures();
                       return (
                         this._albedoTexture && t.push(this._albedoTexture),
                         this._ambientTexture && t.push(this._ambientTexture),
@@ -97748,7 +98793,7 @@ and limitations under the License.
                     }),
                     (t.prototype.hasTexture = function (t) {
                       return (
-                        !!e.prototype.hasTexture.call(this, t) ||
+                        !!e.prototype.hasTexture(t) ||
                         this._albedoTexture === t ||
                         this._ambientTexture === t ||
                         this._opacityTexture === t ||
@@ -97794,7 +98839,7 @@ and limitations under the License.
                           this._imageProcessingConfiguration.onUpdateParameters.remove(
                             this._imageProcessingObserver,
                           ),
-                        e.prototype.dispose.call(this, t, i));
+                        e.prototype.dispose(t, i));
                     }),
                     (t.PBRMATERIAL_OPAQUE = 0),
                     (t.PBRMATERIAL_ALPHATEST = 1),
@@ -97828,7 +98873,7 @@ and limitations under the License.
                 })(Qn.a),
                 hr = (function (e) {
                   function t(i, n) {
-                    var r = e.call(this, i, n) || this;
+                    var r = e(i, n) || this;
                     return (
                       (r.directIntensity = 1),
                       (r.emissiveIntensity = 1),
@@ -97941,11 +98986,12 @@ and limitations under the License.
                           );
                         },
                         set: function (e) {
-                          e !== this.usePhysicalLightFalloff &&
+                          if (e !== this.usePhysicalLightFalloff) {
                             (this._markAllSubMeshesAsTexturesDirty(),
-                            (this._lightFalloff = e
-                              ? lr.LIGHTFALLOFF_PHYSICAL
-                              : lr.LIGHTFALLOFF_STANDARD));
+                              (this._lightFalloff = e
+                                ? lr.LIGHTFALLOFF_PHYSICAL
+                                : lr.LIGHTFALLOFF_STANDARD));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -97956,11 +99002,12 @@ and limitations under the License.
                         return this._lightFalloff === lr.LIGHTFALLOFF_GLTF;
                       },
                       set: function (e) {
-                        e !== this.useGLTFLightFalloff &&
+                        if (e !== this.useGLTFLightFalloff) {
                           (this._markAllSubMeshesAsTexturesDirty(),
-                          (this._lightFalloff = e
-                            ? lr.LIGHTFALLOFF_GLTF
-                            : lr.LIGHTFALLOFF_STANDARD));
+                            (this._lightFalloff = e
+                              ? lr.LIGHTFALLOFF_GLTF
+                              : lr.LIGHTFALLOFF_STANDARD));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -98668,7 +99715,9 @@ and limitations under the License.
                       var t = new Int32Array(e, 0, 31),
                         i = new Int32Array(e, 0, 35),
                         n = 1;
-                      131072 & t[2] && (n = Math.max(1, t[7]));
+                      if (131072 & t[2]) {
+                        n = Math.max(1, t[7]);
+                      }
                       var r = t[21],
                         o = r === vr ? i[32] : 0,
                         a = _.a.TEXTURETYPE_UNSIGNED_INT;
@@ -98941,9 +99990,13 @@ and limitations under the License.
                       return o;
                     }),
                     (e.UploadDDSLevels = function (t, i, n, r, o, a, s, c) {
-                      void 0 === s && (s = -1);
+                      if (void 0 === s) {
+                        s = -1;
+                      }
                       var u = null;
-                      r.sphericalPolynomial && (u = new Array());
+                      if (r.sphericalPolynomial) {
+                        u = new Array();
+                      }
                       var l,
                         h,
                         f,
@@ -98961,8 +100014,8 @@ and limitations under the License.
                           if (!r.isCompressed || y) {
                             var x = b[22];
                             d = b[1] + 4;
-                            var S,
-                              C = false;
+                            var S;
+                            var C = false;
                             if (r.isFourCC)
                               switch ((l = b[21])) {
                                 case mr:
@@ -99007,10 +100060,10 @@ and limitations under the License.
                                     )),
                                   );
                               }
-                            var R = e._ExtractLongWordOrder(b[23]),
-                              M = e._ExtractLongWordOrder(b[24]),
-                              O = e._ExtractLongWordOrder(b[25]),
-                              w = e._ExtractLongWordOrder(b[26]);
+                            var R = e._ExtractLongWordOrder(b[23]);
+                            var M = e._ExtractLongWordOrder(b[24]);
+                            var O = e._ExtractLongWordOrder(b[25]);
+                            var w = e._ExtractLongWordOrder(b[26]);
                             (C &&
                               (T = t._getRGBABufferInternalSizedFormat(
                                 r.textureType,
@@ -99170,13 +100223,13 @@ and limitations under the License.
                                             D,
                                           )));
                                   else if (r.isLuminance) {
-                                    var F = t._getUnpackAlignement(),
-                                      B = h;
+                                    var F = t._getUnpackAlignement();
+                                    var B = h;
                                     ((E =
                                       Math.floor((h + F - 1) / F) *
                                         F *
                                         (f - 1) +
-                                      B),
+                                      h),
                                       (p = e._GetLuminanceArrayBuffer(
                                         h,
                                         f,
@@ -99282,16 +100335,16 @@ and limitations under the License.
                         )
                           r && r(o);
                         else {
-                          var a = u._gl,
-                            s = e.width;
+                          var a = u._gl;
+                          var s = e.width;
                           if (s) {
                             for (var l = [], h = 0; h < 3; h++) {
-                              var f = 1 - h / 2,
-                                d = n,
-                                p = L.a.Log2(s) * i + n,
-                                m = d + (p - d) * f,
-                                _ = Math.round(Math.min(Math.max(m, 0), p)),
-                                v = new He.a(u, He.a.DATASOURCE_TEMP);
+                              var f = 1 - h / 2;
+                              var d = n;
+                              var p = L.a.Log2(s) * i + n;
+                              var m = n + (p - n) * f;
+                              var _ = Math.round(Math.min(Math.max(m, 0), p));
+                              var v = new He.a(u, He.a.DATASOURCE_TEMP);
                               if (
                                 ((v.type = o.type),
                                 (v.format = o.format),
@@ -99328,8 +100381,8 @@ and limitations under the License.
                                 ),
                                 e.isDDS)
                               ) {
-                                var y = e.info,
-                                  b = e.data;
+                                var y = e.info;
+                                var b = e.data;
                                 (u._unpackFlipY(y.isCompressed),
                                   yr.UploadDDSLevels(u, v, b, y, true, 6, _));
                               } else
@@ -99395,7 +100448,7 @@ and limitations under the License.
                       }
                     else {
                       var l = e;
-                      ((o = yr.GetDDSInfo(l)),
+                      ((o = yr.GetDDSInfo(e)),
                         (t.width = o.width),
                         (t.height = o.height),
                         i && (o.sphericalPolynomial = new fr.b()),
@@ -99403,7 +100456,7 @@ and limitations under the License.
                           (o.isRGB || o.isLuminance || o.mipmapCount > 1) &&
                           t.generateMipMaps),
                         a._unpackFlipY(o.isCompressed),
-                        yr.UploadDDSLevels(a, t, l, o, s, 6),
+                        yr.UploadDDSLevels(a, t, e, o, s, 6),
                         o.isFourCC ||
                           1 !== o.mipmapCount ||
                           a.generateMipMapsForCubemap(t));
@@ -99734,10 +100787,10 @@ and limitations under the License.
                         d < 3;
                         d++
                       ) {
-                        var p = (n - 1) * h + f,
-                          m = f + (p - f) * (1 - d / 2),
-                          g = Math.round(Math.min(Math.max(m, 0), p)),
-                          v = new He.a(r, He.a.DATASOURCE_TEMP);
+                        var p = (n - 1) * h + f;
+                        var m = f + (p - f) * (1 - d / 2);
+                        var g = Math.round(Math.min(Math.max(m, 0), p));
+                        var v = new He.a(r, He.a.DATASOURCE_TEMP);
                         ((v.isCube = true),
                           (v.invertY = true),
                           (v.generateMipMaps = false),
@@ -99764,9 +100817,7 @@ and limitations under the License.
                         for (
                           var l = function (l) {
                               var h = t[n][l],
-                                f = new Blob([h], {
-                                  type: "image/png",
-                                }),
+                                f = new Blob([h], { type: "image/png" }),
                                 d = URL.createObjectURL(f),
                                 p = new Image();
                               p.src = d;
@@ -99809,13 +100860,14 @@ and limitations under the License.
                                       (r._uploadImageToTexture(e, p, l, n), a)
                                     ) {
                                       var f = u[n];
-                                      f &&
+                                      if (f) {
                                         r._uploadImageToTexture(
                                           f._texture,
                                           p,
                                           l,
                                           0,
                                         );
+                                      }
                                     }
                                     t();
                                   }
@@ -99834,9 +100886,9 @@ and limitations under the License.
                       };
                     for (d = 0; d < t.length; d++) E(d);
                     if (t.length < n) {
-                      var T = void 0,
-                        A = Math.pow(2, n - 1 - t.length),
-                        x = A * A * 4;
+                      var T = void 0;
+                      var A = Math.pow(2, n - 1 - t.length);
+                      var x = A * A * 4;
                       switch (e.type) {
                         case _.a.TEXTURETYPE_UNSIGNED_INT:
                           T = new Uint8Array(x);
@@ -99867,12 +100919,13 @@ and limitations under the License.
                     });
                   }),
                   (e.UploadEnvSpherical = function (e, t) {
-                    1 !== t.version &&
+                    if (1 !== t.version) {
                       g.a.Warn(
                         'Unsupported babylon environment map version "' +
                           t.version +
                           '"',
                       );
+                    }
                     var i = t.irradiance;
                     if (i) {
                       var n = new fr.b();
@@ -100072,9 +101125,9 @@ and limitations under the License.
                     (e.prototype.loadCubeData = function (e, t, i, n, r) {
                       if (!Array.isArray(e)) {
                         t._invertVScale = !t.invertY;
-                        var o = t.getEngine(),
-                          a = new Ar(e, 6),
-                          s = a.numberOfMipmapLevels > 1 && t.generateMipMaps;
+                        var o = t.getEngine();
+                        var a = new Ar(e, 6);
+                        var s = a.numberOfMipmapLevels > 1 && t.generateMipMaps;
                         (o._unpackFlipY(true),
                           a.uploadLevels(t, t.generateMipMaps),
                           (t.width = a.pixelWidth),
@@ -100105,8 +101158,9 @@ and limitations under the License.
                   if ((void 0 === e && (e = false), e && this.lights))
                     for (var t = 0; t < this.lights.length; t++)
                       this.lights[t].dispose();
-                  0 === this.lights.length &&
+                  if (0 === this.lights.length) {
                     new gi.a("default light", a.x.Up(), this);
+                  }
                 }),
                 (Y.a.prototype.createDefaultCamera = function (e, t, i) {
                   if (
@@ -100118,11 +101172,11 @@ and limitations under the License.
                       (this.activeCamera.dispose(), (this.activeCamera = null)),
                     !this.activeCamera)
                   ) {
-                    var n,
-                      r = this.getWorldExtends(),
-                      o = r.max.subtract(r.min),
-                      s = r.min.add(o.scale(0.5)),
-                      c = 1.5 * o.length();
+                    var n;
+                    var r = this.getWorldExtends();
+                    var o = r.max.subtract(r.min);
+                    var s = r.min.add(o.scale(0.5));
+                    var c = 1.5 * o.length();
                     if (
                       (isFinite(c) || ((c = 1), s.copyFromFloats(0, 0, 0)), e)
                     ) {
@@ -100150,7 +101204,9 @@ and limitations under the License.
                       (n.speed = 0.2 * c),
                       (this.activeCamera = n));
                     var h = this.getEngine().getRenderingCanvas();
-                    i && h && n.attachControl(h);
+                    if (i && h) {
+                      n.attachControl(h);
+                    }
                   }
                 }),
                 (Y.a.prototype.createDefaultCameraOrLight = function (e, t, i) {
@@ -100174,7 +101230,9 @@ and limitations under the License.
                       ),
                       null
                     );
-                  r && e && (this.environmentTexture = e);
+                  if (r && e) {
+                    this.environmentTexture = e;
+                  }
                   var o = me.a.CreateBox("hdrSkyBox", i, this);
                   if (t) {
                     var a = new hr("skyBox", this);
@@ -100231,13 +101289,13 @@ and limitations under the License.
                           loop: true,
                           autoUpdateTexture: true,
                         }));
-                    var c = e.call(this, null, n, !r, o) || this;
+                    var c = e(null, n, !r, o) || this;
                     ((c._onUserActionRequestedObservable = null),
                       (c._stillImageCaptured = false),
                       (c._displayingPosterTexture = false),
                       (c._createInternalTexture = function () {
                         if (null != c._texture) {
-                          if (!c._displayingPosterTexture) return;
+                          return;
                           (c._texture.dispose(),
                             (c._displayingPosterTexture = false));
                         }
@@ -100253,7 +101311,7 @@ and limitations under the License.
                           (c._texture = c._engine.createDynamicTexture(
                             c.video.videoWidth,
                             c.video.videoHeight,
-                            c._generateMipMaps,
+                            false,
                             c.samplingMode,
                           )),
                           c.video.autoplay || c._settings.poster)
@@ -100263,9 +101321,9 @@ and limitations under the License.
                             c.onLoadObservable.hasObservers() &&
                               c.onLoadObservable.notifyObservers(c));
                         else {
-                          var e = c.video.onplaying,
-                            t = false,
-                            i = c.video.muted;
+                          var e = c.video.onplaying;
+                          var t = false;
+                          var i = c.video.muted;
                           ((c.video.muted = true),
                             (c.video.onplaying = function () {
                               ((c.video.muted = i),
@@ -100296,20 +101354,21 @@ and limitations under the License.
                         }
                       }),
                       (c.reset = function () {
-                        null != c._texture &&
-                          (c._displayingPosterTexture ||
-                            (c._texture.dispose(), (c._texture = null)));
+                        if (null != null) {
+                          c._displayingPosterTexture ||
+                            (null.dispose(), (c._texture = null));
+                        }
                       }),
                       (c._updateInternalTexture = function () {
-                        null != c._texture &&
-                          c._texture.isReady &&
-                          (c.video.readyState < c.video.HAVE_CURRENT_DATA ||
+                        if (null != c._texture && c._texture.isReady) {
+                          c.video.readyState < c.video.HAVE_CURRENT_DATA ||
                             c._displayingPosterTexture ||
                             c._engine.updateVideoTexture(
                               c._texture,
                               c.video,
                               c._invertY,
-                            ));
+                            );
+                        }
                       }),
                       (c._engine = c.getScene().getEngine()),
                       (c._generateMipMaps = r),
@@ -100395,19 +101454,22 @@ and limitations under the License.
                       this.update();
                     }),
                     (t.prototype.update = function () {
-                      this.autoUpdateTexture && this.updateTexture(true);
+                      if (this.autoUpdateTexture) {
+                        this.updateTexture(true);
+                      }
                     }),
                     (t.prototype.updateTexture = function (e) {
-                      e &&
-                        ((this.video.paused && this._stillImageCaptured) ||
+                      if (e) {
+                        (this.video.paused && this._stillImageCaptured) ||
                           ((this._stillImageCaptured = true),
-                          this._updateInternalTexture()));
+                          this._updateInternalTexture());
+                      }
                     }),
                     (t.prototype.updateURL = function (e) {
                       this.video.src = e;
                     }),
                     (t.prototype.dispose = function () {
-                      (e.prototype.dispose.call(this),
+                      (e.prototype.dispose(),
                         this._onUserActionRequestedObservable &&
                           (this._onUserActionRequestedObservable.clear(),
                           (this._onUserActionRequestedObservable = null)),
@@ -100458,11 +101520,7 @@ and limitations under the License.
                         o = this;
                       return (
                         void 0 === n && (n = false),
-                        t &&
-                          t.deviceId &&
-                          (r = {
-                            exact: t.deviceId,
-                          }),
+                        t && t.deviceId && (r = { exact: t.deviceId }),
                         navigator.mediaDevices
                           ? navigator.mediaDevices
                               .getUserMedia({
@@ -100507,7 +101565,9 @@ and limitations under the License.
                       (void 0 === n && (n = false),
                         this.CreateFromWebCamAsync(e, i, n)
                           .then(function (e) {
-                            t && t(e);
+                            if (t) {
+                              t(e);
+                            }
                           })
                           .catch(function (e) {
                             g.a.Error(e.name);
@@ -100518,7 +101578,7 @@ and limitations under the License.
                 })(je.a),
                 Cr = (function (e) {
                   function t(i, n, r, o) {
-                    var s = e.call(this, i, o) || this;
+                    var s = e(i, o) || this;
                     ((s._useDirectMapping = false),
                       (s._videoMode = t.MODE_MONOSCOPIC),
                       (s._onBeforeCameraRenderObserver = null),
@@ -100535,7 +101595,7 @@ and limitations under the License.
                       void 0 === r.useDirectMapping
                         ? (s._useDirectMapping = true)
                         : (s._useDirectMapping = r.useDirectMapping),
-                      void 0 === r.faceForward && (r.faceForward = true),
+                      void 0 === true && (r.faceForward = true),
                       s._setReady(false));
                     var c = {
                         loop: r.loop,
@@ -100582,11 +101642,11 @@ and limitations under the License.
                         (o.onPointerUp = function () {
                           s._videoTexture.video.play();
                         }),
-                      r.faceForward && o.activeCamera)
+                      true && o.activeCamera)
                     ) {
-                      var h = o.activeCamera,
-                        f = a.x.Forward(),
-                        d = a.x.TransformNormal(f, h.getViewMatrix());
+                      var h = o.activeCamera;
+                      var f = a.x.Forward();
+                      var d = a.x.TransformNormal(f, h.getViewMatrix());
                       (d.normalize(),
                         (s.rotation.y = Math.acos(a.x.Dot(f, d))));
                     }
@@ -100616,7 +101676,9 @@ and limitations under the License.
                         return this._videoMode;
                       },
                       set: function (e) {
-                        this._videoMode !== e && this._changeVideoMode(e);
+                        if (this._videoMode !== e) {
+                          this._changeVideoMode(e);
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -100665,7 +101727,7 @@ and limitations under the License.
                         this._scene.onBeforeCameraRenderObservable.remove(
                           this._onBeforeCameraRenderObserver,
                         ),
-                        e.prototype.dispose.call(this, t, i));
+                        e.prototype.dispose(t, i));
                     }),
                     (t.MODE_MONOSCOPIC = 0),
                     (t.MODE_TOPBOTTOM = 1),
@@ -100699,39 +101761,31 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this;
-                        e !== this._captureGPUFrameTime &&
+                        if (e !== this._captureGPUFrameTime) {
                           ((this._captureGPUFrameTime = e),
-                          e
-                            ? ((this._onBeginFrameObserver =
-                                this.engine.onBeginFrameObservable.add(
-                                  function () {
-                                    t._gpuFrameTimeToken ||
-                                      (t._gpuFrameTimeToken =
-                                        t.engine.startTimeQuery());
-                                  },
-                                )),
-                              (this._onEndFrameObserver =
-                                this.engine.onEndFrameObservable.add(
-                                  function () {
-                                    if (t._gpuFrameTimeToken) {
-                                      var e = t.engine.endTimeQuery(
-                                        t._gpuFrameTimeToken,
-                                      );
-                                      e > -1 &&
-                                        ((t._gpuFrameTimeToken = null),
-                                        t._gpuFrameTime.fetchNewFrame(),
-                                        t._gpuFrameTime.addCount(e, true));
-                                    }
-                                  },
-                                )))
-                            : (this.engine.onBeginFrameObservable.remove(
-                                this._onBeginFrameObserver,
-                              ),
-                              (this._onBeginFrameObserver = null),
-                              this.engine.onEndFrameObservable.remove(
-                                this._onEndFrameObserver,
-                              ),
-                              (this._onEndFrameObserver = null)));
+                            e
+                              ? ((this._onBeginFrameObserver =
+                                  this.engine.onBeginFrameObservable.add(
+                                    function () {
+                                      if (!t._gpuFrameTimeToken) {
+                                        t._gpuFrameTimeToken =
+                                          t.engine.startTimeQuery();
+                                      }
+                                    },
+                                  )),
+                                (this._onEndFrameObserver =
+                                  this.engine.onEndFrameObservable.add(
+                                    function () {},
+                                  )))
+                              : (this.engine.onBeginFrameObservable.remove(
+                                  this._onBeginFrameObserver,
+                                ),
+                                (this._onBeginFrameObserver = null),
+                                this.engine.onEndFrameObservable.remove(
+                                  this._onEndFrameObserver,
+                                ),
+                                (this._onEndFrameObserver = null)));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -100756,32 +101810,33 @@ and limitations under the License.
                         },
                         set: function (e) {
                           var t = this;
-                          e !== this._captureShaderCompilationTime &&
+                          if (e !== this._captureShaderCompilationTime) {
                             ((this._captureShaderCompilationTime = e),
-                            e
-                              ? ((this._onBeforeShaderCompilationObserver =
-                                  this.engine.onBeforeShaderCompilationObservable.add(
-                                    function () {
-                                      (t._shaderCompilationTime.fetchNewFrame(),
-                                        t._shaderCompilationTime.beginMonitoring());
-                                    },
-                                  )),
-                                (this._onAfterShaderCompilationObserver =
-                                  this.engine.onAfterShaderCompilationObservable.add(
-                                    function () {
-                                      t._shaderCompilationTime.endMonitoring();
-                                    },
-                                  )))
-                              : (this.engine.onBeforeShaderCompilationObservable.remove(
-                                  this._onBeforeShaderCompilationObserver,
-                                ),
-                                (this._onBeforeShaderCompilationObserver =
-                                  null),
-                                this.engine.onAfterShaderCompilationObservable.remove(
-                                  this._onAfterShaderCompilationObserver,
-                                ),
-                                (this._onAfterShaderCompilationObserver =
-                                  null)));
+                              e
+                                ? ((this._onBeforeShaderCompilationObserver =
+                                    this.engine.onBeforeShaderCompilationObservable.add(
+                                      function () {
+                                        (t._shaderCompilationTime.fetchNewFrame(),
+                                          t._shaderCompilationTime.beginMonitoring());
+                                      },
+                                    )),
+                                  (this._onAfterShaderCompilationObserver =
+                                    this.engine.onAfterShaderCompilationObservable.add(
+                                      function () {
+                                        t._shaderCompilationTime.endMonitoring();
+                                      },
+                                    )))
+                                : (this.engine.onBeforeShaderCompilationObservable.remove(
+                                    this._onBeforeShaderCompilationObserver,
+                                  ),
+                                  (this._onBeforeShaderCompilationObserver =
+                                    null),
+                                  this.engine.onAfterShaderCompilationObservable.remove(
+                                    this._onAfterShaderCompilationObserver,
+                                  ),
+                                  (this._onAfterShaderCompilationObserver =
+                                    null)));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -100901,37 +101956,39 @@ and limitations under the License.
                         },
                         set: function (e) {
                           var t = this;
-                          e !== this._captureActiveMeshesEvaluationTime &&
+                          if (e !== this._captureActiveMeshesEvaluationTime) {
                             ((this._captureActiveMeshesEvaluationTime = e),
-                            e
-                              ? ((this._onBeforeActiveMeshesEvaluationObserver =
-                                  this.scene.onBeforeActiveMeshesEvaluationObservable.add(
-                                    function () {
-                                      (Ee.h.StartPerformanceCounter(
-                                        "Active meshes evaluation",
-                                      ),
-                                        t._activeMeshesEvaluationTime.beginMonitoring());
-                                    },
-                                  )),
-                                (this._onAfterActiveMeshesEvaluationObserver =
-                                  this.scene.onAfterActiveMeshesEvaluationObservable.add(
-                                    function () {
-                                      (Ee.h.EndPerformanceCounter(
-                                        "Active meshes evaluation",
-                                      ),
-                                        t._activeMeshesEvaluationTime.endMonitoring());
-                                    },
-                                  )))
-                              : (this.scene.onBeforeActiveMeshesEvaluationObservable.remove(
-                                  this._onBeforeActiveMeshesEvaluationObserver,
-                                ),
-                                (this._onBeforeActiveMeshesEvaluationObserver =
-                                  null),
-                                this.scene.onAfterActiveMeshesEvaluationObservable.remove(
-                                  this._onAfterActiveMeshesEvaluationObserver,
-                                ),
-                                (this._onAfterActiveMeshesEvaluationObserver =
-                                  null)));
+                              e
+                                ? ((this._onBeforeActiveMeshesEvaluationObserver =
+                                    this.scene.onBeforeActiveMeshesEvaluationObservable.add(
+                                      function () {
+                                        (Ee.h.StartPerformanceCounter(
+                                          "Active meshes evaluation",
+                                        ),
+                                          t._activeMeshesEvaluationTime.beginMonitoring());
+                                      },
+                                    )),
+                                  (this._onAfterActiveMeshesEvaluationObserver =
+                                    this.scene.onAfterActiveMeshesEvaluationObservable.add(
+                                      function () {
+                                        (Ee.h.EndPerformanceCounter(
+                                          "Active meshes evaluation",
+                                        ),
+                                          t._activeMeshesEvaluationTime.endMonitoring());
+                                      },
+                                    )))
+                                : (this.scene.onBeforeActiveMeshesEvaluationObservable.remove(
+                                    this
+                                      ._onBeforeActiveMeshesEvaluationObserver,
+                                  ),
+                                  (this._onBeforeActiveMeshesEvaluationObserver =
+                                    null),
+                                  this.scene.onAfterActiveMeshesEvaluationObservable.remove(
+                                    this._onAfterActiveMeshesEvaluationObserver,
+                                  ),
+                                  (this._onAfterActiveMeshesEvaluationObserver =
+                                    null)));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -100957,39 +102014,40 @@ and limitations under the License.
                         },
                         set: function (e) {
                           var t = this;
-                          e !== this._captureRenderTargetsRenderTime &&
+                          if (e !== this._captureRenderTargetsRenderTime) {
                             ((this._captureRenderTargetsRenderTime = e),
-                            e
-                              ? ((this._onBeforeRenderTargetsRenderObserver =
-                                  this.scene.onBeforeRenderTargetsRenderObservable.add(
-                                    function () {
-                                      (Ee.h.StartPerformanceCounter(
-                                        "Render targets rendering",
-                                      ),
-                                        t._renderTargetsRenderTime.beginMonitoring());
-                                    },
-                                  )),
-                                (this._onAfterRenderTargetsRenderObserver =
-                                  this.scene.onAfterRenderTargetsRenderObservable.add(
-                                    function () {
-                                      (Ee.h.EndPerformanceCounter(
-                                        "Render targets rendering",
-                                      ),
-                                        t._renderTargetsRenderTime.endMonitoring(
-                                          false,
-                                        ));
-                                    },
-                                  )))
-                              : (this.scene.onBeforeRenderTargetsRenderObservable.remove(
-                                  this._onBeforeRenderTargetsRenderObserver,
-                                ),
-                                (this._onBeforeRenderTargetsRenderObserver =
-                                  null),
-                                this.scene.onAfterRenderTargetsRenderObservable.remove(
-                                  this._onAfterRenderTargetsRenderObserver,
-                                ),
-                                (this._onAfterRenderTargetsRenderObserver =
-                                  null)));
+                              e
+                                ? ((this._onBeforeRenderTargetsRenderObserver =
+                                    this.scene.onBeforeRenderTargetsRenderObservable.add(
+                                      function () {
+                                        (Ee.h.StartPerformanceCounter(
+                                          "Render targets rendering",
+                                        ),
+                                          t._renderTargetsRenderTime.beginMonitoring());
+                                      },
+                                    )),
+                                  (this._onAfterRenderTargetsRenderObserver =
+                                    this.scene.onAfterRenderTargetsRenderObservable.add(
+                                      function () {
+                                        (Ee.h.EndPerformanceCounter(
+                                          "Render targets rendering",
+                                        ),
+                                          t._renderTargetsRenderTime.endMonitoring(
+                                            false,
+                                          ));
+                                      },
+                                    )))
+                                : (this.scene.onBeforeRenderTargetsRenderObservable.remove(
+                                    this._onBeforeRenderTargetsRenderObserver,
+                                  ),
+                                  (this._onBeforeRenderTargetsRenderObserver =
+                                    null),
+                                  this.scene.onAfterRenderTargetsRenderObservable.remove(
+                                    this._onAfterRenderTargetsRenderObserver,
+                                  ),
+                                  (this._onAfterRenderTargetsRenderObserver =
+                                    null)));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -101015,37 +102073,40 @@ and limitations under the License.
                         },
                         set: function (e) {
                           var t = this;
-                          e !== this._captureParticlesRenderTime &&
+                          if (e !== this._captureParticlesRenderTime) {
                             ((this._captureParticlesRenderTime = e),
-                            e
-                              ? ((this._onBeforeParticlesRenderingObserver =
-                                  this.scene.onBeforeParticlesRenderingObservable.add(
-                                    function () {
-                                      (Ee.h.StartPerformanceCounter(
-                                        "Particles",
-                                      ),
-                                        t._particlesRenderTime.beginMonitoring());
-                                    },
-                                  )),
-                                (this._onAfterParticlesRenderingObserver =
-                                  this.scene.onAfterParticlesRenderingObservable.add(
-                                    function () {
-                                      (Ee.h.EndPerformanceCounter("Particles"),
-                                        t._particlesRenderTime.endMonitoring(
-                                          false,
-                                        ));
-                                    },
-                                  )))
-                              : (this.scene.onBeforeParticlesRenderingObservable.remove(
-                                  this._onBeforeParticlesRenderingObserver,
-                                ),
-                                (this._onBeforeParticlesRenderingObserver =
-                                  null),
-                                this.scene.onAfterParticlesRenderingObservable.remove(
-                                  this._onAfterParticlesRenderingObserver,
-                                ),
-                                (this._onAfterParticlesRenderingObserver =
-                                  null)));
+                              e
+                                ? ((this._onBeforeParticlesRenderingObserver =
+                                    this.scene.onBeforeParticlesRenderingObservable.add(
+                                      function () {
+                                        (Ee.h.StartPerformanceCounter(
+                                          "Particles",
+                                        ),
+                                          t._particlesRenderTime.beginMonitoring());
+                                      },
+                                    )),
+                                  (this._onAfterParticlesRenderingObserver =
+                                    this.scene.onAfterParticlesRenderingObservable.add(
+                                      function () {
+                                        (Ee.h.EndPerformanceCounter(
+                                          "Particles",
+                                        ),
+                                          t._particlesRenderTime.endMonitoring(
+                                            false,
+                                          ));
+                                      },
+                                    )))
+                                : (this.scene.onBeforeParticlesRenderingObservable.remove(
+                                    this._onBeforeParticlesRenderingObserver,
+                                  ),
+                                  (this._onBeforeParticlesRenderingObserver =
+                                    null),
+                                  this.scene.onAfterParticlesRenderingObservable.remove(
+                                    this._onAfterParticlesRenderingObserver,
+                                  ),
+                                  (this._onAfterParticlesRenderingObserver =
+                                    null)));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -101071,38 +102132,41 @@ and limitations under the License.
                         },
                         set: function (e) {
                           var t = this;
-                          e !== this._captureSpritesRenderTime &&
+                          if (e !== this._captureSpritesRenderTime) {
                             ((this._captureSpritesRenderTime = e),
-                            this.scene.spriteManagers &&
-                              (e
-                                ? ((this._onBeforeSpritesRenderingObserver =
-                                    this.scene.onBeforeSpritesRenderingObservable.add(
-                                      function () {
-                                        (Ee.h.StartPerformanceCounter(
-                                          "Sprites",
-                                        ),
-                                          t._spritesRenderTime.beginMonitoring());
-                                      },
-                                    )),
-                                  (this._onAfterSpritesRenderingObserver =
-                                    this.scene.onAfterSpritesRenderingObservable.add(
-                                      function () {
-                                        (Ee.h.EndPerformanceCounter("Sprites"),
-                                          t._spritesRenderTime.endMonitoring(
-                                            false,
-                                          ));
-                                      },
-                                    )))
-                                : (this.scene.onBeforeSpritesRenderingObservable.remove(
-                                    this._onBeforeSpritesRenderingObserver,
-                                  ),
-                                  (this._onBeforeSpritesRenderingObserver =
-                                    null),
-                                  this.scene.onAfterSpritesRenderingObservable.remove(
-                                    this._onAfterSpritesRenderingObserver,
-                                  ),
-                                  (this._onAfterSpritesRenderingObserver =
-                                    null))));
+                              this.scene.spriteManagers &&
+                                (e
+                                  ? ((this._onBeforeSpritesRenderingObserver =
+                                      this.scene.onBeforeSpritesRenderingObservable.add(
+                                        function () {
+                                          (Ee.h.StartPerformanceCounter(
+                                            "Sprites",
+                                          ),
+                                            t._spritesRenderTime.beginMonitoring());
+                                        },
+                                      )),
+                                    (this._onAfterSpritesRenderingObserver =
+                                      this.scene.onAfterSpritesRenderingObservable.add(
+                                        function () {
+                                          (Ee.h.EndPerformanceCounter(
+                                            "Sprites",
+                                          ),
+                                            t._spritesRenderTime.endMonitoring(
+                                              false,
+                                            ));
+                                        },
+                                      )))
+                                  : (this.scene.onBeforeSpritesRenderingObservable.remove(
+                                      this._onBeforeSpritesRenderingObserver,
+                                    ),
+                                    (this._onBeforeSpritesRenderingObserver =
+                                      null),
+                                    this.scene.onAfterSpritesRenderingObservable.remove(
+                                      this._onAfterSpritesRenderingObserver,
+                                    ),
+                                    (this._onAfterSpritesRenderingObserver =
+                                      null))));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -101121,32 +102185,35 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this;
-                        e !== this._capturePhysicsTime &&
-                          this.scene.onBeforePhysicsObservable &&
+                        if (
+                          e !== this._capturePhysicsTime &&
+                          this.scene.onBeforePhysicsObservable
+                        ) {
                           ((this._capturePhysicsTime = e),
-                          e
-                            ? ((this._onBeforePhysicsObserver =
-                                this.scene.onBeforePhysicsObservable.add(
-                                  function () {
-                                    (Ee.h.StartPerformanceCounter("Physics"),
-                                      t._physicsTime.beginMonitoring());
-                                  },
-                                )),
-                              (this._onAfterPhysicsObserver =
-                                this.scene.onAfterPhysicsObservable.add(
-                                  function () {
-                                    (Ee.h.EndPerformanceCounter("Physics"),
-                                      t._physicsTime.endMonitoring());
-                                  },
-                                )))
-                            : (this.scene.onBeforePhysicsObservable.remove(
-                                this._onBeforePhysicsObserver,
-                              ),
-                              (this._onBeforePhysicsObserver = null),
-                              this.scene.onAfterPhysicsObservable.remove(
-                                this._onAfterPhysicsObserver,
-                              ),
-                              (this._onAfterPhysicsObserver = null)));
+                            e
+                              ? ((this._onBeforePhysicsObserver =
+                                  this.scene.onBeforePhysicsObservable.add(
+                                    function () {
+                                      (Ee.h.StartPerformanceCounter("Physics"),
+                                        t._physicsTime.beginMonitoring());
+                                    },
+                                  )),
+                                (this._onAfterPhysicsObserver =
+                                  this.scene.onAfterPhysicsObservable.add(
+                                    function () {
+                                      (Ee.h.EndPerformanceCounter("Physics"),
+                                        t._physicsTime.endMonitoring());
+                                    },
+                                  )))
+                              : (this.scene.onBeforePhysicsObservable.remove(
+                                  this._onBeforePhysicsObserver,
+                                ),
+                                (this._onBeforePhysicsObserver = null),
+                                this.scene.onAfterPhysicsObservable.remove(
+                                  this._onAfterPhysicsObserver,
+                                ),
+                                (this._onAfterPhysicsObserver = null)));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -101171,19 +102238,20 @@ and limitations under the License.
                         },
                         set: function (e) {
                           var t = this;
-                          e !== this._captureAnimationsTime &&
+                          if (e !== this._captureAnimationsTime) {
                             ((this._captureAnimationsTime = e),
-                            e
-                              ? (this._onAfterAnimationsObserver =
-                                  this.scene.onAfterAnimationsObservable.add(
-                                    function () {
-                                      t._animationsTime.endMonitoring();
-                                    },
-                                  ))
-                              : (this.scene.onAfterAnimationsObservable.remove(
-                                  this._onAfterAnimationsObserver,
-                                ),
-                                (this._onAfterAnimationsObserver = null)));
+                              e
+                                ? (this._onAfterAnimationsObserver =
+                                    this.scene.onAfterAnimationsObservable.add(
+                                      function () {
+                                        t._animationsTime.endMonitoring();
+                                      },
+                                    ))
+                                : (this.scene.onAfterAnimationsObservable.remove(
+                                    this._onAfterAnimationsObserver,
+                                  ),
+                                  (this._onAfterAnimationsObserver = null)));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -101244,35 +102312,36 @@ and limitations under the License.
                       },
                       set: function (e) {
                         var t = this;
-                        e !== this._captureRenderTime &&
+                        if (e !== this._captureRenderTime) {
                           ((this._captureRenderTime = e),
-                          e
-                            ? ((this._onBeforeDrawPhaseObserver =
-                                this.scene.onBeforeDrawPhaseObservable.add(
-                                  function () {
-                                    (t._renderTime.beginMonitoring(),
-                                      Ee.h.StartPerformanceCounter(
-                                        "Main render",
-                                      ));
-                                  },
-                                )),
-                              (this._onAfterDrawPhaseObserver =
-                                this.scene.onAfterDrawPhaseObservable.add(
-                                  function () {
-                                    (t._renderTime.endMonitoring(false),
-                                      Ee.h.EndPerformanceCounter(
-                                        "Main render",
-                                      ));
-                                  },
-                                )))
-                            : (this.scene.onBeforeDrawPhaseObservable.remove(
-                                this._onBeforeDrawPhaseObserver,
-                              ),
-                              (this._onBeforeDrawPhaseObserver = null),
-                              this.scene.onAfterDrawPhaseObservable.remove(
-                                this._onAfterDrawPhaseObserver,
-                              ),
-                              (this._onAfterDrawPhaseObserver = null)));
+                            e
+                              ? ((this._onBeforeDrawPhaseObserver =
+                                  this.scene.onBeforeDrawPhaseObservable.add(
+                                    function () {
+                                      (t._renderTime.beginMonitoring(),
+                                        Ee.h.StartPerformanceCounter(
+                                          "Main render",
+                                        ));
+                                    },
+                                  )),
+                                (this._onAfterDrawPhaseObserver =
+                                  this.scene.onAfterDrawPhaseObservable.add(
+                                    function () {
+                                      (t._renderTime.endMonitoring(false),
+                                        Ee.h.EndPerformanceCounter(
+                                          "Main render",
+                                        ));
+                                    },
+                                  )))
+                              : (this.scene.onBeforeDrawPhaseObservable.remove(
+                                  this._onBeforeDrawPhaseObserver,
+                                ),
+                                (this._onBeforeDrawPhaseObserver = null),
+                                this.scene.onAfterDrawPhaseObservable.remove(
+                                  this._onAfterDrawPhaseObserver,
+                                ),
+                                (this._onAfterDrawPhaseObserver = null)));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -101297,35 +102366,38 @@ and limitations under the License.
                         },
                         set: function (e) {
                           var t = this;
-                          e !== this._captureCameraRenderTime &&
+                          if (e !== this._captureCameraRenderTime) {
                             ((this._captureCameraRenderTime = e),
-                            e
-                              ? ((this._onBeforeCameraRenderObserver =
-                                  this.scene.onBeforeCameraRenderObservable.add(
-                                    function (e) {
-                                      (t._cameraRenderTime.beginMonitoring(),
-                                        Ee.h.StartPerformanceCounter(
-                                          "Rendering camera " + e.name,
-                                        ));
-                                    },
-                                  )),
-                                (this._onAfterCameraRenderObserver =
-                                  this.scene.onAfterCameraRenderObservable.add(
-                                    function (e) {
-                                      (t._cameraRenderTime.endMonitoring(false),
-                                        Ee.h.EndPerformanceCounter(
-                                          "Rendering camera " + e.name,
-                                        ));
-                                    },
-                                  )))
-                              : (this.scene.onBeforeCameraRenderObservable.remove(
-                                  this._onBeforeCameraRenderObserver,
-                                ),
-                                (this._onBeforeCameraRenderObserver = null),
-                                this.scene.onAfterCameraRenderObservable.remove(
-                                  this._onAfterCameraRenderObserver,
-                                ),
-                                (this._onAfterCameraRenderObserver = null)));
+                              e
+                                ? ((this._onBeforeCameraRenderObserver =
+                                    this.scene.onBeforeCameraRenderObservable.add(
+                                      function (e) {
+                                        (t._cameraRenderTime.beginMonitoring(),
+                                          Ee.h.StartPerformanceCounter(
+                                            "Rendering camera " + e.name,
+                                          ));
+                                      },
+                                    )),
+                                  (this._onAfterCameraRenderObserver =
+                                    this.scene.onAfterCameraRenderObservable.add(
+                                      function (e) {
+                                        (t._cameraRenderTime.endMonitoring(
+                                          false,
+                                        ),
+                                          Ee.h.EndPerformanceCounter(
+                                            "Rendering camera " + e.name,
+                                          ));
+                                      },
+                                    )))
+                                : (this.scene.onBeforeCameraRenderObservable.remove(
+                                    this._onBeforeCameraRenderObserver,
+                                  ),
+                                  (this._onBeforeCameraRenderObserver = null),
+                                  this.scene.onAfterCameraRenderObservable.remove(
+                                    this._onAfterCameraRenderObserver,
+                                  ),
+                                  (this._onAfterCameraRenderObserver = null)));
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -101605,32 +102677,33 @@ and limitations under the License.
                       s = false,
                       c = false;
                     if (n) {
-                      var u = n.needAlphaTesting(),
-                        l = n.getAlphaTestTexture(),
-                        h =
-                          l &&
-                          l.hasAlpha &&
-                          (n.useAlphaFromDiffuseTexture ||
-                            n._useAlphaFromAlbedoTexture);
-                      l &&
-                        (u || h) &&
+                      var u = n.needAlphaTesting();
+                      var l = n.getAlphaTestTexture();
+                      var h =
+                        l &&
+                        l.hasAlpha &&
+                        (n.useAlphaFromDiffuseTexture ||
+                          n._useAlphaFromAlbedoTexture);
+                      if (l && (u || h)) {
                         (r.push("#define DIFFUSE"),
-                        a.isVerticesDataPresent(Si.b.UV2Kind) &&
-                        1 === l.coordinatesIndex
-                          ? (r.push("#define DIFFUSEUV2"), (c = true))
-                          : a.isVerticesDataPresent(Si.b.UVKind) &&
-                            (r.push("#define DIFFUSEUV1"), (s = true)),
-                        u &&
-                          (r.push("#define ALPHATEST"),
-                          r.push("#define ALPHATESTVALUE 0.4")));
+                          a.isVerticesDataPresent(Si.b.UV2Kind) &&
+                          1 === l.coordinatesIndex
+                            ? (r.push("#define DIFFUSEUV2"), (c = true))
+                            : a.isVerticesDataPresent(Si.b.UVKind) &&
+                              (r.push("#define DIFFUSEUV1"), (s = true)),
+                          u &&
+                            (r.push("#define ALPHATEST"),
+                            r.push("#define ALPHATESTVALUE 0.4")));
+                      }
                       var f = n.opacityTexture;
-                      f &&
+                      if (f) {
                         (r.push("#define OPACITY"),
-                        a.isVerticesDataPresent(Si.b.UV2Kind) &&
-                        1 === f.coordinatesIndex
-                          ? (r.push("#define OPACITYUV2"), (c = true))
-                          : a.isVerticesDataPresent(Si.b.UVKind) &&
-                            (r.push("#define OPACITYUV1"), (s = true)));
+                          a.isVerticesDataPresent(Si.b.UV2Kind) &&
+                          1 === f.coordinatesIndex
+                            ? (r.push("#define OPACITYUV2"), (c = true))
+                            : a.isVerticesDataPresent(Si.b.UVKind) &&
+                              (r.push("#define OPACITYUV1"), (s = true)));
+                      }
                     }
                     (i &&
                       (r.push("#define EMISSIVE"),
@@ -101705,9 +102778,7 @@ and limitations under the License.
                             void 0,
                             void 0,
                             void 0,
-                            {
-                              maxSimultaneousMorphTargets: p,
-                            },
+                            { maxSimultaneousMorphTargets: p },
                           ))),
                       this._effectLayerMapGenerationEffect.isReady()
                     );
@@ -101765,10 +102836,10 @@ and limitations under the License.
                   (e.prototype._renderSubMesh = function (e, t) {
                     var i = this;
                     if ((void 0 === t && (t = false), this.shouldRender())) {
-                      var n = e.getMaterial(),
-                        r = e.getRenderingMesh(),
-                        o = this._scene,
-                        a = o.getEngine();
+                      var n = e.getMaterial();
+                      var r = e.getRenderingMesh();
+                      var o = this._scene;
+                      var a = o.getEngine();
                       if (
                         ((r._internalAbstractMeshDataInfo._isActiveIntermediate = false),
                         n && this._canRenderMesh(r, n))
@@ -101804,26 +102875,26 @@ and limitations under the License.
                                 this._emissiveTextureAndColor.color.b,
                                 this._emissiveTextureAndColor.color.a,
                               ));
-                            var u = n.needAlphaTesting(),
-                              l = n.getAlphaTestTexture(),
-                              h =
-                                l &&
-                                l.hasAlpha &&
-                                (n.useAlphaFromDiffuseTexture ||
-                                  n._useAlphaFromAlbedoTexture);
-                            l &&
-                              (u || h) &&
+                            var u = n.needAlphaTesting();
+                            var l = n.getAlphaTestTexture();
+                            var h =
+                              l &&
+                              l.hasAlpha &&
+                              (n.useAlphaFromDiffuseTexture ||
+                                n._useAlphaFromAlbedoTexture);
+                            if (l && (u || h)) {
                               (this._effectLayerMapGenerationEffect.setTexture(
                                 "diffuseSampler",
                                 l,
                               ),
-                              (f = l.getTextureMatrix()) &&
-                                this._effectLayerMapGenerationEffect.setMatrix(
-                                  "diffuseMatrix",
-                                  f,
-                                ));
-                            var f,
-                              d = n.opacityTexture;
+                                (f = l.getTextureMatrix()) &&
+                                  this._effectLayerMapGenerationEffect.setMatrix(
+                                    "diffuseMatrix",
+                                    f,
+                                  ));
+                            }
+                            var f;
+                            var d = n.opacityTexture;
                             (d &&
                               (this._effectLayerMapGenerationEffect.setTexture(
                                 "opacitySampler",
@@ -101933,7 +103004,9 @@ and limitations under the License.
               })();
               (r.a.AddParser(Se.a.NAME_EFFECTLAYER, function (e, t, i, n) {
                 if (e.effectLayers) {
-                  i.effectLayers || (i.effectLayers = new Array());
+                  if (!i.effectLayers) {
+                    i.effectLayers = new Array();
+                  }
                   for (var r = 0; r < e.effectLayers.length; r++) {
                     var o = Or.Parse(e.effectLayers[r], t, n);
                     i.effectLayers.push(o);
@@ -102006,22 +103079,26 @@ and limitations under the License.
                       t++
                     ) {
                       var n = i[t];
-                      n.serialize && e.effectLayers.push(n.serialize());
+                      if (n.serialize) {
+                        e.effectLayers.push(n.serialize());
+                      }
                     }
                   }),
                   (e.prototype.addFromContainer = function (e) {
                     var t = this;
-                    e.effectLayers &&
+                    if (e.effectLayers) {
                       e.effectLayers.forEach(function (e) {
                         t.scene.addEffectLayer(e);
                       });
+                    }
                   }),
                   (e.prototype.removeFromContainer = function (e, t) {
                     var i = this;
-                    e.effectLayers &&
+                    if (e.effectLayers) {
                       e.effectLayers.forEach(function (e) {
                         (i.scene.removeEffectLayer(e), t && e.dispose());
                       });
+                    }
                   }),
                   (e.prototype.dispose = function () {
                     for (var e = this.scene.effectLayers; e.length; )
@@ -102064,10 +103141,11 @@ and limitations under the License.
                             (this._needStencil =
                               this._needStencil || o.needStencil()));
                           var a = o._mainTexture;
-                          a._shouldRender() &&
+                          if (a._shouldRender()) {
                             (this.scene.incrementRenderId(),
-                            a.render(false, false),
-                            (t = true));
+                              a.render(false, false),
+                              (t = true));
+                          }
                         }
                       }
                       this.scene.incrementRenderId();
@@ -102075,11 +103153,14 @@ and limitations under the License.
                     return t;
                   }),
                   (e.prototype._setStencil = function () {
-                    this._needStencil && this._engine.setStencilBuffer(true);
+                    if (this._needStencil) {
+                      this._engine.setStencilBuffer(true);
+                    }
                   }),
                   (e.prototype._setStencilBack = function () {
-                    this._needStencil &&
+                    if (this._needStencil) {
                       this._engine.setStencilBuffer(this._previousStencilState);
+                    }
                   }),
                   (e.prototype._draw = function (e) {
                     if (this._renderEffects) {
@@ -102090,27 +103171,34 @@ and limitations under the License.
                         i++
                       ) {
                         var n = t[i];
-                        n.renderingGroupId === e &&
-                          n.shouldRender() &&
+                        if (n.renderingGroupId === e && n.shouldRender()) {
                           n.render();
+                        }
                       }
                       this._engine.setDepthBuffer(true);
                     }
                   }),
                   (e.prototype._drawCamera = function () {
-                    this._renderEffects && this._draw(-1);
+                    if (this._renderEffects) {
+                      this._draw(-1);
+                    }
                   }),
                   (e.prototype._drawRenderingGroup = function (e) {
-                    !this.scene._isInIntermediateRendering() &&
-                      this._renderEffects &&
+                    if (
+                      !this.scene._isInIntermediateRendering() &&
+                      this._renderEffects
+                    ) {
                       this._draw(e);
+                    }
                   }),
                   e
                 );
               })();
               Or._SceneComponentInitialization = function (e) {
                 var t = e._getComponent(Se.a.NAME_EFFECTLAYER);
-                t || ((t = new wr(e)), e._addComponent(t));
+                if (!t) {
+                  ((t = new wr(e)), e._addComponent(t));
+                }
               };
               Ht.a.ShadersStore.glowMapMergePixelShader =
                 "\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\n#ifdef EMISSIVE\nuniform sampler2D textureSampler2;\n#endif\n\nuniform float offset;\nvoid main(void) {\nvec4 baseColor=texture2D(textureSampler,vUV);\n#ifdef EMISSIVE\nbaseColor+=texture2D(textureSampler2,vUV);\nbaseColor*=offset;\n#else\nbaseColor.a=abs(offset-baseColor.a);\n#ifdef STROKE\nfloat alpha=smoothstep(.0,.1,baseColor.a);\nbaseColor.a=alpha;\nbaseColor.rgb=baseColor.rgb*alpha;\n#endif\n#endif\ngl_FragColor=baseColor;\n}";
@@ -102127,7 +103215,7 @@ and limitations under the License.
                 }));
               var Ir = (function (e) {
                 function t(i, n, r) {
-                  var o = e.call(this, i, n) || this;
+                  var o = e(i, n) || this;
                   return (
                     (o._intensity = 1),
                     (o._includedOnlyMeshes = []),
@@ -102336,18 +103424,19 @@ and limitations under the License.
                       this._mainTexture.onAfterUnbindObservable.add(
                         function () {
                           var t = e._blurTexture1.getInternalTexture();
-                          t &&
+                          if (t) {
                             (e._scene.postProcessManager.directRender(
                               e._postProcesses1,
                               t,
                               true,
                             ),
-                            (t = e._blurTexture2.getInternalTexture()) &&
-                              e._scene.postProcessManager.directRender(
-                                e._postProcesses2,
-                                t,
-                                true,
-                              ));
+                              (t = e._blurTexture2.getInternalTexture()) &&
+                                e._scene.postProcessManager.directRender(
+                                  e._postProcesses2,
+                                  t,
+                                  true,
+                                ));
+                          }
                         },
                       ),
                       this._postProcesses.map(function (e) {
@@ -102359,7 +103448,7 @@ and limitations under the License.
                       r = t.getRenderingMesh();
                     if (!n || !r) return false;
                     var o = n.emissiveTexture;
-                    return e.prototype._isReady.call(this, t, i, o);
+                    return e.prototype._isReady(t, i, o);
                   }),
                   (t.prototype.needStencil = function () {
                     return false;
@@ -102420,24 +103509,30 @@ and limitations under the License.
                     e.push("#define GLOW");
                   }),
                   (t.prototype.addExcludedMesh = function (e) {
-                    -1 === this._excludedMeshes.indexOf(e.uniqueId) &&
+                    if (-1 === this._excludedMeshes.indexOf(e.uniqueId)) {
                       this._excludedMeshes.push(e.uniqueId);
+                    }
                   }),
                   (t.prototype.removeExcludedMesh = function (e) {
                     var t = this._excludedMeshes.indexOf(e.uniqueId);
-                    -1 !== t && this._excludedMeshes.splice(t, 1);
+                    if (-1 !== t) {
+                      this._excludedMeshes.splice(t, 1);
+                    }
                   }),
                   (t.prototype.addIncludedOnlyMesh = function (e) {
-                    -1 === this._includedOnlyMeshes.indexOf(e.uniqueId) &&
+                    if (-1 === this._includedOnlyMeshes.indexOf(e.uniqueId)) {
                       this._includedOnlyMeshes.push(e.uniqueId);
+                    }
                   }),
                   (t.prototype.removeIncludedOnlyMesh = function (e) {
                     var t = this._includedOnlyMeshes.indexOf(e.uniqueId);
-                    -1 !== t && this._includedOnlyMeshes.splice(t, 1);
+                    if (-1 !== t) {
+                      this._includedOnlyMeshes.splice(t, 1);
+                    }
                   }),
                   (t.prototype.hasMesh = function (t) {
                     return (
-                      !!e.prototype.hasMesh.call(this, t) &&
+                      !!e.prototype.hasMesh(t) &&
                       (this._includedOnlyMeshes.length
                         ? -1 !== this._includedOnlyMeshes.indexOf(t.uniqueId)
                         : !this._excludedMeshes.length ||
@@ -102466,9 +103561,13 @@ and limitations under the License.
                     if (((t.excludedMeshes = []), this._excludedMeshes.length))
                       for (e = 0; e < this._excludedMeshes.length; e++) {
                         var i;
-                        (i = this._scene.getMeshByUniqueID(
-                          this._excludedMeshes[e],
-                        )) && t.excludedMeshes.push(i.id);
+                        if (
+                          (i = this._scene.getMeshByUniqueID(
+                            this._excludedMeshes[e],
+                          ))
+                        ) {
+                          t.excludedMeshes.push(i.id);
+                        }
                       }
                     return t;
                   }),
@@ -102487,8 +103586,9 @@ and limitations under the License.
                         o.addExcludedMesh(a);
                     for (r = 0; r < e.includedMeshes.length; r++) {
                       var a;
-                      (a = i.getMeshByID(e.includedMeshes[r])) &&
+                      if ((a = i.getMeshByID(e.includedMeshes[r]))) {
                         o.addIncludedOnlyMesh(a);
+                      }
                     }
                     return o;
                   }),
@@ -102520,10 +103620,11 @@ and limitations under the License.
                 }));
               var Dr = (function (e) {
                   function t(t, i, n, r, o, a, s, c) {
-                    void 0 === a && (a = je.a.BILINEAR_SAMPLINGMODE);
+                    if (void 0 === a) {
+                      a = je.a.BILINEAR_SAMPLINGMODE;
+                    }
                     var u =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "glowBlurPostProcess",
                         ["screenSize", "direction", "blurWidth"],
@@ -102549,7 +103650,7 @@ and limitations under the License.
                 })(Wt),
                 Lr = (function (e) {
                   function t(i, n, r) {
-                    var a = e.call(this, i, n) || this;
+                    var a = e(i, n) || this;
                     return (
                       (a.name = i),
                       (a.innerGlow = true),
@@ -102773,7 +103874,7 @@ and limitations under the License.
                         a = this._meshes[r.uniqueId];
                       return (
                         a && a.glowEmissiveOnly && n && (o = n.emissiveTexture),
-                        e.prototype._isReady.call(this, t, i, o)
+                        e.prototype._isReady(t, i, o)
                       );
                     }),
                     (t.prototype._internalRender = function (e) {
@@ -102799,15 +103900,13 @@ and limitations under the License.
                         t.restoreStencilState());
                     }),
                     (t.prototype.shouldRender = function () {
-                      return (
-                        !!e.prototype.shouldRender.call(this) && !!this._meshes
-                      );
+                      return !!e.prototype.shouldRender() && !!this._meshes;
                     }),
                     (t.prototype._shouldRenderMesh = function (t) {
                       return !(
                         (this._excludedMeshes &&
                           this._excludedMeshes[t.uniqueId]) ||
-                        !e.prototype.hasMesh.call(this, t)
+                        !e.prototype.hasMesh(t)
                       );
                     }),
                     (t.prototype._setEmissiveTextureAndColor = function (
@@ -102836,8 +103935,8 @@ and limitations under the License.
                           : (this._emissiveTextureAndColor.texture = null));
                     }),
                     (t.prototype.addExcludedMesh = function (e) {
-                      this._excludedMeshes &&
-                        (this._excludedMeshes[e.uniqueId] ||
+                      if (this._excludedMeshes) {
+                        this._excludedMeshes[e.uniqueId] ||
                           (this._excludedMeshes[e.uniqueId] = {
                             mesh: e,
                             beforeBind: e.onBeforeBindObservable.add(
@@ -102850,7 +103949,8 @@ and limitations under the License.
                                 e.getEngine().setStencilBuffer(true);
                               },
                             ),
-                          }));
+                          });
+                      }
                     }),
                     (t.prototype.removeExcludedMesh = function (e) {
                       if (this._excludedMeshes) {
@@ -102866,7 +103966,7 @@ and limitations under the License.
                     (t.prototype.hasMesh = function (t) {
                       return (
                         !!this._meshes &&
-                        !!e.prototype.hasMesh.call(this, t) &&
+                        !!e.prototype.hasMesh(t) &&
                         void 0 !== this._meshes[t.uniqueId] &&
                         null !== this._meshes[t.uniqueId]
                       );
@@ -102951,19 +104051,20 @@ and limitations under the License.
                       if (this._excludedMeshes) {
                         for (var t in this._excludedMeshes) {
                           var i;
-                          (i = this._excludedMeshes[t]) &&
+                          if ((i = this._excludedMeshes[t])) {
                             (i.beforeBind &&
                               i.mesh.onBeforeBindObservable.remove(
                                 i.beforeBind,
                               ),
-                            i.afterRender &&
-                              i.mesh.onAfterRenderObservable.remove(
-                                i.afterRender,
-                              ));
+                              i.afterRender &&
+                                i.mesh.onAfterRenderObservable.remove(
+                                  i.afterRender,
+                                ));
+                          }
                         }
                         this._excludedMeshes = null;
                       }
-                      e.prototype.dispose.call(this);
+                      e.prototype.dispose();
                     }),
                     (t.prototype.getClassName = function () {
                       return "HighlightLayer";
@@ -102977,17 +104078,20 @@ and limitations under the License.
                       )
                         for (var t in this._meshes) {
                           var i = this._meshes[t];
-                          i &&
+                          if (i) {
                             e.meshes.push({
                               glowEmissiveOnly: i.glowEmissiveOnly,
                               color: i.color.asArray(),
                               meshId: i.mesh.id,
                             });
+                          }
                         }
                       if (((e.excludedMeshes = []), this._excludedMeshes))
                         for (var n in this._excludedMeshes) {
                           var r = this._excludedMeshes[n];
-                          r && e.excludedMeshes.push(r.mesh.id);
+                          if (r) {
+                            e.excludedMeshes.push(r.mesh.id);
+                          }
                         }
                       return e;
                     }),
@@ -103005,14 +104109,15 @@ and limitations under the License.
                         (s = i.getMeshByID(e.excludedMeshes[r])) &&
                           o.addExcludedMesh(s);
                       for (r = 0; r < e.meshes.length; r++) {
-                        var s,
-                          c = e.meshes[r];
-                        (s = i.getMeshByID(c.meshId)) &&
+                        var s;
+                        var c = e.meshes[r];
+                        if ((s = i.getMeshByID(c.meshId))) {
                           o.addMesh(
                             s,
                             a.e.FromArray(c.color),
                             c.glowEmissiveOnly,
                           );
+                        }
                       }
                       return o;
                     }),
@@ -103082,7 +104187,9 @@ and limitations under the License.
                       this._engine.setDepthBuffer(false);
                       for (var i = 0, n = t; i < n.length; i++) {
                         var r = n[i];
-                        e(r) && r.render();
+                        if (e(r)) {
+                          r.render();
+                        }
                       }
                       this._engine.setDepthBuffer(true);
                     }
@@ -103325,7 +104432,9 @@ and limitations under the License.
                       return new e(t, i, n, r, o);
                     }),
                     (e.prototype.dispose = function () {
-                      this.texture && this.texture.dispose();
+                      if (this.texture) {
+                        this.texture.dispose();
+                      }
                       var e = this._system.lensFlares.indexOf(this);
                       this._system.lensFlares.splice(e, 1);
                     }),
@@ -103496,8 +104605,9 @@ and limitations under the License.
                             : 0)
                         ? e
                         : t;
-                    (r -= this.viewportBorder) > this.borderLimit &&
-                      (r = this.borderLimit);
+                    if ((r -= this.viewportBorder) > this.borderLimit) {
+                      r = this.borderLimit;
+                    }
                     var o = 1 - L.a.Clamp(r / this.borderLimit, 0, 1);
                     if (o < 0) return false;
                     (o > 1 && (o = 1),
@@ -103523,32 +104633,32 @@ and limitations under the License.
                     for (var h = 0; h < this.lensFlares.length; h++) {
                       var f = this.lensFlares[h];
                       i.setAlphaMode(f.alphaMode);
-                      var d = s - u * f.position,
-                        p = c - l * f.position,
-                        m = f.size,
-                        g =
-                          f.size *
-                          i.getAspectRatio(this._scene.activeCamera, true),
-                        v = (d / (n.width + 2 * n.x)) * 2 - 1,
-                        y = 1 - (p / (n.height + 2 * n.y)) * 2,
-                        b = a.j.FromValues(
-                          m / 2,
-                          0,
-                          0,
-                          0,
-                          0,
-                          g / 2,
-                          0,
-                          0,
-                          0,
-                          0,
-                          1,
-                          0,
-                          v,
-                          y,
-                          0,
-                          1,
-                        );
+                      var d = s - u * f.position;
+                      var p = c - l * f.position;
+                      var m = f.size;
+                      var g =
+                        f.size *
+                        i.getAspectRatio(this._scene.activeCamera, true);
+                      var v = (d / (n.width + 2 * n.x)) * 2 - 1;
+                      var y = 1 - (p / (n.height + 2 * n.y)) * 2;
+                      var b = a.j.FromValues(
+                        m / 2,
+                        0,
+                        0,
+                        0,
+                        0,
+                        g / 2,
+                        0,
+                        0,
+                        0,
+                        0,
+                        1,
+                        0,
+                        v,
+                        y,
+                        0,
+                        1,
+                      );
                       (this._effect.setMatrix("viewportMatrix", b),
                         this._effect.setTexture("textureSampler", f.texture),
                         this._effect.setFloat4(
@@ -103631,10 +104741,12 @@ and limitations under the License.
                   void 0 !== e.lensFlareSystems &&
                   null !== e.lensFlareSystems
                 ) {
-                  i.lensFlareSystems || (i.lensFlareSystems = new Array());
+                  if (!i.lensFlareSystems) {
+                    i.lensFlareSystems = new Array();
+                  }
                   for (var r = 0, o = e.lensFlareSystems.length; r < o; r++) {
-                    var a = e.lensFlareSystems[r],
-                      s = kr.Parse(a, t, n);
+                    var a = e.lensFlareSystems[r];
+                    var s = kr.Parse(a, t, n);
                     i.lensFlareSystems.push(s);
                   }
                 }
@@ -103675,17 +104787,19 @@ and limitations under the License.
                   (e.prototype.rebuild = function () {}),
                   (e.prototype.addFromContainer = function (e) {
                     var t = this;
-                    e.lensFlareSystems &&
+                    if (e.lensFlareSystems) {
                       e.lensFlareSystems.forEach(function (e) {
                         t.scene.addLensFlareSystem(e);
                       });
+                    }
                   }),
                   (e.prototype.removeFromContainer = function (e, t) {
                     var i = this;
-                    e.lensFlareSystems &&
+                    if (e.lensFlareSystems) {
                       e.lensFlareSystems.forEach(function (e) {
                         (i.scene.removeLensFlareSystem(e), t && e.dispose());
                       });
+                    }
                   }),
                   (e.prototype.serialize = function (e) {
                     e.lensFlareSystems = [];
@@ -103708,7 +104822,9 @@ and limitations under the License.
                       Ee.h.StartPerformanceCounter("Lens flares", t.length > 0);
                       for (var i = 0, n = t; i < n.length; i++) {
                         var r = n[i];
-                        0 != (e.layerMask & r.layerMask) && r.render();
+                        if (0 != (e.layerMask & r.layerMask)) {
+                          r.render();
+                        }
                       }
                       Ee.h.EndPerformanceCounter("Lens flares", t.length > 0);
                     }
@@ -103718,7 +104834,9 @@ and limitations under the License.
               })();
               kr._SceneComponentInitialization = function (e) {
                 var t = e._getComponent(Se.a.NAME_LENSFLARESYSTEM);
-                t || ((t = new Ur(e)), e._addComponent(t));
+                if (!t) {
+                  ((t = new Ur(e)), e._addComponent(t));
+                }
               };
               Ht.a.ShadersStore.shadowMapPixelShader =
                 "#ifndef FLOAT\nvec4 pack(float depth)\n{\nconst vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);\nconst vec4 bit_mask=vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);\nvec4 res=fract(depth*bit_shift);\nres-=res.xxyz*bit_mask;\nreturn res;\n}\n#endif\nvarying float vDepthMetric;\n#ifdef ALPHATEST\nvarying vec2 vUV;\nuniform sampler2D diffuseSampler;\n#endif\nuniform vec3 biasAndScale;\nuniform vec2 depthValues;\nvoid main(void)\n{\n#ifdef ALPHATEST\nif (texture2D(diffuseSampler,vUV).a<0.4)\ndiscard;\n#endif\nfloat depth=vDepthMetric;\n#ifdef ESM\ndepth=clamp(exp(-min(87.,biasAndScale.z*depth)),0.,1.);\n#endif\n#ifdef FLOAT\ngl_FragColor=vec4(depth,1.0,1.0,1.0);\n#else\ngl_FragColor=pack(depth);\n#endif\n}";
@@ -103808,9 +104926,10 @@ and limitations under the License.
                       return this._blurBoxOffset;
                     },
                     set: function (e) {
-                      this._blurBoxOffset !== e &&
+                      if (this._blurBoxOffset !== e) {
                         ((this._blurBoxOffset = e),
-                        this._disposeBlurPostProcesses());
+                          this._disposeBlurPostProcesses());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -103820,9 +104939,10 @@ and limitations under the License.
                       return this._blurScale;
                     },
                     set: function (e) {
-                      this._blurScale !== e &&
+                      if (this._blurScale !== e) {
                         ((this._blurScale = e),
-                        this._disposeBlurPostProcesses());
+                          this._disposeBlurPostProcesses());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -103832,9 +104952,10 @@ and limitations under the License.
                       return this._blurKernel;
                     },
                     set: function (e) {
-                      this._blurKernel !== e &&
+                      if (this._blurKernel !== e) {
                         ((this._blurKernel = e),
-                        this._disposeBlurPostProcesses());
+                          this._disposeBlurPostProcesses());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -103844,9 +104965,10 @@ and limitations under the License.
                       return this._useKernelBlur;
                     },
                     set: function (e) {
-                      this._useKernelBlur !== e &&
+                      if (this._useKernelBlur !== e) {
                         ((this._useKernelBlur = e),
-                        this._disposeBlurPostProcesses());
+                          this._disposeBlurPostProcesses());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -103893,10 +105015,11 @@ and limitations under the License.
                       return this.filter === e.FILTER_POISSONSAMPLING;
                     },
                     set: function (t) {
-                      (t || this.filter === e.FILTER_POISSONSAMPLING) &&
-                        (this.filter = t
+                      if (t || this.filter === e.FILTER_POISSONSAMPLING) {
+                        this.filter = t
                           ? e.FILTER_POISSONSAMPLING
-                          : e.FILTER_NONE);
+                          : e.FILTER_NONE;
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -103909,10 +105032,14 @@ and limitations under the License.
                         return this.filter === e.FILTER_EXPONENTIALSHADOWMAP;
                       },
                       set: function (t) {
-                        (t || this.filter === e.FILTER_EXPONENTIALSHADOWMAP) &&
-                          (this.filter = t
+                        if (
+                          t ||
+                          this.filter === e.FILTER_EXPONENTIALSHADOWMAP
+                        ) {
+                          this.filter = t
                             ? e.FILTER_EXPONENTIALSHADOWMAP
-                            : e.FILTER_NONE);
+                            : e.FILTER_NONE;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -103928,11 +105055,14 @@ and limitations under the License.
                         );
                       },
                       set: function (t) {
-                        (t ||
-                          this.filter === e.FILTER_BLUREXPONENTIALSHADOWMAP) &&
-                          (this.filter = t
+                        if (
+                          t ||
+                          this.filter === e.FILTER_BLUREXPONENTIALSHADOWMAP
+                        ) {
+                          this.filter = t
                             ? e.FILTER_BLUREXPONENTIALSHADOWMAP
-                            : e.FILTER_NONE);
+                            : e.FILTER_NONE;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -103948,11 +105078,14 @@ and limitations under the License.
                         );
                       },
                       set: function (t) {
-                        (t ||
-                          this.filter === e.FILTER_CLOSEEXPONENTIALSHADOWMAP) &&
-                          (this.filter = t
+                        if (
+                          t ||
+                          this.filter === e.FILTER_CLOSEEXPONENTIALSHADOWMAP
+                        ) {
+                          this.filter = t
                             ? e.FILTER_CLOSEEXPONENTIALSHADOWMAP
-                            : e.FILTER_NONE);
+                            : e.FILTER_NONE;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -103968,12 +105101,14 @@ and limitations under the License.
                         );
                       },
                       set: function (t) {
-                        (t ||
-                          this.filter ===
-                            e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP) &&
-                          (this.filter = t
+                        if (
+                          t ||
+                          this.filter === e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP
+                        ) {
+                          this.filter = t
                             ? e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP
-                            : e.FILTER_NONE);
+                            : e.FILTER_NONE;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -103987,8 +105122,9 @@ and limitations under the License.
                         return this.filter === e.FILTER_PCF;
                       },
                       set: function (t) {
-                        (t || this.filter === e.FILTER_PCF) &&
-                          (this.filter = t ? e.FILTER_PCF : e.FILTER_NONE);
+                        if (t || this.filter === e.FILTER_PCF) {
+                          this.filter = t ? e.FILTER_PCF : e.FILTER_NONE;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -104012,8 +105148,9 @@ and limitations under the License.
                         return this.filter === e.FILTER_PCSS;
                       },
                       set: function (t) {
-                        (t || this.filter === e.FILTER_PCSS) &&
-                          (this.filter = t ? e.FILTER_PCSS : e.FILTER_NONE);
+                        if (t || this.filter === e.FILTER_PCSS) {
+                          this.filter = t ? e.FILTER_PCSS : e.FILTER_NONE;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -104146,12 +105283,13 @@ and limitations under the License.
                             t.useBlurCloseExponentialShadowMap)
                         ) {
                           var n = t.getShadowMapForRendering();
-                          n &&
+                          if (n) {
                             t._scene.postProcessManager.directRender(
                               t._blurPostProcesses,
                               n.getInternalTexture(),
                               true,
                             );
+                          }
                         }
                       }));
                     var n = new a.f(0, 0, 0, 0),
@@ -104315,13 +105453,14 @@ and limitations under the License.
                             o && o.needAlphaTesting())
                           ) {
                             var c = o.getAlphaTestTexture();
-                            c &&
+                            if (c) {
                               (this._effect.setTexture("diffuseSampler", c),
-                              this._effect.setMatrix(
-                                "diffuseMatrix",
-                                c.getTextureMatrix() ||
-                                  this._defaultTextureMatrix,
-                              ));
+                                this._effect.setMatrix(
+                                  "diffuseMatrix",
+                                  c.getTextureMatrix() ||
+                                    this._defaultTextureMatrix,
+                                ));
+                            }
                           }
                           if (
                             i.useBones &&
@@ -104371,24 +105510,20 @@ and limitations under the License.
                     }
                   }),
                   (e.prototype._applyFilterValues = function () {
-                    this._shadowMap &&
-                      (this.filter === e.FILTER_NONE ||
+                    if (this._shadowMap) {
+                      this.filter === e.FILTER_NONE ||
                       this.filter === e.FILTER_PCSS
                         ? this._shadowMap.updateSamplingMode(
                             je.a.NEAREST_SAMPLINGMODE,
                           )
                         : this._shadowMap.updateSamplingMode(
                             je.a.BILINEAR_SAMPLINGMODE,
-                          ));
+                          );
+                    }
                   }),
                   (e.prototype.forceCompilation = function (e, t) {
                     var i = this,
-                      n = h.a(
-                        {
-                          useInstances: false,
-                        },
-                        t,
-                      ),
+                      n = h.a({ useInstances: false }, t),
                       r = this.getShadowMap();
                     if (r) {
                       var o = r.renderList;
@@ -104448,13 +105583,14 @@ and limitations under the License.
                       o && o.needAlphaTesting())
                     ) {
                       var a = o.getAlphaTestTexture();
-                      a &&
+                      if (a) {
                         (i.push("#define ALPHATEST"),
-                        r.isVerticesDataPresent(Si.b.UVKind) &&
-                          (n.push(Si.b.UVKind), i.push("#define UV1")),
-                        r.isVerticesDataPresent(Si.b.UV2Kind) &&
-                          1 === a.coordinatesIndex &&
-                          (n.push(Si.b.UV2Kind), i.push("#define UV2")));
+                          r.isVerticesDataPresent(Si.b.UVKind) &&
+                            (n.push(Si.b.UVKind), i.push("#define UV1")),
+                          r.isVerticesDataPresent(Si.b.UV2Kind) &&
+                            1 === a.coordinatesIndex &&
+                            (n.push(Si.b.UV2Kind), i.push("#define UV2")));
+                      }
                     }
                     if (
                       r.useBones &&
@@ -104502,24 +105638,26 @@ and limitations under the License.
                         l++
                       ) {
                         var f = h[l];
-                        -1 === i.indexOf(f) && i.push(f);
+                        if (-1 === i.indexOf(f)) {
+                          i.push(f);
+                        }
                       }
                     var d = i.join("\n");
                     if (this._cachedDefines !== d) {
                       this._cachedDefines = d;
-                      var p = "shadowMap",
-                        m = [
-                          "world",
-                          "mBones",
-                          "viewProjection",
-                          "diffuseMatrix",
-                          "lightData",
-                          "depthValues",
-                          "biasAndScale",
-                          "morphTargetInfluences",
-                          "boneTextureWidth",
-                        ],
-                        g = ["diffuseSampler", "boneSampler"];
+                      var p = "shadowMap";
+                      var m = [
+                        "world",
+                        "mBones",
+                        "viewProjection",
+                        "diffuseMatrix",
+                        "lightData",
+                        "depthValues",
+                        "biasAndScale",
+                        "morphTargetInfluences",
+                        "boneTextureWidth",
+                      ];
+                      var g = ["diffuseSampler", "boneSampler"];
                       if (this.customShaderOptions) {
                         if (
                           ((p = this.customShaderOptions.shaderName),
@@ -104531,7 +105669,9 @@ and limitations under the License.
                             v++
                           ) {
                             var b = y[v];
-                            -1 === n.indexOf(b) && n.push(b);
+                            if (-1 === n.indexOf(b)) {
+                              n.push(b);
+                            }
                           }
                         if (this.customShaderOptions.uniforms)
                           for (
@@ -104540,7 +105680,9 @@ and limitations under the License.
                             E++
                           ) {
                             var A = T[E];
-                            -1 === m.indexOf(A) && m.push(A);
+                            if (-1 === m.indexOf(A)) {
+                              m.push(A);
+                            }
                           }
                         if (this.customShaderOptions.samplers)
                           for (
@@ -104549,7 +105691,9 @@ and limitations under the License.
                             x++
                           ) {
                             var C = S[x];
-                            -1 === g.indexOf(C) && g.push(C);
+                            if (-1 === g.indexOf(C)) {
+                              g.push(C);
+                            }
                           }
                       }
                       this._effect = this._scene
@@ -104576,30 +105720,30 @@ and limitations under the License.
                   (e.prototype.prepareDefines = function (t, i) {
                     var n = this._scene,
                       r = this._light;
-                    n.shadowsEnabled &&
-                      r.shadowEnabled &&
+                    if (n.shadowsEnabled && r.shadowEnabled) {
                       ((t["SHADOW" + i] = true),
-                      this.useContactHardeningShadow &&
-                        ((t["SHADOWPCSS" + i] = true),
-                        this._filteringQuality === e.QUALITY_LOW
-                          ? (t["SHADOWLOWQUALITY" + i] = true)
-                          : this._filteringQuality === e.QUALITY_MEDIUM &&
-                            (t["SHADOWMEDIUMQUALITY" + i] = true)),
-                      this.usePercentageCloserFiltering
-                        ? ((t["SHADOWPCF" + i] = true),
+                        this.useContactHardeningShadow &&
+                          ((t["SHADOWPCSS" + i] = true),
                           this._filteringQuality === e.QUALITY_LOW
                             ? (t["SHADOWLOWQUALITY" + i] = true)
                             : this._filteringQuality === e.QUALITY_MEDIUM &&
-                              (t["SHADOWMEDIUMQUALITY" + i] = true))
-                        : this.usePoissonSampling
-                          ? (t["SHADOWPOISSON" + i] = true)
-                          : this.useExponentialShadowMap ||
-                              this.useBlurExponentialShadowMap
-                            ? (t["SHADOWESM" + i] = true)
-                            : (this.useCloseExponentialShadowMap ||
-                                this.useBlurCloseExponentialShadowMap) &&
-                              (t["SHADOWCLOSEESM" + i] = true),
-                      r.needCube() && (t["SHADOWCUBE" + i] = true));
+                              (t["SHADOWMEDIUMQUALITY" + i] = true)),
+                        this.usePercentageCloserFiltering
+                          ? ((t["SHADOWPCF" + i] = true),
+                            this._filteringQuality === e.QUALITY_LOW
+                              ? (t["SHADOWLOWQUALITY" + i] = true)
+                              : this._filteringQuality === e.QUALITY_MEDIUM &&
+                                (t["SHADOWMEDIUMQUALITY" + i] = true))
+                          : this.usePoissonSampling
+                            ? (t["SHADOWPOISSON" + i] = true)
+                            : this.useExponentialShadowMap ||
+                                this.useBlurExponentialShadowMap
+                              ? (t["SHADOWESM" + i] = true)
+                              : (this.useCloseExponentialShadowMap ||
+                                  this.useBlurCloseExponentialShadowMap) &&
+                                (t["SHADOWCLOSEESM" + i] = true),
+                        r.needCube() && (t["SHADOWCUBE" + i] = true));
+                    }
                   }),
                   (e.prototype.bindShadowLight = function (t, i) {
                     var n = this._light,
@@ -104608,62 +105752,63 @@ and limitations under the License.
                       var o = r.activeCamera;
                       if (o) {
                         var a = this.getShadowMap();
-                        a &&
+                        if (a) {
                           (n.needCube() ||
                             i.setMatrix(
                               "lightMatrix" + t,
                               this.getTransformMatrix(),
                             ),
-                          this._filter === e.FILTER_PCF
-                            ? (i.setDepthStencilTexture(
-                                "shadowSampler" + t,
-                                this.getShadowMapForRendering(),
-                              ),
-                              n._uniformBuffer.updateFloat4(
-                                "shadowsInfo",
-                                this.getDarkness(),
-                                a.getSize().width,
-                                1 / a.getSize().width,
-                                this.frustumEdgeFalloff,
-                                t,
-                              ))
-                            : this._filter === e.FILTER_PCSS
+                            this._filter === e.FILTER_PCF
                               ? (i.setDepthStencilTexture(
                                   "shadowSampler" + t,
                                   this.getShadowMapForRendering(),
                                 ),
-                                i.setTexture(
-                                  "depthSampler" + t,
-                                  this.getShadowMapForRendering(),
-                                ),
                                 n._uniformBuffer.updateFloat4(
                                   "shadowsInfo",
                                   this.getDarkness(),
+                                  a.getSize().width,
                                   1 / a.getSize().width,
-                                  this._contactHardeningLightSizeUVRatio *
-                                    a.getSize().width,
                                   this.frustumEdgeFalloff,
                                   t,
                                 ))
-                              : (i.setTexture(
-                                  "shadowSampler" + t,
-                                  this.getShadowMapForRendering(),
-                                ),
-                                n._uniformBuffer.updateFloat4(
-                                  "shadowsInfo",
-                                  this.getDarkness(),
-                                  this.blurScale / a.getSize().width,
-                                  this.depthScale,
-                                  this.frustumEdgeFalloff,
-                                  t,
-                                )),
-                          n._uniformBuffer.updateFloat2(
-                            "depthValues",
-                            this.getLight().getDepthMinZ(o),
-                            this.getLight().getDepthMinZ(o) +
-                              this.getLight().getDepthMaxZ(o),
-                            t,
-                          ));
+                              : this._filter === e.FILTER_PCSS
+                                ? (i.setDepthStencilTexture(
+                                    "shadowSampler" + t,
+                                    this.getShadowMapForRendering(),
+                                  ),
+                                  i.setTexture(
+                                    "depthSampler" + t,
+                                    this.getShadowMapForRendering(),
+                                  ),
+                                  n._uniformBuffer.updateFloat4(
+                                    "shadowsInfo",
+                                    this.getDarkness(),
+                                    1 / a.getSize().width,
+                                    this._contactHardeningLightSizeUVRatio *
+                                      a.getSize().width,
+                                    this.frustumEdgeFalloff,
+                                    t,
+                                  ))
+                                : (i.setTexture(
+                                    "shadowSampler" + t,
+                                    this.getShadowMapForRendering(),
+                                  ),
+                                  n._uniformBuffer.updateFloat4(
+                                    "shadowsInfo",
+                                    this.getDarkness(),
+                                    this.blurScale / a.getSize().width,
+                                    this.depthScale,
+                                    this.frustumEdgeFalloff,
+                                    t,
+                                  )),
+                            n._uniformBuffer.updateFloat2(
+                              "depthValues",
+                              this.getLight().getDepthMinZ(o),
+                              this.getLight().getDepthMinZ(o) +
+                                this.getLight().getDepthMaxZ(o),
+                              t,
+                            ));
+                        }
                       }
                     }
                   }),
@@ -104703,12 +105848,13 @@ and limitations under the License.
                       var i = this.getShadowMap();
                       if (i) {
                         var n = i.renderList;
-                        n &&
+                        if (n) {
                           this._light.setShadowProjectionMatrix(
                             this._projectionMatrix,
                             this._viewMatrix,
                             n,
                           );
+                        }
                       }
                       this._viewMatrix.multiplyToRef(
                         this._projectionMatrix,
@@ -104806,9 +105952,10 @@ and limitations under the License.
                       a++
                     )
                       i.getMeshesByID(t.renderList[a]).forEach(function (e) {
-                        o &&
+                        if (o) {
                           (o.renderList || (o.renderList = []),
-                          o.renderList.push(e));
+                            o.renderList.push(e));
+                        }
                       });
                     return (
                       t.usePoissonSampling
@@ -104893,7 +106040,9 @@ and limitations under the License.
                     e.shadowGenerators = [];
                     for (var t = 0, i = this.scene.lights; t < i.length; t++) {
                       var n = i[t].getShadowGenerator();
-                      n && e.shadowGenerators.push(n.serialize());
+                      if (n) {
+                        e.shadowGenerators.push(n.serialize());
+                      }
                     }
                   }),
                   (e.prototype.addFromContainer = function (e) {}),
@@ -104903,11 +106052,13 @@ and limitations under the License.
                     var t = this.scene;
                     if (this.scene.shadowsEnabled)
                       for (var i = 0; i < t.lights.length; i++) {
-                        var n = t.lights[i],
-                          r = n.getShadowGenerator();
+                        var n = t.lights[i];
+                        var r = n.getShadowGenerator();
                         if (n.isEnabled() && n.shadowEnabled && r) {
                           var o = r.getShadowMap();
-                          -1 !== t.textures.indexOf(o) && e.push(o);
+                          if (-1 !== t.textures.indexOf(o)) {
+                            e.push(o);
+                          }
                         }
                       }
                   }),
@@ -104916,7 +106067,9 @@ and limitations under the License.
               })();
               ((Vr._SceneComponentInitialization = function (e) {
                 var t = e._getComponent(Se.a.NAME_SHADOWGENERATOR);
-                t || ((t = new Gr(e)), e._addComponent(t));
+                if (!t) {
+                  ((t = new Gr(e)), e._addComponent(t));
+                }
               }),
                 N.a.AddNodeConstructor("Light_Type_0", function (e, t) {
                   return function () {
@@ -104925,7 +106078,7 @@ and limitations under the License.
                 }));
               var zr = (function (e) {
                   function t(t, i, n) {
-                    var r = e.call(this, t, n) || this;
+                    var r = e(t, n) || this;
                     return (
                       (r._shadowAngle = Math.PI / 2),
                       (r.position = i),
@@ -104970,7 +106123,7 @@ and limitations under the License.
                     }),
                     (t.prototype.getShadowDirection = function (t) {
                       if (this.direction)
-                        return e.prototype.getShadowDirection.call(this, t);
+                        return e.prototype.getShadowDirection(t);
                       switch (t) {
                         case 0:
                           return new a.x(1, 0, 0);
@@ -104993,7 +106146,7 @@ and limitations under the License.
                       i,
                     ) {
                       var n = this.getScene().activeCamera;
-                      n &&
+                      if (n) {
                         a.j.PerspectiveFovLHToRef(
                           this.shadowAngle,
                           1,
@@ -105001,6 +106154,7 @@ and limitations under the License.
                           this.getDepthMaxZ(n),
                           e,
                         );
+                      }
                     }),
                     (t.prototype._buildUniformLayout = function () {
                       (this._uniformBuffer.addUniform("vLightData", 4),
@@ -105061,13 +106215,14 @@ and limitations under the License.
                           t = window.getComputedStyle(
                             n._renderingCanvas,
                           ).position;
-                        n._loadingDiv &&
+                        if (n._loadingDiv) {
                           ((n._loadingDiv.style.position =
                             "fixed" === t ? "fixed" : "absolute"),
-                          (n._loadingDiv.style.left = e.left + "px"),
-                          (n._loadingDiv.style.top = e.top + "px"),
-                          (n._loadingDiv.style.width = e.width + "px"),
-                          (n._loadingDiv.style.height = e.height + "px"));
+                            (n._loadingDiv.style.left = e.left + "px"),
+                            (n._loadingDiv.style.top = e.top + "px"),
+                            (n._loadingDiv.style.width = e.width + "px"),
+                            (n._loadingDiv.style.height = e.height + "px"));
+                        }
                       }));
                   }
                   return (
@@ -105145,23 +106300,13 @@ and limitations under the License.
                     }),
                     (e.prototype.hideLoadingUI = function () {
                       var e = this;
-                      this._loadingDiv &&
+                      if (this._loadingDiv) {
                         ((this._loadingDiv.style.opacity = "0"),
-                        this._loadingDiv.addEventListener(
-                          "transitionend",
-                          function () {
-                            e._loadingDiv &&
-                              (e._loadingDiv.parentElement &&
-                                e._loadingDiv.parentElement.removeChild(
-                                  e._loadingDiv,
-                                ),
-                              window.removeEventListener(
-                                "resize",
-                                e._resizeLoadingUI,
-                              ),
-                              (e._loadingDiv = null));
-                          },
-                        ));
+                          this._loadingDiv.addEventListener(
+                            "transitionend",
+                            function () {},
+                          ));
+                      }
                     }),
                     Object.defineProperty(e.prototype, "loadingUIText", {
                       get: function () {
@@ -105483,7 +106628,7 @@ and limitations under the License.
                       void 0 === c && (c = false),
                       void 0 === u && (u = null),
                       void 0 === l && (l = null));
-                    var h = e.call(this, i) || this;
+                    var h = e(i) || this;
                     return (
                       (h._generateHarmonics = true),
                       (h._onLoad = null),
@@ -105555,10 +106700,11 @@ and limitations under the License.
                         ) {
                           this._boundingBoxSize = e;
                           var t = this.getScene();
-                          t &&
+                          if (t) {
                             t.markAllMaterialsAsDirty(
                               _.a.MATERIAL_TextureDirtyFlag,
                             );
+                          }
                         }
                       },
                       enumerable: true,
@@ -105570,8 +106716,8 @@ and limitations under the License.
                     (t.prototype.loadTexture = function () {
                       var e = this,
                         i = this.getScene();
-                      i &&
-                        (this._texture = i
+                      if (i) {
+                        this._texture = i
                           .getEngine()
                           .createRawCubeTextureFromUrl(
                             this.url,
@@ -105601,7 +106747,7 @@ and limitations under the License.
                                   c = new Uint8Array(l);
                                 }
                                 var h = r[t._facesMapping[u]];
-                                if (e.gammaSpace || c)
+                                if (e.gammaSpace || c) {
                                   for (var f = 0; f < e._size * e._size; f++)
                                     if (
                                       (e.gammaSpace &&
@@ -105619,10 +106765,10 @@ and limitations under the License.
                                         ))),
                                       c)
                                     ) {
-                                      var d = Math.max(255 * h[3 * f + 0], 0),
-                                        p = Math.max(255 * h[3 * f + 1], 0),
-                                        m = Math.max(255 * h[3 * f + 2], 0),
-                                        g = Math.max(Math.max(d, p), m);
+                                      var d = Math.max(255 * h[3 * f + 0], 0);
+                                      var p = Math.max(255 * h[3 * f + 1], 0);
+                                      var m = Math.max(255 * h[3 * f + 2], 0);
+                                      var g = Math.max(Math.max(d, p), m);
                                       if (g > 255) {
                                         var _ = 255 / g;
                                         ((d *= _), (p *= _), (m *= _));
@@ -105631,6 +106777,7 @@ and limitations under the License.
                                         (c[3 * f + 1] = p),
                                         (c[3 * f + 2] = m));
                                     }
+                                }
                                 c ? s.push(c) : s.push(h);
                               }
                               return s;
@@ -105638,7 +106785,8 @@ and limitations under the License.
                             null,
                             this._onLoad,
                             this._onError,
-                          ));
+                          );
+                      }
                     }),
                     (t.prototype.clone = function () {
                       var e = this.getScene();
@@ -105661,13 +106809,16 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.delayLoad = function () {
-                      this.delayLoadState === ve.b.DELAYLOADSTATE_NOTLOADED &&
+                      if (
+                        this.delayLoadState === ve.b.DELAYLOADSTATE_NOTLOADED
+                      ) {
                         ((this.delayLoadState = ve.b.DELAYLOADSTATE_LOADED),
-                        (this._texture = this._getFromCache(
-                          this.url,
-                          this._noMipmap,
-                        )),
-                        this._texture || this.loadTexture());
+                          (this._texture = this._getFromCache(
+                            this.url,
+                            this._noMipmap,
+                          )),
+                          this._texture || this.loadTexture());
+                      }
                     }),
                     (t.prototype.getReflectionTextureMatrix = function () {
                       return this._textureMatrix;
@@ -105877,14 +107028,18 @@ and limitations under the License.
                         t.animations)
                       )
                         for (var n = 0; n < t.animations.length; n++) {
-                          var r = t.animations[n],
-                            o = s.a.GetClass("BABYLON.Animation");
-                          o && i.animations.push(o.Parse(r));
+                          var r = t.animations[n];
+                          var o = s.a.GetClass("BABYLON.Animation");
+                          if (o) {
+                            i.animations.push(o.Parse(r));
+                          }
                         }
                       return i;
                     }),
                     (e.FromMesh = function (t, i, n) {
-                      i || (i = t.name);
+                      if (!i) {
+                        i = t.name;
+                      }
                       var r = new e(i, n, t.getScene());
                       return (
                         r.setPositions(t.getVerticesData(Si.b.PositionKind)),
@@ -105990,18 +107145,22 @@ and limitations under the License.
                     }),
                     (e.prototype.removeTarget = function (e) {
                       var t = this._targets.indexOf(e);
-                      t >= 0 &&
+                      if (t >= 0) {
                         (this._targets.splice(t, 1),
-                        e.onInfluenceChanged.remove(
-                          this._targetInfluenceChangedObservers.splice(t, 1)[0],
-                        ),
-                        e._onDataLayoutChanged.remove(
-                          this._targetDataLayoutChangedObservers.splice(
-                            t,
-                            1,
-                          )[0],
-                        ),
-                        this._syncActiveTargets(true));
+                          e.onInfluenceChanged.remove(
+                            this._targetInfluenceChangedObservers.splice(
+                              t,
+                              1,
+                            )[0],
+                          ),
+                          e._onDataLayoutChanged.remove(
+                            this._targetDataLayoutChangedObservers.splice(
+                              t,
+                              1,
+                            )[0],
+                          ),
+                          this._syncActiveTargets(true));
+                      }
                     }),
                     (e.prototype.serialize = function () {
                       var e = {};
@@ -106038,11 +107197,16 @@ and limitations under the License.
                           }
                         }
                       }
-                      (this._influences && this._influences.length === t) ||
-                        (this._influences = new Float32Array(t));
+                      if (
+                        !(this._influences && this._influences.length === t)
+                      ) {
+                        this._influences = new Float32Array(t);
+                      }
                       for (var s = 0; s < t; s++)
                         this._influences[s] = this._tempInfluences[s];
-                      e && this.synchronize();
+                      if (e) {
+                        this.synchronize();
+                      }
                     }),
                     (e.prototype.synchronize = function () {
                       if (this._scene)
@@ -106052,8 +107216,9 @@ and limitations under the License.
                           e++
                         ) {
                           var i = t[e];
-                          i.morphTargetManager === this &&
+                          if (i.morphTargetManager === this) {
                             i._syncGeometryWithMorphTargetManager();
+                          }
                         }
                     }),
                     (e.Parse = function (t, i) {
@@ -106118,9 +107283,9 @@ and limitations under the License.
                     }),
                     (e.prototype.removeImpostor = function (e) {
                       var t = this._impostors.indexOf(e);
-                      t > -1 &&
-                        this._impostors.splice(t, 1).length &&
+                      if (t > -1 && this._impostors.splice(t, 1).length) {
                         this.getPhysicsPlugin().removePhysicsBody(e);
+                      }
                     }),
                     (e.prototype.addJoint = function (e, t, i) {
                       var n = {
@@ -106140,13 +107305,16 @@ and limitations under the License.
                           n.mainImpostor === e
                         );
                       });
-                      n.length && this._physicsPlugin.removeJoint(n[0]);
+                      if (n.length) {
+                        this._physicsPlugin.removeJoint(n[0]);
+                      }
                     }),
                     (e.prototype._step = function (e) {
                       var t = this;
                       (this._impostors.forEach(function (e) {
-                        e.isBodyInitRequired() &&
+                        if (e.isBodyInitRequired()) {
                           t._physicsPlugin.generatePhysicsBody(e);
+                        }
                       }),
                         e > 0.1 ? (e = 0.1) : e <= 0 && (e = 1 / 60),
                         this._physicsPlugin.executeStep(e, this._impostors));
@@ -106333,19 +107501,21 @@ and limitations under the License.
                           (this.removePhysicsBody(e), e.forceUpdate());
                       else {
                         if (e.isBodyInitRequired()) {
-                          var t = this._createShape(e),
-                            i = e.physicsBody;
-                          i && this.removePhysicsBody(e);
+                          var t = this._createShape(e);
+                          var i = e.physicsBody;
+                          if (i) {
+                            this.removePhysicsBody(e);
+                          }
                           var n = this._addMaterial(
-                              "mat-" + e.uniqueId,
-                              e.getParam("friction"),
-                              e.getParam("restitution"),
-                            ),
-                            r = {
-                              mass: e.getParam("mass"),
-                              material: n,
-                            },
-                            o = e.getParam("nativeOptions");
+                            "mat-" + e.uniqueId,
+                            e.getParam("friction"),
+                            e.getParam("restitution"),
+                          );
+                          var r = {
+                            mass: e.getParam("mass"),
+                            material: n,
+                          };
+                          var o = e.getParam("nativeOptions");
                           for (var a in o) o.hasOwnProperty(a) && (r[a] = o[a]);
                           ((e.physicsBody = new this.BJSCANNON.Body(r)),
                             e.physicsBody.addEventListener(
@@ -106391,12 +107561,12 @@ and limitations under the License.
                               var s = o.getPhysicsImpostor();
                               if (s && s.parent !== e) {
                                 var c = o
-                                    .getAbsolutePosition()
-                                    .subtract(e.object.getAbsolutePosition()),
-                                  u = o.rotationQuaternion.multiply(
-                                    a.q.Inverse(n),
-                                  );
-                                (s.physicsBody &&
+                                  .getAbsolutePosition()
+                                  .subtract(e.object.getAbsolutePosition());
+                                var u = o.rotationQuaternion.multiply(
+                                  a.q.Inverse(n),
+                                );
+                                (null &&
                                   (t.removePhysicsBody(s),
                                   (s.physicsBody = null)),
                                   (s.parent = e),
@@ -106438,24 +107608,24 @@ and limitations under the License.
                       var t = e.mainImpostor.physicsBody,
                         i = e.connectedImpostor.physicsBody;
                       if (t && i) {
-                        var n,
-                          r = e.joint.jointData,
-                          o = {
-                            pivotA: r.mainPivot
-                              ? new this.BJSCANNON.Vec3().copy(r.mainPivot)
-                              : null,
-                            pivotB: r.connectedPivot
-                              ? new this.BJSCANNON.Vec3().copy(r.connectedPivot)
-                              : null,
-                            axisA: r.mainAxis
-                              ? new this.BJSCANNON.Vec3().copy(r.mainAxis)
-                              : null,
-                            axisB: r.connectedAxis
-                              ? new this.BJSCANNON.Vec3().copy(r.connectedAxis)
-                              : null,
-                            maxForce: r.nativeParams.maxForce,
-                            collideConnected: !!r.collision,
-                          };
+                        var n;
+                        var r = e.joint.jointData;
+                        var o = {
+                          pivotA: r.mainPivot
+                            ? new this.BJSCANNON.Vec3().copy(r.mainPivot)
+                            : null,
+                          pivotB: r.connectedPivot
+                            ? new this.BJSCANNON.Vec3().copy(r.connectedPivot)
+                            : null,
+                          axisA: r.mainAxis
+                            ? new this.BJSCANNON.Vec3().copy(r.mainAxis)
+                            : null,
+                          axisB: r.connectedAxis
+                            ? new this.BJSCANNON.Vec3().copy(r.connectedAxis)
+                            : null,
+                          maxForce: r.nativeParams.maxForce,
+                          collideConnected: !!r.collision,
+                        };
                         switch (e.joint.type) {
                           case Jr.e.HingeJoint:
                           case Jr.e.Hinge2Joint:
@@ -106688,9 +107858,9 @@ and limitations under the License.
                         d < n.length;
                         d += 3
                       ) {
-                        var p = Math.round(n[d + 0] / f + c / 2),
-                          m = Math.round(-1 * (n[d + 1] / f - c / 2)),
-                          g = -n[d + 2] + h;
+                        var p = Math.round(n[d + 0] / f + c / 2);
+                        var m = Math.round(-1 * (n[d + 1] / f - c / 2));
+                        var g = -n[d + 2] + h;
                         (s[p] || (s[p] = []),
                           s[p][m] || (s[p][m] = g),
                           (s[p][m] = Math.max(g, s[p][m])));
@@ -106737,24 +107907,24 @@ and limitations under the License.
                               e.setDeltaRotation(this._plus90X)),
                             e.type === Zr.a.HeightmapImpostor)
                           ) {
-                            var r = t,
-                              o = r.getBoundingInfo(),
-                              s = r.rotationQuaternion;
-                            ((r.rotationQuaternion = this._tmpUnityRotation),
-                              r.computeWorldMatrix(true));
-                            var c = i.clone(),
-                              u = r.getPivotMatrix();
+                            var r = t;
+                            var o = t.getBoundingInfo();
+                            var s = t.rotationQuaternion;
+                            ((t.rotationQuaternion = this._tmpUnityRotation),
+                              t.computeWorldMatrix(true));
+                            var c = i.clone();
+                            var u = t.getPivotMatrix();
                             u = u ? u.clone() : a.j.Identity();
                             var l = a.j.Translation(
                               o.boundingBox.extendSizeWorld.x,
                               0,
                               -o.boundingBox.extendSizeWorld.z,
                             );
-                            (r.setPreTransformMatrix(l),
-                              r.computeWorldMatrix(true));
+                            (t.setPreTransformMatrix(l),
+                              t.computeWorldMatrix(true));
                             var h = o.boundingBox.centerWorld
                               .subtract(i)
-                              .subtract(r.position)
+                              .subtract(t.position)
                               .negate();
                             (this._tmpPosition.copyFromFloats(
                               h.x,
@@ -106766,9 +107936,9 @@ and limitations under the License.
                               ),
                               (this._tmpDeltaPosition.y +=
                                 o.boundingBox.extendSizeWorld.y),
-                              (r.rotationQuaternion = s),
-                              r.setPreTransformMatrix(u),
-                              r.computeWorldMatrix(true));
+                              (t.rotationQuaternion = s),
+                              t.setPreTransformMatrix(u),
+                              t.computeWorldMatrix(true));
                           } else
                             e.type === Zr.a.MeshImpostor &&
                               this._tmpDeltaPosition.copyFromFloats(0, 0, 0);
@@ -106841,10 +108011,11 @@ and limitations under the License.
                       e.physicsJoint.distance = t;
                     }),
                     (e.prototype.setMotor = function (e, t, i, n) {
-                      n ||
+                      if (!n) {
                         (e.physicsJoint.enableMotor(),
-                        e.physicsJoint.setMotorSpeed(t),
-                        i && this.setLimit(e, i));
+                          e.physicsJoint.setMotorSpeed(t),
+                          i && this.setLimit(e, i));
+                      }
                     }),
                     (e.prototype.setLimit = function (e, t, i) {
                       ((e.physicsJoint.motorEquation.maxForce = t),
@@ -106953,9 +108124,7 @@ and limitations under the License.
                     (this._tmpImpostorsArray = []),
                     (this._tmpPositionVector = a.x.Zero()),
                     (this.BJSOIMO = t),
-                    (this.world = new this.BJSOIMO.World({
-                      iterations: e,
-                    })),
+                    (this.world = new this.BJSOIMO.World({ iterations: e })),
                     this.world.clear(),
                     (this._raycastResult = new eo()));
                 }
@@ -106980,15 +108149,11 @@ and limitations under the License.
                       }));
                     for (var n = this.world.contacts; null !== n; )
                       if (!n.touching || n.body1.sleeping || n.body2.sleeping) {
-                        var r = this._tmpImpostorsArray[+n.body1.name],
-                          o = this._tmpImpostorsArray[+n.body2.name];
+                        var r = this._tmpImpostorsArray[+n.body1.name];
+                        var o = this._tmpImpostorsArray[+n.body2.name];
                         r && o
-                          ? (r.onCollide({
-                              body: o.physicsBody,
-                            }),
-                            o.onCollide({
-                              body: r.physicsBody,
-                            }),
+                          ? (r.onCollide({ body: o.physicsBody }),
+                            o.onCollide({ body: r.physicsBody }),
                             (n = n.next))
                           : (n = n.next);
                       } else n = n.next;
@@ -107014,39 +108179,42 @@ and limitations under the License.
                     else {
                       if (e.isBodyInitRequired()) {
                         var i = {
-                            name: e.uniqueId,
-                            config: [
-                              e.getParam("mass") || 1,
-                              e.getParam("friction"),
-                              e.getParam("restitution"),
-                            ],
-                            size: [],
-                            type: [],
-                            pos: [],
-                            posShape: [],
-                            rot: [],
-                            rotShape: [],
-                            move: 0 !== e.getParam("mass"),
-                            density: e.getParam("mass"),
-                            friction: e.getParam("friction"),
-                            restitution: e.getParam("restitution"),
-                            world: this.world,
-                          },
-                          n = [e];
-                        (s = e.object).getChildMeshes &&
+                          name: e.uniqueId,
+                          config: [
+                            e.getParam("mass") || 1,
+                            e.getParam("friction"),
+                            e.getParam("restitution"),
+                          ],
+                          size: [],
+                          type: [],
+                          pos: [],
+                          posShape: [],
+                          rot: [],
+                          rotShape: [],
+                          move: 0 !== e.getParam("mass"),
+                          density: e.getParam("mass"),
+                          friction: e.getParam("friction"),
+                          restitution: e.getParam("restitution"),
+                          world: this.world,
+                        };
+                        var n = [e];
+                        if ((s = e.object).getChildMeshes) {
                           s.getChildMeshes().forEach(function (e) {
-                            e.physicsImpostor && n.push(e.physicsImpostor);
+                            if (e.physicsImpostor) {
+                              n.push(e.physicsImpostor);
+                            }
                           });
+                        }
                         var r = function (e) {
-                            return Math.max(e, $r.Epsilon);
-                          },
-                          o = new a.q();
+                          return Math.max(e, $r.Epsilon);
+                        };
+                        var o = new a.q();
                         (n.forEach(function (n) {
                           if (n.object.rotationQuaternion) {
                             var a = n.object.rotationQuaternion;
                             o = a.clone();
-                            var s = a.toEulerAngles(),
-                              c = n.getObjectExtendSize();
+                            var s = a.toEulerAngles();
+                            var c = n.getObjectExtendSize();
                             if (n === e) {
                               var u = e.getObjectCenter();
                               (e.object
@@ -107123,34 +108291,31 @@ and limitations under the License.
                     var t = e.mainImpostor.physicsBody,
                       i = e.connectedImpostor.physicsBody;
                     if (t && i) {
-                      var n,
-                        r = e.joint.jointData,
-                        o = r.nativeParams || {},
-                        a = {
-                          body1: t,
-                          body2: i,
-                          axe1:
-                            o.axe1 ||
-                            (r.mainAxis ? r.mainAxis.asArray() : null),
-                          axe2:
-                            o.axe2 ||
-                            (r.connectedAxis
-                              ? r.connectedAxis.asArray()
-                              : null),
-                          pos1:
-                            o.pos1 ||
-                            (r.mainPivot ? r.mainPivot.asArray() : null),
-                          pos2:
-                            o.pos2 ||
-                            (r.connectedPivot
-                              ? r.connectedPivot.asArray()
-                              : null),
-                          min: o.min,
-                          max: o.max,
-                          collision: o.collision || r.collision,
-                          spring: o.spring,
-                          world: this.world,
-                        };
+                      var n;
+                      var r = e.joint.jointData;
+                      var o = r.nativeParams || {};
+                      var a = {
+                        body1: t,
+                        body2: i,
+                        axe1:
+                          o.axe1 || (r.mainAxis ? r.mainAxis.asArray() : null),
+                        axe2:
+                          o.axe2 ||
+                          (r.connectedAxis ? r.connectedAxis.asArray() : null),
+                        pos1:
+                          o.pos1 ||
+                          (r.mainPivot ? r.mainPivot.asArray() : null),
+                        pos2:
+                          o.pos2 ||
+                          (r.connectedPivot
+                            ? r.connectedPivot.asArray()
+                            : null),
+                        min: o.min,
+                        max: o.max,
+                        collision: o.collision || r.collision,
+                        spring: o.spring,
+                        world: this.world,
+                      };
                       switch (e.joint.type) {
                         case Jr.e.BallAndSocketJoint:
                           n = "jointBall";
@@ -107193,12 +108358,13 @@ and limitations under the License.
                     return void 0 !== this.BJSOIMO;
                   }),
                   (e.prototype.setTransformationFromPhysicsBody = function (e) {
-                    e.physicsBody.sleeping ||
+                    if (!e.physicsBody.sleeping) {
                       (e.object.position.copyFrom(e.physicsBody.getPosition()),
-                      e.object.rotationQuaternion &&
-                        e.object.rotationQuaternion.copyFrom(
-                          e.physicsBody.getQuaternion(),
-                        ));
+                        e.object.rotationQuaternion &&
+                          e.object.rotationQuaternion.copyFrom(
+                            e.physicsBody.getQuaternion(),
+                          ));
+                    }
                   }),
                   (e.prototype.setPhysicsBodyTransformation = function (
                     e,
@@ -107268,7 +108434,9 @@ and limitations under the License.
                       : e.physicsJoint.rotationalLimitMotor1 ||
                         e.physicsJoint.rotationalLimitMotor ||
                         e.physicsJoint.limitMotor;
-                    r && r.setMotor(t, i);
+                    if (r) {
+                      r.setMotor(t, i);
+                    }
                   }),
                   (e.prototype.setLimit = function (e, t, i, n) {
                     var r = n
@@ -107276,7 +108444,9 @@ and limitations under the License.
                       : e.physicsJoint.rotationalLimitMotor1 ||
                         e.physicsJoint.rotationalLimitMotor ||
                         e.physicsJoint.limitMotor;
-                    r && r.setLimit(t, void 0 === i ? -t : i);
+                    if (r) {
+                      r.setLimit(t, void 0 === i ? -t : i);
+                    }
                   }),
                   (e.prototype.syncMeshWithImpostor = function (e, t) {
                     var i = t.physicsBody;
@@ -107342,8 +108512,8 @@ and limitations under the License.
                   T = [],
                   A = [];
                 if (t.length < 2) {
-                  var x = [],
-                    S = [];
+                  var x = [];
+                  var S = [];
                   for (u = 0; u < t[0].length - a; u++)
                     (x.push(t[0][u]), S.push(t[0][u + a]));
                   t = [x, S];
@@ -107393,14 +108563,13 @@ and limitations under the License.
                       (R = B.subtract(F).length() + E[u]),
                       y[u].push(R),
                       (E[u] = R));
-                  i &&
-                    B &&
-                    F &&
+                  if (i && B && F) {
                     ((M = t[c]),
-                    (O = t[0]),
-                    u === s && (B = O[0]),
-                    (R = B.subtract(F).length() + E[u]),
-                    (E[u] = R));
+                      (O = t[0]),
+                      u === s && (B = O[0]),
+                      (R = B.subtract(F).length() + E[u]),
+                      (E[u] = R));
+                  }
                 }
                 if (f) for (c = 0; c < f.length; c++) _.push(f[c].x, f[c].y);
                 else
@@ -107429,8 +108598,8 @@ and limitations under the License.
                       (N = A[c]),
                       (V = k < U ? k + N : U + N)));
                 if ((xi.a.ComputeNormals(p, m, g), n)) {
-                  var j = 0,
-                    H = 0;
+                  var j = 0;
+                  var H = 0;
                   for (c = 0; c < t.length; c++)
                     ((j = 3 * A[c]),
                       (H =
@@ -107489,7 +108658,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreateRibbon = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var n = t.pathArray,
                       r = t.closeArray,
                       o = t.closePath,
@@ -107497,9 +108668,9 @@ and limitations under the License.
                       c = t.instance,
                       u = t.updatable;
                     if (c) {
-                      var l = a.t.Vector3[0].setAll(Number.MAX_VALUE),
-                        h = a.t.Vector3[1].setAll(-Number.MAX_VALUE),
-                        f = c.getVerticesData(Si.b.PositionKind);
+                      var l = a.t.Vector3[0].setAll(Number.MAX_VALUE);
+                      var h = a.t.Vector3[1].setAll(-Number.MAX_VALUE);
+                      var f = c.getVerticesData(Si.b.PositionKind);
                       if (
                         ((function (e) {
                           for (
@@ -107516,8 +108687,8 @@ and limitations under the License.
                             ++a
                           )
                             for (var s = 0; s < n.length; ++s) {
-                              var u = n[s],
-                                f = u.length;
+                              var u = n[s];
+                              var f = u.length;
                               t = t < f ? t : f;
                               for (var d = 0; d < t; ++d) {
                                 var p = u[d];
@@ -107528,13 +108699,16 @@ and limitations under the License.
                                   h.maximizeInPlaceFromFloats(p.x, p.y, p.z),
                                   (r += 3));
                               }
-                              i._creationDataStorage &&
-                                i._creationDataStorage.closePath &&
+                              if (
+                                i._creationDataStorage &&
+                                i._creationDataStorage.closePath
+                              ) {
                                 ((p = u[0]),
-                                (e[r] = p.x),
-                                (e[r + 1] = p.y),
-                                (e[r + 2] = p.z),
-                                (r += 3));
+                                  (e[r] = p.x),
+                                  (e[r + 1] = p.y),
+                                  (e[r + 2] = p.z),
+                                  (r += 3));
+                              }
                             }
                         })(f),
                         c._boundingInfo
@@ -107574,11 +108748,11 @@ and limitations under the License.
                         c.updateVerticesData(Si.b.UVKind, _, false, false);
                       }
                       if (!c.areNormalsFrozen || c.isFacetDataEnabled) {
-                        var y = c.getIndices(),
-                          b = c.getVerticesData(Si.b.NormalKind),
-                          E = c.isFacetDataEnabled
-                            ? c.getFacetDataParameters()
-                            : null;
+                        var y = c.getIndices();
+                        var b = c.getVerticesData(Si.b.NormalKind);
+                        var E = c.isFacetDataEnabled
+                          ? c.getFacetDataParameters()
+                          : null;
                         if (
                           (xi.a.ComputeNormals(f, y, b, E),
                           c._creationDataStorage &&
@@ -107596,13 +108770,14 @@ and limitations under the License.
                               (b[A] = b[T]),
                               (b[A + 1] = b[T + 1]),
                               (b[A + 2] = b[T + 2]));
-                        c.areNormalsFrozen ||
+                        if (!c.areNormalsFrozen) {
                           c.updateVerticesData(
                             Si.b.NormalKind,
                             b,
                             false,
                             false,
                           );
+                        }
                       }
                       return c;
                     }
@@ -107622,7 +108797,9 @@ and limitations under the License.
                 );
               })();
               ((me.a.ExtrudeShape = function (e, t, i, n, r, o, a, s, c, u) {
-                void 0 === a && (a = null);
+                if (void 0 === a) {
+                  a = null;
+                }
                 var l = {
                   shape: t,
                   path: i,
@@ -107667,7 +108844,9 @@ and limitations under the License.
                   function e() {}
                   return (
                     (e.ExtrudeShape = function (t, i, n) {
-                      void 0 === n && (n = null);
+                      if (void 0 === n) {
+                        n = null;
+                      }
                       var r = i.path,
                         o = i.shape,
                         a = i.scale || 1,
@@ -107699,7 +108878,9 @@ and limitations under the License.
                       );
                     }),
                     (e.ExtrudeShapeCustom = function (t, i, n) {
-                      void 0 === n && (n = null);
+                      if (void 0 === n) {
+                        n = null;
+                      }
                       var r = i.path,
                         o = i.shape,
                         a =
@@ -107798,10 +108979,10 @@ and limitations under the License.
                             ) {
                               a.j.RotationAxisToRef(h[b], m, y);
                               var S = h[b]
-                                  .scale(e[x].z)
-                                  .add(f[b].scale(e[x].x))
-                                  .add(d[b].scale(e[x].y)),
-                                C = E[x] ? E[x] : a.x.Zero();
+                                .scale(e[x].z)
+                                .add(f[b].scale(e[x].x))
+                                .add(d[b].scale(e[x].y));
+                              var C = E[x] ? E[x] : a.x.Zero();
                               (a.x.TransformCoordinatesToRef(S, y, C),
                                 C.scaleInPlace(A).addInPlace(t[b]),
                                 (E[x] = C));
@@ -108037,7 +109218,9 @@ and limitations under the License.
                     (e.prototype.executeStep = function (e, t) {
                       for (var i = 0, n = t; i < n.length; i++) {
                         var r = n[i];
-                        r.soft || r.beforeStep();
+                        if (!r.soft) {
+                          r.beforeStep();
+                        }
                       }
                       this._stepSimulation(
                         this._useDeltaForWorldStep ? e : this._timeStep,
@@ -108062,15 +109245,14 @@ and limitations under the License.
                               l++
                             ) {
                               var f = h[l];
-                              (s.physicsBody.isActive() ||
-                                f.physicsBody.isActive()) &&
-                                this._isImpostorPairInContact(s, f) &&
-                                (s.onCollide({
-                                  body: f.physicsBody,
-                                }),
-                                f.onCollide({
-                                  body: s.physicsBody,
-                                }));
+                              if (
+                                (s.physicsBody.isActive() ||
+                                  f.physicsBody.isActive()) &&
+                                this._isImpostorPairInContact(s, f)
+                              ) {
+                                (s.onCollide({ body: f.physicsBody }),
+                                  f.onCollide({ body: s.physicsBody }));
+                              }
                             }
                       }
                     }),
@@ -108113,9 +109295,13 @@ and limitations under the License.
                       var t = e.type === Zr.a.ClothImpostor ? 1 : -1,
                         i = e.object,
                         n = i.getVerticesData(Si.b.PositionKind);
-                      n || (n = []);
+                      if (!n) {
+                        n = [];
+                      }
                       var r = i.getVerticesData(Si.b.NormalKind);
-                      r || (r = []);
+                      if (!r) {
+                        r = [];
+                      }
                       for (
                         var o,
                           a,
@@ -108157,8 +109343,8 @@ and limitations under the License.
                       if (e.soft) g.a.Warn("Cannot be applied to a soft body");
                       else {
                         e.physicsBody.activate();
-                        var n = this._tmpAmmoVectorA,
-                          r = this._tmpAmmoVectorB;
+                        var n = this._tmpAmmoVectorA;
+                        var r = this._tmpAmmoVectorB;
                         (e.object &&
                           e.object.getWorldMatrix &&
                           (e.object
@@ -108179,8 +109365,8 @@ and limitations under the License.
                       if (e.soft) g.a.Warn("Cannot be applied to a soft body");
                       else {
                         e.physicsBody.activate();
-                        var n = this._tmpAmmoVectorA,
-                          r = this._tmpAmmoVectorB;
+                        var n = this._tmpAmmoVectorA;
+                        var r = this._tmpAmmoVectorB;
                         (e.object &&
                           e.object.getWorldMatrix &&
                           (e.object
@@ -108202,8 +109388,8 @@ and limitations under the License.
                         t.physicsBody &&
                           (this.removePhysicsBody(t), t.forceUpdate());
                       else if (t.isBodyInitRequired()) {
-                        var i = this._createShape(t),
-                          n = t.getParam("mass");
+                        var i = this._createShape(t);
+                        var n = t.getParam("mass");
                         if (((t._pluginData.mass = n), t.soft))
                           (i.get_m_cfg().set_collisions(17),
                             i.get_m_cfg().set_kDP(t.getParam("damping")),
@@ -108227,8 +109413,8 @@ and limitations under the License.
                               t.getParam("positionIterations"),
                             ));
                         else {
-                          var r = new Ammo.btVector3(0, 0, 0),
-                            o = new Ammo.btTransform();
+                          var r = new Ammo.btVector3(0, 0, 0);
+                          var o = new Ammo.btTransform();
                           (o.setIdentity(),
                             0 !== n && i.calculateLocalInertia(n, r),
                             this._tmpAmmoVectorA.setValue(
@@ -108244,14 +109430,14 @@ and limitations under the License.
                             ),
                             o.setOrigin(this._tmpAmmoVectorA),
                             o.setRotation(this._tmpAmmoQuaternion));
-                          var a = new Ammo.btDefaultMotionState(o),
-                            s = new Ammo.btRigidBodyConstructionInfo(
-                              n,
-                              a,
-                              i,
-                              r,
-                            ),
-                            c = new Ammo.btRigidBody(s);
+                          var a = new Ammo.btDefaultMotionState(o);
+                          var s = new Ammo.btRigidBodyConstructionInfo(
+                            n,
+                            a,
+                            i,
+                            r,
+                          );
+                          var c = new Ammo.btRigidBody(s);
                           (0 === n &&
                             (c.setCollisionFlags(
                               c.getCollisionFlags() | e.KINEMATIC_FLAG,
@@ -108281,19 +109467,20 @@ and limitations under the License.
                     }),
                     (e.prototype.removePhysicsBody = function (e) {
                       var t = this;
-                      this.world &&
+                      if (this.world) {
                         (this.world.removeRigidBody(e.physicsBody),
-                        e._pluginData &&
-                          e._pluginData.toDispose.forEach(function (e) {
-                            t.bjsAMMO.destroy(e);
-                          }));
+                          e._pluginData &&
+                            e._pluginData.toDispose.forEach(function (e) {
+                              t.bjsAMMO.destroy(e);
+                            }));
+                      }
                     }),
                     (e.prototype.generateJoint = function (e) {
                       var t = e.mainImpostor.physicsBody,
                         i = e.connectedImpostor.physicsBody;
                       if (t && i) {
-                        var n,
-                          r = e.joint.jointData;
+                        var n;
+                        var r = e.joint.jointData;
                         switch (
                           (r.mainPivot || (r.mainPivot = new a.x(0, 0, 0)),
                           r.connectedPivot ||
@@ -108394,8 +109581,9 @@ and limitations under the License.
                       }
                     }),
                     (e.prototype.removeJoint = function (e) {
-                      this.world &&
+                      if (this.world) {
                         this.world.removeConstraint(e.joint.physicsJoint);
+                      }
                     }),
                     (e.prototype._addMeshVerts = function (e, t, i) {
                       var n = this,
@@ -108407,17 +109595,19 @@ and limitations under the License.
                         i.getChildMeshes
                       ) {
                         var o = i.getIndices();
-                        o || (o = []);
+                        if (!o) {
+                          o = [];
+                        }
                         var s = i.getVerticesData(Si.b.PositionKind);
                         (s || (s = []), i.computeWorldMatrix(false));
                         for (var c = o.length / 3, u = 0; u < c; u++) {
                           for (var l = [], h = 0; h < 3; h++) {
-                            var f,
-                              d = new a.x(
-                                s[3 * o[3 * u + h] + 0],
-                                s[3 * o[3 * u + h] + 1],
-                                s[3 * o[3 * u + h] + 2],
-                              );
+                            var f;
+                            var d = new a.x(
+                              s[3 * o[3 * u + h] + 0],
+                              s[3 * o[3 * u + h] + 1],
+                              s[3 * o[3 * u + h] + 2],
+                            );
                             (a.j.ScalingToRef(
                               i.scaling.x,
                               i.scaling.y,
@@ -108457,14 +109647,18 @@ and limitations under the License.
                         t.getChildMeshes
                       ) {
                         var i = t.getIndices();
-                        i || (i = []);
+                        if (!i) {
+                          i = [];
+                        }
                         var n = t.getVerticesData(Si.b.PositionKind);
-                        n || (n = []);
+                        if (!n) {
+                          n = [];
+                        }
                         var r = t.getVerticesData(Si.b.NormalKind);
                         (r || (r = []), t.computeWorldMatrix(false));
                         for (var o = [], s = [], c = 0; c < n.length; c += 3) {
-                          var u = new a.x(n[c], n[c + 1], n[c + 2]),
-                            l = new a.x(r[c], r[c + 1], r[c + 2]);
+                          var u = new a.x(n[c], n[c + 1], n[c + 2]);
+                          var l = new a.x(r[c], r[c + 1], r[c + 2]);
                           ((u = a.x.TransformCoordinates(
                             u,
                             t.getWorldMatrix(),
@@ -108494,26 +109688,28 @@ and limitations under the License.
                       var t = e.object;
                       if (t && t.getIndices) {
                         var i = t.getIndices();
-                        i || (i = []);
-                        var n = this._softVertexData(e),
-                          r = n.positions,
-                          o = n.normals;
+                        if (!i) {
+                          i = [];
+                        }
+                        var n = this._softVertexData(e);
+                        var r = n.positions;
+                        var o = n.normals;
                         if (null === r || null === o)
                           return new Ammo.btCompoundShape();
                         for (var s = [], c = [], u = 0; u < r.length; u += 3) {
-                          var l = new a.x(r[u], r[u + 1], r[u + 2]),
-                            h = new a.x(o[u], o[u + 1], o[u + 2]);
+                          var l = new a.x(r[u], r[u + 1], r[u + 2]);
+                          var h = new a.x(o[u], o[u + 1], o[u + 2]);
                           (s.push(l.x, l.y, -l.z), c.push(h.x, h.y, -h.z));
                         }
                         var f = new Ammo.btSoftBodyHelpers().CreateFromTriMesh(
-                            this.world.getWorldInfo(),
-                            s,
-                            t.getIndices(),
-                            i.length / 3,
-                            true,
-                          ),
-                          d = r.length / 3,
-                          p = f.get_m_nodes();
+                          this.world.getWorldInfo(),
+                          s,
+                          t.getIndices(),
+                          i.length / 3,
+                          true,
+                        );
+                        var d = r.length / 3;
+                        var p = f.get_m_nodes();
                         for (u = 0; u < d; u++) {
                           var m;
                           ((m = p.at(u).get_m_n()).setX(c[3 * u]),
@@ -108527,14 +109723,16 @@ and limitations under the License.
                       var t = e.object;
                       if (t && t.getIndices) {
                         var i = t.getIndices();
-                        i || (i = []);
-                        var n = this._softVertexData(e),
-                          r = n.positions,
-                          o = n.normals;
+                        if (!i) {
+                          i = [];
+                        }
+                        var n = this._softVertexData(e);
+                        var r = n.positions;
+                        var o = n.normals;
                         if (null === r || null === o)
                           return new Ammo.btCompoundShape();
-                        var a = r.length,
-                          s = Math.sqrt(a / 3);
+                        var a = r.length;
+                        var s = Math.sqrt(a / 3);
                         e.segments = s;
                         var c = s - 1;
                         return (
@@ -108638,17 +109836,19 @@ and limitations under the License.
                         i.getChildMeshes
                       ) {
                         var o = i.getIndices();
-                        o || (o = []);
+                        if (!o) {
+                          o = [];
+                        }
                         var s = i.getVerticesData(Si.b.PositionKind);
                         (s || (s = []), i.computeWorldMatrix(false));
                         for (var c = o.length / 3, u = 0; u < c; u++) {
                           for (var l = [], h = 0; h < 3; h++) {
-                            var f,
-                              d = new a.x(
-                                s[3 * o[3 * u + h] + 0],
-                                s[3 * o[3 * u + h] + 1],
-                                s[3 * o[3 * u + h] + 2],
-                              );
+                            var f;
+                            var d = new a.x(
+                              s[3 * o[3 * u + h] + 0],
+                              s[3 * o[3 * u + h] + 1],
+                              s[3 * o[3 * u + h] + 2],
+                            );
                             (a.j.ScalingToRef(
                               i.scaling.x,
                               i.scaling.y,
@@ -108684,7 +109884,9 @@ and limitations under the License.
                     }),
                     (e.prototype._createShape = function (e, t) {
                       var i = this;
-                      void 0 === t && (t = false);
+                      if (void 0 === t) {
+                        t = false;
+                      }
                       var n,
                         r = e.object,
                         o = e.getObjectExtendSize();
@@ -108700,9 +109902,9 @@ and limitations under the License.
                             if (t) {
                               if (t.type == Zr.a.MeshImpostor)
                                 throw "A child MeshImpostor is not supported. Only primitive impostors are supported as children (eg. box or sphere)";
-                              var r = i._createShape(t),
-                                o = e.parent.getWorldMatrix().clone(),
-                                s = new a.x();
+                              var r = i._createShape(t);
+                              var o = e.parent.getWorldMatrix().clone();
+                              var s = new a.x();
                               (o.decompose(s),
                                 i._tmpAmmoTransform
                                   .getOrigin()
@@ -108729,15 +109931,16 @@ and limitations under the License.
                         ) {
                           if (e.type != Zr.a.NoImpostor) {
                             var u = this._createShape(e, true);
-                            u &&
+                            if (u) {
                               (this._tmpAmmoTransform
                                 .getOrigin()
                                 .setValue(0, 0, 0),
-                              this._tmpAmmoQuaternion.setValue(0, 0, 0, 1),
-                              this._tmpAmmoTransform.setRotation(
-                                this._tmpAmmoQuaternion,
-                              ),
-                              n.addChildShape(this._tmpAmmoTransform, u));
+                                this._tmpAmmoQuaternion.setValue(0, 0, 0, 1),
+                                this._tmpAmmoTransform.setRotation(
+                                  this._tmpAmmoQuaternion,
+                                ),
+                                n.addChildShape(this._tmpAmmoTransform, u));
+                            }
                           }
                           return n;
                         }
@@ -108856,7 +110059,9 @@ and limitations under the License.
                           0 == e.mass)
                         ) {
                           var r = e.physicsBody.getMotionState();
-                          r && r.setWorldTransform(n);
+                          if (r) {
+                            r.setWorldTransform(n);
+                          }
                         } else e.physicsBody.activate();
                     }),
                     (e.prototype.isSupported = function () {
@@ -109362,17 +110567,19 @@ and limitations under the License.
                       t._waitingData.lods.ids &&
                       t._waitingData.lods.ids.length > 0
                     ) {
-                      var n = t._waitingData.lods.ids,
-                        r = i.isEnabled(false);
+                      var n = t._waitingData.lods.ids;
+                      var r = i.isEnabled(false);
                       if (t._waitingData.lods.distances) {
                         var o = t._waitingData.lods.distances;
                         if (o.length >= n.length) {
                           var a = o.length > n.length ? o[o.length - 1] : 0;
                           i.setEnabled(false);
                           for (var s = 0; s < n.length; s++) {
-                            var c = n[s],
-                              u = e.getMeshByID(c);
-                            null != u && i.addLODLevel(o[s], u);
+                            var c = n[s];
+                            var u = e.getMeshByID(c);
+                            if (null != u) {
+                              i.addLODLevel(o[s], u);
+                            }
                           }
                           (a > 0 && i.addLODLevel(a, null),
                             true === r && i.setEnabled(true));
@@ -109386,15 +110593,17 @@ and limitations under the License.
                   }
                 },
                 ho = function (e, t, i, n, o) {
-                  void 0 === o && (o = false);
+                  if (void 0 === o) {
+                    o = false;
+                  }
                   var a = new _e(e),
                     c = "importScene has failed JSON parse";
                   try {
                     var u = JSON.parse(t);
                     c = "";
-                    var l,
-                      h,
-                      f = mn.loggingLevel === mn.DETAILED_LOGGING;
+                    var l;
+                    var h;
+                    var f = mn.loggingLevel === mn.DETAILED_LOGGING;
                     if (
                       void 0 !== u.environmentTexture &&
                       null !== u.environmentTexture
@@ -109405,17 +110614,17 @@ and limitations under the License.
                         "BABYLON.HDRCubeTexture" === u.environmentTextureType
                       ) {
                         var p = u.environmentTextureSize
-                            ? u.environmentTextureSize
-                            : 128,
-                          m = new Kr(
-                            (u.environmentTexture.match(/https?:\/\//g)
-                              ? ""
-                              : i) + u.environmentTexture,
-                            e,
-                            p,
-                            true,
-                            !d,
-                          );
+                          ? u.environmentTextureSize
+                          : 128;
+                        var m = new Kr(
+                          (u.environmentTexture.match(/https?:\/\//g)
+                            ? ""
+                            : i) + u.environmentTexture,
+                          e,
+                          p,
+                          true,
+                          !d,
+                        );
                         (u.environmentTextureRotationY &&
                           (m.rotationY = u.environmentTextureRotationY),
                           (e.environmentTexture = m));
@@ -109442,71 +110651,78 @@ and limitations under the License.
                       }
                       if (true === u.createDefaultSkybox) {
                         var y =
-                            void 0 !== e.activeCamera && null !== e.activeCamera
-                              ? (e.activeCamera.maxZ - e.activeCamera.minZ) / 2
-                              : 1e3,
-                          b = u.skyboxBlurLevel || 0;
+                          void 0 !== e.activeCamera && null !== e.activeCamera
+                            ? (e.activeCamera.maxZ - e.activeCamera.minZ) / 2
+                            : 1e3;
+                        var b = u.skyboxBlurLevel || 0;
                         e.createDefaultSkybox(e.environmentTexture, d, y, b);
                       }
                       a.environmentTexture = e.environmentTexture;
                     }
                     if (void 0 !== u.lights && null !== u.lights)
                       for (l = 0, h = u.lights.length; l < h; l++) {
-                        var E = u.lights[l],
-                          T = Nn.a.Parse(E, e);
-                        T &&
+                        var E = u.lights[l];
+                        var T = Nn.a.Parse(E, e);
+                        if (T) {
                           (a.lights.push(T),
-                          (c += 0 === l ? "\n\tLights:" : ""),
-                          (c += "\n\t\t" + T.toString(f)));
+                            (c += 0 === l ? "\n	Lights:" : ""),
+                            (c += "\n		" + T.toString(f)));
+                        }
                       }
                     if (
                       void 0 !== u.reflectionProbes &&
                       null !== u.reflectionProbes
                     )
                       for (l = 0, h = u.reflectionProbes.length; l < h; l++) {
-                        var A = u.reflectionProbes[l],
-                          x = ao.Parse(A, e, i);
-                        x &&
+                        var A = u.reflectionProbes[l];
+                        var x = ao.Parse(A, e, i);
+                        if (x) {
                           (a.reflectionProbes.push(x),
-                          (c += 0 === l ? "\n\tReflection Probes:" : ""),
-                          (c += "\n\t\t" + x.toString(f)));
+                            (c += 0 === l ? "\n	Reflection Probes:" : ""),
+                            (c += "\n		" + x.toString(f)));
+                        }
                       }
                     if (void 0 !== u.animations && null !== u.animations)
                       for (l = 0, h = u.animations.length; l < h; l++) {
-                        var S = u.animations[l],
-                          C = s.a.GetClass("BABYLON.Animation");
+                        var S = u.animations[l];
+                        var C = s.a.GetClass("BABYLON.Animation");
                         if (C) {
                           var P = C.Parse(S);
                           (e.animations.push(P),
                             a.animations.push(P),
-                            (c += 0 === l ? "\n\tAnimations:" : ""),
-                            (c += "\n\t\t" + P.toString(f)));
+                            (c += 0 === l ? "\n	Animations:" : ""),
+                            (c += "\n		" + P.toString(f)));
                         }
                       }
                     if (void 0 !== u.materials && null !== u.materials)
                       for (l = 0, h = u.materials.length; l < h; l++) {
-                        var R = u.materials[l],
-                          M = Mr.a.Parse(R, e, i);
-                        M &&
+                        var R = u.materials[l];
+                        var M = Mr.a.Parse(R, e, i);
+                        if (M) {
                           (a.materials.push(M),
-                          (c += 0 === l ? "\n\tMaterials:" : ""),
-                          (c += "\n\t\t" + M.toString(f)),
-                          M.getActiveTextures().forEach(function (e) {
-                            -1 == a.textures.indexOf(e) && a.textures.push(e);
-                          }));
+                            (c += 0 === l ? "\n	Materials:" : ""),
+                            (c += "\n		" + M.toString(f)),
+                            M.getActiveTextures().forEach(function (e) {
+                              if (-1 == a.textures.indexOf(e)) {
+                                a.textures.push(e);
+                              }
+                            }));
+                        }
                       }
                     if (
                       void 0 !== u.multiMaterials &&
                       null !== u.multiMaterials
                     )
                       for (l = 0, h = u.multiMaterials.length; l < h; l++) {
-                        var w = u.multiMaterials[l],
-                          I = Wr.a.ParseMultiMaterial(w, e);
+                        var w = u.multiMaterials[l];
+                        var I = Wr.a.ParseMultiMaterial(w, e);
                         (a.multiMaterials.push(I),
-                          (c += 0 === l ? "\n\tMultiMaterials:" : ""),
-                          (c += "\n\t\t" + I.toString(f)),
+                          (c += 0 === l ? "\n	MultiMaterials:" : ""),
+                          (c += "\n		" + I.toString(f)),
                           I.getActiveTextures().forEach(function (e) {
-                            -1 == a.textures.indexOf(e) && a.textures.push(e);
+                            if (-1 == a.textures.indexOf(e)) {
+                              a.textures.push(e);
+                            }
                           }));
                       }
                     if (
@@ -109523,23 +110739,25 @@ and limitations under the License.
                       }
                     if (void 0 !== u.skeletons && null !== u.skeletons)
                       for (l = 0, h = u.skeletons.length; l < h; l++) {
-                        var B = u.skeletons[l],
-                          N = Xe.Parse(B, e);
+                        var B = u.skeletons[l];
+                        var N = Xe.Parse(B, e);
                         (a.skeletons.push(N),
-                          (c += 0 === l ? "\n\tSkeletons:" : ""),
-                          (c += "\n\t\t" + N.toString(f)));
+                          (c += 0 === l ? "\n	Skeletons:" : ""),
+                          (c += "\n		" + N.toString(f)));
                       }
                     var k = u.geometries;
                     if (null != k) {
-                      var U = new Array(),
-                        V = k.vertexData;
+                      var U = new Array();
+                      var V = k.vertexData;
                       if (null != V)
                         for (l = 0, h = V.length; l < h; l++) {
                           var G = V[l];
                           U.push(Hr.a.Parse(G, e, i));
                         }
                       U.forEach(function (e) {
-                        e && a.geometries.push(e);
+                        if (e) {
+                          a.geometries.push(e);
+                        }
                       });
                     }
                     if (
@@ -109547,36 +110765,36 @@ and limitations under the License.
                       null !== u.transformNodes
                     )
                       for (l = 0, h = u.transformNodes.length; l < h; l++) {
-                        var z = u.transformNodes[l],
-                          j = tr.a.Parse(z, e, i);
+                        var z = u.transformNodes[l];
+                        var j = tr.a.Parse(z, e, i);
                         a.transformNodes.push(j);
                       }
                     if (void 0 !== u.meshes && null !== u.meshes)
                       for (l = 0, h = u.meshes.length; l < h; l++) {
-                        var H = u.meshes[l],
-                          W = me.a.Parse(H, e, i);
+                        var H = u.meshes[l];
+                        var W = me.a.Parse(H, e, i);
                         (a.meshes.push(W),
-                          (c += 0 === l ? "\n\tMeshes:" : ""),
-                          (c += "\n\t\t" + W.toString(f)));
+                          (c += 0 === l ? "\n	Meshes:" : ""),
+                          (c += "\n		" + W.toString(f)));
                       }
                     if (void 0 !== u.cameras && null !== u.cameras)
                       for (l = 0, h = u.cameras.length; l < h; l++) {
-                        var X = u.cameras[l],
-                          Y = ke.a.Parse(X, e);
+                        var X = u.cameras[l];
+                        var Y = ke.a.Parse(X, e);
                         (a.cameras.push(Y),
-                          (c += 0 === l ? "\n\tCameras:" : ""),
-                          (c += "\n\t\t" + Y.toString(f)));
+                          (c += 0 === l ? "\n	Cameras:" : ""),
+                          (c += "\n		" + Y.toString(f)));
                       }
                     if (
                       void 0 !== u.animationGroups &&
                       null !== u.animationGroups
                     )
                       for (l = 0, h = u.animationGroups.length; l < h; l++) {
-                        var K = u.animationGroups[l],
-                          Q = $.Parse(K, e);
+                        var K = u.animationGroups[l];
+                        var Q = $.Parse(K, e);
                         (a.animationGroups.push(Q),
-                          (c += 0 === l ? "\n\tAnimationGroups:" : ""),
-                          (c += "\n\t\t" + Q.toString(f)));
+                          (c += 0 === l ? "\n	AnimationGroups:" : ""),
+                          (c += "\n		" + Q.toString(f)));
                       }
                     for (l = 0, h = e.cameras.length; l < h; l++)
                       (Y = e.cameras[l])._waitingParentId &&
@@ -109584,16 +110802,9 @@ and limitations under the License.
                         (Y._waitingParentId = null));
                     for (l = 0, h = e.lights.length; l < h; l++) {
                       var q = e.lights[l];
-                      q &&
-                        q._waitingParentId &&
-                        ((q.parent = e.getLastEntryByID(q._waitingParentId)),
-                        (q._waitingParentId = null));
                     }
                     for (l = 0, h = e.transformNodes.length; l < h; l++) {
                       var Z = e.transformNodes[l];
-                      Z._waitingParentId &&
-                        ((Z.parent = e.getLastEntryByID(Z._waitingParentId)),
-                        (Z._waitingParentId = null));
                     }
                     for (l = 0, h = e.meshes.length; l < h; l++)
                       ((W = e.meshes[l])._waitingParentId &&
@@ -109602,16 +110813,7 @@ and limitations under the License.
                         W._waitingData.lods && lo(e, W));
                     for (l = 0, h = e.skeletons.length; l < h; l++)
                       (N = e.skeletons[l])._hasWaitingData &&
-                        (null != N.bones &&
-                          N.bones.forEach(function (t) {
-                            if (t._waitingTransformNodeId) {
-                              var i = e.getLastEntryByID(
-                                t._waitingTransformNodeId,
-                              );
-                              (i && t.linkTransformNode(i),
-                                (t._waitingTransformNodeId = null));
-                            }
-                          }),
+                        (null != N.bones && N.bones.forEach(function (t) {}),
                         (N._hasWaitingData = null));
                     for (l = 0, h = e.meshes.length; l < h; l++) {
                       var J = e.meshes[l];
@@ -109629,7 +110831,9 @@ and limitations under the License.
                           te++
                         ) {
                           var ie = e.getMeshByID(ee._excludedMeshesIds[te]);
-                          ie && ee.excludedMeshes.push(ie);
+                          if (ie) {
+                            ee.excludedMeshes.push(ie);
+                          }
                         }
                         ee._excludedMeshesIds = [];
                       }
@@ -109640,7 +110844,9 @@ and limitations under the License.
                           ne++
                         ) {
                           var re = e.getMeshByID(ee._includedOnlyMeshesIds[ne]);
-                          re && ee.includedOnlyMeshes.push(re);
+                          if (re) {
+                            ee.includedOnlyMeshes.push(re);
+                          }
                         }
                         ee._includedOnlyMeshesIds = [];
                       }
@@ -109662,12 +110868,12 @@ and limitations under the License.
                     if (!n) throw (g.a.Log(oe), e);
                     n(oe, e);
                   } finally {
-                    null !== c &&
-                      mn.loggingLevel !== mn.NO_LOGGING &&
+                    if (null !== c && mn.loggingLevel !== mn.NO_LOGGING) {
                       g.a.Log(
                         uo("loadAssets", u ? u.producer : "Unknown") +
                           (mn.loggingLevel !== mn.MINIMAL_LOGGING ? c : ""),
                       );
+                    }
                   }
                   return a;
                 };
@@ -109686,11 +110892,11 @@ and limitations under the License.
                     e ? Array.isArray(e) || (e = [e]) : (e = null);
                     var f = new Array();
                     if (void 0 !== l.meshes && null !== l.meshes) {
-                      var d,
-                        p,
-                        m,
-                        _ = [],
-                        v = [];
+                      var d;
+                      var p;
+                      var m;
+                      var _ = [];
+                      var v = [];
                       for (d = 0, p = l.meshes.length; d < p; d++) {
                         var y = l.meshes[d];
                         if (null === e || co(y, e, f)) {
@@ -109712,9 +110918,11 @@ and limitations under the License.
                               "torusKnots",
                               "vertexData",
                             ].forEach(function (e) {
-                              true !== b &&
+                              if (
+                                true !== b &&
                                 l.geometries[e] &&
-                                Array.isArray(l.geometries[e]) &&
+                                Array.isArray(l.geometries[e])
+                              ) {
                                 l.geometries[e].forEach(function (i) {
                                   if (i.id === y.geometryId) {
                                     switch (e) {
@@ -109724,6 +110932,7 @@ and limitations under the License.
                                     b = true;
                                   }
                                 });
+                              }
                             }),
                               false === b &&
                                 g.a.Warn(
@@ -109749,28 +110958,30 @@ and limitations under the License.
                                     S < C;
                                     S++
                                   ) {
-                                    var P,
-                                      R = x.materials[S];
+                                    var P;
+                                    var R = x.materials[S];
                                     (v.push(R),
                                       (P = so(R, l, t, n)) &&
-                                        (u += "\n\tMaterial " + P.toString(h)));
+                                        (u += "\n	Material " + P.toString(h)));
                                   }
                                   v.push(x.id);
                                   var M = Wr.a.ParseMultiMaterial(x, t);
-                                  M &&
+                                  if (M) {
                                     ((E = true),
-                                    (u +=
-                                      "\n\tMulti-Material " + M.toString(h)));
+                                      (u +=
+                                        "\n	Multi-Material " + M.toString(h)));
+                                  }
                                   break;
                                 }
                               }
-                            false === E &&
+                            if (false === E) {
                               (v.push(y.materialId),
-                              (P = so(y.materialId, l, t, n))
-                                ? (u += "\n\tMaterial " + P.toString(h))
-                                : g.a.Warn(
-                                    "Material not found for mesh " + y.id,
-                                  ));
+                                (P = so(y.materialId, l, t, n))
+                                  ? (u += "\n	Material " + P.toString(h))
+                                  : g.a.Warn(
+                                      "Material not found for mesh " + y.id,
+                                    ));
+                            }
                           }
                           if (
                             y.skeletonId > -1 &&
@@ -109788,7 +110999,7 @@ and limitations under the License.
                                 var D = Xe.Parse(I, t);
                                 (s.push(D),
                                   _.push(I.id),
-                                  (u += "\n\tSkeleton " + D.toString(h)));
+                                  (u += "\n	Skeleton " + D.toString(h)));
                               }
                             }
                           if (
@@ -109804,7 +111015,7 @@ and limitations under the License.
                               qr.Parse(B, t);
                             }
                           var N = me.a.Parse(y, t, n);
-                          (o.push(N), (u += "\n\tMesh " + N.toString(h)));
+                          (o.push(N), (u += "\n	Mesh " + N.toString(h)));
                         }
                       }
                       for (d = 0, p = t.meshes.length; d < p; d++)
@@ -109814,16 +111025,7 @@ and limitations under the License.
                           m._waitingData.lods && lo(t, m));
                       for (d = 0, p = t.skeletons.length; d < p; d++)
                         (D = t.skeletons[d])._hasWaitingData &&
-                          (null != D.bones &&
-                            D.bones.forEach(function (e) {
-                              if (e._waitingTransformNodeId) {
-                                var i = t.getLastEntryByID(
-                                  e._waitingTransformNodeId,
-                                );
-                                (i && e.linkTransformNode(i),
-                                  (e._waitingTransformNodeId = null));
-                              }
-                            }),
+                          (null != D.bones && D.bones.forEach(function (e) {}),
                           (D._hasWaitingData = null));
                       for (d = 0, p = t.meshes.length; d < p; d++)
                         (m = t.meshes[d])._waitingData.freezeWorldMatrix
@@ -109839,7 +111041,9 @@ and limitations under the License.
                       if (k)
                         for (d = 0, p = l.particleSystems.length; d < p; d++) {
                           var U = l.particleSystems[d];
-                          -1 !== f.indexOf(U.emitterId) && a.push(k(U, t, n));
+                          if (-1 !== f.indexOf(U.emitterId)) {
+                            a.push(k(U, t, n));
+                          }
                         }
                     }
                     return true;
@@ -109848,12 +111052,12 @@ and limitations under the License.
                     if (!c) throw (g.a.Log(V), e);
                     c(V, e);
                   } finally {
-                    null !== u &&
-                      mn.loggingLevel !== mn.NO_LOGGING &&
+                    if (null !== u && mn.loggingLevel !== mn.NO_LOGGING) {
                       g.a.Log(
                         uo("importMesh", l ? l.producer : "Unknown") +
                           (mn.loggingLevel !== mn.MINIMAL_LOGGING ? u : ""),
                       );
+                    }
                   }
                   return false;
                 },
@@ -109888,7 +111092,7 @@ and limitations under the License.
                         (e.fogStart = o.fogStart),
                         (e.fogEnd = o.fogEnd),
                         (e.fogDensity = o.fogDensity),
-                        (r += "\tFog mode for scene:  "),
+                        (r += "	Fog mode for scene:  "),
                         e.fogMode)
                       ) {
                         case 1:
@@ -109908,7 +111112,7 @@ and limitations under the License.
                           ? (s = new io())
                           : "ammo" === o.physicsEngine && (s = new oo()),
                         (r =
-                          "\tPhysics engine " +
+                          "	Physics engine " +
                           (o.physicsEngine ? o.physicsEngine : "oimo") +
                           " enabled\n"));
                       var c = o.physicsGravity
@@ -109947,9 +111151,15 @@ and limitations under the License.
                         "BABYLON.HDRCubeTexture" === o.environmentTextureType
                       ) {
                         var l = o.environmentTextureSize
-                            ? o.environmentTextureSize
-                            : 128,
-                          h = new Kr(i + o.environmentTexture, e, l, true, !u);
+                          ? o.environmentTextureSize
+                          : 128;
+                        var h = new Kr(
+                          i + o.environmentTexture,
+                          e,
+                          l,
+                          true,
+                          !u,
+                        );
                         (o.environmentTextureRotationY &&
                           (h.rotationY = o.environmentTextureRotationY),
                           (e.environmentTexture = h));
@@ -109969,10 +111179,10 @@ and limitations under the License.
                       }
                       if (true === o.createDefaultSkybox) {
                         var p =
-                            void 0 !== e.activeCamera && null !== e.activeCamera
-                              ? (e.activeCamera.maxZ - e.activeCamera.minZ) / 2
-                              : 1e3,
-                          m = o.skyboxBlurLevel || 0;
+                          void 0 !== e.activeCamera && null !== e.activeCamera
+                            ? (e.activeCamera.maxZ - e.activeCamera.minZ) / 2
+                            : 1e3;
+                        var m = o.skyboxBlurLevel || 0;
                         e.createDefaultSkybox(e.environmentTexture, u, p, m);
                       }
                     }
@@ -109982,12 +111192,12 @@ and limitations under the License.
                     if (!n) throw (g.a.Log(_), e);
                     n(_, e);
                   } finally {
-                    null !== r &&
-                      mn.loggingLevel !== mn.NO_LOGGING &&
+                    if (null !== r && mn.loggingLevel !== mn.NO_LOGGING) {
                       g.a.Log(
                         uo("importScene", o ? o.producer : "Unknown") +
                           (mn.loggingLevel !== mn.MINIMAL_LOGGING ? r : ""),
                       );
+                    }
                   }
                   return false;
                 },
@@ -110010,12 +111220,13 @@ and limitations under the License.
                         return this._isEnabled;
                       },
                       set: function (e) {
-                        this._isEnabled !== e &&
+                        if (this._isEnabled !== e) {
                           ((this._isEnabled = e),
-                          ve.b.MarkAllMaterialsAsDirty(
-                            _.a.MATERIAL_FresnelDirtyFlag |
-                              _.a.MATERIAL_MiscDirtyFlag,
-                          ));
+                            ve.b.MarkAllMaterialsAsDirty(
+                              _.a.MATERIAL_FresnelDirtyFlag |
+                                _.a.MATERIAL_MiscDirtyFlag,
+                            ));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -110052,7 +111263,7 @@ and limitations under the License.
               F.a._FresnelParametersParser = po.Parse;
               var mo = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, i) || this;
+                    var n = e(t, i) || this;
                     return (
                       (n.maxSimultaneousLights = 4),
                       (n.disableLighting = false),
@@ -110073,10 +111284,11 @@ and limitations under the License.
                         return this._twoSidedLighting;
                       },
                       set: function (e) {
-                        this._twoSidedLighting !== e &&
+                        if (this._twoSidedLighting !== e) {
                           ((this._twoSidedLighting = e),
-                          (this.backFaceCulling = !e),
-                          this._markAllSubMeshesAsTexturesDirty());
+                            (this.backFaceCulling = !e),
+                            this._markAllSubMeshesAsTexturesDirty());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -110222,7 +111434,7 @@ and limitations under the License.
                 })(lr),
                 go = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t, i) || this;
+                    var n = e(t, i) || this;
                     return (
                       (n._useRoughnessFromMetallicTextureAlpha = false),
                       (n._useRoughnessFromMetallicTextureGreen = true),
@@ -110340,7 +111552,7 @@ and limitations under the License.
               s.a.RegisteredTypes["BABYLON.PBRMetallicRoughnessMaterial"] = go;
               var _o = (function (e) {
                 function t(t, i) {
-                  var n = e.call(this, t, i) || this;
+                  var n = e(t, i) || this;
                   return (
                     (n._useMicroSurfaceFromReflectivityMapAlpha = true),
                     n
@@ -110461,7 +111673,7 @@ and limitations under the License.
               var vo = n(76),
                 yo = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, i) || this;
+                    var n = e(i) || this;
                     return t
                       ? ((n._engine = i.getEngine()),
                         (n._textureMatrix = a.j.Identity()),
@@ -110536,9 +111748,9 @@ and limitations under the License.
                                 var p = r.split(" ");
                                 if (0 !== c) {
                                   if (0 != c) {
-                                    var m = Math.max(parseInt(p[0]), 0),
-                                      g = Math.max(parseInt(p[1]), 0),
-                                      v = Math.max(parseInt(p[2]), 0);
+                                    var m = Math.max(parseInt(p[0]), 0);
+                                    var g = Math.max(parseInt(p[1]), 0);
+                                    var v = Math.max(parseInt(p[2]), 0);
                                     ((f = Math.max(m, f)),
                                       (f = Math.max(g, f)),
                                       (f = Math.max(v, f)));
@@ -110589,20 +111801,26 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.loadTexture = function () {
-                      this.url &&
+                      if (
+                        this.url &&
                         this.url.toLocaleLowerCase().indexOf(".3dl") ==
-                          this.url.length - 4 &&
+                          this.url.length - 4
+                      ) {
                         this.load3dlTexture();
+                      }
                     }),
                     (t.prototype.clone = function () {
                       var e = new t(this.url, this.getScene());
                       return ((e.level = this.level), e);
                     }),
                     (t.prototype.delayLoad = function () {
-                      this.delayLoadState === _.a.DELAYLOADSTATE_NOTLOADED &&
+                      if (
+                        this.delayLoadState === _.a.DELAYLOADSTATE_NOTLOADED
+                      ) {
                         ((this.delayLoadState = _.a.DELAYLOADSTATE_LOADED),
-                        (this._texture = this._getFromCache(this.url, true)),
-                        this._texture || this.loadTexture());
+                          (this._texture = this._getFromCache(this.url, true)),
+                          this._texture || this.loadTexture());
+                      }
                     }),
                     (t.Parse = function (e, i) {
                       var n = null;
@@ -110635,7 +111853,7 @@ and limitations under the License.
                       void 0 === o && (o = true),
                       void 0 === a && (a = null),
                       void 0 === s && (s = null));
-                    var c = e.call(this, i) || this;
+                    var c = e(i) || this;
                     if (
                       ((c._onLoad = null),
                       (c._onError = null),
@@ -110684,15 +111902,17 @@ and limitations under the License.
                         ((i._buffer = o.data.buffer), n.remove(), e());
                       }),
                         r.addEventListener("error", function (e) {
-                          t && t(i.getClassName() + " could not be loaded", e);
+                          if (t) {
+                            t(i.getClassName() + " could not be loaded", e);
+                          }
                         }),
                         (r.src = this.url));
                     }),
                     (t.prototype.loadTexture = function () {
                       var e = this,
                         i = this.getScene();
-                      i &&
-                        (this._texture = i
+                      if (i) {
+                        this._texture = i
                           .getEngine()
                           .createRawCubeTextureFromUrl(
                             this.url,
@@ -110727,7 +111947,8 @@ and limitations under the License.
                             null,
                             this._onLoad,
                             this._onError,
-                          ));
+                          );
+                      }
                     }),
                     (t.prototype.getFloat32ArrayFromArrayBuffer = function (e) {
                       for (
@@ -110802,18 +112023,18 @@ and limitations under the License.
                           "Unable to load TGA file - Not enough data to contain header",
                         );
                       else {
-                        var n = 18,
-                          r = e.GetTGAHeader(i);
+                        var n = 18;
+                        var r = e.GetTGAHeader(i);
                         if (r.id_length + n > i.length)
                           g.a.Error(
                             "Unable to load TGA file - Not enough data",
                           );
                         else {
                           n += r.id_length;
-                          var o,
-                            a = false,
-                            s = false,
-                            c = false;
+                          var o;
+                          var a = false;
+                          var s = false;
+                          var c = false;
                           switch (r.image_type) {
                             case e._TYPE_RLE_INDEXED:
                               a = true;
@@ -110829,15 +112050,15 @@ and limitations under the License.
                             case e._TYPE_GREY:
                               c = true;
                           }
-                          var u,
-                            l,
-                            h,
-                            f,
-                            d,
-                            p,
-                            m,
-                            _ = r.pixel_size >> 3,
-                            v = r.width * r.height * _;
+                          var u;
+                          var l;
+                          var h;
+                          var f;
+                          var d;
+                          var p;
+                          var m;
+                          var _ = r.pixel_size >> 3;
+                          var v = r.width * r.height * _;
                           if (
                             (s &&
                               (u = i.subarray(
@@ -110847,7 +112068,9 @@ and limitations under the License.
                               )),
                             a)
                           ) {
-                            var y, b, E;
+                            var y;
+                            var b;
+                            var E;
                             o = new Uint8Array(v);
                             for (
                               var T = 0, A = new Uint8Array(_);
@@ -110936,11 +112159,11 @@ and limitations under the License.
                         _ = new Uint8Array(p * m * 4);
                       for (h = n; h !== o; h += r)
                         for (l = a; l !== c; l += s, g++)
-                          ((u = f[g]),
+                          ((u = i[g]),
                             (_[4 * (l + p * h) + 3] = 255),
-                            (_[4 * (l + p * h) + 2] = d[3 * u + 0]),
-                            (_[4 * (l + p * h) + 1] = d[3 * u + 1]),
-                            (_[4 * (l + p * h) + 0] = d[3 * u + 2]));
+                            (_[4 * (l + p * h) + 2] = t[3 * u + 0]),
+                            (_[4 * (l + p * h) + 1] = t[3 * u + 1]),
+                            (_[4 * (l + p * h) + 0] = t[3 * u + 2]));
                       return _;
                     }),
                     (e._getImageData16bits = function (
@@ -110965,13 +112188,13 @@ and limitations under the License.
                       for (h = n; h !== o; h += r)
                         for (l = a; l !== c; l += s, m += 2) {
                           var _ =
-                              ((255 *
-                                ((31744 & (u = f[m + 0] + (f[m + 1] << 8))) >>
-                                  10)) /
-                                31) |
-                              0,
-                            v = ((255 * ((992 & u) >> 5)) / 31) | 0,
-                            y = ((255 * (31 & u)) / 31) | 0;
+                            ((255 *
+                              ((31744 & (u = f[m + 0] + (f[m + 1] << 8))) >>
+                                10)) /
+                              31) |
+                            0;
+                          var v = ((255 * ((992 & u) >> 5)) / 31) | 0;
+                          var y = ((255 * (31 & u)) / 31) | 0;
                           ((g[4 * (l + d * h) + 0] = _),
                             (g[4 * (l + d * h) + 1] = v),
                             (g[4 * (l + d * h) + 2] = y),
@@ -111000,9 +112223,9 @@ and limitations under the License.
                       for (l = n; l !== o; l += r)
                         for (u = a; u !== c; u += s, p += 3)
                           ((m[4 * (u + f * l) + 3] = 255),
-                            (m[4 * (u + f * l) + 2] = h[p + 0]),
-                            (m[4 * (u + f * l) + 1] = h[p + 1]),
-                            (m[4 * (u + f * l) + 0] = h[p + 2]));
+                            (m[4 * (u + f * l) + 2] = i[p + 0]),
+                            (m[4 * (u + f * l) + 1] = i[p + 1]),
+                            (m[4 * (u + f * l) + 0] = i[p + 2]));
                       return m;
                     }),
                     (e._getImageData32bits = function (
@@ -111025,10 +112248,10 @@ and limitations under the License.
                         m = new Uint8Array(f * d * 4);
                       for (l = n; l !== o; l += r)
                         for (u = a; u !== c; u += s, p += 4)
-                          ((m[4 * (u + f * l) + 2] = h[p + 0]),
-                            (m[4 * (u + f * l) + 1] = h[p + 1]),
-                            (m[4 * (u + f * l) + 0] = h[p + 2]),
-                            (m[4 * (u + f * l) + 3] = h[p + 3]));
+                          ((m[4 * (u + f * l) + 2] = i[p + 0]),
+                            (m[4 * (u + f * l) + 1] = i[p + 1]),
+                            (m[4 * (u + f * l) + 0] = i[p + 2]),
+                            (m[4 * (u + f * l) + 3] = i[p + 3]));
                       return m;
                     }),
                     (e._getImageDataGrey8bits = function (
@@ -111052,7 +112275,7 @@ and limitations under the License.
                         g = new Uint8Array(d * p * 4);
                       for (h = n; h !== o; h += r)
                         for (l = a; l !== c; l += s, m++)
-                          ((u = f[m]),
+                          ((u = i[m]),
                             (g[4 * (l + d * h) + 0] = u),
                             (g[4 * (l + d * h) + 1] = u),
                             (g[4 * (l + d * h) + 2] = u),
@@ -111079,10 +112302,10 @@ and limitations under the License.
                         m = new Uint8Array(f * d * 4);
                       for (l = n; l !== o; l += r)
                         for (u = a; u !== c; u += s, p += 2)
-                          ((m[4 * (u + f * l) + 0] = h[p + 0]),
-                            (m[4 * (u + f * l) + 1] = h[p + 0]),
-                            (m[4 * (u + f * l) + 2] = h[p + 0]),
-                            (m[4 * (u + f * l) + 3] = h[p + 1]));
+                          ((m[4 * (u + f * l) + 0] = i[p + 0]),
+                            (m[4 * (u + f * l) + 1] = i[p + 0]),
+                            (m[4 * (u + f * l) + 2] = i[p + 0]),
+                            (m[4 * (u + f * l) + 3] = i[p + 1]));
                       return m;
                     }),
                     (e._TYPE_INDEXED = 1),
@@ -111149,7 +112372,9 @@ and limitations under the License.
                           e[0]._framebuffer,
                         ));
                       var r = e[0]._attachments;
-                      r || ((r = new Array(e.length)), (e[0]._attachments = r));
+                      if (!r) {
+                        ((r = new Array(e.length)), (e[0]._attachments = r));
+                      }
                       for (var o = 0; o < e.length; o++) {
                         for (var a = e[o], s = 0; s < r.length; s++)
                           r[s] = n.NONE;
@@ -111206,20 +112431,21 @@ and limitations under the License.
                     c = ve.b.TEXTURE_TRILINEAR_SAMPLINGMODE,
                     u = new Array(),
                     l = new Array();
-                  void 0 !== t &&
+                  if (void 0 !== t) {
                     ((i = void 0 !== t.generateMipMaps && t.generateMipMaps),
-                    (n =
-                      void 0 === t.generateDepthBuffer ||
-                      t.generateDepthBuffer),
-                    (r =
-                      void 0 !== t.generateStencilBuffer &&
-                      t.generateStencilBuffer),
-                    (o =
-                      void 0 !== t.generateDepthTexture &&
-                      t.generateDepthTexture),
-                    (a = t.textureCount || 1),
-                    t.types && (u = t.types),
-                    t.samplingModes && (l = t.samplingModes));
+                      (n =
+                        void 0 === t.generateDepthBuffer ||
+                        t.generateDepthBuffer),
+                      (r =
+                        void 0 !== t.generateStencilBuffer &&
+                        t.generateStencilBuffer),
+                      (o =
+                        void 0 !== t.generateDepthTexture &&
+                        t.generateDepthTexture),
+                      (a = t.textureCount || 1),
+                      t.types && (u = t.types),
+                      t.samplingModes && (l = t.samplingModes));
+                  }
                   var h = this._gl,
                     f = h.createFramebuffer();
                   this._bindUnboundFramebuffer(f);
@@ -111233,27 +112459,34 @@ and limitations under the License.
                     y < a;
                     y++
                   ) {
-                    var b = l[y] || c,
-                      E = u[y] || s;
-                    ((E !== ve.b.TEXTURETYPE_FLOAT ||
-                      this._caps.textureFloatLinearFiltering) &&
-                      (E !== ve.b.TEXTURETYPE_HALF_FLOAT ||
-                        this._caps.textureHalfFloatLinearFiltering)) ||
-                      (b = ve.b.TEXTURE_NEAREST_SAMPLINGMODE);
+                    var b = l[y] || c;
+                    var E = u[y] || s;
+                    if (
+                      !(
+                        (E !== ve.b.TEXTURETYPE_FLOAT ||
+                          this._caps.textureFloatLinearFiltering) &&
+                        (E !== ve.b.TEXTURETYPE_HALF_FLOAT ||
+                          this._caps.textureHalfFloatLinearFiltering)
+                      )
+                    ) {
+                      b = ve.b.TEXTURE_NEAREST_SAMPLINGMODE;
+                    }
                     var T = this._getSamplingParameters(b, i);
-                    E !== ve.b.TEXTURETYPE_FLOAT ||
-                      this._caps.textureFloat ||
+                    if (
+                      !(E !== ve.b.TEXTURETYPE_FLOAT || this._caps.textureFloat)
+                    ) {
                       ((E = ve.b.TEXTURETYPE_UNSIGNED_INT),
-                      g.a.Warn(
-                        "Float textures are not supported. Render target forced to TEXTURETYPE_UNSIGNED_BYTE type",
-                      ));
-                    var A = new He.a(this, He.a.DATASOURCE_MULTIRENDERTARGET),
-                      x =
-                        h[
-                          this.webGLVersion > 1
-                            ? "COLOR_ATTACHMENT" + y
-                            : "COLOR_ATTACHMENT" + y + "_WEBGL"
-                        ];
+                        g.a.Warn(
+                          "Float textures are not supported. Render target forced to TEXTURETYPE_UNSIGNED_BYTE type",
+                        ));
+                    }
+                    var A = new He.a(this, He.a.DATASOURCE_MULTIRENDERTARGET);
+                    var x =
+                      h[
+                        this.webGLVersion > 1
+                          ? "COLOR_ATTACHMENT" + y
+                          : "COLOR_ATTACHMENT" + y + "_WEBGL"
+                      ];
                     (m.push(A),
                       _.push(x),
                       h.activeTexture(h["TEXTURE" + y]),
@@ -111404,22 +112637,22 @@ and limitations under the License.
                         );
                       this._bindUnboundFramebuffer(r);
                       var o = this._setupFramebufferDepthAttachments(
-                          e[0]._generateStencilBuffer,
-                          e[0]._generateDepthBuffer,
-                          e[0].width,
-                          e[0].height,
-                          t,
-                        ),
-                        a = [];
+                        e[0]._generateStencilBuffer,
+                        e[0]._generateDepthBuffer,
+                        e[0].width,
+                        e[0].height,
+                        t,
+                      );
+                      var a = [];
                       for (n = 0; n < e.length; n++) {
-                        var s = e[n],
-                          c =
-                            i[
-                              this.webGLVersion > 1
-                                ? "COLOR_ATTACHMENT" + n
-                                : "COLOR_ATTACHMENT" + n + "_WEBGL"
-                            ],
-                          u = i.createRenderbuffer();
+                        var s = e[n];
+                        var c =
+                          i[
+                            this.webGLVersion > 1
+                              ? "COLOR_ATTACHMENT" + n
+                              : "COLOR_ATTACHMENT" + n + "_WEBGL"
+                          ];
+                        var u = i.createRenderbuffer();
                         if (!u)
                           throw new Error(
                             "Unable to create multi sampled framebuffer",
@@ -111461,8 +112694,7 @@ and limitations under the License.
                         void 0 === o.doNotChangeAspectRatio ||
                         o.doNotChangeAspectRatio;
                     if (
-                      (((a = e.call(this, t, i, r, s, u) || this)._engine =
-                        r.getEngine()),
+                      (((a = e(t, i, r, s, u) || this)._engine = r.getEngine()),
                       a.isSupported)
                     ) {
                       for (var l = [], h = [], f = 0; f < n; f++)
@@ -111477,12 +112709,12 @@ and limitations under the License.
                             ? h.push(o.samplingModes[f])
                             : h.push(je.a.BILINEAR_SAMPLINGMODE));
                       var d =
-                          !o ||
-                          void 0 === o.generateDepthBuffer ||
-                          o.generateDepthBuffer,
-                        p =
-                          !(!o || void 0 === o.generateStencilBuffer) &&
-                          o.generateStencilBuffer;
+                        !o ||
+                        void 0 === o.generateDepthBuffer ||
+                        o.generateDepthBuffer;
+                      var p =
+                        !(!o || void 0 === o.generateStencilBuffer) &&
+                        o.generateStencilBuffer;
                       return (
                         (a._size = i),
                         (a._multiRenderTargetOptions = {
@@ -111573,12 +112805,13 @@ and limitations under the License.
                         return this._samples;
                       },
                       set: function (e) {
-                        this._samples !== e &&
-                          (this._samples =
+                        if (this._samples !== e) {
+                          this._samples =
                             this._engine.updateMultipleRenderTargetTextureSampleCount(
                               this._internalTextures,
                               e,
-                            ));
+                            );
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -111603,8 +112836,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.dispose = function () {
-                      (this.releaseInternalTextures(),
-                        e.prototype.dispose.call(this));
+                      (this.releaseInternalTextures(), e.prototype.dispose());
                     }),
                     (t.prototype.releaseInternalTextures = function () {
                       if (this._internalTextures)
@@ -111649,7 +112881,9 @@ and limitations under the License.
                           e++
                         ) {
                           var t = this.scene.proceduralTextures[e];
-                          t._shouldRender() && t.render();
+                          if (t._shouldRender()) {
+                            t.render();
+                          }
                         }
                         Ee.h.EndPerformanceCounter(
                           "Procedural textures",
@@ -111667,7 +112901,7 @@ and limitations under the License.
                     (void 0 === a && (a = null),
                       void 0 === s && (s = true),
                       void 0 === c && (c = false));
-                    var u = e.call(this, null, r, !s) || this;
+                    var u = e(null, r, !s) || this;
                     ((u.isCube = c),
                       (u.isEnabled = true),
                       (u.autoClear = true),
@@ -111768,7 +113002,9 @@ and limitations under the License.
                           (this.refreshRate = li.REFRESHRATE_RENDER_ONCE));
                     }),
                     (t.prototype.reset = function () {
-                      void 0 !== this._effect && this._effect.dispose();
+                      if (void 0 !== this._effect) {
+                        this._effect.dispose();
+                      }
                     }),
                     (t.prototype._getDefines = function () {
                       return "";
@@ -111849,18 +113085,18 @@ and limitations under the License.
                       return this._size;
                     }),
                     (t.prototype.resize = function (e, t) {
-                      this._fallbackTextureUsed ||
+                      if (!this._fallbackTextureUsed) {
                         (this.releaseInternalTexture(),
-                        (this._texture = this._engine.createRenderTargetTexture(
-                          e,
-                          t,
-                        )),
-                        (this._size = e),
-                        (this._generateMipMaps = t));
+                          (this._texture =
+                            this._engine.createRenderTargetTexture(e, t)),
+                          (this._size = e),
+                          (this._generateMipMaps = t));
+                      }
                     }),
                     (t.prototype._checkUniform = function (e) {
-                      -1 === this._uniforms.indexOf(e) &&
+                      if (-1 === this._uniforms.indexOf(e)) {
                         this._uniforms.push(e);
+                      }
                     }),
                     (t.prototype.setTexture = function (e, t) {
                       return (
@@ -112012,7 +113248,9 @@ and limitations under the License.
                       var t = this.getScene();
                       if (t) {
                         var i = t.proceduralTextures.indexOf(this);
-                        i >= 0 && t.proceduralTextures.splice(i, 1);
+                        if (i >= 0) {
+                          t.proceduralTextures.splice(i, 1);
+                        }
                         var n = this._vertexBuffers[Si.b.PositionKind];
                         (n &&
                           (n.dispose(),
@@ -112020,7 +113258,7 @@ and limitations under the License.
                           this._indexBuffer &&
                             this._engine._releaseBuffer(this._indexBuffer) &&
                             (this._indexBuffer = null),
-                          e.prototype.dispose.call(this));
+                          e.prototype.dispose());
                       }
                     }),
                     h.c([Object(F.c)()], t.prototype, "isEnabled", void 0),
@@ -112039,7 +113277,7 @@ and limitations under the License.
                 Co = n(60),
                 Po = (function (e) {
                   function t(t, i, n, r, o, a) {
-                    var s = e.call(this, t, n, null, r, o, a) || this;
+                    var s = e(t, n, null, r, o, a) || this;
                     return (
                       (s._animate = true),
                       (s._time = 0),
@@ -112107,7 +113345,7 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype.isReady = function () {
-                      if (!e.prototype.isReady.call(this)) return false;
+                      if (!e.prototype.isReady()) return false;
                       for (var t in this._textures)
                         if (!this._textures[t].isReady()) return false;
                       return true;
@@ -112118,7 +113356,7 @@ and limitations under the License.
                         i &&
                         ((this._time += 0.03 * i.getAnimationRatio()),
                         this.updateShaderUniforms()),
-                        e.prototype.render.call(this, t));
+                        e.prototype.render(t));
                     }),
                     (t.prototype.updateTextures = function () {
                       for (var e = 0; e < this._config.sampler2Ds.length; e++)
@@ -112177,7 +113415,7 @@ and limitations under the License.
                 function t(t, i, n, r, o) {
                   (void 0 === i && (i = 256),
                     void 0 === n && (n = R.a.LastCreatedScene));
-                  var a = e.call(this, t, i, "noise", n, r, o) || this;
+                  var a = e(t, i, "noise", n, r, o) || this;
                   return (
                     (a._time = 0),
                     (a.brightness = 0.2),
@@ -112193,26 +113431,24 @@ and limitations under the License.
                   h.d(t, e),
                   (t.prototype._updateShaderUniforms = function () {
                     var e = this.getScene();
-                    e &&
+                    if (e) {
                       ((this._time +=
                         e.getAnimationRatio() *
                         this.animationSpeedFactor *
                         0.01),
-                      this.setFloat("brightness", this.brightness),
-                      this.setFloat("persistence", this.persistence),
-                      this.setFloat("timeScale", this._time));
+                        this.setFloat("brightness", this.brightness),
+                        this.setFloat("persistence", this.persistence),
+                        this.setFloat("timeScale", this._time));
+                    }
                   }),
                   (t.prototype._getDefines = function () {
                     return "#define OCTAVES " + (0 | this.octaves);
                   }),
                   (t.prototype.render = function (t) {
-                    (this._updateShaderUniforms(),
-                      e.prototype.render.call(this, t));
+                    (this._updateShaderUniforms(), e.prototype.render(t));
                   }),
                   (t.prototype.serialize = function () {
-                    var e = {
-                      customType: "BABYLON.NoiseProceduralTexture",
-                    };
+                    var e = { customType: "BABYLON.NoiseProceduralTexture" };
                     return (
                       (e.brightness = this.brightness),
                       (e.octaves = this.octaves),
@@ -112245,7 +113481,7 @@ and limitations under the License.
                       void 0 === s && (s = false),
                       void 0 === c && (c = _.a.TEXTURE_TRILINEAR_SAMPLINGMODE),
                       void 0 === u && (u = null));
-                    var l = e.call(this, "", t) || this;
+                    var l = e("", t) || this;
                     return (
                       (l._texture = t
                         .getEngine()
@@ -112318,7 +113554,7 @@ and limitations under the License.
                       void 0 === c && (c = false),
                       void 0 === u && (u = je.a.TRILINEAR_SAMPLINGMODE),
                       void 0 === l && (l = _.a.TEXTURETYPE_UNSIGNED_INT));
-                    var h = e.call(this, null, a, !s, c) || this;
+                    var h = e(null, a, !s, c) || this;
                     return (
                       (h.format = o),
                       (h._engine = a.getEngine()),
@@ -112332,7 +113568,7 @@ and limitations under the License.
                   return (
                     h.d(t, e),
                     (t.prototype.update = function (e) {
-                      this._texture &&
+                      if (this._texture) {
                         this._engine.updateRawTexture3D(
                           this._texture,
                           e,
@@ -112341,13 +113577,14 @@ and limitations under the License.
                           null,
                           this._texture.type,
                         );
+                      }
                     }),
                     t
                   );
                 })(je.a),
                 wo = (function (e) {
                   function t(t, i, n, r) {
-                    var o = e.call(this, t, i, n, r, true) || this;
+                    var o = e(t, i, n, r, true) || this;
                     return (
                       (o.refractionPlane = new a.n(0, 1, 0, 1)),
                       (o.depth = 2),
@@ -112379,7 +113616,7 @@ and limitations under the License.
                     }),
                     (t.prototype.serialize = function () {
                       if (!this.name) return null;
-                      var t = e.prototype.serialize.call(this);
+                      var t = e.prototype.serialize();
                       return (
                         (t.mirrorPlane = this.refractionPlane.asArray()),
                         (t.depth = this.depth),
@@ -112391,7 +113628,7 @@ and limitations under the License.
                 })(li),
                 Io = (function (e) {
                   function t(i, n, r) {
-                    var o = e.call(this, r.scene) || this;
+                    var o = e(r.scene) || this;
                     return n && (r.engine || r.scene)
                       ? ((r = h.a({}, t.DefaultOptions, r)),
                         (o._engine = r.engine || r.scene.getEngine()),
@@ -112488,7 +113725,9 @@ and limitations under the License.
                         t(e.worker, function () {
                           e.active = false;
                           var t = i._pendingActions.shift();
-                          t && i._execute(e, t);
+                          if (t) {
+                            i._execute(e, t);
+                          }
                         }));
                     }),
                     e
@@ -112514,12 +113753,8 @@ and limitations under the License.
                 if (r)
                   return Lo(r).then(function () {
                     return new i(function (e) {
-                      DracoDecoderModule({
-                        wasmBinary: t,
-                      }).then(function (t) {
-                        e({
-                          module: t,
-                        });
+                      DracoDecoderModule({ wasmBinary: t }).then(function (t) {
+                        e({ module: t });
                       });
                     });
                   });
@@ -112546,8 +113781,8 @@ and limitations under the License.
                   if (!s.ok() || !a.ptr) throw new Error(s.error_msg());
                   var l = a.num_points();
                   if (u === e.TRIANGULAR_MESH) {
-                    var h = a.num_faces(),
-                      f = new e.DracoInt32Array();
+                    var h = a.num_faces();
+                    var f = new e.DracoInt32Array();
                     try {
                       for (var d = new Uint32Array(3 * h), p = 0; p < h; p++) {
                         c.GetFaceFromMesh(a, p, f);
@@ -112606,7 +113841,9 @@ and limitations under the License.
               }
               var ko = (function () {
                   function e(t) {
-                    void 0 === t && (t = e.DefaultNumWorkers);
+                    if (void 0 === t) {
+                      t = e.DefaultNumWorkers;
+                    }
                     var n,
                       r = e.Configuration.decoder,
                       o =
@@ -112708,10 +113945,11 @@ and limitations under the License.
                                     i(t));
                                 },
                                 s = function e(i) {
-                                  "done" === i.data &&
+                                  if ("done" === i.data) {
                                     (n.removeEventListener("error", a),
-                                    n.removeEventListener("message", e),
-                                    t(n));
+                                      n.removeEventListener("message", e),
+                                      t(n));
+                                  }
                                 };
                               (n.addEventListener("error", a),
                                 n.addEventListener("message", s),
@@ -112944,11 +114182,11 @@ and limitations under the License.
                             d = [],
                             p = [];
                           for (s = 0; s < t.vertices.length; s++) {
-                            var m = (s + 1) % t.vertices.length,
-                              g = l[s],
-                              _ = l[m],
-                              v = t.vertices[s],
-                              y = t.vertices[m];
+                            var m = (s + 1) % t.vertices.length;
+                            var g = l[s];
+                            var _ = l[m];
+                            var v = t.vertices[s];
+                            var y = t.vertices[m];
                             if (
                               (2 !== g && d.push(v),
                               1 !== g && p.push(2 !== g ? v.clone() : v),
@@ -113060,7 +114298,9 @@ and limitations under the License.
                     }),
                     (e.prototype.build = function (t) {
                       if (t.length) {
-                        this.plane || (this.plane = t[0].plane.clone());
+                        if (!this.plane) {
+                          this.plane = t[0].plane.clone();
+                        }
                         for (
                           var i = new Array(), n = new Array(), r = 0;
                           r < t.length;
@@ -113146,11 +114386,15 @@ and limitations under the License.
                               (i = new Go(o, n, r)),
                               c.push(i));
                           }
-                          (s = new jo(c, {
-                            subMeshId: b,
-                            meshId: Vo,
-                            materialIndex: y[b].materialIndex,
-                          })).plane && d.push(s);
+                          if (
+                            (s = new jo(c, {
+                              subMeshId: b,
+                              meshId: Vo,
+                              materialIndex: y[b].materialIndex,
+                            })).plane
+                          ) {
+                            d.push(s);
+                          }
                         }
                       var P = e.FromPolygons(d);
                       return (
@@ -113299,12 +114543,13 @@ and limitations under the License.
                         v = {},
                         y = 0,
                         b = {};
-                      i &&
+                      if (i) {
                         g.sort(function (e, t) {
                           return e.shared.meshId === t.shared.meshId
                             ? e.shared.subMeshId - t.shared.subMeshId
                             : e.shared.meshId - t.shared.meshId;
                         });
+                      }
                       for (var E = 0, T = g.length; E < T; E++) {
                         (b[(r = g[E]).shared.meshId] ||
                           (b[r.shared.meshId] = {}),
@@ -113321,8 +114566,8 @@ and limitations under the License.
                             (d.copyFrom(r.vertices[_[S]].pos),
                               p.copyFrom(r.vertices[_[S]].normal),
                               m.copyFrom(r.vertices[_[S]].uv));
-                            var C = a.x.TransformCoordinates(d, n),
-                              P = a.x.TransformNormal(p, n);
+                            var C = a.x.TransformCoordinates(d, n);
+                            var P = a.x.TransformNormal(p, n);
                             ((void 0 !== (o = v[C.x + "," + C.y + "," + C.z]) &&
                               h[3 * o] === P.x &&
                               h[3 * o + 1] === P.y &&
@@ -113348,8 +114593,8 @@ and limitations under the License.
                         c.setIndices(l, null),
                         i)
                       ) {
-                        var R,
-                          M = 0;
+                        var R;
+                        var M = 0;
                         for (var O in ((c.subMeshes = new Array()), b)) {
                           for (var w in ((R = -1), b[O]))
                             ((s = b[O][w]),
@@ -113387,7 +114632,7 @@ and limitations under the License.
                     (void 0 === r && (r = 1),
                       void 0 === o && (o = 60),
                       void 0 === s && (s = true));
-                    var c = e.call(this, t, n) || this;
+                    var c = e(t, n) || this;
                     ((c._sectionPolygonPointsCount = 4),
                       (c._running = false),
                       (c._autoStart = s),
@@ -113396,7 +114641,7 @@ and limitations under the License.
                       (c._length = o),
                       (c._sectionVectors = []),
                       (c._sectionNormalVectors = []));
-                    for (var u = 0; u < c._sectionPolygonPointsCount; u++)
+                    for (var u = 0; u < 4; u++)
                       ((c._sectionVectors[u] = a.x.Zero()),
                         (c._sectionNormalVectors[u] = a.x.Zero()));
                     return (c._createMesh(), c);
@@ -113412,10 +114657,10 @@ and limitations under the License.
                         i = [],
                         n = [],
                         r = a.x.Zero();
-                      this._generator._boundingInfo &&
-                        (r =
-                          this._generator._boundingInfo.boundingBox
-                            .centerWorld);
+                      if (this._generator._boundingInfo) {
+                        r =
+                          this._generator._boundingInfo.boundingBox.centerWorld;
+                      }
                       for (
                         var o = (2 * Math.PI) / this._sectionPolygonPointsCount,
                           s = 0;
@@ -113478,22 +114723,23 @@ and limitations under the License.
                     }),
                     (t.prototype.start = function () {
                       var e = this;
-                      this._running ||
+                      if (!this._running) {
                         ((this._running = true),
-                        (this._beforeRenderObserver =
-                          this.getScene().onBeforeRenderObservable.add(
-                            function () {
-                              e.update();
-                            },
-                          )));
+                          (this._beforeRenderObserver =
+                            this.getScene().onBeforeRenderObservable.add(
+                              function () {
+                                e.update();
+                              },
+                            )));
+                      }
                     }),
                     (t.prototype.stop = function () {
-                      this._beforeRenderObserver &&
-                        this._running &&
+                      if (this._beforeRenderObserver && this._running) {
                         ((this._running = false),
-                        this.getScene().onBeforeRenderObservable.remove(
-                          this._beforeRenderObserver,
-                        ));
+                          this.getScene().onBeforeRenderObservable.remove(
+                            this._beforeRenderObserver,
+                          ));
+                      }
                     }),
                     (t.prototype.update = function () {
                       var e = this.getVerticesData(Si.b.PositionKind),
@@ -113513,8 +114759,8 @@ and limitations under the License.
                           n++
                         )
                           t[n - 3 * this._sectionPolygonPointsCount] = t[n];
-                        var r = e.length - 3 * this._sectionPolygonPointsCount,
-                          o = (2 * Math.PI) / this._sectionPolygonPointsCount;
+                        var r = e.length - 3 * this._sectionPolygonPointsCount;
+                        var o = (2 * Math.PI) / this._sectionPolygonPointsCount;
                         for (n = 0; n < this._sectionPolygonPointsCount; n++)
                           (this._sectionVectors[n].copyFromFloats(
                             Math.cos(n * o) * this._diameter,
@@ -113573,7 +114819,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.serialize = function (t) {
-                      e.prototype.serialize.call(this, t);
+                      e.prototype.serialize(t);
                     }),
                     (t.Parse = function (e, i) {
                       return new t(
@@ -113604,13 +114850,15 @@ and limitations under the License.
                       : e.sideOrientation || xi.a.DEFAULTSIDE;
                 (t.push(0, 0, 0), r.push(0.5, 0.5));
                 for (var u = 2 * Math.PI * s, l = u / a, h = 0; h < u; h += l) {
-                  var f = Math.cos(h),
-                    d = Math.sin(h),
-                    p = (f + 1) / 2,
-                    m = (1 - d) / 2;
+                  var f = Math.cos(h);
+                  var d = Math.sin(h);
+                  var p = (f + 1) / 2;
+                  var m = (1 - d) / 2;
                   (t.push(o * f, o * d, 0), r.push(p, m));
                 }
-                1 === s && (t.push(t[3], t[4], t[5]), r.push(r[2], r[3]));
+                if (1 === s) {
+                  (t.push(t[3], t[4], t[5]), r.push(r[2], r[3]));
+                }
                 for (var g = t.length / 3, _ = 1; _ < g - 1; _++)
                   i.push(_ + 1, 0, _);
                 (xi.a.ComputeNormals(t, i, n),
@@ -113625,7 +114873,9 @@ and limitations under the License.
                 );
               }),
                 (me.a.CreateDisc = function (e, t, i, n, r, o) {
-                  void 0 === n && (n = null);
+                  if (void 0 === n) {
+                    n = null;
+                  }
                   var a = {
                     radius: t,
                     tessellation: i,
@@ -113638,7 +114888,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreateDisc = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var n = new me.a(e, i);
                     return (
                       (t.sideOrientation = me.a._GetDefaultSideOrientation(
@@ -113680,20 +114932,20 @@ and limitations under the License.
                     return new a.x(o, s, u);
                   };
                 for (t = 0; t <= l; t++) {
-                  var g = ((t % l) / l) * 2 * f * Math.PI,
-                    _ = m(g),
-                    v = m(g + 0.01),
-                    y = v.subtract(_),
-                    b = v.add(_),
-                    E = a.x.Cross(y, b);
+                  var g = ((t % l) / l) * 2 * f * Math.PI;
+                  var _ = m(g);
+                  var v = m(g + 0.01);
+                  var y = v.subtract(_);
+                  var b = v.add(_);
+                  var E = a.x.Cross(y, b);
                   for (
                     b = a.x.Cross(E, y), E.normalize(), b.normalize(), i = 0;
                     i < h;
                     i++
                   ) {
-                    var T = ((i % h) / h) * 2 * Math.PI,
-                      A = -u * Math.cos(T),
-                      x = u * Math.sin(T);
+                    var T = ((i % h) / h) * 2 * Math.PI;
+                    var A = -u * Math.cos(T);
+                    var x = u * Math.sin(T);
                     (r.push(_.x + A * b.x + x * E.x),
                       r.push(_.y + A * b.y + x * E.y),
                       r.push(_.z + A * b.z + x * E.z),
@@ -113703,11 +114955,11 @@ and limitations under the License.
                 }
                 for (t = 0; t < l; t++)
                   for (i = 0; i < h; i++) {
-                    var S = (i + 1) % h,
-                      C = t * h + i,
-                      P = (t + 1) * h + i,
-                      R = (t + 1) * h + S,
-                      M = t * h + S;
+                    var S = (i + 1) % h;
+                    var C = t * h + i;
+                    var P = (t + 1) * h + i;
+                    var R = (t + 1) * h + S;
+                    var M = t * h + S;
                     (n.push(M),
                       n.push(P),
                       n.push(C),
@@ -113769,7 +115021,7 @@ and limitations under the License.
                 })(),
                 Zo = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t.x, t.y) || this;
+                    var n = e(t.x, t.y) || this;
                     return ((n.index = i), n);
                   }
                   return (h.d(t, e), t);
@@ -113912,7 +115164,9 @@ and limitations under the License.
                     }),
                     (e.prototype.buildVertexData = function (e) {
                       var t = this;
-                      void 0 === e && (e = 0);
+                      if (void 0 === e) {
+                        e = 0;
+                      }
                       var i = new xi.a(),
                         n = new Array(),
                         r = new Array(),
@@ -113946,9 +115200,9 @@ and limitations under the License.
                         });
                         var h = s.length;
                         for (u = 0; u < h; u += 3) {
-                          var f = s[u + 0],
-                            d = s[u + 1],
-                            p = s[u + 2];
+                          var f = s[u + 0];
+                          var d = s[u + 1];
+                          var p = s[u + 2];
                           (s.push(p + l), s.push(d + l), s.push(f + l));
                         }
                         (this.addSide(
@@ -113979,8 +115233,8 @@ and limitations under the License.
                         h < o.elements.length;
                         h++
                       ) {
-                        var f,
-                          d = o.elements[h];
+                        var f;
+                        var d = o.elements[h];
                         ((f =
                           h + 1 > o.elements.length - 1
                             ? o.elements[0]
@@ -113989,10 +115243,10 @@ and limitations under the License.
                           e.push(d.x, -s, d.y),
                           e.push(f.x, 0, f.y),
                           e.push(f.x, -s, f.y));
-                        var p = new a.x(d.x, 0, d.y),
-                          m = new a.x(f.x, 0, f.y).subtract(p),
-                          g = new a.x(0, 1, 0),
-                          _ = a.x.Cross(m, g);
+                        var p = new a.x(d.x, 0, d.y);
+                        var m = new a.x(f.x, 0, f.y).subtract(p);
+                        var g = new a.x(0, 1, 0);
+                        var _ = a.x.Cross(m, g);
                         ((_ = _.normalize()),
                           i.push(l / r.width, 0),
                           i.push(l / r.width, 1),
@@ -114068,7 +115322,9 @@ and limitations under the License.
                 return v;
               }),
                 (me.a.CreatePolygon = function (e, t, i, n, r, o, a) {
-                  void 0 === a && (a = earcut);
+                  if (void 0 === a) {
+                    a = earcut;
+                  }
                   var s = {
                     shape: t,
                     holes: n,
@@ -114078,7 +115334,9 @@ and limitations under the License.
                   return ta.CreatePolygon(e, s, i, a);
                 }),
                 (me.a.ExtrudePolygon = function (e, t, i, n, r, o, a, s) {
-                  void 0 === s && (s = earcut);
+                  if (void 0 === s) {
+                    s = earcut;
+                  }
                   var c = {
                     shape: t,
                     holes: r,
@@ -114108,7 +115366,9 @@ and limitations under the License.
                       l++
                     )
                       c[l] = new a.w(r[l].x, r[l].z);
-                    c[0].equalsWithEpsilon(c[c.length - 1], 1e-8) && c.pop();
+                    if (c[0].equalsWithEpsilon(c[c.length - 1], 1e-8)) {
+                      c.pop();
+                    }
                     for (
                       var h = new ea(e, c, i || R.a.LastCreatedScene, n), f = 0;
                       f < o.length;
@@ -114159,7 +115419,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreateLathe = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var n,
                       r = t.arc ? (t.arc <= 0 || t.arc > 1 ? 1 : t.arc) : 1,
                       o = void 0 === t.closed || t.closed,
@@ -114245,7 +115507,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreateTube = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var n = t.path,
                       r = t.instance,
                       o = 1;
@@ -114314,8 +115578,8 @@ and limitations under the License.
                         return i;
                       };
                     if (r) {
-                      var g = r._creationDataStorage,
-                        _ = t.arc || g.arc;
+                      var g = r._creationDataStorage;
+                      var _ = t.arc || g.arc;
                       return (
                         (p = m(
                           n,
@@ -114475,8 +115739,8 @@ and limitations under the License.
                           f = a.x.Lerp(E[1], E[2], t / o),
                           d = o === t ? E[2] : a.x.Lerp(h, f, e / (o - t));
                         if ((d.normalize(), r)) {
-                          var p = a.x.Lerp(E[0], E[2], n / o),
-                            m = a.x.Lerp(E[1], E[2], n / o);
+                          var p = a.x.Lerp(E[0], E[2], n / o);
+                          var m = a.x.Lerp(E[1], E[2], n / o);
                           l = a.x.Lerp(p, m, i / (o - n));
                         } else l = new a.x(d.x, d.y, d.z);
                         ((l.x /= s), (l.y /= c), (l.z /= u), l.normalize());
@@ -114519,7 +115783,9 @@ and limitations under the License.
                 function e() {}
                 return (
                   (e.CreateIcoSphere = function (e, t, i) {
-                    void 0 === i && (i = null);
+                    if (void 0 === i) {
+                      i = null;
+                    }
                     var n = new me.a(e, i);
                     return (
                       (t.sideOrientation = me.a._GetDefaultSideOrientation(
@@ -114555,9 +115821,9 @@ and limitations under the License.
                         u = i.size || a.x.One(),
                         l = i.angle || 0;
                       if (!c) {
-                        var h = new a.x(0, 0, 1),
-                          f = t.getScene().activeCamera,
-                          d = a.x.TransformCoordinates(h, f.getWorldMatrix());
+                        var h = new a.x(0, 0, 1);
+                        var f = t.getScene().activeCamera;
+                        var d = a.x.TransformCoordinates(h, f.getWorldMatrix());
                         c = f.globalPosition.subtract(d);
                       }
                       var p = -Math.atan2(c.z, c.x) - Math.PI / 2,
@@ -114619,13 +115885,13 @@ and limitations under the License.
                               o < e.length;
                               o += 3
                             ) {
-                              var s,
-                                c,
-                                l,
-                                h = null,
-                                f = null,
-                                d = null,
-                                p = null;
+                              var s;
+                              var c;
+                              var l;
+                              var h = null;
+                              var f = null;
+                              var d = null;
+                              var p = null;
                               switch (
                                 ((s = a.x.Dot(e[o].position, t) - i > 0)
                                   ? 1
@@ -115075,7 +116341,9 @@ and limitations under the License.
                                 e.executeNext();
                               }),
                               setTimeout(function () {
-                                t % 5 == 0 && n.updateMesh(0 === t);
+                                if (t % 5 == 0) {
+                                  n.updateMesh(0 === t);
+                                }
                                 for (var e = 0; e < n.triangles.length; ++e)
                                   n.triangles[e].isDirty = false;
                                 var c =
@@ -115096,13 +116364,13 @@ and limitations under the License.
                                         i.deleted ||
                                         i.isDirty
                                       )
-                                    )
+                                    ) {
                                       for (var r = 0; r < 3; ++r)
                                         if (i.error[r] < c) {
-                                          var s = [],
-                                            u = [],
-                                            l = i.vertices[r],
-                                            h = i.vertices[(r + 1) % 3];
+                                          var s = [];
+                                          var u = [];
+                                          var l = i.vertices[r];
+                                          var h = i.vertices[(r + 1) % 3];
                                           if (l.isBorder || h.isBorder)
                                             continue;
                                           var f = a.x.Zero();
@@ -115120,9 +116388,10 @@ and limitations under the License.
                                           var p = new Array();
                                           if (
                                             (d.forEach(function (e) {
-                                              -1 === p.indexOf(e) &&
+                                              if (-1 === p.indexOf(e)) {
                                                 ((e.deletePending = true),
-                                                p.push(e));
+                                                  p.push(e));
+                                              }
                                             }),
                                             p.length % 2 != 0)
                                           )
@@ -115148,6 +116417,7 @@ and limitations under the License.
                                           l.triangleCount = g;
                                           break;
                                         }
+                                    }
                                   },
                                   i,
                                   function () {
@@ -115176,16 +116446,17 @@ and limitations under the License.
                         (this.syncIterations / 4) >> 0,
                         function (e) {
                           if (r) {
-                            var t = e + s.verticesStart,
-                              o = a.x.FromArray(r, 3 * t),
-                              u =
-                                (function (e) {
-                                  if (i)
-                                    for (var t = 0; t < n.vertices.length; ++t)
-                                      if (n.vertices[t].position.equals(e))
-                                        return n.vertices[t];
-                                  return null;
-                                })(o) || new ha(o, n.vertices.length);
+                            var t = e + s.verticesStart;
+                            var o = a.x.FromArray(r, 3 * t);
+                            var u =
+                              (function (e) {
+                                if (i) {
+                                  for (var t = 0; t < n.vertices.length; ++t)
+                                    if (n.vertices[t].position.equals(e))
+                                      return n.vertices[t];
+                                }
+                                return null;
+                              })(o) || new ha(o, n.vertices.length);
                             (u.originalOffsets.push(t),
                               u.id === n.vertices.length && n.vertices.push(u),
                               c.push(u.id));
@@ -115197,14 +116468,14 @@ and limitations under the License.
                             n.syncIterations,
                             function (e) {
                               if (o) {
-                                var t = 3 * (s.indexStart / 3 + e),
-                                  i = o[t + 0],
-                                  r = o[t + 1],
-                                  a = o[t + 2],
-                                  u = n.vertices[c[i - s.verticesStart]],
-                                  l = n.vertices[c[r - s.verticesStart]],
-                                  h = n.vertices[c[a - s.verticesStart]],
-                                  f = new la([u, l, h]);
+                                var t = 3 * (s.indexStart / 3 + e);
+                                var i = o[t + 0];
+                                var r = o[t + 1];
+                                var a = o[t + 2];
+                                var u = n.vertices[c[i - s.verticesStart]];
+                                var l = n.vertices[c[r - s.verticesStart]];
+                                var h = n.vertices[c[a - s.verticesStart]];
+                                var f = new la([u, l, h]);
                                 ((f.originalOffset = t), n.triangles.push(f));
                               }
                             },
@@ -115303,23 +116574,24 @@ and limitations under the License.
                         ((d.id = f),
                           d.triangleCount &&
                             d.originalOffsets.forEach(function (e) {
-                              u &&
+                              if (u) {
                                 (o.push(d.position.x),
-                                o.push(d.position.y),
-                                o.push(d.position.z),
-                                a.push(u[3 * e]),
-                                a.push(u[3 * e + 1]),
-                                a.push(u[3 * e + 2]),
-                                l &&
-                                  l.length &&
-                                  (s.push(l[2 * e]), s.push(l[2 * e + 1])),
-                                h &&
-                                  h.length &&
-                                  (c.push(h[4 * e]),
-                                  c.push(h[4 * e + 1]),
-                                  c.push(h[4 * e + 2]),
-                                  c.push(h[4 * e + 3])),
-                                ++f);
+                                  o.push(d.position.y),
+                                  o.push(d.position.z),
+                                  a.push(u[3 * e]),
+                                  a.push(u[3 * e + 1]),
+                                  a.push(u[3 * e + 2]),
+                                  l &&
+                                    l.length &&
+                                    (s.push(l[2 * e]), s.push(l[2 * e + 1])),
+                                  h &&
+                                    h.length &&
+                                    (c.push(h[4 * e]),
+                                    c.push(h[4 * e + 1]),
+                                    c.push(h[4 * e + 2]),
+                                    c.push(h[4 * e + 3])),
+                                  ++f);
+                              }
                             }));
                       }
                       var p = this._reconstructedMesh.getTotalIndices(),
@@ -115356,26 +116628,27 @@ and limitations under the License.
                             c,
                           ));
                       var y = this._mesh.subMeshes[e];
-                      e > 0 &&
+                      if (e > 0) {
                         ((this._reconstructedMesh.subMeshes = []),
-                        g.forEach(function (e) {
+                          g.forEach(function (e) {
+                            Uo.b.AddToMesh(
+                              e.materialIndex,
+                              e.verticesStart,
+                              e.verticesCount,
+                              e.indexStart,
+                              e.indexCount,
+                              e.getMesh(),
+                            );
+                          }),
                           Uo.b.AddToMesh(
-                            e.materialIndex,
-                            e.verticesStart,
-                            e.verticesCount,
-                            e.indexStart,
-                            e.indexCount,
-                            e.getMesh(),
-                          );
-                        }),
-                        Uo.b.AddToMesh(
-                          y.materialIndex,
-                          m,
-                          f,
-                          p,
-                          3 * r.length,
-                          this._reconstructedMesh,
-                        ));
+                            y.materialIndex,
+                            m,
+                            f,
+                            p,
+                            3 * r.length,
+                            this._reconstructedMesh,
+                          ));
+                      }
                     }),
                     (e.prototype.initDecimatedMesh = function () {
                       ((this._reconstructedMesh = new me.a(
@@ -115396,9 +116669,9 @@ and limitations under the License.
                             this.references[e.triangleStart + o].triangleId
                           ];
                         if (!s.deleted) {
-                          var c = this.references[e.triangleStart + o].vertexId,
-                            u = s.vertices[(c + 1) % 3],
-                            l = s.vertices[(c + 2) % 3];
+                          var c = this.references[e.triangleStart + o].vertexId;
+                          var u = s.vertices[(c + 1) % 3];
+                          var l = s.vertices[(c + 2) % 3];
                           if (u !== t && l !== t) {
                             var h = u.position.subtract(i);
                             h = h.normalize();
@@ -115418,46 +116691,17 @@ and limitations under the License.
                     }),
                     (e.prototype.updateTriangles = function (e, t, i, n) {
                       for (var r = n, o = 0; o < t.triangleCount; ++o) {
-                        var a = this.references[t.triangleStart + o],
-                          s = this.triangles[a.triangleId];
-                        s.deleted ||
-                          (i[o] && s.deletePending
-                            ? ((s.deleted = true), r++)
-                            : ((s.vertices[a.vertexId] = e),
-                              (s.isDirty = true),
-                              (s.error[0] =
-                                this.calculateError(
-                                  s.vertices[0],
-                                  s.vertices[1],
-                                ) +
-                                s.borderFactor / 2),
-                              (s.error[1] =
-                                this.calculateError(
-                                  s.vertices[1],
-                                  s.vertices[2],
-                                ) +
-                                s.borderFactor / 2),
-                              (s.error[2] =
-                                this.calculateError(
-                                  s.vertices[2],
-                                  s.vertices[0],
-                                ) +
-                                s.borderFactor / 2),
-                              (s.error[3] = Math.min(
-                                s.error[0],
-                                s.error[1],
-                                s.error[2],
-                              )),
-                              this.references.push(a)));
+                        var a = this.references[t.triangleStart + o];
+                        var s = this.triangles[a.triangleId];
                       }
                       return r;
                     }),
                     (e.prototype.identifyBorder = function () {
                       for (var e = 0; e < this.vertices.length; ++e) {
-                        var t,
-                          i = [],
-                          n = [],
-                          r = this.vertices[e];
+                        var t;
+                        var i = [];
+                        var n = [];
+                        var r = this.vertices[e];
                         for (t = 0; t < r.triangleCount; ++t)
                           for (
                             var o =
@@ -115535,11 +116779,11 @@ and limitations under the License.
                         s = n.det(0, 1, 2, 1, 4, 5, 2, 5, 7);
                       if (0 === s || r) {
                         var c = e.position
-                            .add(t.position)
-                            .divide(new a.x(2, 2, 2)),
-                          u = this.vertexError(n, e.position),
-                          l = this.vertexError(n, t.position),
-                          h = this.vertexError(n, c);
+                          .add(t.position)
+                          .divide(new a.x(2, 2, 2));
+                        var u = this.vertexError(n, e.position);
+                        var l = this.vertexError(n, t.position);
+                        var h = this.vertexError(n, c);
                         (o = Math.min(u, l, h)) === u
                           ? i && i.copyFrom(e.position)
                           : o === l
@@ -115561,7 +116805,9 @@ and limitations under the License.
                   if (!this._simplificationQueue) {
                     this._simplificationQueue = new ua();
                     var e = this._getComponent(Se.a.NAME_SIMPLIFICATIONQUEUE);
-                    e || ((e = new ma(this)), this._addComponent(e));
+                    if (!e) {
+                      ((e = new ma(this)), this._addComponent(e));
+                    }
                   }
                   return this._simplificationQueue;
                 },
@@ -115601,9 +116847,12 @@ and limitations under the License.
                     (e.prototype.rebuild = function () {}),
                     (e.prototype.dispose = function () {}),
                     (e.prototype._beforeCameraUpdate = function () {
-                      this.scene._simplificationQueue &&
-                        !this.scene._simplificationQueue.running &&
+                      if (
+                        this.scene._simplificationQueue &&
+                        !this.scene._simplificationQueue.running
+                      ) {
                         this.scene._simplificationQueue.executeNext();
+                      }
                     }),
                     e
                   );
@@ -115783,8 +117032,8 @@ and limitations under the License.
                     }),
                     (e.prototype._loadImageFromDBAsync = function (e, t, i) {
                       if (this._isSupported && null !== this._db) {
-                        var n,
-                          r = this._db.transaction(["textures"]);
+                        var n;
+                        var r = this._db.transaction(["textures"]);
                         ((r.onabort = function () {
                           t.src = e;
                         }),
@@ -115834,11 +117083,13 @@ and limitations under the License.
                               e = t.createObjectURL(o);
                             }
                           }
-                          e && (i.src = e);
+                          if (e) {
+                            i.src = e;
+                          }
                         };
                         if (e.IsUASupportingBlobStorage) {
-                          var o,
-                            a = new Co.a();
+                          var o;
+                          var a = new Co.a();
                           (a.open("GET", t),
                             (a.responseType = "blob"),
                             a.addEventListener(
@@ -115853,9 +117104,12 @@ and limitations under the License.
                                   ((s.onabort = function (e) {
                                     try {
                                       var t = (e.srcElement || e.target).error;
-                                      t &&
-                                        "QuotaExceededError" === t.name &&
-                                        (n._hasReachedQuota = true);
+                                      if (
+                                        t &&
+                                        "QuotaExceededError" === t.name
+                                      ) {
+                                        n._hasReachedQuota = true;
+                                      }
                                     } catch (e) {}
                                     r();
                                   }),
@@ -115962,9 +117216,9 @@ and limitations under the License.
                           ((n.onabort = function (e) {
                             try {
                               var n = e.srcElement.error;
-                              n &&
-                                "QuotaExceededError" === n.name &&
-                                (i._hasReachedQuota = true);
+                              if (n && "QuotaExceededError" === n.name) {
+                                i._hasReachedQuota = true;
+                              }
                             } catch (e) {}
                             t(-1);
                           }),
@@ -115972,10 +117226,10 @@ and limitations under the License.
                               t(i._manifestVersionFound);
                             }));
                           var r = {
-                              sceneUrl: e,
-                              data: this._manifestVersionFound,
-                            },
-                            o = n.objectStore("versions").put(r);
+                            sceneUrl: e,
+                            data: this._manifestVersionFound,
+                          };
+                          var o = n.objectStore("versions").put(r);
                           ((o.onsuccess = function () {}),
                             (o.onerror = function () {
                               g.a.Error(
@@ -116007,7 +117261,8 @@ and limitations under the License.
                     }),
                     (e.prototype._loadFileAsync = function (e, t, i) {
                       if (this._isSupported && this._db) {
-                        var n, r;
+                        var n;
+                        var r;
                         n =
                           -1 !== e.indexOf(".babylon") ? "scenes" : "textures";
                         var o = this._db.transaction([n]);
@@ -116037,8 +117292,8 @@ and limitations under the License.
                         var s;
                         s =
                           -1 !== t.indexOf(".babylon") ? "scenes" : "textures";
-                        var c,
-                          u = new Co.a();
+                        var c;
+                        var u = new Co.a();
                         (u.open("GET", t + "?" + Date.now()),
                           r && (u.responseType = "arraybuffer"),
                           n && (u.onprogress = n),
@@ -116054,14 +117309,17 @@ and limitations under the License.
                                   ((c = r ? u.response : u.responseText),
                                   !a._hasReachedQuota && a._db)
                                 ) {
-                                  var n,
-                                    l = a._db.transaction([s], "readwrite");
+                                  var n;
+                                  var l = a._db.transaction([s], "readwrite");
                                   ((l.onabort = function (e) {
                                     try {
                                       var t = e.srcElement.error;
-                                      t &&
-                                        "QuotaExceededError" === t.name &&
-                                        (a._hasReachedQuota = true);
+                                      if (
+                                        t &&
+                                        "QuotaExceededError" === t.name
+                                      ) {
+                                        a._hasReachedQuota = true;
+                                      }
                                     } catch (e) {}
                                     i(c);
                                   }),
@@ -116110,7 +117368,9 @@ and limitations under the License.
                           i());
                     }),
                     (e._ValidateXHRData = function (e, t) {
-                      void 0 === t && (t = 7);
+                      if (void 0 === t) {
+                        t = 7;
+                      }
                       try {
                         if (1 & t) {
                           if (e.responseText && e.responseText.length > 0)
@@ -116270,11 +117530,11 @@ and limitations under the License.
                         a.x.TransformNormalFromFloatsToRef(0, 1, 0, e, t);
                       else {
                         var n = i.position
-                            .subtract(e.getTranslation())
-                            .normalize(),
-                          r = L.a.RandomRange(0, this.directionRandomizer),
-                          o = L.a.RandomRange(0, this.directionRandomizer),
-                          s = L.a.RandomRange(0, this.directionRandomizer);
+                          .subtract(e.getTranslation())
+                          .normalize();
+                        var r = L.a.RandomRange(0, this.directionRandomizer);
+                        var o = L.a.RandomRange(0, this.directionRandomizer);
+                        var s = L.a.RandomRange(0, this.directionRandomizer);
                         ((n.x += r),
                           (n.y += o),
                           (n.z += s),
@@ -116445,7 +117705,7 @@ and limitations under the License.
                       void 0 === n && (n = 1),
                       void 0 === r && (r = new a.x(0, 1, 0)),
                       void 0 === o && (o = new a.x(0, 1, 0)));
-                    var s = e.call(this, t, i, n) || this;
+                    var s = e(t, i, n) || this;
                     return ((s.direction1 = r), (s.direction2 = o), s);
                   }
                   return (
@@ -116489,7 +117749,7 @@ and limitations under the License.
                       return "CylinderDirectedParticleEmitter";
                     }),
                     (t.prototype.serialize = function () {
-                      var t = e.prototype.serialize.call(this);
+                      var t = e.prototype.serialize();
                       return (
                         (t.direction1 = this.direction1.asArray()),
                         (t.direction2 = this.direction2.asArray()),
@@ -116497,7 +117757,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.parse = function (t) {
-                      (e.prototype.parse.call(this, t),
+                      (e.prototype.parse(t),
                         this.direction1.copyFrom(t.direction1),
                         this.direction2.copyFrom(t.direction2));
                     }),
@@ -116723,7 +117983,7 @@ and limitations under the License.
                     (void 0 === t && (t = 1),
                       void 0 === i && (i = new a.x(0, 1, 0)),
                       void 0 === n && (n = new a.x(0, 1, 0)));
-                    var r = e.call(this, t) || this;
+                    var r = e(t) || this;
                     return ((r.direction1 = i), (r.direction2 = n), r);
                   }
                   return (
@@ -116764,7 +118024,7 @@ and limitations under the License.
                       return "SphereDirectedParticleEmitter";
                     }),
                     (t.prototype.serialize = function () {
-                      var t = e.prototype.serialize.call(this);
+                      var t = e.prototype.serialize();
                       return (
                         (t.direction1 = this.direction1.asArray()),
                         (t.direction2 = this.direction2.asArray()),
@@ -116772,7 +118032,7 @@ and limitations under the License.
                       );
                     }),
                     (t.prototype.parse = function (t) {
-                      (e.prototype.parse.call(this, t),
+                      (e.prototype.parse(t),
                         this.direction1.copyFrom(t.direction1),
                         this.direction2.copyFrom(t.direction2));
                     }),
@@ -116856,8 +118116,9 @@ and limitations under the License.
                         return this._noiseTexture;
                       },
                       set: function (e) {
-                        this._noiseTexture !== e &&
+                        if (this._noiseTexture !== e) {
                           ((this._noiseTexture = e), this._reset());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -116870,9 +118131,10 @@ and limitations under the License.
                           return this._isAnimationSheetEnabled;
                         },
                         set: function (e) {
-                          this._isAnimationSheetEnabled != e &&
+                          if (this._isAnimationSheetEnabled != e) {
                             ((this._isAnimationSheetEnabled = e),
-                            this._reset());
+                              this._reset());
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -116932,8 +118194,9 @@ and limitations under the License.
                           : a.x.Zero();
                       },
                       set: function (e) {
-                        this.particleEmitterType.direction1 &&
-                          (this.particleEmitterType.direction1 = e);
+                        if (this.particleEmitterType.direction1) {
+                          this.particleEmitterType.direction1 = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -116945,8 +118208,9 @@ and limitations under the License.
                           : a.x.Zero();
                       },
                       set: function (e) {
-                        this.particleEmitterType.direction2 &&
-                          (this.particleEmitterType.direction2 = e);
+                        if (this.particleEmitterType.direction2) {
+                          this.particleEmitterType.direction2 = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -116958,8 +118222,9 @@ and limitations under the License.
                           : a.x.Zero();
                       },
                       set: function (e) {
-                        this.particleEmitterType.minEmitBox &&
-                          (this.particleEmitterType.minEmitBox = e);
+                        if (this.particleEmitterType.minEmitBox) {
+                          this.particleEmitterType.minEmitBox = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -116971,8 +118236,9 @@ and limitations under the License.
                           : a.x.Zero();
                       },
                       set: function (e) {
-                        this.particleEmitterType.maxEmitBox &&
-                          (this.particleEmitterType.maxEmitBox = e);
+                        if (this.particleEmitterType.maxEmitBox) {
+                          this.particleEmitterType.maxEmitBox = e;
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -116982,8 +118248,9 @@ and limitations under the License.
                         return this._isBillboardBased;
                       },
                       set: function (e) {
-                        this._isBillboardBased !== e &&
+                        if (this._isBillboardBased !== e) {
                           ((this._isBillboardBased = e), this._reset());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -117004,9 +118271,10 @@ and limitations under the License.
                     ),
                     (e.prototype._attachImageProcessingConfiguration =
                       function (e) {
-                        e !== this._imageProcessingConfiguration &&
-                          (this._imageProcessingConfiguration =
-                            e || this._scene.imageProcessingConfiguration);
+                        if (e !== this._imageProcessingConfiguration) {
+                          this._imageProcessingConfiguration =
+                            e || this._scene.imageProcessingConfiguration;
+                        }
                       }),
                     (e.prototype._reset = function () {}),
                     (e.prototype._removeGradientAndTexture = function (
@@ -117140,13 +118408,14 @@ and limitations under the License.
                     (e.prototype.updateCellIndex = function () {
                       var e = this.age,
                         t = this.particleSystem.spriteCellChangeSpeed;
-                      this.particleSystem.spriteRandomStartCell &&
+                      if (this.particleSystem.spriteRandomStartCell) {
                         (void 0 === this._randomCellOffset &&
                           (this._randomCellOffset =
                             Math.random() * this.lifeTime),
-                        0 === t
-                          ? ((t = 1), (e = this._randomCellOffset))
-                          : (e += this._randomCellOffset));
+                          0 === t
+                            ? ((t = 1), (e = this._randomCellOffset))
+                            : (e += this._randomCellOffset));
+                      }
                       var i =
                           this._initialEndSpriteCellID -
                           this._initialStartSpriteCellID,
@@ -117180,11 +118449,14 @@ and limitations under the License.
                     (e.prototype._inheritParticleInfoToSubEmitters =
                       function () {
                         var e = this;
-                        this._attachedSubEmitters &&
-                          this._attachedSubEmitters.length > 0 &&
+                        if (
+                          this._attachedSubEmitters &&
+                          this._attachedSubEmitters.length > 0
+                        ) {
                           this._attachedSubEmitters.forEach(function (t) {
                             e._inheritParticleInfoToSubEmitter(t);
                           });
+                        }
                       }),
                     (e.prototype._reset = function () {
                       ((this.age = 0),
@@ -117293,7 +118565,9 @@ and limitations under the License.
                         e.getScene(),
                       )),
                     e.onDisposeObservable.add(function () {
-                      e.emitter && e.emitter.dispose && e.emitter.dispose();
+                      if (e.emitter && e.emitter.dispose) {
+                        e.emitter.dispose();
+                      }
                     }));
                 }
                 return (
@@ -117356,7 +118630,7 @@ and limitations under the License.
                   (void 0 === r && (r = null),
                     void 0 === s && (s = false),
                     void 0 === c && (c = 0.01));
-                  var u = e.call(this, t) || this;
+                  var u = e(t) || this;
                   return (
                     (u._inheritedVelocityOffset = new a.x()),
                     (u.onDisposeObservable = new o.c()),
@@ -117439,9 +118713,10 @@ and limitations under the License.
                     (u.updateFunction = function (e) {
                       var t = null,
                         i = null;
-                      u.noiseTexture &&
+                      if (u.noiseTexture) {
                         ((t = u.noiseTexture.getSize()),
-                        (i = u.noiseTexture.getContent()));
+                          (i = u.noiseTexture.getContent()));
+                      }
                       for (
                         var n,
                           r = function () {
@@ -117515,28 +118790,30 @@ and limitations under the License.
                                       )));
                                   },
                                 ),
-                              n.direction.scaleToRef(h, u._scaledDirection),
+                              n.direction.scaleToRef(r, u._scaledDirection),
                               u._limitVelocityGradients &&
                                 u._limitVelocityGradients.length > 0 &&
                                 Ee.h.GetCurrentGradient(
                                   l,
                                   u._limitVelocityGradients,
                                   function (e, t, i) {
-                                    e !== n._currentLimitVelocityGradient &&
+                                    if (e !== n._currentLimitVelocityGradient) {
                                       ((n._currentLimitVelocity1 =
                                         n._currentLimitVelocity2),
-                                      (n._currentLimitVelocity2 =
-                                        t.getFactor()),
-                                      (n._currentLimitVelocityGradient = e));
+                                        (n._currentLimitVelocity2 =
+                                          t.getFactor()),
+                                        (n._currentLimitVelocityGradient = e));
+                                    }
                                     var r = L.a.Lerp(
                                       n._currentLimitVelocity1,
                                       n._currentLimitVelocity2,
                                       i,
                                     );
-                                    n.direction.length() > r &&
+                                    if (n.direction.length() > r) {
                                       n.direction.scaleInPlace(
                                         u.limitVelocityDamping,
                                       );
+                                    }
                                   },
                                 ),
                               u._dragGradients &&
@@ -117545,10 +118822,11 @@ and limitations under the License.
                                   l,
                                   u._dragGradients,
                                   function (e, t, i) {
-                                    e !== n._currentDragGradient &&
+                                    if (e !== n._currentDragGradient) {
                                       ((n._currentDrag1 = n._currentDrag2),
-                                      (n._currentDrag2 = t.getFactor()),
-                                      (n._currentDragGradient = e));
+                                        (n._currentDrag2 = t.getFactor()),
+                                        (n._currentDragGradient = e));
+                                    }
                                     var r = L.a.Lerp(
                                       n._currentDrag1,
                                       n._currentDrag2,
@@ -117561,28 +118839,28 @@ and limitations under the License.
                               i && t && n._randomNoiseCoordinates1)
                             ) {
                               var f = u._fetchR(
-                                  n._randomNoiseCoordinates1.x,
-                                  n._randomNoiseCoordinates1.y,
-                                  t.width,
-                                  t.height,
-                                  i,
-                                ),
-                                d = u._fetchR(
-                                  n._randomNoiseCoordinates1.z,
-                                  n._randomNoiseCoordinates2.x,
-                                  t.width,
-                                  t.height,
-                                  i,
-                                ),
-                                p = u._fetchR(
-                                  n._randomNoiseCoordinates2.y,
-                                  n._randomNoiseCoordinates2.z,
-                                  t.width,
-                                  t.height,
-                                  i,
-                                ),
-                                m = a.t.Vector3[0],
-                                g = a.t.Vector3[1];
+                                n._randomNoiseCoordinates1.x,
+                                n._randomNoiseCoordinates1.y,
+                                t.width,
+                                t.height,
+                                i,
+                              );
+                              var d = u._fetchR(
+                                n._randomNoiseCoordinates1.z,
+                                n._randomNoiseCoordinates2.x,
+                                t.width,
+                                t.height,
+                                i,
+                              );
+                              var p = u._fetchR(
+                                n._randomNoiseCoordinates2.y,
+                                n._randomNoiseCoordinates2.z,
+                                t.width,
+                                t.height,
+                                i,
+                              );
+                              var m = a.t.Vector3[0];
+                              var g = a.t.Vector3[1];
                               (m.copyFromFloats(
                                 (2 * f - 1) * u.noiseStrength.x,
                                 (2 * d - 1) * u.noiseStrength.y,
@@ -117681,8 +118959,9 @@ and limitations under the License.
                       return this._useRampGradients;
                     },
                     set: function (e) {
-                      this._useRampGradients !== e &&
+                      if (this._useRampGradients !== e) {
                         ((this._useRampGradients = e), this._resetEffect());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -117928,7 +119207,9 @@ and limitations under the License.
                     return this._rampGradients;
                   }),
                   (t.prototype.addRampGradient = function (e, t) {
-                    this._rampGradients || (this._rampGradients = []);
+                    if (!this._rampGradients) {
+                      this._rampGradients = [];
+                    }
                     var i = new Ee.b();
                     return (
                       (i.gradient = e),
@@ -117963,7 +119244,9 @@ and limitations under the License.
                     );
                   }),
                   (t.prototype.addColorGradient = function (e, t, i) {
-                    this._colorGradients || (this._colorGradients = []);
+                    if (!this._colorGradients) {
+                      this._colorGradients = [];
+                    }
                     var n = new Ee.c();
                     return (
                       (n.gradient = e),
@@ -118205,8 +119488,9 @@ and limitations under the License.
                               this._startSizeGradients[1].getFactor())),
                         this.preWarmCycles)
                       ) {
-                        this.emitter instanceof Ne.a &&
+                        if (this.emitter instanceof Ne.a) {
                           this.emitter.computeWorldMatrix(true);
+                        }
                         var i = this.noiseTexture;
                         if (i && i.onGeneratedObservable)
                           i.onGeneratedObservable.addOnce(function () {
@@ -118219,15 +119503,18 @@ and limitations under the License.
                           for (var n = 0; n < this.preWarmCycles; n++)
                             this.animate(true);
                       }
-                      this.beginAnimationOnStart &&
+                      if (
+                        this.beginAnimationOnStart &&
                         this.animations &&
-                        this.animations.length > 0 &&
+                        this.animations.length > 0
+                      ) {
                         this.getScene().beginAnimation(
                           this,
                           this.beginAnimationFrom,
                           this.beginAnimationTo,
                           this.beginAnimationLoop,
                         );
+                      }
                     }
                   }),
                   (t.prototype.stop = function (e) {
@@ -118284,11 +119571,12 @@ and limitations under the License.
                         (this._vertexData[o++] = r)));
                   }),
                   (t.prototype._stopSubEmitters = function () {
-                    this.activeSubSystems &&
+                    if (this.activeSubSystems) {
                       (this.activeSubSystems.forEach(function (e) {
                         e.stop(true);
                       }),
-                      (this.activeSubSystems = new Array()));
+                        (this.activeSubSystems = new Array()));
+                    }
                   }),
                   (t.prototype._removeFromRoot = function () {
                     if (this._rootParticleSystem) {
@@ -118365,11 +119653,11 @@ and limitations under the License.
                               function (e, i) {
                                 var r = e,
                                   o = i,
-                                  a = r.getFactor(),
-                                  s = o.getFactor(),
+                                  a = e.getFactor(),
+                                  s = i.getFactor(),
                                   c =
-                                    (n - r.gradient) /
-                                    (o.gradient - r.gradient);
+                                    (n - e.gradient) /
+                                    (i.gradient - e.gradient);
                                 t.lifeTime = L.a.Lerp(a, s, c);
                               },
                             );
@@ -118405,11 +119693,12 @@ and limitations under the License.
                               r,
                               c._startSizeGradients,
                               function (e, n, r) {
-                                e !== i._currentStartSizeGradient &&
+                                if (e !== i._currentStartSizeGradient) {
                                   ((i._currentStartSize1 =
                                     i._currentStartSize2),
-                                  (i._currentStartSize2 = n.getFactor()),
-                                  (i._currentStartSizeGradient = e));
+                                    (i._currentStartSize2 = n.getFactor()),
+                                    (i._currentStartSizeGradient = e));
+                                }
                                 var o = L.a.Lerp(
                                   i._currentStartSize1,
                                   i._currentStartSize2,
@@ -118545,7 +119834,9 @@ and limitations under the License.
                     );
                   }),
                   (t._GetEffectCreationOptions = function (e) {
-                    void 0 === e && (e = false);
+                    if (void 0 === e) {
+                      e = false;
+                    }
                     var t = [
                       "invView",
                       "view",
@@ -118586,26 +119877,27 @@ and limitations under the License.
                           break;
                         case t.BILLBOARDMODE_ALL:
                       }
-                    this._imageProcessingConfiguration &&
+                    if (this._imageProcessingConfiguration) {
                       (this._imageProcessingConfiguration.prepareDefines(
                         this._imageProcessingConfigurationDefines,
                       ),
-                      i.push(
-                        this._imageProcessingConfigurationDefines.toString(),
-                      ));
+                        i.push(
+                          this._imageProcessingConfigurationDefines.toString(),
+                        ));
+                    }
                     var n = i.join("\n");
                     if (this._cachedDefines !== n) {
                       this._cachedDefines = n;
                       var r = t._GetAttributeNamesOrOptions(
-                          this._isAnimationSheetEnabled,
-                          this._isBillboardBased &&
-                            this.billboardMode !== t.BILLBOARDMODE_STRETCHED,
-                          this._useRampGradients,
-                        ),
-                        o = t._GetEffectCreationOptions(
-                          this._isAnimationSheetEnabled,
-                        ),
-                        a = ["diffuseSampler", "rampSampler"];
+                        this._isAnimationSheetEnabled,
+                        this._isBillboardBased &&
+                          this.billboardMode !== t.BILLBOARDMODE_STRETCHED,
+                        this._useRampGradients,
+                      );
+                      var o = t._GetEffectCreationOptions(
+                        this._isAnimationSheetEnabled,
+                      );
+                      var a = ["diffuseSampler", "rampSampler"];
                       (yi.a &&
                         (yi.a.PrepareUniforms(
                           o,
@@ -118699,12 +119991,13 @@ and limitations under the License.
                           (this._appendParticleVertices(o, s),
                             (o += this._useInstancing ? 1 : 4));
                         }
-                        this._vertexBuffer &&
+                        if (this._vertexBuffer) {
                           this._vertexBuffer.update(this._vertexData);
+                        }
                       }
-                      0 === this.manualEmitCount &&
-                        this.disposeOnStop &&
+                      if (0 === this.manualEmitCount && this.disposeOnStop) {
                         this.stop();
+                      }
                     }
                   }),
                   (t.prototype._appendParticleVertices = function (e, t) {
@@ -119096,11 +120389,11 @@ and limitations under the License.
                     if (r) {
                       e.colorGradients = [];
                       for (var o = 0, a = r; o < a.length; o++) {
-                        var s = a[o],
-                          c = {
-                            gradient: s.gradient,
-                            color1: s.color1.asArray(),
-                          };
+                        var s = a[o];
+                        var c = {
+                          gradient: s.gradient,
+                          color1: s.color1.asArray(),
+                        };
                         (s.color2 && (c.color2 = s.color2.asArray()),
                           e.colorGradients.push(c));
                       }
@@ -119249,8 +120542,9 @@ and limitations under the License.
                       }
                       e.limitVelocityDamping = t.limitVelocityDamping;
                     }
-                    t.noiseTexture &&
-                      (e.noiseTexture = t.noiseTexture.serialize());
+                    if (t.noiseTexture) {
+                      e.noiseTexture = t.noiseTexture.serialize();
+                    }
                   }),
                   (t._Parse = function (e, t, i, n) {
                     if (
@@ -119276,9 +120570,11 @@ and limitations under the License.
                       e.animations)
                     ) {
                       for (var r = 0; r < e.animations.length; r++) {
-                        var o = e.animations[r],
-                          c = s.a.GetClass("BABYLON.Animation");
-                        c && t.animations.push(c.Parse(o));
+                        var o = e.animations[r];
+                        var c = s.a.GetClass("BABYLON.Animation");
+                        if (c) {
+                          t.animations.push(c.Parse(o));
+                        }
                       }
                       ((t.beginAnimationOnStart = e.beginAnimationOnStart),
                         (t.beginAnimationFrom = e.beginAnimationFrom),
@@ -119512,7 +120808,9 @@ and limitations under the License.
                       (t.spriteRandomStartCell = e.spriteRandomStartCell));
                   }),
                   (t.Parse = function (e, i, n, r) {
-                    void 0 === r && (r = false);
+                    if (void 0 === r) {
+                      r = false;
+                    }
                     var o = e.name,
                       s = null,
                       c = null;
@@ -119582,8 +120880,10 @@ and limitations under the License.
                 "#version 300 es\nuniform mat4 view;\nuniform mat4 projection;\nuniform vec2 translationPivot;\nuniform vec3 worldOffset;\n\nin vec3 position;\nin float age;\nin float life;\nin vec3 size;\n#ifndef BILLBOARD\nin vec3 initialDirection;\n#endif\n#ifdef BILLBOARDSTRETCHED\nin vec3 direction;\n#endif\nin float angle;\n#ifdef ANIMATESHEET\nin float cellIndex;\n#endif\nin vec2 offset;\nin vec2 uv;\nout vec2 vUV;\nout vec4 vColor;\n#if defined(CLIPPLANE) || defined(CLIPPLANE2) || defined(CLIPPLANE3) || defined(CLIPPLANE4)\nuniform mat4 invView;\n#endif\n#include<clipPlaneVertexDeclaration2>\n#ifdef COLORGRADIENTS\nuniform sampler2D colorGradientSampler;\n#else\nuniform vec4 colorDead;\nin vec4 color;\n#endif\n#ifdef ANIMATESHEET\nuniform vec3 sheetInfos;\n#endif\n#ifdef BILLBOARD\nuniform vec3 eyePosition;\n#endif\nvec3 rotate(vec3 yaxis,vec3 rotatedCorner) {\nvec3 xaxis=normalize(cross(vec3(0.,1.0,0.),yaxis));\nvec3 zaxis=normalize(cross(yaxis,xaxis));\nvec3 row0=vec3(xaxis.x,xaxis.y,xaxis.z);\nvec3 row1=vec3(yaxis.x,yaxis.y,yaxis.z);\nvec3 row2=vec3(zaxis.x,zaxis.y,zaxis.z);\nmat3 rotMatrix=mat3(row0,row1,row2);\nvec3 alignedCorner=rotMatrix*rotatedCorner;\nreturn (position+worldOffset)+alignedCorner;\n}\n#ifdef BILLBOARDSTRETCHED\nvec3 rotateAlign(vec3 toCamera,vec3 rotatedCorner) {\nvec3 normalizedToCamera=normalize(toCamera);\nvec3 normalizedCrossDirToCamera=normalize(cross(normalize(direction),normalizedToCamera));\nvec3 crossProduct=normalize(cross(normalizedToCamera,normalizedCrossDirToCamera));\nvec3 row0=vec3(normalizedCrossDirToCamera.x,normalizedCrossDirToCamera.y,normalizedCrossDirToCamera.z);\nvec3 row1=vec3(crossProduct.x,crossProduct.y,crossProduct.z);\nvec3 row2=vec3(normalizedToCamera.x,normalizedToCamera.y,normalizedToCamera.z);\nmat3 rotMatrix=mat3(row0,row1,row2);\nvec3 alignedCorner=rotMatrix*rotatedCorner;\nreturn (position+worldOffset)+alignedCorner;\n}\n#endif\nvoid main() {\n#ifdef ANIMATESHEET\nfloat rowOffset=floor(cellIndex/sheetInfos.z);\nfloat columnOffset=cellIndex-rowOffset*sheetInfos.z;\nvec2 uvScale=sheetInfos.xy;\nvec2 uvOffset=vec2(uv.x ,1.0-uv.y);\nvUV=(uvOffset+vec2(columnOffset,rowOffset))*uvScale;\n#else\nvUV=uv;\n#endif\nfloat ratio=age/life;\n#ifdef COLORGRADIENTS\nvColor=texture(colorGradientSampler,vec2(ratio,0));\n#else\nvColor=color*vec4(1.0-ratio)+colorDead*vec4(ratio);\n#endif\nvec2 cornerPos=(offset-translationPivot)*size.yz*size.x+translationPivot;\n#ifdef BILLBOARD\nvec4 rotatedCorner;\nrotatedCorner.w=0.;\n#ifdef BILLBOARDY\nrotatedCorner.x=cornerPos.x*cos(angle)-cornerPos.y*sin(angle);\nrotatedCorner.z=cornerPos.x*sin(angle)+cornerPos.y*cos(angle);\nrotatedCorner.y=0.;\nvec3 yaxis=(position+worldOffset)-eyePosition;\nyaxis.y=0.;\nvec3 worldPos=rotate(normalize(yaxis),rotatedCorner.xyz);\nvec4 viewPosition=(view*vec4(worldPos,1.0));\n#elif defined(BILLBOARDSTRETCHED)\nrotatedCorner.x=cornerPos.x*cos(angle)-cornerPos.y*sin(angle);\nrotatedCorner.y=cornerPos.x*sin(angle)+cornerPos.y*cos(angle);\nrotatedCorner.z=0.;\nvec3 toCamera=(position+worldOffset)-eyePosition;\nvec3 worldPos=rotateAlign(toCamera,rotatedCorner.xyz);\nvec4 viewPosition=(view*vec4(worldPos,1.0));\n#else\n\nrotatedCorner.x=cornerPos.x*cos(angle)-cornerPos.y*sin(angle);\nrotatedCorner.y=cornerPos.x*sin(angle)+cornerPos.y*cos(angle);\nrotatedCorner.z=0.;\n\nvec4 viewPosition=view*vec4((position+worldOffset),1.0)+rotatedCorner;\n#endif\n#else\n\nvec3 rotatedCorner;\nrotatedCorner.x=cornerPos.x*cos(angle)-cornerPos.y*sin(angle);\nrotatedCorner.y=0.;\nrotatedCorner.z=cornerPos.x*sin(angle)+cornerPos.y*cos(angle);\nvec3 yaxis=normalize(initialDirection);\nvec3 worldPos=rotate(yaxis,rotatedCorner);\n\nvec4 viewPosition=view*vec4(worldPos,1.0);\n#endif\ngl_Position=projection*viewPosition;\n\n#if defined(CLIPPLANE) || defined(CLIPPLANE2) || defined(CLIPPLANE3) || defined(CLIPPLANE4)\nvec4 worldPos=invView*viewPosition;\n#endif\n#include<clipPlaneVertex>\n}";
               var Da = (function (e) {
                   function t(t, i, n, r) {
-                    void 0 === r && (r = false);
-                    var a = e.call(this, t) || this;
+                    if (void 0 === r) {
+                      r = false;
+                    }
+                    var a = e(t) || this;
                     ((a.layerMask = 268435455),
                       (a._accumulatedCount = 0),
                       (a._targetIndex = 0),
@@ -119608,7 +120908,7 @@ and limitations under the License.
                         i,
                       ),
                       c = i;
-                    (isFinite(c) && (s.capacity = c),
+                    (isFinite(i) && (s.capacity = i),
                       (a._capacity = s.capacity),
                       (a._activeCount = s.capacity),
                       (a._currentActiveCount = 0),
@@ -119816,18 +121116,15 @@ and limitations under the License.
                       n,
                     ) {
                       return (
-                        e.prototype._removeGradientAndTexture.call(
-                          this,
-                          t,
-                          i,
-                          n,
-                        ),
+                        e.prototype._removeGradientAndTexture(t, i, n),
                         this._releaseBuffers(),
                         this
                       );
                     }),
                     (t.prototype.addColorGradient = function (e, t, i) {
-                      this._colorGradients || (this._colorGradients = []);
+                      if (!this._colorGradients) {
+                        this._colorGradients = [];
+                      }
                       var n = new Ee.c();
                       return (
                         (n.gradient = e),
@@ -120214,8 +121511,8 @@ and limitations under the License.
                     }),
                     (t.prototype._initialize = function (e) {
                       if ((void 0 === e && (e = false), !this._buffer0 || e)) {
-                        var t = this._scene.getEngine(),
-                          i = new Array();
+                        var t = this._scene.getEngine();
+                        var i = new Array();
                         ((this._attributesStrideSize = 21),
                           (this._targetIndex = 0),
                           this.isBillboardBased ||
@@ -120408,20 +121705,20 @@ and limitations under the License.
                         !this._renderEffect || this._renderEffect.defines !== e)
                       ) {
                         var t = [
-                            "worldOffset",
-                            "view",
-                            "projection",
-                            "colorDead",
-                            "invView",
-                            "vClipPlane",
-                            "vClipPlane2",
-                            "vClipPlane3",
-                            "vClipPlane4",
-                            "sheetInfos",
-                            "translationPivot",
-                            "eyePosition",
-                          ],
-                          i = ["textureSampler", "colorGradientSampler"];
+                          "worldOffset",
+                          "view",
+                          "projection",
+                          "colorDead",
+                          "invView",
+                          "vClipPlane",
+                          "vClipPlane2",
+                          "vClipPlane3",
+                          "vClipPlane4",
+                          "sheetInfos",
+                          "translationPivot",
+                          "eyePosition",
+                        ];
+                        var i = ["textureSampler", "colorGradientSampler"];
                         (yi.a &&
                           (yi.a.PrepareUniforms(
                             t,
@@ -120876,7 +122173,9 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype.dispose = function (e) {
-                      void 0 === e && (e = true);
+                      if (void 0 === e) {
+                        e = true;
+                      }
                       var t = this._scene.particleSystems.indexOf(this);
                       (t > -1 && this._scene.particleSystems.splice(t, 1),
                         this._releaseBuffers(),
@@ -120946,7 +122245,9 @@ and limitations under the License.
                       );
                     }),
                     (t.Parse = function (e, i, n, r) {
-                      void 0 === r && (r = false);
+                      if (void 0 === r) {
+                        r = false;
+                      }
                       var o = new t(
                         e.name,
                         {
@@ -121018,11 +122319,7 @@ and limitations under the License.
                     }),
                     (e.prototype.serialize = function () {
                       for (
-                        var e = {
-                            systems: [],
-                          },
-                          t = 0,
-                          i = this.systems;
+                        var e = { systems: [] }, t = 0, i = this.systems;
                         t < i.length;
                         t++
                       ) {
@@ -121036,7 +122333,9 @@ and limitations under the License.
                       );
                     }),
                     (e.Parse = function (t, i, n) {
-                      void 0 === n && (n = false);
+                      if (void 0 === n) {
+                        n = false;
+                      }
                       var r = new e(),
                         o = _.a.PARTICLES_BaseAssetsUrl + "/textures/";
                       i = i || R.a.LastCreatedScene;
@@ -121075,13 +122374,7 @@ and limitations under the License.
                         void 0 === t && (t = 500),
                         void 0 === n && (n = false),
                         ((r = n
-                          ? new Da(
-                              "default system",
-                              {
-                                capacity: t,
-                              },
-                              i,
-                            )
+                          ? new Da("default system", { capacity: t }, i)
                           : new Ia("default system", t, i)).emitter = e),
                         (r.particleTexture = new je.a(
                           "https://www.babylonjs.com/assets/Flare.png",
@@ -121208,7 +122501,9 @@ and limitations under the License.
                     t++
                   ) {
                     var i = this.getScene().particleSystems[t];
-                    i.emitter === this && e.push(i);
+                    if (i.emitter === this) {
+                      e.push(i);
+                    }
                   }
                   return e;
                 }),
@@ -121222,9 +122517,11 @@ and limitations under the License.
                       i < this.getScene().particleSystems.length;
                       i++
                     ) {
-                      var n = this.getScene().particleSystems[i],
-                        r = n.emitter;
-                      r.position && -1 !== t.indexOf(r) && e.push(n);
+                      var n = this.getScene().particleSystems[i];
+                      var r = n.emitter;
+                      if (r.position && -1 !== t.indexOf(r)) {
+                        e.push(n);
+                      }
                     }
                     return e;
                   }));
@@ -121482,11 +122779,11 @@ and limitations under the License.
                               ),
                             y++);
                         }
-                        var T,
-                          A,
-                          x = this.nbParticles,
-                          S = this._posToShape(d),
-                          C = this._uvsToShapeUV(m);
+                        var T;
+                        var A;
+                        var x = this.nbParticles;
+                        var S = this._posToShape(d);
+                        var C = this._uvsToShapeUV(m);
                         for (T = 0; T < S.length; T++) _.addInPlace(S[T]);
                         for (
                           _.scaleInPlace(1 / S.length), T = 0;
@@ -121494,17 +122791,19 @@ and limitations under the License.
                           T++
                         )
                           S[T].subtractInPlace(_);
-                        this._particlesIntersect && (A = new $i.a(_, _));
+                        if (this._particlesIntersect) {
+                          A = new $i.a(_, _);
+                        }
                         var P = new Na(
-                            this._shapeCounter,
-                            S,
-                            3 * i,
-                            C,
-                            null,
-                            null,
-                          ),
-                          R = this._positions.length,
-                          M = this._indices.length;
+                          this._shapeCounter,
+                          S,
+                          3 * i,
+                          C,
+                          null,
+                          null,
+                        );
+                        var R = this._positions.length;
+                        var M = this._indices.length;
                         (this._meshBuilder(
                           this._index,
                           S,
@@ -121552,8 +122851,8 @@ and limitations under the License.
                         o < this.particles.length;
                         o++
                       ) {
-                        var s = this.particles[o],
-                          c = s._model._shape;
+                        var s = this.particles[o];
+                        var c = s._model._shape;
                         if (s.rotationQuaternion)
                           s.rotationQuaternion.conjugateToRef(n);
                         else {
@@ -121607,10 +122906,10 @@ and limitations under the License.
                         v = 0;
                       this._resetCopy();
                       var y = this._copy;
-                      p &&
-                        p.positionFunction &&
+                      if (p && p.positionFunction) {
                         (p.positionFunction(y, f, d),
-                        (this._mustUnrotateFixedNormals = true));
+                          (this._mustUnrotateFixedNormals = true));
+                      }
                       var b = a.t.Matrix[0],
                         E = a.t.Vector3[0],
                         T = a.t.Vector3[1],
@@ -121695,7 +122994,9 @@ and limitations under the License.
                       return t;
                     }),
                     (e.prototype._addParticle = function (e, t, i, n, r, o, a) {
-                      void 0 === a && (a = null);
+                      if (void 0 === a) {
+                        a = null;
+                      }
                       var s = new Ba(e, t, i, n, r, o, this, a);
                       return (this.particles.push(s), s);
                     }),
@@ -121706,7 +123007,9 @@ and limitations under the License.
                         a = e.getVerticesData(Si.b.UVKind),
                         s = e.getVerticesData(Si.b.ColorKind),
                         c = e.getVerticesData(Si.b.NormalKind);
-                      this._particlesIntersect && (n = e.getBoundingInfo());
+                      if (this._particlesIntersect) {
+                        n = e.getBoundingInfo();
+                      }
                       for (
                         var u,
                           l,
@@ -121720,8 +123023,8 @@ and limitations under the License.
                         _ < t;
                         _++
                       ) {
-                        var v = this._positions.length,
-                          y = this._indices.length;
+                        var v = this._positions.length;
+                        var y = this._indices.length;
                         ((l = this._meshBuilder(
                           this._index,
                           h,
@@ -121769,8 +123072,9 @@ and limitations under the License.
                     (e.prototype._rebuildParticle = function (e) {
                       this._resetCopy();
                       var t = this._copy;
-                      e._model._positionFunction &&
+                      if (e._model._positionFunction) {
                         e._model._positionFunction(t, e.idx, e.idxInShape);
+                      }
                       var i = a.t.Matrix[0],
                         n = a.t.Vector3[0],
                         r = a.t.Vector3[1],
@@ -121883,20 +123187,22 @@ and limitations under the License.
                           (0 != e || t != this.nbParticles - 1))
                       ) {
                         var O = this.mesh._boundingInfo;
-                        O && (v.copyFrom(O.minimum), y.copyFrom(O.maximum));
+                        if (O) {
+                          (v.copyFrom(O.minimum), y.copyFrom(O.maximum));
+                        }
                       }
                       var w = ((x = this.particles[e]._pos) / 3) | 0;
                       ((C = 4 * w), (R = 2 * w));
                       for (var I = e; I <= t; I++) {
                         var D = this.particles[I];
                         this.updateParticle(D);
-                        var L = D._model._shape,
-                          F = D._model._shapeUV,
-                          B = D._rotationMatrix,
-                          N = D.position,
-                          k = D.rotation,
-                          U = D.scaling,
-                          V = D._globalPosition;
+                        var L = D._model._shape;
+                        var F = D._model._shapeUV;
+                        var B = D._rotationMatrix;
+                        var N = D.position;
+                        var k = D.rotation;
+                        var U = D.scaling;
+                        var V = D._globalPosition;
                         if (this._depthSort && this._depthSortParticles) {
                           var G = this.depthSortedParticles[I];
                           ((G.ind = D._ind),
@@ -121922,12 +123228,12 @@ and limitations under the License.
                                 D.getRotationMatrix(n),
                               null !== D.parentId)
                             ) {
-                              var j = this.particles[D.parentId],
-                                H = j._rotationMatrix,
-                                W = j._globalPosition,
-                                X = N.x * H[1] + N.y * H[4] + N.z * H[7],
-                                Y = N.x * H[0] + N.y * H[3] + N.z * H[6],
-                                K = N.x * H[2] + N.y * H[5] + N.z * H[8];
+                              var j = this.particles[D.parentId];
+                              var H = j._rotationMatrix;
+                              var W = j._globalPosition;
+                              var X = N.x * H[1] + N.y * H[4] + N.z * H[7];
+                              var Y = N.x * H[0] + N.y * H[3] + N.z * H[6];
+                              var K = N.x * H[2] + N.y * H[5] + N.z * H[8];
                               if (
                                 ((V.x = W.x + Y),
                                 (V.y = W.y + X),
@@ -121985,9 +123291,9 @@ and limitations under the License.
                                 (E = p[0]).copyFrom(L[M]),
                                 this._computeParticleVertex &&
                                   this.updateParticleVertex(D, E, M));
-                              var Z = E.x * U.x - z.x,
-                                J = E.y * U.y - z.y,
-                                $ = E.z * U.z - z.z;
+                              var Z = E.x * U.x - z.x;
+                              var J = E.y * U.y - z.y;
+                              var $ = E.z * U.z - z.z;
                               ((Y = Z * B[0] + J * B[3] + $ * B[6]),
                                 (X = Z * B[1] + J * B[4] + $ * B[7]),
                                 (K = Z * B[2] + J * B[5] + $ * B[8]),
@@ -121995,30 +123301,30 @@ and limitations under the License.
                                 (X += q.y),
                                 (K += q.z));
                               var ee = (c[A] =
-                                  V.x + m.x * Y + g.x * X + _.x * K),
-                                te = (c[A + 1] =
-                                  V.y + m.y * Y + g.y * X + _.y * K),
-                                ie = (c[A + 2] =
-                                  V.z + m.z * Y + g.z * X + _.z * K);
+                                V.x + m.x * Y + g.x * X + _.x * K);
+                              var te = (c[A + 1] =
+                                V.y + m.y * Y + g.y * X + _.y * K);
+                              var ie = (c[A + 2] =
+                                V.z + m.z * Y + g.z * X + _.z * K);
                               if (
                                 (this._computeBoundingBox &&
                                   (v.minimizeInPlaceFromFloats(ee, te, ie),
                                   y.maximizeInPlaceFromFloats(ee, te, ie)),
                                 !this._computeParticleVertex)
                               ) {
-                                var ne = d[A],
-                                  re = d[A + 1],
-                                  oe = d[A + 2],
-                                  ae = ne * B[0] + re * B[3] + oe * B[6],
-                                  se = ne * B[1] + re * B[4] + oe * B[7],
-                                  ce = ne * B[2] + re * B[5] + oe * B[8];
+                                var ne = d[A];
+                                var re = d[A + 1];
+                                var oe = d[A + 2];
+                                var ae = ne * B[0] + re * B[3] + oe * B[6];
+                                var se = ne * B[1] + re * B[4] + oe * B[7];
+                                var ce = ne * B[2] + re * B[5] + oe * B[8];
                                 ((u[A] = m.x * ae + g.x * se + _.x * ce),
                                   (u[A + 1] = m.y * ae + g.y * se + _.y * ce),
                                   (u[A + 2] = m.z * ae + g.z * se + _.z * ce));
                               }
                               if (this._computeParticleColor && D.color) {
-                                var ue = D.color,
-                                  le = this._colors32;
+                                var ue = D.color;
+                                var le = this._colors32;
                                 ((le[S] = ue.r),
                                   (le[S + 1] = ue.g),
                                   (le[S + 2] = ue.b),
@@ -122054,42 +123360,42 @@ and limitations under the License.
                                   (l[P + 1] =
                                     F[2 * M + 1] * (he.w - he.y) + he.y)));
                           if (this._particlesIntersect) {
-                            var fe = D._boundingInfo,
-                              de = fe.boundingBox,
-                              pe = fe.boundingSphere,
-                              me = D._modelBoundingInfo;
+                            var fe = D._boundingInfo;
+                            var de = fe.boundingBox;
+                            var pe = fe.boundingSphere;
+                            var me = D._modelBoundingInfo;
                             if (!this._bSphereOnly) {
-                              var ge = me.boundingBox.vectors,
-                                _e = p[1],
-                                ve = p[2];
+                              var ge = me.boundingBox.vectors;
+                              var _e = p[1];
+                              var ve = p[2];
                               (_e.setAll(Number.MAX_VALUE),
                                 ve.setAll(-Number.MAX_VALUE));
                               for (var ye = 0; ye < 8; ye++) {
-                                var be = ge[ye].x * U.x,
-                                  Ee = ge[ye].y * U.y,
-                                  Te = ge[ye].z * U.z,
-                                  Ae =
-                                    ((Y = be * B[0] + Ee * B[3] + Te * B[6]),
-                                    (X = be * B[1] + Ee * B[4] + Te * B[7]),
-                                    (K = be * B[2] + Ee * B[5] + Te * B[8]),
-                                    N.x + m.x * Y + g.x * X + _.x * K),
-                                  xe = N.y + m.y * Y + g.y * X + _.y * K,
-                                  Se = N.z + m.z * Y + g.z * X + _.z * K;
+                                var be = ge[ye].x * U.x;
+                                var Ee = ge[ye].y * U.y;
+                                var Te = ge[ye].z * U.z;
+                                var Ae =
+                                  ((Y = be * B[0] + Ee * B[3] + Te * B[6]),
+                                  (X = be * B[1] + Ee * B[4] + Te * B[7]),
+                                  (K = be * B[2] + Ee * B[5] + Te * B[8]),
+                                  N.x + m.x * Y + g.x * X + _.x * K);
+                                var xe = N.y + m.y * Y + g.y * X + _.y * K;
+                                var Se = N.z + m.z * Y + g.z * X + _.z * K;
                                 (_e.minimizeInPlaceFromFloats(Ae, xe, Se),
                                   ve.maximizeInPlaceFromFloats(Ae, xe, Se));
                               }
                               de.reConstruct(_e, ve, o._worldMatrix);
                             }
-                            var Ce = me.minimum.multiplyToRef(U, p[1]),
-                              Pe = me.maximum.multiplyToRef(U, p[2]),
-                              Re = Pe.addToRef(Ce, p[3])
-                                .scaleInPlace(0.5)
-                                .addInPlace(V),
-                              Me = Pe.subtractToRef(Ce, p[4]).scaleInPlace(
-                                0.5 * this._bSphereRadiusFactor,
-                              ),
-                              Oe = Re.subtractToRef(Me, p[1]),
-                              we = Re.addToRef(Me, p[2]);
+                            var Ce = me.minimum.multiplyToRef(U, p[1]);
+                            var Pe = me.maximum.multiplyToRef(U, p[2]);
+                            var Re = Pe.addToRef(Ce, p[3])
+                              .scaleInPlace(0.5)
+                              .addInPlace(V);
+                            var Me = Pe.subtractToRef(Ce, p[4]).scaleInPlace(
+                              0.5 * this._bSphereRadiusFactor,
+                            );
+                            var Oe = Re.subtractToRef(Me, p[1]);
+                            var we = Re.addToRef(Me, p[2]);
                             pe.reConstruct(Oe, we, o._worldMatrix);
                           }
                           ((x = A + 3), (C = S + 4), (R = P + 2));
@@ -122124,13 +123430,14 @@ and limitations under the License.
                             xi.a.ComputeNormals(c, h, u, Ie);
                             for (var De = 0; De < u.length; De++) d[De] = u[De];
                           }
-                          o.areNormalsFrozen ||
+                          if (!o.areNormalsFrozen) {
                             o.updateVerticesData(
                               Si.b.NormalKind,
                               u,
                               false,
                               false,
                             );
+                          }
                         }
                         if (this._depthSort && this._depthSortParticles) {
                           var Le = this.depthSortedParticles;
@@ -122140,8 +123447,8 @@ and limitations under the License.
                             Ne < Fe;
                             Ne++
                           ) {
-                            var ke = Le[Ne].indicesLength,
-                              Ue = Le[Ne].ind;
+                            var ke = Le[Ne].indicesLength;
+                            var Ue = Le[Ne].ind;
                             for (De = 0; De < ke; De++)
                               ((h[Be] = f[Ue + De]), Be++);
                           }
@@ -122311,7 +123618,9 @@ and limitations under the License.
                   if ((void 0 === e && (e = null), this._physicsEngine))
                     return true;
                   var i = this._getComponent(Se.a.NAME_PHYSICSENGINE);
-                  i || ((i = new ja(this)), this._addComponent(i));
+                  if (!i) {
+                    ((i = new ja(this)), this._addComponent(i));
+                  }
                   try {
                     return ((this._physicsEngine = new $r(e, t)), true);
                   } catch (e) {
@@ -122319,23 +123628,23 @@ and limitations under the License.
                   }
                 }),
                 (Y.a.prototype.disablePhysicsEngine = function () {
-                  this._physicsEngine &&
+                  if (this._physicsEngine) {
                     (this._physicsEngine.dispose(),
-                    (this._physicsEngine = null));
+                      (this._physicsEngine = null));
+                  }
                 }),
                 (Y.a.prototype.isPhysicsEnabled = function () {
                   return void 0 !== this._physicsEngine;
                 }),
                 (Y.a.prototype.deleteCompoundImpostor = function (e) {
                   var t = e.parts[0].mesh;
-                  t.physicsImpostor &&
-                    (t.physicsImpostor.dispose(), (t.physicsImpostor = null));
                 }),
                 (Y.a.prototype._advancePhysicsEngineStep = function (e) {
-                  this._physicsEngine &&
+                  if (this._physicsEngine) {
                     (this.onBeforePhysicsObservable.notifyObservers(this),
-                    this._physicsEngine._step(e / 1e3),
-                    this.onAfterPhysicsObservable.notifyObservers(this));
+                      this._physicsEngine._step(e / 1e3),
+                      this.onAfterPhysicsObservable.notifyObservers(this));
+                  }
                 }),
                 Object.defineProperty(Ne.a.prototype, "physicsImpostor", {
                   get: function () {
@@ -122343,19 +123652,16 @@ and limitations under the License.
                   },
                   set: function (e) {
                     var t = this;
-                    this._physicsImpostor !== e &&
+                    if (this._physicsImpostor !== e) {
                       (this._disposePhysicsObserver &&
                         this.onDisposeObservable.remove(
                           this._disposePhysicsObserver,
                         ),
-                      (this._physicsImpostor = e),
-                      e &&
-                        (this._disposePhysicsObserver =
-                          this.onDisposeObservable.add(function () {
-                            t.physicsImpostor &&
-                              (t.physicsImpostor.dispose(),
-                              (t.physicsImpostor = null));
-                          })));
+                        (this._physicsImpostor = e),
+                        e &&
+                          (this._disposePhysicsObserver =
+                            this.onDisposeObservable.add(function () {})));
+                    }
                   },
                   enumerable: true,
                   configurable: true,
@@ -122434,21 +123740,23 @@ and limitations under the License.
                         );
                       var r = this._physicsEngine.getImpostors();
                       if (0 === r.length) return null;
-                      "number" == typeof t &&
+                      if ("number" == typeof t) {
                         (((t = new Qa()).radius = t),
-                        (t.strength = i || t.strength),
-                        (t.falloff = n || t.falloff));
+                          (t.strength = i || t.strength),
+                          (t.falloff = n || t.falloff));
+                      }
                       var o = new Wa(this._scene, t),
                         a = Array();
                       return (
                         r.forEach(function (t) {
                           var i = o.getImpostorHitData(t, e);
-                          i &&
+                          if (i) {
                             (t.applyImpulse(i.force, i.contactPoint),
-                            a.push({
-                              impostor: t,
-                              hitData: i,
-                            }));
+                              a.push({
+                                impostor: t,
+                                hitData: i,
+                              }));
+                          }
                         }),
                         o.triggerAffectedImpostorsCallback(a),
                         o.dispose(false),
@@ -122470,21 +123778,23 @@ and limitations under the License.
                         );
                       var r = this._physicsEngine.getImpostors();
                       if (0 === r.length) return null;
-                      "number" == typeof t &&
+                      if ("number" == typeof t) {
                         (((t = new Qa()).radius = t),
-                        (t.strength = i || t.strength),
-                        (t.falloff = n || t.falloff));
+                          (t.strength = i || t.strength),
+                          (t.falloff = n || t.falloff));
+                      }
                       var o = new Wa(this._scene, t),
                         a = Array();
                       return (
                         r.forEach(function (t) {
                           var i = o.getImpostorHitData(t, e);
-                          i &&
+                          if (i) {
                             (t.applyForce(i.force, i.contactPoint),
-                            a.push({
-                              impostor: t,
-                              hitData: i,
-                            }));
+                              a.push({
+                                impostor: t,
+                                hitData: i,
+                              }));
+                          }
                         }),
                         o.triggerAffectedImpostorsCallback(a),
                         o.dispose(false),
@@ -122501,10 +123811,11 @@ and limitations under the License.
                         );
                       if (0 === this._physicsEngine.getImpostors().length)
                         return null;
-                      "number" == typeof t &&
+                      if ("number" == typeof t) {
                         (((t = new Qa()).radius = t),
-                        (t.strength = i || t.strength),
-                        (t.falloff = n || t.falloff));
+                          (t.strength = i || t.strength),
+                          (t.falloff = n || t.falloff));
+                      }
                       var r = new Xa(this, this._scene, e, t);
                       return (r.dispose(false), r);
                     }),
@@ -122518,11 +123829,12 @@ and limitations under the License.
                         );
                       if (0 === this._physicsEngine.getImpostors().length)
                         return null;
-                      "number" == typeof t &&
+                      if ("number" == typeof t) {
                         (((t = new qa()).radius = t),
-                        (t.strength = i || t.strength),
-                        (t.height = n || t.height),
-                        (t.updraftMode = r || t.updraftMode));
+                          (t.strength = i || t.strength),
+                          (t.height = n || t.height),
+                          (t.updraftMode = r || t.updraftMode));
+                      }
                       var o = new Ya(this._scene, e, t);
                       return (o.dispose(false), o);
                     }),
@@ -122536,10 +123848,11 @@ and limitations under the License.
                         );
                       if (0 === this._physicsEngine.getImpostors().length)
                         return null;
-                      "number" == typeof t &&
+                      if ("number" == typeof t) {
                         (((t = new Za()).radius = t),
-                        (t.strength = i || t.strength),
-                        (t.height = n || t.height));
+                          (t.strength = i || t.strength),
+                          (t.height = n || t.height));
+                      }
                       var r = new Ka(this._scene, e, t);
                       return (r.dispose(false), r);
                     }),
@@ -122557,9 +123870,7 @@ and limitations under the License.
                     (e.prototype.getData = function () {
                       return (
                         (this._dataFetched = true),
-                        {
-                          sphere: this._sphere,
-                        }
+                        { sphere: this._sphere }
                       );
                     }),
                     (e.prototype.getImpostorHitData = function (e, t) {
@@ -122594,8 +123905,9 @@ and limitations under the License.
                     (e.prototype.triggerAffectedImpostorsCallback = function (
                       e,
                     ) {
-                      this._options.affectedImpostorsCallback &&
+                      if (this._options.affectedImpostorsCallback) {
                         this._options.affectedImpostorsCallback(e);
+                      }
                     }),
                     (e.prototype.dispose = function (e) {
                       var t = this;
@@ -122603,17 +123915,20 @@ and limitations under the License.
                         e
                           ? this._sphere.dispose()
                           : setTimeout(function () {
-                              t._dataFetched || t._sphere.dispose();
+                              if (!t._dataFetched) {
+                                t._sphere.dispose();
+                              }
                             }, 0));
                     }),
                     (e.prototype._prepareSphere = function () {
-                      this._sphere ||
+                      if (!this._sphere) {
                         ((this._sphere = Rn.a.CreateSphere(
                           "radialExplosionEventSphere",
                           this._options.sphere,
                           this._scene,
                         )),
-                        (this._sphere.isVisible = false));
+                          (this._sphere.isVisible = false));
+                      }
                     }),
                     (e.prototype._intersectsWithSphere = function (e, t, i) {
                       var n = e.object;
@@ -122644,13 +123959,11 @@ and limitations under the License.
                     (e.prototype.getData = function () {
                       return (
                         (this._dataFetched = true),
-                        {
-                          sphere: this._sphere,
-                        }
+                        { sphere: this._sphere }
                       );
                     }),
                     (e.prototype.enable = function () {
-                      (this._tickCallback.call(this),
+                      (this._tickCallback(),
                         this._scene.registerBeforeRender(this._tickCallback));
                     }),
                     (e.prototype.disable = function () {
@@ -122662,7 +123975,9 @@ and limitations under the License.
                         e
                           ? this._sphere.dispose()
                           : setTimeout(function () {
-                              t._dataFetched || t._sphere.dispose();
+                              if (!t._dataFetched) {
+                                t._sphere.dispose();
+                              }
                             }, 0));
                     }),
                     (e.prototype._tick = function () {
@@ -122676,10 +123991,11 @@ and limitations under the License.
                           this._origin,
                           this._options,
                         );
-                        e &&
-                          (this._sphere = e
+                        if (e) {
+                          this._sphere = e
                             .getData()
-                            .sphere.clone("radialExplosionEventSphereClone"));
+                            .sphere.clone("radialExplosionEventSphereClone");
+                        }
                       }
                     }),
                     e
@@ -122715,13 +124031,11 @@ and limitations under the License.
                     (e.prototype.getData = function () {
                       return (
                         (this._dataFetched = true),
-                        {
-                          cylinder: this._cylinder,
-                        }
+                        { cylinder: this._cylinder }
                       );
                     }),
                     (e.prototype.enable = function () {
-                      (this._tickCallback.call(this),
+                      (this._tickCallback(),
                         this._scene.registerBeforeRender(this._tickCallback));
                     }),
                     (e.prototype.disable = function () {
@@ -122734,7 +124048,9 @@ and limitations under the License.
                           (e
                             ? this._cylinder.dispose()
                             : setTimeout(function () {
-                                t._dataFetched || t._cylinder.dispose();
+                                if (!t._dataFetched) {
+                                  t._cylinder.dispose();
+                                }
                               }, 0)));
                     }),
                     (e.prototype.getImpostorHitData = function (e) {
@@ -122756,11 +124072,13 @@ and limitations under the License.
                       var e = this;
                       this._physicsEngine.getImpostors().forEach(function (t) {
                         var i = e.getImpostorHitData(t);
-                        i && t.applyForce(i.force, i.contactPoint);
+                        if (i) {
+                          t.applyForce(i.force, i.contactPoint);
+                        }
                       });
                     }),
                     (e.prototype._prepareCylinder = function () {
-                      this._cylinder ||
+                      if (!this._cylinder) {
                         ((this._cylinder = Oi.a.CreateCylinder(
                           "updraftEventCylinder",
                           {
@@ -122769,7 +124087,8 @@ and limitations under the License.
                           },
                           this._scene,
                         )),
-                        (this._cylinder.isVisible = false));
+                          (this._cylinder.isVisible = false));
+                      }
                     }),
                     (e.prototype._intersectsWithCylinder = function (e) {
                       var t = e.object;
@@ -122806,13 +124125,11 @@ and limitations under the License.
                     (e.prototype.getData = function () {
                       return (
                         (this._dataFetched = true),
-                        {
-                          cylinder: this._cylinder,
-                        }
+                        { cylinder: this._cylinder }
                       );
                     }),
                     (e.prototype.enable = function () {
-                      (this._tickCallback.call(this),
+                      (this._tickCallback(),
                         this._scene.registerBeforeRender(this._tickCallback));
                     }),
                     (e.prototype.disable = function () {
@@ -122824,7 +124141,9 @@ and limitations under the License.
                         e
                           ? this._cylinder.dispose()
                           : setTimeout(function () {
-                              t._dataFetched || t._cylinder.dispose();
+                              if (!t._dataFetched) {
+                                t._cylinder.dispose();
+                              }
                             }, 0));
                     }),
                     (e.prototype.getImpostorHitData = function (e) {
@@ -122880,11 +124199,13 @@ and limitations under the License.
                       var e = this;
                       this._physicsEngine.getImpostors().forEach(function (t) {
                         var i = e.getImpostorHitData(t);
-                        i && t.applyForce(i.force, i.contactPoint);
+                        if (i) {
+                          t.applyForce(i.force, i.contactPoint);
+                        }
                       });
                     }),
                     (e.prototype._prepareCylinder = function () {
-                      this._cylinder ||
+                      if (!this._cylinder) {
                         ((this._cylinder = Oi.a.CreateCylinder(
                           "vortexEventCylinder",
                           {
@@ -122893,7 +124214,8 @@ and limitations under the License.
                           },
                           this._scene,
                         )),
-                        (this._cylinder.isVisible = false));
+                          (this._cylinder.isVisible = false));
+                      }
                     }),
                     (e.prototype._intersectsWithCylinder = function (e) {
                       var t = e.object;
@@ -122942,18 +124264,8 @@ and limitations under the License.
               var Ja = (function (e) {
                   function t(t, i, n, r, o, a) {
                     var s =
-                      e.call(
-                        this,
-                        t,
-                        "blackAndWhite",
-                        ["degree"],
-                        null,
-                        i,
-                        n,
-                        r,
-                        o,
-                        a,
-                      ) || this;
+                      e(t, "blackAndWhite", ["degree"], null, i, n, r, o, a) ||
+                      this;
                     return (
                       (s.degree = 1),
                       s.onApplyObservable.add(function (e) {
@@ -122977,13 +124289,14 @@ and limitations under the License.
                     Object.defineProperty(e.prototype, "isSupported", {
                       get: function () {
                         for (var e in this._postProcesses)
-                          if (this._postProcesses.hasOwnProperty(e))
+                          if (this._postProcesses.hasOwnProperty(e)) {
                             for (
                               var t = this._postProcesses[e], i = 0;
                               i < t.length;
                               i++
                             )
                               if (!t[i].isSupported) return false;
+                          }
                         return true;
                       },
                       enumerable: true,
@@ -122996,17 +124309,18 @@ and limitations under the License.
                         n = Ee.h.MakeArray(e || this._cameras);
                       if (n)
                         for (var r = 0; r < n.length; r++) {
-                          var o = n[r],
-                            a = o.name;
+                          var o = n[r];
+                          var a = o.name;
                           if (
                             ((t = this._singleInstance ? 0 : a),
                             !this._postProcesses[t])
                           ) {
                             var s = this._getPostProcesses();
-                            s &&
-                              (this._postProcesses[t] = Array.isArray(s)
+                            if (s) {
+                              this._postProcesses[t] = Array.isArray(s)
                                 ? s
-                                : [s]);
+                                : [s];
+                            }
                           }
                           (this._indicesForCamera[a] ||
                             (this._indicesForCamera[a] = []),
@@ -123021,10 +124335,10 @@ and limitations under the License.
                       var t = Ee.h.MakeArray(e || this._cameras);
                       if (t)
                         for (var i = 0; i < t.length; i++) {
-                          var n = t[i],
-                            r = n.name,
-                            o =
-                              this._postProcesses[this._singleInstance ? 0 : r];
+                          var n = t[i];
+                          var r = n.name;
+                          var o =
+                            this._postProcesses[this._singleInstance ? 0 : r];
                           (o &&
                             o.forEach(function (e) {
                               n.detachPostProcess(e);
@@ -123061,8 +124375,8 @@ and limitations under the License.
                       var t = Ee.h.MakeArray(e || this._cameras);
                       if (t)
                         for (var i = 0; i < t.length; i++) {
-                          var n = t[i],
-                            r = n.name;
+                          var n = t[i];
+                          var r = n.name;
                           this._postProcesses[
                             this._singleInstance ? 0 : r
                           ].forEach(function (e) {
@@ -123087,8 +124401,7 @@ and limitations under the License.
                   (void 0 === c && (c = _.a.TEXTURETYPE_UNSIGNED_INT),
                     void 0 === u && (u = false));
                   var l =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "extractHighlights",
                       ["threshold", "exposure"],
@@ -123129,8 +124442,7 @@ and limitations under the License.
                     (void 0 === l && (l = _.a.TEXTURETYPE_UNSIGNED_INT),
                       void 0 === h && (h = false));
                     var f =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "bloomMerge",
                         ["bloomWeight"],
@@ -123169,8 +124481,7 @@ and limitations under the License.
                   function t(t, i, n, r, o, s) {
                     (void 0 === o && (o = 0), void 0 === s && (s = false));
                     var c =
-                      e.call(
-                        this,
+                      e(
                         t.getEngine(),
                         "bloom",
                         function () {
@@ -123297,8 +124608,7 @@ and limitations under the License.
                   (void 0 === l && (l = _.a.TEXTURETYPE_UNSIGNED_INT),
                     void 0 === h && (h = false));
                   var f =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "chromaticAberration",
                       [
@@ -123350,8 +124660,7 @@ and limitations under the License.
                   (void 0 === c && (c = _.a.TEXTURETYPE_UNSIGNED_INT),
                     void 0 === u && (u = false));
                   var l =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "circleOfConfusion",
                       ["cameraMinMaxZ", "focusDistance", "cocPrecalculation"],
@@ -123412,8 +124721,7 @@ and limitations under the License.
               var os = (function (e) {
                 function t(t, i, n, r, o, a, s) {
                   var c =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "colorCorrection",
                       null,
@@ -123447,10 +124755,11 @@ and limitations under the License.
                 "\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\nuniform vec2 screenSize;\nuniform float kernel[9];\nvoid main(void)\n{\nvec2 onePixel=vec2(1.0,1.0)/screenSize;\nvec4 colorSum =\ntexture2D(textureSampler,vUV+onePixel*vec2(-1,-1))*kernel[0] +\ntexture2D(textureSampler,vUV+onePixel*vec2(0,-1))*kernel[1] +\ntexture2D(textureSampler,vUV+onePixel*vec2(1,-1))*kernel[2] +\ntexture2D(textureSampler,vUV+onePixel*vec2(-1,0))*kernel[3] +\ntexture2D(textureSampler,vUV+onePixel*vec2(0,0))*kernel[4] +\ntexture2D(textureSampler,vUV+onePixel*vec2(1,0))*kernel[5] +\ntexture2D(textureSampler,vUV+onePixel*vec2(-1,1))*kernel[6] +\ntexture2D(textureSampler,vUV+onePixel*vec2(0,1))*kernel[7] +\ntexture2D(textureSampler,vUV+onePixel*vec2(1,1))*kernel[8];\nfloat kernelWeight =\nkernel[0] +\nkernel[1] +\nkernel[2] +\nkernel[3] +\nkernel[4] +\nkernel[5] +\nkernel[6] +\nkernel[7] +\nkernel[8];\nif (kernelWeight<=0.0) {\nkernelWeight=1.0;\n}\ngl_FragColor=vec4((colorSum/kernelWeight).rgb,1);\n}";
               var as = (function (e) {
                   function t(t, i, n, r, o, a, s, c) {
-                    void 0 === c && (c = _.a.TEXTURETYPE_UNSIGNED_INT);
+                    if (void 0 === c) {
+                      c = _.a.TEXTURETYPE_UNSIGNED_INT;
+                    }
                     var u =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "convolution",
                         ["kernel", "screenSize"],
@@ -123490,8 +124799,7 @@ and limitations under the License.
                       void 0 === f && (f = _.a.TEXTURETYPE_UNSIGNED_INT),
                       void 0 === d && (d = false));
                     var p =
-                      e.call(
-                        this,
+                      e(
                         t,
                         n,
                         r,
@@ -123534,8 +124842,7 @@ and limitations under the License.
                     (void 0 === l && (l = _.a.TEXTURETYPE_UNSIGNED_INT),
                       void 0 === h && (h = false));
                     var f =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "depthOfFieldMerge",
                         [],
@@ -123587,7 +124894,7 @@ and limitations under the License.
                             "#define BLUR_LEVEL " +
                             (this.blurSteps.length - 1) +
                             "\n")),
-                        e.prototype.updateEffect.call(this, t, i, n, r, o, a));
+                        e.prototype.updateEffect(t, i, n, r, o, a));
                     }),
                     t
                   );
@@ -123603,8 +124910,7 @@ and limitations under the License.
                     void 0 === r && (r = 0),
                     void 0 === o && (o = false));
                   var s =
-                    e.call(
-                      this,
+                    e(
                       t.getEngine(),
                       "depth of field",
                       function () {
@@ -123777,8 +125083,7 @@ and limitations under the License.
               var fs = (function (e) {
                 function t(t, i, n, r, o, a) {
                   return (
-                    e.call(
-                      this,
+                    e(
                       t,
                       "displayPass",
                       ["passSampler"],
@@ -123798,18 +125103,8 @@ and limitations under the License.
               var ds = (function (e) {
                 function t(t, i, n, r, o, a, s) {
                   var c =
-                    e.call(
-                      this,
-                      t,
-                      "filter",
-                      ["kernelMatrix"],
-                      null,
-                      n,
-                      r,
-                      o,
-                      a,
-                      s,
-                    ) || this;
+                    e(t, "filter", ["kernelMatrix"], null, n, r, o, a, s) ||
+                    this;
                   return (
                     (c.kernelMatrix = i),
                     (c.onApply = function (e) {
@@ -123829,8 +125124,7 @@ and limitations under the License.
                   (void 0 === n && (n = null),
                     void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT));
                   var c =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "fxaa",
                         ["texelSize"],
@@ -123878,8 +125172,7 @@ and limitations under the License.
                   (void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT),
                     void 0 === c && (c = false));
                   var u =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "grain",
                       ["intensity", "animatedSeed"],
@@ -123916,20 +125209,8 @@ and limitations under the License.
                 function t(t, i, n, r, o, a, s) {
                   return (
                     void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT),
-                    e.call(
-                      this,
-                      t,
-                      "highlights",
-                      null,
-                      null,
-                      i,
-                      n,
-                      r,
-                      o,
-                      a,
-                      null,
-                      s,
-                    ) || this
+                    e(t, "highlights", null, null, i, n, r, o, a, null, s) ||
+                      this
                   );
                 }
                 return (h.d(t, e), t);
@@ -124092,9 +125373,7 @@ and limitations under the License.
                             void 0,
                             void 0,
                             void 0,
-                            {
-                              buffersCount: this._enablePosition ? 3 : 2,
-                            },
+                            { buffersCount: this._enablePosition ? 3 : 2 },
                           ))),
                       this._effect.isReady()
                     );
@@ -124194,12 +125473,13 @@ and limitations under the License.
                                 o && o.needAlphaTesting())
                               ) {
                                 var l = o.getAlphaTestTexture();
-                                l &&
+                                if (l) {
                                   (e._effect.setTexture("diffuseSampler", l),
-                                  e._effect.setMatrix(
-                                    "diffuseMatrix",
-                                    l.getTextureMatrix(),
-                                  ));
+                                    e._effect.setMatrix(
+                                      "diffuseMatrix",
+                                      l.getTextureMatrix(),
+                                    ));
+                                }
                               }
                               (i.useBones &&
                                 i.computeBonesUsingShaders &&
@@ -124239,22 +125519,23 @@ and limitations under the License.
                                   },
                                 ));
                             }
-                            e._enableVelocity &&
+                            if (e._enableVelocity) {
                               ((e._previousTransformationMatrices[
                                 i.uniqueId
                               ].world = i.getWorldMatrix().clone()),
-                              (e._previousTransformationMatrices[
-                                i.uniqueId
-                              ].viewProjection = e._scene
-                                .getTransformMatrix()
-                                .clone()),
-                              i.skeleton &&
-                                e._copyBonesTransformationMatrices(
-                                  i.skeleton.getTransformMatrices(i),
-                                  e._previousBonesTransformationMatrices[
-                                    i.uniqueId
-                                  ],
-                                ));
+                                (e._previousTransformationMatrices[
+                                  i.uniqueId
+                                ].viewProjection = e._scene
+                                  .getTransformMatrix()
+                                  .clone()),
+                                i.skeleton &&
+                                  e._copyBonesTransformationMatrices(
+                                    i.skeleton.getTransformMatrices(i),
+                                    e._previousBonesTransformationMatrices[
+                                      i.uniqueId
+                                    ],
+                                  ));
+                            }
                           }
                         }
                       };
@@ -124297,7 +125578,9 @@ and limitations under the License.
                   this._geometryBufferRenderer;
                 },
                 set: function (e) {
-                  e && e.isSupported && (this._geometryBufferRenderer = e);
+                  if (e && e.isSupported) {
+                    this._geometryBufferRenderer = e;
+                  }
                 },
                 enumerable: true,
                 configurable: true,
@@ -124314,9 +125597,10 @@ and limitations under the License.
                   );
                 }),
                 (Y.a.prototype.disableGeometryBufferRenderer = function () {
-                  this._geometryBufferRenderer &&
+                  if (this._geometryBufferRenderer) {
                     (this._geometryBufferRenderer.dispose(),
-                    (this._geometryBufferRenderer = null));
+                      (this._geometryBufferRenderer = null));
+                  }
                 }));
               var vs = (function () {
                 function e(e) {
@@ -124334,15 +125618,18 @@ and limitations under the License.
                   (e.prototype.rebuild = function () {}),
                   (e.prototype.dispose = function () {}),
                   (e.prototype._gatherRenderTargets = function (e) {
-                    this.scene._geometryBufferRenderer &&
+                    if (this.scene._geometryBufferRenderer) {
                       e.push(this.scene._geometryBufferRenderer.getGBuffer());
+                    }
                   }),
                   e
                 );
               })();
               _s._SceneComponentInitialization = function (e) {
                 var t = e._getComponent(Se.a.NAME_GEOMETRYBUFFERRENDERER);
-                t || ((t = new vs(e)), e._addComponent(t));
+                if (!t) {
+                  ((t = new vs(e)), e._addComponent(t));
+                }
               };
               Ht.a.ShadersStore.motionBlurPixelShader =
                 "\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\nuniform sampler2D velocitySampler;\nuniform float motionStrength;\nuniform float motionScale;\nuniform vec2 screenSize;\nvoid main(void)\n{\n#ifdef GEOMETRY_SUPPORTED\nvec2 texelSize=1.0/screenSize;\nvec2 velocityColor=texture2D(velocitySampler,vUV).rg*2.0-1.0;\nvec2 velocity=vec2(pow(velocityColor.r,3.0),pow(velocityColor.g,3.0));\nvelocity*=motionScale*motionStrength;\nfloat speed=length(velocity/texelSize);\nint samplesCount=int(clamp(speed,1.0,SAMPLES));\nvelocity=normalize(velocity)*texelSize;\nfloat hlim=float(-samplesCount)*0.5+0.5;\nvec4 result=texture2D(textureSampler,vUV);\nfor (int i=1; i<int(SAMPLES); ++i)\n{\nif (i>=samplesCount)\nbreak;\nvec2 offset=vUV+velocity*(hlim+float(i));\nresult+=texture2D(textureSampler,offset);\n}\ngl_FragColor=result/float(samplesCount);\ngl_FragColor.a=1.0;\n#else\ngl_FragColor=texture2D(textureSampler,vUV);\n#endif\n}\n";
@@ -124351,8 +125638,7 @@ and limitations under the License.
                   (void 0 === u && (u = _.a.TEXTURETYPE_UNSIGNED_INT),
                     void 0 === l && (l = false));
                   var h =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "motionBlur",
                       ["motionStrength", "motionScale", "screenSize"],
@@ -124421,11 +125707,11 @@ and limitations under the License.
                     configurable: true,
                   }),
                   (t.prototype.excludeSkinnedMesh = function (e) {
-                    this._geometryBufferRenderer &&
-                      e.skeleton &&
+                    if (this._geometryBufferRenderer && e.skeleton) {
                       this._geometryBufferRenderer.excludedSkinnedMeshesFromVelocity.push(
                         e,
                       );
+                    }
                   }),
                   (t.prototype.removeExcludedSkinnedMesh = function (e) {
                     if (this._geometryBufferRenderer && e.skeleton) {
@@ -124433,11 +125719,12 @@ and limitations under the License.
                         this._geometryBufferRenderer.excludedSkinnedMeshesFromVelocity.indexOf(
                           e,
                         );
-                      -1 !== t &&
+                      if (-1 !== t) {
                         this._geometryBufferRenderer.excludedSkinnedMeshesFromVelocity.splice(
                           t,
                           1,
                         );
+                      }
                     }
                   }),
                   (t.prototype.dispose = function (t) {
@@ -124448,7 +125735,7 @@ and limitations under the License.
                         {}),
                       (this._geometryBufferRenderer.excludedSkinnedMeshesFromVelocity =
                         [])),
-                      e.prototype.dispose.call(this, t));
+                      e.prototype.dispose(t));
                   }),
                   t
                 );
@@ -124458,8 +125745,7 @@ and limitations under the License.
               var bs = (function (e) {
                 function t(t, i, n, r, o, a, s, c, u, l) {
                   var h =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "refraction",
                       ["baseColor", "depth", "colorLevel"],
@@ -124508,7 +125794,7 @@ and limitations under the License.
                     (this._refTexture &&
                       this._ownRefractionTexture &&
                       (this._refTexture.dispose(), (this._refTexture = null)),
-                      e.prototype.dispose.call(this, t));
+                      e.prototype.dispose(t));
                   }),
                   t
                 );
@@ -124520,8 +125806,7 @@ and limitations under the License.
                     (void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT),
                       void 0 === c && (c = false));
                     var u =
-                      e.call(
-                        this,
+                      e(
                         t,
                         "sharpen",
                         ["sharpnessAmounts", "screenSize"],
@@ -124591,20 +125876,24 @@ and limitations under the License.
                     (e.prototype._rebuild = function () {}),
                     (e.prototype._enableEffect = function (e, t) {
                       var i = this._renderEffects[e];
-                      i && i._enable(Ee.h.MakeArray(t || this._cameras));
+                      if (i) {
+                        i._enable(Ee.h.MakeArray(t || this._cameras));
+                      }
                     }),
                     (e.prototype._disableEffect = function (e, t) {
                       var i = this._renderEffects[e];
-                      i && i._disable(Ee.h.MakeArray(t || this._cameras));
+                      if (i) {
+                        i._disable(Ee.h.MakeArray(t || this._cameras));
+                      }
                     }),
                     (e.prototype._attachCameras = function (e, t) {
                       var i = Ee.h.MakeArray(e || this._cameras);
                       if (i) {
-                        var n,
-                          r = [];
+                        var n;
+                        var r = [];
                         for (n = 0; n < i.length; n++) {
-                          var o = i[n],
-                            a = o.name;
+                          var o = i[n];
+                          var a = o.name;
                           -1 === this._cameras.indexOf(o)
                             ? (this._cameras[a] = o)
                             : t && r.push(n);
@@ -124631,8 +125920,9 @@ and limitations under the License.
                           this._renderEffects[e]._update();
                       for (var t = 0; t < this._cameras.length; t++) {
                         var i = this._cameras[t].name;
-                        this._renderEffectsForIsolatedPass[i] &&
+                        if (this._renderEffectsForIsolatedPass[i]) {
                           this._renderEffectsForIsolatedPass[i]._update();
+                        }
                       }
                     }),
                     (e.prototype._reset = function () {
@@ -124644,7 +125934,9 @@ and limitations under the License.
                       if (1 === this.engine.webGLVersion) return false;
                       if (t.length > 0) {
                         var i = this._renderEffects[t[0]].getPostProcesses();
-                        i && (i[0].samples = e);
+                        if (i) {
+                          i[0].samples = e;
+                        }
                       }
                       return true;
                     }),
@@ -124664,7 +125956,9 @@ and limitations under the License.
                         for (var t in this._renderPipelines)
                           if (this._renderPipelines.hasOwnProperty(t)) {
                             var i = this._renderPipelines[t];
-                            i.isSupported && e.push(i);
+                            if (i.isSupported) {
+                              e.push(i);
+                            }
                           }
                         return e;
                       },
@@ -124679,24 +125973,34 @@ and limitations under the License.
                       t,
                       i,
                     ) {
-                      void 0 === i && (i = false);
+                      if (void 0 === i) {
+                        i = false;
+                      }
                       var n = this._renderPipelines[e];
-                      n && n._attachCameras(t, i);
+                      if (n) {
+                        n._attachCameras(t, i);
+                      }
                     }),
                     (e.prototype.detachCamerasFromRenderPipeline = function (
                       e,
                       t,
                     ) {
                       var i = this._renderPipelines[e];
-                      i && i._detachCameras(t);
+                      if (i) {
+                        i._detachCameras(t);
+                      }
                     }),
                     (e.prototype.enableEffectInPipeline = function (e, t, i) {
                       var n = this._renderPipelines[e];
-                      n && n._enableEffect(t, i);
+                      if (n) {
+                        n._enableEffect(t, i);
+                      }
                     }),
                     (e.prototype.disableEffectInPipeline = function (e, t, i) {
                       var n = this._renderPipelines[e];
-                      n && n._disableEffect(t, i);
+                      if (n) {
+                        n._disableEffect(t, i);
+                      }
                     }),
                     (e.prototype.update = function () {
                       for (var e in this._renderPipelines)
@@ -124753,16 +126057,19 @@ and limitations under the License.
                       );
                     }),
                     (e.prototype.rebuild = function () {
-                      this.scene._postProcessRenderPipelineManager &&
+                      if (this.scene._postProcessRenderPipelineManager) {
                         this.scene._postProcessRenderPipelineManager._rebuild();
+                      }
                     }),
                     (e.prototype.dispose = function () {
-                      this.scene._postProcessRenderPipelineManager &&
+                      if (this.scene._postProcessRenderPipelineManager) {
                         this.scene._postProcessRenderPipelineManager.dispose();
+                      }
                     }),
                     (e.prototype._gatherRenderTargets = function () {
-                      this.scene._postProcessRenderPipelineManager &&
+                      if (this.scene._postProcessRenderPipelineManager) {
                         this.scene._postProcessRenderPipelineManager.update();
+                      }
                     }),
                     e
                   );
@@ -124773,7 +126080,7 @@ and limitations under the License.
                       void 0 === i && (i = true),
                       void 0 === n && (n = R.a.LastCreatedScene),
                       void 0 === o && (o = true));
-                    var a = e.call(this, n.getEngine(), t) || this;
+                    var a = e(n.getEngine(), t) || this;
                     ((a._camerasToBeAttached = []),
                       (a.SharpenPostProcessId = "SharpenPostProcessEffect"),
                       (a.ImageProcessingPostProcessId =
@@ -124837,7 +126144,7 @@ and limitations under the License.
                       )),
                       (a._sharpenEffect = new $a(
                         c,
-                        a.SharpenPostProcessId,
+                        "SharpenPostProcessEffect",
                         function () {
                           return a.sharpen;
                         },
@@ -124852,8 +126159,8 @@ and limitations under the License.
                       )),
                       (a.bloom = new is(
                         a._scene,
-                        a._bloomScale,
-                        a._bloomWeight,
+                        0.5,
+                        0.15,
                         a.bloomKernel,
                         a._defaultPipelineTextureType,
                         true,
@@ -124872,7 +126179,7 @@ and limitations under the License.
                       )),
                       (a._chromaticAberrationEffect = new $a(
                         c,
-                        a.ChromaticAberrationPostProcessId,
+                        "ChromaticAberrationPostProcessEffect",
                         function () {
                           return a.chromaticAberration;
                         },
@@ -124890,7 +126197,7 @@ and limitations under the License.
                       )),
                       (a._grainEffect = new $a(
                         c,
-                        a.GrainPostProcessId,
+                        "GrainPostProcessEffect",
                         function () {
                           return a.grain;
                         },
@@ -124928,8 +126235,9 @@ and limitations under the License.
                         return this._sharpenEnabled;
                       },
                       set: function (e) {
-                        this._sharpenEnabled !== e &&
+                        if (this._sharpenEnabled !== e) {
                           ((this._sharpenEnabled = e), this._buildPipeline());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -124950,8 +126258,9 @@ and limitations under the License.
                         return this._bloomWeight;
                       },
                       set: function (e) {
-                        this._bloomWeight !== e &&
+                        if (this._bloomWeight !== e) {
                           ((this.bloom.weight = e), (this._bloomWeight = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -124961,9 +126270,10 @@ and limitations under the License.
                         return this._bloomThreshold;
                       },
                       set: function (e) {
-                        this._bloomThreshold !== e &&
+                        if (this._bloomThreshold !== e) {
                           ((this.bloom.threshold = e),
-                          (this._bloomThreshold = e));
+                            (this._bloomThreshold = e));
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -124973,10 +126283,11 @@ and limitations under the License.
                         return this._bloomScale;
                       },
                       set: function (e) {
-                        this._bloomScale !== e &&
+                        if (this._bloomScale !== e) {
                           ((this._bloomScale = e),
-                          this._rebuildBloom(),
-                          this._buildPipeline());
+                            this._rebuildBloom(),
+                            this._buildPipeline());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -124986,8 +126297,9 @@ and limitations under the License.
                         return this._bloomEnabled;
                       },
                       set: function (e) {
-                        this._bloomEnabled !== e &&
+                        if (this._bloomEnabled !== e) {
                           ((this._bloomEnabled = e), this._buildPipeline());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -125011,9 +126323,10 @@ and limitations under the License.
                         return this._depthOfFieldEnabled;
                       },
                       set: function (e) {
-                        this._depthOfFieldEnabled !== e &&
+                        if (this._depthOfFieldEnabled !== e) {
                           ((this._depthOfFieldEnabled = e),
-                          this._buildPipeline());
+                            this._buildPipeline());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -125055,8 +126368,9 @@ and limitations under the License.
                         return this._fxaaEnabled;
                       },
                       set: function (e) {
-                        this._fxaaEnabled !== e &&
+                        if (this._fxaaEnabled !== e) {
                           ((this._fxaaEnabled = e), this._buildPipeline());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -125066,8 +126380,9 @@ and limitations under the License.
                         return this._samples;
                       },
                       set: function (e) {
-                        this._samples !== e &&
+                        if (this._samples !== e) {
                           ((this._samples = e), this._buildPipeline());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -125080,9 +126395,10 @@ and limitations under the License.
                           return this._imageProcessingEnabled;
                         },
                         set: function (e) {
-                          this._imageProcessingEnabled !== e &&
+                          if (this._imageProcessingEnabled !== e) {
                             ((this._imageProcessingEnabled = e),
-                            this._buildPipeline());
+                              this._buildPipeline());
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -125118,9 +126434,10 @@ and limitations under the License.
                           return this._chromaticAberrationEnabled;
                         },
                         set: function (e) {
-                          this._chromaticAberrationEnabled !== e &&
+                          if (this._chromaticAberrationEnabled !== e) {
                             ((this._chromaticAberrationEnabled = e),
-                            this._buildPipeline());
+                              this._buildPipeline());
+                          }
                         },
                         enumerable: true,
                         configurable: true,
@@ -125131,8 +126448,9 @@ and limitations under the License.
                         return this._grainEnabled;
                       },
                       set: function (e) {
-                        this._grainEnabled !== e &&
+                        if (this._grainEnabled !== e) {
                           ((this._grainEnabled = e), this._buildPipeline());
+                        }
                       },
                       enumerable: true,
                       configurable: true,
@@ -125199,10 +126517,11 @@ and limitations under the License.
                             this._depthOfFieldSceneObserver =
                               this._scene.onAfterRenderTargetsRenderObservable.add(
                                 function (t) {
-                                  e._cameras.indexOf(t.activeCamera) > -1 &&
-                                    (e.depthOfField.depthTexture = t
+                                  if (e._cameras.indexOf(t.activeCamera) > -1) {
+                                    e.depthOfField.depthTexture = t
                                       .enableDepthRenderer(t.activeCamera)
-                                      .getDepthMap());
+                                      .getDepthMap();
+                                  }
                                 },
                               );
                           } else {
@@ -125310,7 +126629,9 @@ and limitations under the License.
                       }
                     }),
                     (t.prototype._disposePostProcesses = function (e) {
-                      void 0 === e && (e = false);
+                      if (void 0 === e) {
+                        e = false;
+                      }
                       for (var t = 0; t < this._cameras.length; t++) {
                         var i = this._cameras[t];
                         (this.imageProcessing &&
@@ -125366,7 +126687,7 @@ and limitations under the License.
                         this._scene.imageProcessingConfiguration.onUpdateParameters.remove(
                           this._imageProcessingConfigurationObserver,
                         ),
-                        e.prototype.dispose.call(this));
+                        e.prototype.dispose());
                     }),
                     (t.prototype.serialize = function () {
                       var e = F.a.Serialize(this);
@@ -125434,8 +126755,10 @@ and limitations under the License.
                 "\n\n\n\n\nuniform sampler2D textureSampler;\nuniform sampler2D highlightsSampler;\nuniform sampler2D depthSampler;\nuniform sampler2D grainSampler;\n\nuniform float grain_amount;\nuniform bool blur_noise;\nuniform float screen_width;\nuniform float screen_height;\nuniform float distortion;\nuniform bool dof_enabled;\n\nuniform float screen_distance;\nuniform float aperture;\nuniform float darken;\nuniform float edge_blur;\nuniform bool highlights;\n\nuniform float near;\nuniform float far;\n\nvarying vec2 vUV;\n\n#define PI 3.14159265\n#define TWOPI 6.28318530\n#define inverse_focal_length 0.1\n\nvec2 centered_screen_pos;\nvec2 distorted_coords;\nfloat radius2;\nfloat radius;\n\nvec2 rand(vec2 co)\n{\nfloat noise1=(fract(sin(dot(co,vec2(12.9898,78.233)))*43758.5453));\nfloat noise2=(fract(sin(dot(co,vec2(12.9898,78.233)*2.0))*43758.5453));\nreturn clamp(vec2(noise1,noise2),0.0,1.0);\n}\n\nvec2 getDistortedCoords(vec2 coords) {\nif (distortion == 0.0) { return coords; }\nvec2 direction=1.0*normalize(centered_screen_pos);\nvec2 dist_coords=vec2(0.5,0.5);\ndist_coords.x=0.5+direction.x*radius2*1.0;\ndist_coords.y=0.5+direction.y*radius2*1.0;\nfloat dist_amount=clamp(distortion*0.23,0.0,1.0);\ndist_coords=mix(coords,dist_coords,dist_amount);\nreturn dist_coords;\n}\n\nfloat sampleScreen(inout vec4 color,const in vec2 offset,const in float weight) {\n\nvec2 coords=distorted_coords;\nfloat angle=rand(coords*100.0).x*TWOPI;\ncoords+=vec2(offset.x*cos(angle)-offset.y*sin(angle),offset.x*sin(angle)+offset.y*cos(angle));\ncolor+=texture2D(textureSampler,coords)*weight;\nreturn weight;\n}\n\nfloat getBlurLevel(float size) {\nreturn min(3.0,ceil(size/1.0));\n}\n\nvec4 getBlurColor(float size) {\nvec4 col=texture2D(textureSampler,distorted_coords);\nif (size == 0.0) { return col; }\n\n\nfloat blur_level=getBlurLevel(size);\nfloat w=(size/screen_width);\nfloat h=(size/screen_height);\nfloat total_weight=1.0;\nvec2 sample_coords;\ntotal_weight+=sampleScreen(col,vec2(-0.50*w,0.24*h),0.93);\ntotal_weight+=sampleScreen(col,vec2(0.30*w,-0.75*h),0.90);\ntotal_weight+=sampleScreen(col,vec2(0.36*w,0.96*h),0.87);\ntotal_weight+=sampleScreen(col,vec2(-1.08*w,-0.55*h),0.85);\ntotal_weight+=sampleScreen(col,vec2(1.33*w,-0.37*h),0.83);\ntotal_weight+=sampleScreen(col,vec2(-0.82*w,1.31*h),0.80);\ntotal_weight+=sampleScreen(col,vec2(-0.31*w,-1.67*h),0.78);\ntotal_weight+=sampleScreen(col,vec2(1.47*w,1.11*h),0.76);\ntotal_weight+=sampleScreen(col,vec2(-1.97*w,0.19*h),0.74);\ntotal_weight+=sampleScreen(col,vec2(1.42*w,-1.57*h),0.72);\nif (blur_level>1.0) {\ntotal_weight+=sampleScreen(col,vec2(0.01*w,2.25*h),0.70);\ntotal_weight+=sampleScreen(col,vec2(-1.62*w,-1.74*h),0.67);\ntotal_weight+=sampleScreen(col,vec2(2.49*w,0.20*h),0.65);\ntotal_weight+=sampleScreen(col,vec2(-2.07*w,1.61*h),0.63);\ntotal_weight+=sampleScreen(col,vec2(0.46*w,-2.70*h),0.61);\ntotal_weight+=sampleScreen(col,vec2(1.55*w,2.40*h),0.59);\ntotal_weight+=sampleScreen(col,vec2(-2.88*w,-0.75*h),0.56);\ntotal_weight+=sampleScreen(col,vec2(2.73*w,-1.44*h),0.54);\ntotal_weight+=sampleScreen(col,vec2(-1.08*w,3.02*h),0.52);\ntotal_weight+=sampleScreen(col,vec2(-1.28*w,-3.05*h),0.49);\n}\nif (blur_level>2.0) {\ntotal_weight+=sampleScreen(col,vec2(3.11*w,1.43*h),0.46);\ntotal_weight+=sampleScreen(col,vec2(-3.36*w,1.08*h),0.44);\ntotal_weight+=sampleScreen(col,vec2(1.80*w,-3.16*h),0.41);\ntotal_weight+=sampleScreen(col,vec2(0.83*w,3.65*h),0.38);\ntotal_weight+=sampleScreen(col,vec2(-3.16*w,-2.19*h),0.34);\ntotal_weight+=sampleScreen(col,vec2(3.92*w,-0.53*h),0.31);\ntotal_weight+=sampleScreen(col,vec2(-2.59*w,3.12*h),0.26);\ntotal_weight+=sampleScreen(col,vec2(-0.20*w,-4.15*h),0.22);\ntotal_weight+=sampleScreen(col,vec2(3.02*w,3.00*h),0.15);\n}\ncol/=total_weight;\n\nif (darken>0.0) {\ncol.rgb*=clamp(0.3,1.0,1.05-size*0.5*darken);\n}\n\n\n\n\nreturn col;\n}\nvoid main(void)\n{\n\ncentered_screen_pos=vec2(vUV.x-0.5,vUV.y-0.5);\nradius2=centered_screen_pos.x*centered_screen_pos.x+centered_screen_pos.y*centered_screen_pos.y;\nradius=sqrt(radius2);\ndistorted_coords=getDistortedCoords(vUV);\nvec2 texels_coords=vec2(vUV.x*screen_width,vUV.y*screen_height);\nfloat depth=texture2D(depthSampler,distorted_coords).r;\nfloat distance=near+(far-near)*depth;\nvec4 color=texture2D(textureSampler,vUV);\n\n\nfloat coc=abs(aperture*(screen_distance*(inverse_focal_length-1.0/distance)-1.0));\n\nif (dof_enabled == false || coc<0.07) { coc=0.0; }\n\nfloat edge_blur_amount=0.0;\nif (edge_blur>0.0) {\nedge_blur_amount=clamp((radius*2.0-1.0+0.15*edge_blur)*1.5,0.0,1.0)*1.3;\n}\n\nfloat blur_amount=max(edge_blur_amount,coc);\n\nif (blur_amount == 0.0) {\ngl_FragColor=texture2D(textureSampler,distorted_coords);\n}\nelse {\n\ngl_FragColor=getBlurColor(blur_amount*1.7);\n\nif (highlights) {\ngl_FragColor.rgb+=clamp(coc,0.0,1.0)*texture2D(highlightsSampler,distorted_coords).rgb;\n}\nif (blur_noise) {\n\nvec2 noise=rand(distorted_coords)*0.01*blur_amount;\nvec2 blurred_coord=vec2(distorted_coords.x+noise.x,distorted_coords.y+noise.y);\ngl_FragColor=0.04*texture2D(textureSampler,blurred_coord)+0.96*gl_FragColor;\n}\n}\n\nif (grain_amount>0.0) {\nvec4 grain_color=texture2D(grainSampler,texels_coords*0.003);\ngl_FragColor.rgb+=(-0.5+grain_color.rgb)*0.30*grain_amount;\n}\n}\n";
               var Cs = (function (e) {
                 function t(t, i, n, r, o) {
-                  void 0 === r && (r = 1);
-                  var a = e.call(this, n.getEngine(), t) || this;
+                  if (void 0 === r) {
+                    r = 1;
+                  }
+                  var a = e(n.getEngine(), t) || this;
                   return (
                     (a.LensChromaticAberrationEffect =
                       "LensChromaticAberrationEffect"),
@@ -125473,7 +126796,7 @@ and limitations under the License.
                     a.addEffect(
                       new $a(
                         n.getEngine(),
-                        a.LensChromaticAberrationEffect,
+                        "LensChromaticAberrationEffect",
                         function () {
                           return a._chromaticAberrationPostProcess;
                         },
@@ -125483,7 +126806,7 @@ and limitations under the License.
                     a.addEffect(
                       new $a(
                         n.getEngine(),
-                        a.HighlightsEnhancingEffect,
+                        "HighlightsEnhancingEffect",
                         function () {
                           return a._highlightsPostProcess;
                         },
@@ -125493,7 +126816,7 @@ and limitations under the License.
                     a.addEffect(
                       new $a(
                         n.getEngine(),
-                        a.LensDepthOfFieldEffect,
+                        "LensDepthOfFieldEffect",
                         function () {
                           return a._depthOfFieldPostProcess;
                         },
@@ -125501,7 +126824,7 @@ and limitations under the License.
                       ),
                     ),
                     -1 === a._highlightsGain &&
-                      a._disableEffect(a.HighlightsEnhancingEffect, null),
+                      a._disableEffect("HighlightsEnhancingEffect", null),
                     n.postProcessRenderPipelineManager.addPipeline(a),
                     o &&
                       n.postProcessRenderPipelineManager.attachCamerasToRenderPipeline(
@@ -125877,7 +127200,7 @@ and limitations under the License.
                 "uniform sampler2D textureSampler;\nuniform sampler2D originalColor;\nuniform vec4 viewport;\nvarying vec2 vUV;\nvoid main(void) {\nvec4 ssaoColor=texture2D(textureSampler,viewport.xy+vUV*viewport.zw);\nvec4 sceneColor=texture2D(originalColor,vUV);\ngl_FragColor=sceneColor*ssaoColor;\n}\n";
               var Ps = (function (e) {
                 function t(t, i, n, r) {
-                  var o = e.call(this, i.getEngine(), t) || this;
+                  var o = e(i.getEngine(), t) || this;
                   if (
                     ((o.SSAOOriginalSceneColorEffect =
                       "SSAOOriginalSceneColorEffect"),
@@ -125922,7 +127245,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOOriginalSceneColorEffect,
+                        "SSAOOriginalSceneColorEffect",
                         function () {
                           return o._originalColorPostProcess;
                         },
@@ -125932,7 +127255,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAORenderEffect,
+                        "SSAORenderEffect",
                         function () {
                           return o._ssaoPostProcess;
                         },
@@ -125942,7 +127265,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOBlurHRenderEffect,
+                        "SSAOBlurHRenderEffect",
                         function () {
                           return o._blurHPostProcess;
                         },
@@ -125952,7 +127275,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOBlurVRenderEffect,
+                        "SSAOBlurVRenderEffect",
                         function () {
                           return o._blurVPostProcess;
                         },
@@ -125962,7 +127285,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOCombineRenderEffect,
+                        "SSAOCombineRenderEffect",
                         function () {
                           return o._ssaoCombinePostProcess;
                         },
@@ -126054,7 +127377,9 @@ and limitations under the License.
                     return "SSAO2RenderingPipeline";
                   }),
                   (t.prototype.dispose = function (t) {
-                    void 0 === t && (t = false);
+                    if (void 0 === t) {
+                      t = false;
+                    }
                     for (var i = 0; i < this._scene.cameras.length; i++) {
                       var n = this._scene.cameras[i];
                       (this._originalColorPostProcess.dispose(n),
@@ -126069,7 +127394,7 @@ and limitations under the License.
                         this._name,
                         this._scene.cameras,
                       ),
-                      e.prototype.dispose.call(this));
+                      e.prototype.dispose());
                   }),
                   (t.prototype._createBlurPostProcess = function (e, t) {
                     var i = this;
@@ -126091,19 +127416,20 @@ and limitations under the License.
                         "\n",
                     )),
                       (this._blurHPostProcess.onApply = function (e) {
-                        i._scene.activeCamera &&
+                        if (i._scene.activeCamera) {
                           (e.setFloat(
                             "outSize",
                             i._ssaoCombinePostProcess.width > 0
                               ? i._ssaoCombinePostProcess.width
                               : i._originalColorPostProcess.width,
                           ),
-                          e.setFloat("near", i._scene.activeCamera.minZ),
-                          e.setFloat("far", i._scene.activeCamera.maxZ),
-                          e.setFloat("radius", i.radius),
-                          e.setTexture("depthSampler", i._depthTexture),
-                          i._firstUpdate &&
-                            e.setArray("samplerOffsets", i._samplerOffsets));
+                            e.setFloat("near", i._scene.activeCamera.minZ),
+                            e.setFloat("far", i._scene.activeCamera.maxZ),
+                            e.setFloat("radius", i.radius),
+                            e.setTexture("depthSampler", i._depthTexture),
+                            i._firstUpdate &&
+                              e.setArray("samplerOffsets", i._samplerOffsets));
+                        }
                       }),
                       (this._blurVPostProcess = new Wt(
                         "BlurV",
@@ -126120,27 +127446,27 @@ and limitations under the License.
                           "\n",
                       )),
                       (this._blurVPostProcess.onApply = function (e) {
-                        i._scene.activeCamera &&
+                        if (i._scene.activeCamera) {
                           (e.setFloat(
                             "outSize",
                             i._ssaoCombinePostProcess.height > 0
                               ? i._ssaoCombinePostProcess.height
                               : i._originalColorPostProcess.height,
                           ),
-                          e.setFloat("near", i._scene.activeCamera.minZ),
-                          e.setFloat("far", i._scene.activeCamera.maxZ),
-                          e.setFloat("radius", i.radius),
-                          e.setTexture("depthSampler", i._depthTexture),
-                          i._firstUpdate &&
-                            (e.setArray("samplerOffsets", i._samplerOffsets),
-                            (i._firstUpdate = false)));
+                            e.setFloat("near", i._scene.activeCamera.minZ),
+                            e.setFloat("far", i._scene.activeCamera.maxZ),
+                            e.setFloat("radius", i.radius),
+                            e.setTexture("depthSampler", i._depthTexture),
+                            false &&
+                              (e.setArray("samplerOffsets", i._samplerOffsets),
+                              (i._firstUpdate = false)));
+                        }
                       }),
                       (this._blurHPostProcess.samples = this.textureSamples),
                       (this._blurVPostProcess.samples = this.textureSamples));
                   }),
                   (t.prototype._rebuild = function () {
-                    ((this._firstUpdate = true),
-                      e.prototype._rebuild.call(this));
+                    ((this._firstUpdate = true), e.prototype._rebuild());
                   }),
                   (t.prototype._radicalInverse_VdC = function (e) {
                     return (
@@ -126159,7 +127485,7 @@ and limitations under the License.
                       (this._bits[0] =
                         ((16711935 & this._bits[0]) << 8) |
                         (((4278255360 & this._bits[0]) >>> 8) >>> 0)),
-                      2.3283064365386963e-10 * this._bits[0]
+                      23283064365386963e-26 * this._bits[0]
                     );
                   }),
                   (t.prototype._hammersley = function (e, t) {
@@ -126318,7 +127644,7 @@ and limitations under the License.
                           (i.x = Math.floor(i.x)),
                           (i.y = Math.floor(i.y)),
                           (e.fillStyle =
-                            "rgb(" + i.x + ", " + i.y + ", " + i.z + ")"),
+                            "rgb(" + i.x + ", " + i.y + ", " + 0 + ")"),
                           e.fillRect(n, r, 1, 1));
                     this._randomTexture.update(false);
                   }),
@@ -126368,7 +127694,7 @@ and limitations under the License.
                 "\nuniform sampler2D textureSampler;\nvarying vec2 vUV;\n#ifdef SSAO\nuniform sampler2D randomSampler;\nuniform float randTextureTiles;\nuniform float samplesFactor;\nuniform vec3 sampleSphere[SAMPLES];\nuniform float totalStrength;\nuniform float radius;\nuniform float area;\nuniform float fallOff;\nuniform float base;\nvec3 normalFromDepth(float depth,vec2 coords)\n{\nvec2 offset1=vec2(0.0,radius);\nvec2 offset2=vec2(radius,0.0);\nfloat depth1=texture2D(textureSampler,coords+offset1).r;\nfloat depth2=texture2D(textureSampler,coords+offset2).r;\nvec3 p1=vec3(offset1,depth1-depth);\nvec3 p2=vec3(offset2,depth2-depth);\nvec3 normal=cross(p1,p2);\nnormal.z=-normal.z;\nreturn normalize(normal);\n}\nvoid main()\n{\nvec3 random=normalize(texture2D(randomSampler,vUV*randTextureTiles).rgb);\nfloat depth=texture2D(textureSampler,vUV).r;\nvec3 position=vec3(vUV,depth);\nvec3 normal=normalFromDepth(depth,vUV);\nfloat radiusDepth=radius/depth;\nfloat occlusion=0.0;\nvec3 ray;\nvec3 hemiRay;\nfloat occlusionDepth;\nfloat difference;\nfor (int i=0; i<SAMPLES; i++)\n{\nray=radiusDepth*reflect(sampleSphere[i],random);\nhemiRay=position+sign(dot(ray,normal))*ray;\nocclusionDepth=texture2D(textureSampler,clamp(hemiRay.xy,vec2(0.001,0.001),vec2(0.999,0.999))).r;\ndifference=depth-occlusionDepth;\nocclusion+=step(fallOff,difference)*(1.0-smoothstep(fallOff,area,difference));\n}\nfloat ao=1.0-totalStrength*occlusion*samplesFactor;\nfloat result=clamp(ao+base,0.0,1.0);\ngl_FragColor.r=result;\ngl_FragColor.g=result;\ngl_FragColor.b=result;\ngl_FragColor.a=1.0;\n}\n#endif\n";
               var Rs = (function (e) {
                 function t(t, i, n, r) {
-                  var o = e.call(this, i.getEngine(), t) || this;
+                  var o = e(i.getEngine(), t) || this;
                   ((o.SSAOOriginalSceneColorEffect =
                     "SSAOOriginalSceneColorEffect"),
                     (o.SSAORenderEffect = "SSAORenderEffect"),
@@ -126401,7 +127727,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOOriginalSceneColorEffect,
+                        "SSAOOriginalSceneColorEffect",
                         function () {
                           return o._originalColorPostProcess;
                         },
@@ -126411,7 +127737,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAORenderEffect,
+                        "SSAORenderEffect",
                         function () {
                           return o._ssaoPostProcess;
                         },
@@ -126421,7 +127747,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOBlurHRenderEffect,
+                        "SSAOBlurHRenderEffect",
                         function () {
                           return o._blurHPostProcess;
                         },
@@ -126431,7 +127757,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOBlurVRenderEffect,
+                        "SSAOBlurVRenderEffect",
                         function () {
                           return o._blurVPostProcess;
                         },
@@ -126441,7 +127767,7 @@ and limitations under the License.
                     o.addEffect(
                       new $a(
                         i.getEngine(),
-                        o.SSAOCombineRenderEffect,
+                        "SSAOCombineRenderEffect",
                         function () {
                           return o._ssaoCombinePostProcess;
                         },
@@ -126470,7 +127796,9 @@ and limitations under the License.
                     return "SSAORenderingPipeline";
                   }),
                   (t.prototype.dispose = function (t) {
-                    void 0 === t && (t = false);
+                    if (void 0 === t) {
+                      t = false;
+                    }
                     for (var i = 0; i < this._scene.cameras.length; i++) {
                       var n = this._scene.cameras[i];
                       (this._originalColorPostProcess.dispose(n),
@@ -126485,7 +127813,7 @@ and limitations under the License.
                         this._name,
                         this._scene.cameras,
                       ),
-                      e.prototype.dispose.call(this));
+                      e.prototype.dispose());
                   }),
                   (t.prototype._createBlurPostProcess = function (e) {
                     var t = this;
@@ -126529,8 +127857,7 @@ and limitations under the License.
                       ));
                   }),
                   (t.prototype._rebuild = function () {
-                    ((this._firstUpdate = true),
-                      e.prototype._rebuild.call(this));
+                    ((this._firstUpdate = true), e.prototype._rebuild());
                   }),
                   (t.prototype._createSSAOPostProcess = function (e) {
                     var t = this,
@@ -126646,8 +127973,10 @@ and limitations under the License.
                 "uniform sampler2D textureSampler;\nvarying vec2 vUV;\n#if defined(PASS_POST_PROCESS)\nvoid main(void)\n{\nvec4 color=texture2D(textureSampler,vUV);\ngl_FragColor=color;\n}\n#endif\n#if defined(DOWN_SAMPLE_X4)\nuniform vec2 dsOffsets[16];\nvoid main(void)\n{\nvec4 average=vec4(0.0,0.0,0.0,0.0);\naverage=texture2D(textureSampler,vUV+dsOffsets[0]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[1]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[2]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[3]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[4]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[5]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[6]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[7]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[8]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[9]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[10]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[11]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[12]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[13]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[14]);\naverage+=texture2D(textureSampler,vUV+dsOffsets[15]);\naverage/=16.0;\ngl_FragColor=average;\n}\n#endif\n#if defined(BRIGHT_PASS)\nuniform vec2 dsOffsets[4];\nuniform float brightThreshold;\nvoid main(void)\n{\nvec4 average=vec4(0.0,0.0,0.0,0.0);\naverage=texture2D(textureSampler,vUV+vec2(dsOffsets[0].x,dsOffsets[0].y));\naverage+=texture2D(textureSampler,vUV+vec2(dsOffsets[1].x,dsOffsets[1].y));\naverage+=texture2D(textureSampler,vUV+vec2(dsOffsets[2].x,dsOffsets[2].y));\naverage+=texture2D(textureSampler,vUV+vec2(dsOffsets[3].x,dsOffsets[3].y));\naverage*=0.25;\nfloat luminance=length(average.rgb);\nif (luminance<brightThreshold) {\naverage=vec4(0.0,0.0,0.0,1.0);\n}\ngl_FragColor=average;\n}\n#endif\n#if defined(TEXTURE_ADDER)\nuniform sampler2D otherSampler;\nuniform sampler2D lensSampler;\nuniform float exposure;\nvoid main(void)\n{\nvec3 colour=texture2D(textureSampler,vUV).rgb;\ncolour*=exposure;\nvec3 X=max(vec3(0.0,0.0,0.0),colour-0.004);\nvec3 retColor=(X*(6.2*X+0.5))/(X*(6.2*X+1.7)+0.06);\ncolour=retColor*retColor;\ncolour+=colour*texture2D(lensSampler,vUV).rgb;\nvec4 finalColor=vec4(colour.rgb,1.0)+texture2D(otherSampler,vUV);\ngl_FragColor=finalColor;\n}\n#endif\n#if defined(VLS)\n#define PI 3.1415926535897932384626433832795\nuniform mat4 shadowViewProjection;\nuniform mat4 lightWorld;\nuniform vec3 cameraPosition;\nuniform vec3 sunDirection;\nuniform vec3 sunColor;\nuniform vec2 depthValues;\nuniform float scatteringCoefficient;\nuniform float scatteringPower;\nuniform sampler2D shadowMapSampler;\nuniform sampler2D positionSampler;\nfloat computeScattering(float lightDotView)\n{\nfloat result=1.0-scatteringCoefficient*scatteringCoefficient;\nresult/=(4.0*PI*pow(1.0+scatteringCoefficient*scatteringCoefficient-(2.0*scatteringCoefficient)*lightDotView,1.5));\nreturn result;\n}\nvoid main(void)\n{\n\nvec3 worldPos=texture2D(positionSampler,vUV).rgb;\nvec3 startPosition=cameraPosition;\nvec3 rayVector=worldPos-startPosition;\nfloat rayLength=length(rayVector);\nvec3 rayDirection=rayVector/rayLength;\nfloat stepLength=rayLength/NB_STEPS;\nvec3 stepL=rayDirection*stepLength;\nvec3 currentPosition=startPosition;\nvec3 accumFog=vec3(0.0);\nfor (int i=0; i<int(NB_STEPS); i++)\n{\nvec4 worldInShadowCameraSpace=shadowViewProjection*vec4(currentPosition,1.0);\nfloat depthMetric=(worldInShadowCameraSpace.z+depthValues.x)/(depthValues.y);\nfloat shadowPixelDepth=clamp(depthMetric,0.0,1.0);\nworldInShadowCameraSpace.xyz/=worldInShadowCameraSpace.w;\nworldInShadowCameraSpace.xyz=0.5*worldInShadowCameraSpace.xyz+vec3(0.5);\nfloat shadowMapValue=texture2D(shadowMapSampler,worldInShadowCameraSpace.xy).r;\nif (shadowMapValue>shadowPixelDepth)\naccumFog+=sunColor*computeScattering(dot(rayDirection,sunDirection));\ncurrentPosition+=stepL;\n}\naccumFog/=NB_STEPS;\nvec3 color=accumFog*scatteringPower;\ngl_FragColor=vec4(color*exp(color) ,1.0);\n}\n#endif\n#if defined(VLSMERGE)\nuniform sampler2D originalSampler;\nvoid main(void)\n{\ngl_FragColor=texture2D(originalSampler,vUV)+texture2D(textureSampler,vUV);\n}\n#endif\n#if defined(LUMINANCE)\nuniform vec2 lumOffsets[4];\nvoid main()\n{\nfloat average=0.0;\nvec4 color=vec4(0.0);\nfloat maximum=-1e20;\nvec3 weight=vec3(0.299,0.587,0.114);\nfor (int i=0; i<4; i++)\n{\ncolor=texture2D(textureSampler,vUV+ lumOffsets[i]);\n\nfloat GreyValue=dot(color.rgb,vec3(0.33,0.33,0.33));\n\n#ifdef WEIGHTED_AVERAGE\nfloat GreyValue=dot(color.rgb,weight);\n#endif\n#ifdef BRIGHTNESS\nfloat GreyValue=max(color.r,max(color.g,color.b));\n#endif\n#ifdef HSL_COMPONENT\nfloat GreyValue=0.5*(max(color.r,max(color.g,color.b))+min(color.r,min(color.g,color.b)));\n#endif\n#ifdef MAGNITUDE\nfloat GreyValue=length(color.rgb);\n#endif\nmaximum=max(maximum,GreyValue);\naverage+=(0.25*log(1e-5+GreyValue));\n}\naverage=exp(average);\ngl_FragColor=vec4(average,maximum,0.0,1.0);\n}\n#endif\n#if defined(LUMINANCE_DOWN_SAMPLE)\nuniform vec2 dsOffsets[9];\nuniform float halfDestPixelSize;\n#ifdef FINAL_DOWN_SAMPLER\nvec4 pack(float value) {\nconst vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);\nconst vec4 bit_mask=vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);\nvec4 res=fract(value*bit_shift);\nres-=res.xxyz*bit_mask;\nreturn res;\n}\n#endif\nvoid main()\n{\nvec4 color=vec4(0.0);\nfloat average=0.0;\nfor (int i=0; i<9; i++)\n{\ncolor=texture2D(textureSampler,vUV+vec2(halfDestPixelSize,halfDestPixelSize)+dsOffsets[i]);\naverage+=color.r;\n}\naverage/=9.0;\n#ifdef FINAL_DOWN_SAMPLER\ngl_FragColor=pack(average);\n#else\ngl_FragColor=vec4(average,average,0.0,1.0);\n#endif\n}\n#endif\n#if defined(HDR)\nuniform sampler2D textureAdderSampler;\nuniform float averageLuminance;\nvoid main()\n{\nvec4 color=texture2D(textureAdderSampler,vUV);\n#ifndef AUTO_EXPOSURE\nvec4 adjustedColor=color/averageLuminance;\ncolor=adjustedColor;\ncolor.a=1.0;\n#endif\ngl_FragColor=color;\n}\n#endif\n#if defined(LENS_FLARE)\n#define GHOSTS 3\nuniform sampler2D lensColorSampler;\nuniform float strength;\nuniform float ghostDispersal;\nuniform float haloWidth;\nuniform vec2 resolution;\nuniform float distortionStrength;\nfloat hash(vec2 p)\n{\nfloat h=dot(p,vec2(127.1,311.7));\nreturn -1.0+2.0*fract(sin(h)*43758.5453123);\n}\nfloat noise(in vec2 p)\n{\nvec2 i=floor(p);\nvec2 f=fract(p);\nvec2 u=f*f*(3.0-2.0*f);\nreturn mix(mix(hash(i+vec2(0.0,0.0)),\nhash(i+vec2(1.0,0.0)),u.x),\nmix(hash(i+vec2(0.0,1.0)),\nhash(i+vec2(1.0,1.0)),u.x),u.y);\n}\nfloat fbm(vec2 p)\n{\nfloat f=0.0;\nf+=0.5000*noise(p); p*=2.02;\nf+=0.2500*noise(p); p*=2.03;\nf+=0.1250*noise(p); p*=2.01;\nf+=0.0625*noise(p); p*=2.04;\nf/=0.9375;\nreturn f;\n}\nvec3 pattern(vec2 uv)\n{\nvec2 p=-1.0+2.0*uv;\nfloat p2=dot(p,p);\nfloat f=fbm(vec2(15.0*p2))/2.0;\nfloat r=0.2+0.6*sin(12.5*length(uv-vec2(0.5)));\nfloat g=0.2+0.6*sin(20.5*length(uv-vec2(0.5)));\nfloat b=0.2+0.6*sin(17.2*length(uv-vec2(0.5)));\nreturn (1.0-f)*vec3(r,g,b);\n}\nfloat luminance(vec3 color)\n{\nreturn dot(color.rgb,vec3(0.2126,0.7152,0.0722));\n}\nvec4 textureDistorted(sampler2D tex,vec2 texcoord,vec2 direction,vec3 distortion)\n{\nreturn vec4(\ntexture2D(tex,texcoord+direction*distortion.r).r,\ntexture2D(tex,texcoord+direction*distortion.g).g,\ntexture2D(tex,texcoord+direction*distortion.b).b,\n1.0\n);\n}\nvoid main(void)\n{\nvec2 uv=-vUV+vec2(1.0);\nvec2 ghostDir=(vec2(0.5)-uv)*ghostDispersal;\nvec2 texelSize=1.0/resolution;\nvec3 distortion=vec3(-texelSize.x*distortionStrength,0.0,texelSize.x*distortionStrength);\nvec4 result=vec4(0.0);\nfloat ghostIndice=1.0;\nfor (int i=0; i<GHOSTS; ++i)\n{\nvec2 offset=fract(uv+ghostDir*ghostIndice);\nfloat weight=length(vec2(0.5)-offset)/length(vec2(0.5));\nweight=pow(1.0-weight,10.0);\nresult+=textureDistorted(textureSampler,offset,normalize(ghostDir),distortion)*weight*strength;\nghostIndice+=1.0;\n}\nvec2 haloVec=normalize(ghostDir)*haloWidth;\nfloat weight=length(vec2(0.5)-fract(uv+haloVec))/length(vec2(0.5));\nweight=pow(1.0-weight,10.0);\nresult+=textureDistorted(textureSampler,fract(uv+haloVec),normalize(ghostDir),distortion)*weight*strength;\nresult*=texture2D(lensColorSampler,vec2(length(vec2(0.5)-uv)/length(vec2(0.5))));\ngl_FragColor=result;\n}\n#endif\n#if defined(LENS_FLARE_COMPOSE)\nuniform sampler2D otherSampler;\nuniform sampler2D lensDirtSampler;\nuniform sampler2D lensStarSampler;\nuniform mat4 lensStarMatrix;\nvoid main(void)\n{\nvec2 lensFlareCoords=(lensStarMatrix*vec4(vUV,1.0,1.0)).xy;\nvec4 lensMod=texture2D(lensDirtSampler,vUV);\nlensMod+=texture2D(lensStarSampler,vUV);\nvec4 result=texture2D(textureSampler,vUV)*lensMod;\ngl_FragColor=texture2D(otherSampler,vUV)+result;\n}\n#endif\n#if defined(DEPTH_OF_FIELD)\nuniform sampler2D otherSampler;\nuniform sampler2D depthSampler;\nuniform float distance;\nvoid main(void)\n{\nvec4 sharp=texture2D(otherSampler,vUV);\nvec4 blur=texture2D(textureSampler,vUV);\nfloat dist=clamp(texture2D(depthSampler,vUV).r*distance,0.0,1.0);\nfloat factor=0.0;\nif (dist<0.05)\nfactor=1.0;\nelse if (dist<0.1)\nfactor=20.0*(0.1-dist);\nelse if (dist<0.5)\nfactor=0.0;\nelse\nfactor=2.0*(dist-0.5);\nfactor=clamp(factor,0.0,0.90);\ngl_FragColor=mix(sharp,blur,factor);\n}\n#endif\n#if defined(MOTION_BLUR)\nuniform mat4 inverseViewProjection;\nuniform mat4 prevViewProjection;\nuniform vec2 screenSize;\nuniform float motionScale;\nuniform float motionStrength;\nuniform sampler2D depthSampler;\nvoid main(void)\n{\nvec2 texelSize=1.0/screenSize;\nfloat depth=texture2D(depthSampler,vUV).r;\nvec4 cpos=vec4(vUV*2.0-1.0,depth,1.0);\ncpos=cpos*inverseViewProjection;\nvec4 ppos=cpos*prevViewProjection;\nppos.xyz/=ppos.w;\nppos.xy=ppos.xy*0.5+0.5;\nvec2 velocity=(ppos.xy-vUV)*motionScale*motionStrength;\nfloat speed=length(velocity/texelSize);\nint nSamples=int(clamp(speed,1.0,MAX_MOTION_SAMPLES));\nvec4 result=texture2D(textureSampler,vUV);\nfor (int i=1; i<int(MAX_MOTION_SAMPLES); ++i) {\nif (i>=nSamples)\nbreak;\nvec2 offset1=vUV+velocity*(float(i)/float(nSamples-1)-0.5);\nresult+=texture2D(textureSampler,offset1);\n}\ngl_FragColor=result/float(nSamples);\n}\n#endif\n";
               var Ms = (function (e) {
                 function t(t, i, n, r, o) {
-                  void 0 === r && (r = null);
-                  var a = e.call(this, i.getEngine(), t) || this;
+                  if (void 0 === r) {
+                    r = null;
+                  }
+                  var a = e(i.getEngine(), t) || this;
                   return (
                     (a.downSampleX4PostProcess = null),
                     (a.brightPassPostProcess = null),
@@ -126751,8 +128080,9 @@ and limitations under the License.
                       return this._bloomEnabled;
                     },
                     set: function (e) {
-                      this._bloomEnabled !== e &&
+                      if (this._bloomEnabled !== e) {
                         ((this._bloomEnabled = e), this._buildPipeline());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -126762,9 +128092,10 @@ and limitations under the License.
                       return this._depthOfFieldEnabled;
                     },
                     set: function (e) {
-                      this._depthOfFieldEnabled !== e &&
+                      if (this._depthOfFieldEnabled !== e) {
                         ((this._depthOfFieldEnabled = e),
-                        this._buildPipeline());
+                          this._buildPipeline());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -126774,8 +128105,9 @@ and limitations under the License.
                       return this._lensFlareEnabled;
                     },
                     set: function (e) {
-                      this._lensFlareEnabled !== e &&
+                      if (this._lensFlareEnabled !== e) {
                         ((this._lensFlareEnabled = e), this._buildPipeline());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -126785,8 +128117,9 @@ and limitations under the License.
                       return this._hdrEnabled;
                     },
                     set: function (e) {
-                      this._hdrEnabled !== e &&
+                      if (this._hdrEnabled !== e) {
                         ((this._hdrEnabled = e), this._buildPipeline());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -126812,8 +128145,9 @@ and limitations under the License.
                       return this._motionBlurEnabled;
                     },
                     set: function (e) {
-                      this._motionBlurEnabled !== e &&
+                      if (this._motionBlurEnabled !== e) {
                         ((this._motionBlurEnabled = e), this._buildPipeline());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -126823,8 +128157,9 @@ and limitations under the License.
                       return this._fxaaEnabled;
                     },
                     set: function (e) {
-                      this._fxaaEnabled !== e &&
+                      if (this._fxaaEnabled !== e) {
                         ((this._fxaaEnabled = e), this._buildPipeline());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -126867,8 +128202,9 @@ and limitations under the License.
                       return this._samples;
                     },
                     set: function (e) {
-                      this._samples !== e &&
+                      if (this._samples !== e) {
                         ((this._samples = e), this._buildPipeline());
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -127156,7 +128492,9 @@ and limitations under the License.
                     n,
                   ) {
                     var r = this;
-                    void 0 === n && (n = "blurWidth");
+                    if (void 0 === n) {
+                      n = "blurWidth";
+                    }
                     var o = e.getEngine(),
                       s = new Hn(
                         "HDRBlurH_" + i,
@@ -127415,7 +128753,9 @@ and limitations under the License.
                     for (var s = t.LuminanceSteps - 1; s >= 0; s--) {
                       r = Math.pow(3, s);
                       var c = "#define LUMINANCE_DOWN_SAMPLE\n";
-                      0 === s && (c += "#define FINAL_DOWN_SAMPLER");
+                      if (0 === s) {
+                        c += "#define FINAL_DOWN_SAMPLER";
+                      }
                       var u = new Wt(
                         "HDRLuminanceDownSample" + s,
                         "standard",
@@ -127523,7 +128863,11 @@ and limitations under the License.
                       }
                       (i.hdrAutoExposure
                         ? (i._currentExposure = i._fixedExposure / r)
-                        : ((r = L.a.Clamp(r, i.hdrMinimumLuminance, 1e20)),
+                        : ((r = L.a.Clamp(
+                            r,
+                            i.hdrMinimumLuminance,
+                            0x56bc75e2d63100000,
+                          )),
                           t.setFloat("averageLuminance", r)),
                         (a = o),
                         (i._currentDepthOfFieldSource = i.hdrFinalPostProcess));
@@ -127661,31 +129005,31 @@ and limitations under the License.
                             i.lensFlareDirtTexture,
                           ),
                           e.setTexture("lensStarSampler", i.lensStarTexture));
-                        var t = i._scene.activeCamera.getViewMatrix().getRow(0),
-                          n = i._scene.activeCamera.getViewMatrix().getRow(2),
-                          s =
-                            a.x.Dot(t.toVector3(), new a.x(1, 0, 0)) +
-                            a.x.Dot(n.toVector3(), new a.x(0, 0, 1));
+                        var t = i._scene.activeCamera.getViewMatrix().getRow(0);
+                        var n = i._scene.activeCamera.getViewMatrix().getRow(2);
+                        var s =
+                          a.x.Dot(t.toVector3(), new a.x(1, 0, 0)) +
+                          a.x.Dot(n.toVector3(), new a.x(0, 0, 1));
                         s *= 4;
                         var c = a.j.FromValues(
-                            0.5 * Math.cos(s),
-                            -Math.sin(s),
-                            0,
-                            0,
-                            Math.sin(s),
-                            0.5 * Math.cos(s),
-                            0,
-                            0,
-                            0,
-                            0,
-                            1,
-                            0,
-                            0,
-                            0,
-                            0,
-                            1,
-                          ),
-                          u = o.multiply(c).multiply(r);
+                          0.5 * Math.cos(s),
+                          -Math.sin(s),
+                          0,
+                          0,
+                          Math.sin(s),
+                          0.5 * Math.cos(s),
+                          0,
+                          0,
+                          0,
+                          0,
+                          1,
+                          0,
+                          0,
+                          0,
+                          0,
+                          1,
+                        );
+                        var u = o.multiply(c).multiply(r);
                         (e.setMatrix("lensStarMatrix", u),
                           (i._currentDepthOfFieldSource =
                             i.lensFlareFinalPostProcess));
@@ -127870,7 +129214,7 @@ and limitations under the License.
                         this._name,
                         this._cameras,
                       ),
-                      e.prototype.dispose.call(this));
+                      e.prototype.dispose());
                   }),
                   (t.prototype.serialize = function () {
                     var e = F.a.Serialize(this);
@@ -128028,8 +129372,7 @@ and limitations under the License.
                   (void 0 === o && (o = _.a.TEXTURE_BILINEAR_SAMPLINGMODE),
                     void 0 === s && (s = _.a.TEXTURETYPE_UNSIGNED_INT));
                   var c =
-                    e.call(
-                      this,
+                    e(
                       t,
                       "tonemap",
                       ["_ExposureAdjustment"],
@@ -128073,8 +129416,7 @@ and limitations under the License.
                   (void 0 === s && (s = 100),
                     void 0 === c && (c = je.a.BILINEAR_SAMPLINGMODE));
                   var f =
-                    e.call(
-                      this,
+                    e(
                       i,
                       "volumetricLightScattering",
                       [
@@ -128228,7 +129570,7 @@ and limitations under the License.
                       );
                     (-1 !== i && t.getScene().customRenderTargets.splice(i, 1),
                       this._volumetricLightScatteringRTT.dispose(),
-                      e.prototype.dispose.call(this, t));
+                      e.prototype.dispose(t));
                   }),
                   (t.prototype.getPass = function () {
                     return this._volumetricLightScatteringRTT;
@@ -128274,8 +129616,8 @@ and limitations under the License.
                         if (!i._meshExcluded(t)) {
                           var n = e.getMaterial();
                           if (n) {
-                            var r = t.getScene(),
-                              o = r.getEngine();
+                            var r = t.getScene();
+                            var o = r.getEngine();
                             o.setState(n.backFaceCulling);
                             var a = t._getInstancesRenderList(e._id);
                             if (!a.mustReturn) {
@@ -128311,13 +129653,16 @@ and limitations under the License.
                                           u.getTextureMatrix(),
                                         ));
                                   }
-                                  t.useBones &&
+                                  if (
+                                    t.useBones &&
                                     t.computeBonesUsingShaders &&
-                                    t.skeleton &&
+                                    t.skeleton
+                                  ) {
                                     i._volumetricLightScatteringPass.setMatrices(
                                       "mBones",
                                       t.skeleton.getTransformMatrices(t),
                                     );
+                                  }
                                 }
                                 t._processRendering(
                                   e,
@@ -128362,15 +129707,15 @@ and limitations under the License.
                           for (o = 0; o < i.length; o++) s(i.data[o]);
                           if (n.length) {
                             for (o = 0; o < n.length; o++) {
-                              var c = n.data[o],
-                                u = c.getBoundingInfo();
-                              u &&
-                                e.activeCamera &&
+                              var c = n.data[o];
+                              var u = c.getBoundingInfo();
+                              if (u && e.activeCamera) {
                                 ((c._alphaIndex = c.getMesh().alphaIndex),
-                                (c._distanceToCamera =
-                                  u.boundingSphere.centerWorld
-                                    .subtract(e.activeCamera.position)
-                                    .length()));
+                                  (c._distanceToCamera =
+                                    u.boundingSphere.centerWorld
+                                      .subtract(e.activeCamera.position)
+                                      .length()));
+                              }
                             }
                             var l = n.data.slice(0, n.length);
                             for (
@@ -128513,9 +129858,10 @@ and limitations under the License.
                   (e.prototype._evaluateSubMesh = function (e, t) {
                     if (e.showSubMeshesBoundingBox) {
                       var i = t.getBoundingInfo();
-                      null != i &&
+                      if (null != i) {
                         ((i.boundingBox._tag = e.renderingGroupId),
-                        this.renderList.push(i.boundingBox));
+                          this.renderList.push(i.boundingBox));
+                      }
                     }
                   }),
                   (e.prototype._activeMesh = function (e, t) {
@@ -128539,10 +129885,8 @@ and limitations under the License.
                           uniforms: ["world", "viewProjection", "color"],
                         },
                       );
-                      var e = this.scene.getEngine(),
-                        t = xi.a.CreateBox({
-                          size: 1,
-                        });
+                      var e = this.scene.getEngine();
+                      var t = xi.a.CreateBox({ size: 1 });
                       ((this._vertexBuffers[Si.b.PositionKind] = new Si.b(
                         e,
                         t.positions,
@@ -128576,13 +129920,13 @@ and limitations under the License.
                       for (var i = 0; i < this.renderList.length; i++) {
                         var n = this.renderList.data[i];
                         if (n._tag === e) {
-                          var r = n.minimum,
-                            o = n.maximum.subtract(r),
-                            s = r.add(o.scale(0.5)),
-                            c = a.j
-                              .Scaling(o.x, o.y, o.z)
-                              .multiply(a.j.Translation(s.x, s.y, s.z))
-                              .multiply(n.getWorldMatrix());
+                          var r = n.minimum;
+                          var o = n.maximum.subtract(r);
+                          var s = r.add(o.scale(0.5));
+                          var c = a.j
+                            .Scaling(o.x, o.y, o.z)
+                            .multiply(a.j.Translation(s.x, s.y, s.z))
+                            .multiply(n.getWorldMatrix());
                           (t.bindBuffers(
                             this._vertexBuffers,
                             this._indexBuffer,
@@ -128621,14 +129965,14 @@ and limitations under the License.
                       (t.setDepthWrite(false),
                         t.setColorWrite(false),
                         this._colorShader._preBind());
-                      var i = e._boundingInfo.boundingBox,
-                        n = i.minimum,
-                        r = i.maximum.subtract(n),
-                        o = n.add(r.scale(0.5)),
-                        s = a.j
-                          .Scaling(r.x, r.y, r.z)
-                          .multiply(a.j.Translation(o.x, o.y, o.z))
-                          .multiply(i.getWorldMatrix());
+                      var i = e._boundingInfo.boundingBox;
+                      var n = i.minimum;
+                      var r = i.maximum.subtract(n);
+                      var o = n.add(r.scale(0.5));
+                      var s = a.j
+                        .Scaling(r.x, r.y, r.z)
+                        .multiply(a.j.Translation(o.x, o.y, o.z))
+                        .multiply(i.getWorldMatrix());
                       (t.bindBuffers(
                         this._vertexBuffers,
                         this._indexBuffer,
@@ -128708,9 +130052,9 @@ and limitations under the License.
                       var a = t._getInstancesRenderList(e._id);
                       if (!a.mustReturn) {
                         var s =
-                            n.getCaps().instancedArrays &&
-                            null !== a.visibleInstances[e._id],
-                          c = r._camera || i.activeCamera;
+                          n.getCaps().instancedArrays &&
+                          null !== a.visibleInstances[e._id];
+                        var c = r._camera || i.activeCamera;
                         if (r.isReady(e, s) && c) {
                           if (
                             (n.enableEffect(r._effect),
@@ -128727,12 +130071,13 @@ and limitations under the License.
                             o && o.needAlphaTesting())
                           ) {
                             var u = o.getAlphaTestTexture();
-                            u &&
+                            if (u) {
                               (r._effect.setTexture("diffuseSampler", u),
-                              r._effect.setMatrix(
-                                "diffuseMatrix",
-                                u.getTextureMatrix(),
-                              ));
+                                r._effect.setMatrix(
+                                  "diffuseMatrix",
+                                  u.getTextureMatrix(),
+                                ));
+                            }
                           }
                           (t.useBones &&
                             t.computeBonesUsingShaders &&
@@ -128856,11 +130201,14 @@ and limitations under the License.
                 return this._depthRenderer[e.id];
               }),
                 (Y.a.prototype.disableDepthRenderer = function (e) {
-                  (e = e || this.activeCamera) &&
+                  if (
+                    (e = e || this.activeCamera) &&
                     this._depthRenderer &&
-                    this._depthRenderer[e.id] &&
+                    this._depthRenderer[e.id]
+                  ) {
                     (this._depthRenderer[e.id].dispose(),
-                    delete this._depthRenderer[e.id]);
+                      delete this._depthRenderer[e.id]);
+                  }
                 }));
               var Fs = (function () {
                 function e(e) {
@@ -128888,16 +130236,21 @@ and limitations under the License.
                     if (this.scene._depthRenderer)
                       for (var t in this.scene._depthRenderer) {
                         var i = this.scene._depthRenderer[t];
-                        i.useOnlyInActiveCamera || e.push(i.getDepthMap());
+                        if (!i.useOnlyInActiveCamera) {
+                          e.push(i.getDepthMap());
+                        }
                       }
                   }),
                   (e.prototype._gatherActiveCameraRenderTargets = function (e) {
                     if (this.scene._depthRenderer)
                       for (var t in this.scene._depthRenderer) {
                         var i = this.scene._depthRenderer[t];
-                        i.useOnlyInActiveCamera &&
-                          this.scene.activeCamera.id === t &&
+                        if (
+                          i.useOnlyInActiveCamera &&
+                          this.scene.activeCamera.id === t
+                        ) {
                           e.push(i.getDepthMap());
+                        }
                       }
                   }),
                   e
@@ -128905,7 +130258,9 @@ and limitations under the License.
               })();
               Ls._SceneComponentInitialization = function (e) {
                 var t = e._getComponent(Se.a.NAME_DEPTHRENDERER);
-                t || ((t = new Fs(e)), e._addComponent(t));
+                if (!t) {
+                  ((t = new Fs(e)), e._addComponent(t));
+                }
               };
               Ht.a.ShadersStore.linePixelShader =
                 "uniform vec4 color;\nvoid main(void) {\ngl_FragColor=color;\n}";
@@ -128948,7 +130303,7 @@ and limitations under the License.
                   return (
                     void 0 === e && (e = 0.95),
                     void 0 === t && (t = false),
-                    Ko.b.prototype.enableEdgesRendering.apply(this, arguments),
+                    Ko.b.prototype.enableEdgesRendering(),
                     this
                   );
                 }));
@@ -128985,7 +130340,7 @@ and limitations under the License.
                   }
                   return (
                     (e.prototype._prepareRessources = function () {
-                      this._lineShader ||
+                      if (!this._lineShader) {
                         ((this._lineShader = new vo.a(
                           "lineShader",
                           this._source.getScene(),
@@ -129000,8 +130355,9 @@ and limitations under the License.
                             ],
                           },
                         )),
-                        (this._lineShader.disableDepthWrite = true),
-                        (this._lineShader.backFaceCulling = false));
+                          (this._lineShader.disableDepthWrite = true),
+                          (this._lineShader.backFaceCulling = false));
+                      }
                     }),
                     (e.prototype._rebuild = function () {
                       var e = this._buffers[Si.b.PositionKind];
@@ -129063,8 +130419,9 @@ and limitations under the License.
                               : -1;
                       }),
                     (e.prototype._checkEdge = function (e, t, i, n, r) {
-                      (void 0 === t || a.x.Dot(i[e], i[t]) < this._epsilon) &&
+                      if (void 0 === t || a.x.Dot(i[e], i[t]) < this._epsilon) {
                         this.createLine(n, r, this._linesPositions.length / 3);
+                      }
                     }),
                     (e.prototype.createLine = function (e, t, i) {
                       (this._linesPositions.push(
@@ -129112,15 +130469,15 @@ and limitations under the License.
                       var e = this._source.getVerticesData(Si.b.PositionKind),
                         t = this._source.getIndices();
                       if (t && e) {
-                        var i,
-                          n,
-                          r = new Array(),
-                          o = new Array();
+                        var i;
+                        var n;
+                        var r = new Array();
+                        var o = new Array();
                         for (i = 0; i < t.length; i += 3) {
                           n = new Bs();
-                          var s = t[i],
-                            c = t[i + 1],
-                            u = t[i + 2];
+                          var s = t[i];
+                          var c = t[i + 1];
+                          var u = t[i + 2];
                           ((n.p0 = new a.x(
                             e[3 * s],
                             e[3 * s + 1],
@@ -129299,7 +130656,7 @@ and limitations under the License.
                 ks = (function (e) {
                   function t(t, i, n) {
                     (void 0 === i && (i = 0.95), void 0 === n && (n = false));
-                    var r = e.call(this, t, i, n, false) || this;
+                    var r = e(t, i, n, false) || this;
                     return (r._generateEdgesLines(), r);
                   }
                   return (
@@ -129400,7 +130757,9 @@ and limitations under the License.
                     (e.prototype.dispose = function () {}),
                     (e.prototype.render = function (e, t, i) {
                       var n = this;
-                      void 0 === i && (i = false);
+                      if (void 0 === i) {
+                        i = false;
+                      }
                       var r = this.scene,
                         o = r.getEngine(),
                         a =
@@ -129408,8 +130767,8 @@ and limitations under the License.
                           null !== t.visibleInstances[e._id] &&
                           void 0 !== t.visibleInstances[e._id];
                       if (this.isReady(e, a)) {
-                        var s = e.getRenderingMesh(),
-                          c = e.getMaterial();
+                        var s = e.getRenderingMesh();
+                        var c = e.getMaterial();
                         if (c && r.activeCamera) {
                           if (
                             (o.enableEffect(this._effect),
@@ -129444,12 +130803,13 @@ and limitations under the License.
                             c && c.needAlphaTesting())
                           ) {
                             var u = c.getAlphaTestTexture();
-                            u &&
+                            if (u) {
                               (this._effect.setTexture("diffuseSampler", u),
-                              this._effect.setMatrix(
-                                "diffuseMatrix",
-                                u.getTextureMatrix(),
-                              ));
+                                this._effect.setMatrix(
+                                  "diffuseMatrix",
+                                  u.getTextureMatrix(),
+                                ));
+                            }
                           }
                           (o.setZOffset(-this.zOffset),
                             s._processRendering(
@@ -129561,12 +130921,12 @@ and limitations under the License.
                           this.render(t, i, true),
                           this._engine.setAlphaMode(n));
                       }
-                      e.renderOutline &&
-                        this._savedDepthWrite &&
+                      if (e.renderOutline && this._savedDepthWrite) {
                         (this._engine.setDepthWrite(true),
-                        this._engine.setColorWrite(false),
-                        this.render(t, i),
-                        this._engine.setColorWrite(true));
+                          this._engine.setColorWrite(false),
+                          this.render(t, i),
+                          this._engine.setColorWrite(true));
+                      }
                     }),
                     (e._StencilReference = 4),
                     e
@@ -129627,25 +130987,27 @@ and limitations under the License.
                       this._animationStarted = false;
                     }),
                     (e.prototype._animate = function (e) {
-                      this._animationStarted &&
+                      if (this._animationStarted) {
                         ((this._time += e),
-                        this._time > this._delay &&
-                          ((this._time = this._time % this._delay),
-                          (this.cellIndex += this._direction),
-                          ((this._direction > 0 &&
-                            this.cellIndex > this._toIndex) ||
-                            (this._direction < 0 &&
-                              this.cellIndex < this._fromIndex)) &&
-                            (this._loopAnimation
-                              ? (this.cellIndex =
-                                  this._direction > 0
-                                    ? this._fromIndex
-                                    : this._toIndex)
-                              : ((this.cellIndex = this._toIndex),
-                                (this._animationStarted = false),
-                                this._onAnimationEnd && this._onAnimationEnd(),
-                                this.disposeWhenFinishedAnimating &&
-                                  this.dispose()))));
+                          this._time > this._delay &&
+                            ((this._time = this._time % this._delay),
+                            (this.cellIndex += this._direction),
+                            ((this._direction > 0 &&
+                              this.cellIndex > this._toIndex) ||
+                              (this._direction < 0 &&
+                                this.cellIndex < this._fromIndex)) &&
+                              (this._loopAnimation
+                                ? (this.cellIndex =
+                                    this._direction > 0
+                                      ? this._fromIndex
+                                      : this._toIndex)
+                                : ((this.cellIndex = this._toIndex),
+                                  (this._animationStarted = false),
+                                  this._onAnimationEnd &&
+                                    this._onAnimationEnd(),
+                                  this.disposeWhenFinishedAnimating &&
+                                    this.dispose()))));
+                      }
                     }),
                     (e.prototype.dispose = function () {
                       for (var e = 0; e < this._manager.sprites.length; e++)
@@ -129715,20 +131077,24 @@ and limitations under the License.
                   );
                 }),
                 (Y.a.prototype.setPointerOverSprite = function (e) {
-                  this._pointerOverSprite !== e &&
+                  if (this._pointerOverSprite !== e) {
                     (this._pointerOverSprite &&
                       this._pointerOverSprite.actionManager &&
                       this._pointerOverSprite.actionManager.processTrigger(
                         _.a.ACTION_OnPointerOutTrigger,
                         l.a.CreateNewFromSprite(this._pointerOverSprite, this),
                       ),
-                    (this._pointerOverSprite = e),
-                    this._pointerOverSprite &&
-                      this._pointerOverSprite.actionManager &&
-                      this._pointerOverSprite.actionManager.processTrigger(
-                        _.a.ACTION_OnPointerOverTrigger,
-                        l.a.CreateNewFromSprite(this._pointerOverSprite, this),
-                      ));
+                      (this._pointerOverSprite = e),
+                      this._pointerOverSprite &&
+                        this._pointerOverSprite.actionManager &&
+                        this._pointerOverSprite.actionManager.processTrigger(
+                          _.a.ACTION_OnPointerOverTrigger,
+                          l.a.CreateNewFromSprite(
+                            this._pointerOverSprite,
+                            this,
+                          ),
+                        ));
+                  }
                 }),
                 (Y.a.prototype.getPointerOverSprite = function () {
                   return this._pointerOverSprite;
@@ -129854,11 +131220,12 @@ and limitations under the License.
                             l.a.CreateNewFromSprite(i.pickedSprite, r, n),
                           );
                       }
-                      i.pickedSprite.actionManager &&
+                      if (i.pickedSprite.actionManager) {
                         i.pickedSprite.actionManager.processTrigger(
                           _.a.ACTION_OnPickDownTrigger,
                           l.a.CreateNewFromSprite(i.pickedSprite, r, n),
                         );
+                      }
                     }
                     return i;
                   }),
@@ -129872,7 +131239,7 @@ and limitations under the License.
                         false,
                         r.cameraToUseForPointers || void 0,
                       );
-                      o &&
+                      if (o) {
                         (o.hit &&
                           o.pickedSprite &&
                           o.pickedSprite.actionManager &&
@@ -129886,13 +131253,18 @@ and limitations under the License.
                                 _.a.ACTION_OnPickTrigger,
                                 l.a.CreateNewFromSprite(o.pickedSprite, r, n),
                               ))),
-                        r._pickedDownSprite &&
-                          r._pickedDownSprite.actionManager &&
-                          r._pickedDownSprite !== o.pickedSprite &&
-                          r._pickedDownSprite.actionManager.processTrigger(
-                            _.a.ACTION_OnPickOutTrigger,
-                            l.a.CreateNewFromSprite(r._pickedDownSprite, r, n),
-                          ));
+                          r._pickedDownSprite &&
+                            r._pickedDownSprite.actionManager &&
+                            r._pickedDownSprite !== o.pickedSprite &&
+                            r._pickedDownSprite.actionManager.processTrigger(
+                              _.a.ACTION_OnPickOutTrigger,
+                              l.a.CreateNewFromSprite(
+                                r._pickedDownSprite,
+                                r,
+                                n,
+                              ),
+                            ));
+                      }
                     }
                     return i;
                   }),
@@ -130137,14 +131509,14 @@ and limitations under the License.
                           s++
                         ) {
                           var c = this.sprites[s];
-                          c &&
-                            c.isVisible &&
+                          if (c && c.isVisible) {
                             ((a = false),
-                            c._animate(i),
-                            this._appendSpriteVertex(o++, c, 0, 0, r),
-                            this._appendSpriteVertex(o++, c, 1, 0, r),
-                            this._appendSpriteVertex(o++, c, 1, 1, r),
-                            this._appendSpriteVertex(o++, c, 0, 1, r));
+                              c._animate(i),
+                              this._appendSpriteVertex(o++, c, 0, 0, r),
+                              this._appendSpriteVertex(o++, c, 1, 0, r),
+                              this._appendSpriteVertex(o++, c, 1, 1, r),
+                              this._appendSpriteVertex(o++, c, 0, 1, r));
+                          }
                         }
                         if (!a) {
                           this._buffer.update(this._vertexData);
@@ -130259,11 +131631,12 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype._setErrorObject = function (e, t) {
-                      this._errorObject ||
-                        (this._errorObject = {
+                      if (!this._errorObject) {
+                        this._errorObject = {
                           message: e,
                           exception: t,
-                        });
+                        };
+                      }
                     }),
                     (e.prototype.run = function (e, t, i) {
                       var n = this;
@@ -130317,7 +131690,7 @@ and limitations under the License.
                 },
                 qs = (function (e) {
                   function t(t, i, n, r) {
-                    var o = e.call(this, t) || this;
+                    var o = e(t) || this;
                     return (
                       (o.name = t),
                       (o.meshesNames = i),
@@ -130353,7 +131726,7 @@ and limitations under the License.
                 })(Ks),
                 Zs = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t) || this;
+                    var n = e(t) || this;
                     return ((n.name = t), (n.url = i), n);
                   }
                   return (
@@ -130369,7 +131742,9 @@ and limitations under the License.
                         false,
                         false,
                         function (e, t) {
-                          e && i(e.status + " " + e.statusText, t);
+                          if (e) {
+                            i(e.status + " " + e.statusText, t);
+                          }
                         },
                       );
                     }),
@@ -130378,7 +131753,7 @@ and limitations under the License.
                 })(Ks),
                 Js = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t) || this;
+                    var n = e(t) || this;
                     return ((n.name = t), (n.url = i), n);
                   }
                   return (
@@ -130394,7 +131769,9 @@ and limitations under the License.
                         true,
                         true,
                         function (e, t) {
-                          e && i(e.status + " " + e.statusText, t);
+                          if (e) {
+                            i(e.status + " " + e.statusText, t);
+                          }
                         },
                       );
                     }),
@@ -130403,7 +131780,7 @@ and limitations under the License.
                 })(Ks),
                 $s = (function (e) {
                   function t(t, i) {
-                    var n = e.call(this, t) || this;
+                    var n = e(t) || this;
                     return ((n.name = t), (n.url = i), n);
                   }
                   return (
@@ -130425,8 +131802,10 @@ and limitations under the License.
                 })(Ks),
                 ec = (function (e) {
                   function t(t, i, n, r, o) {
-                    void 0 === o && (o = je.a.TRILINEAR_SAMPLINGMODE);
-                    var a = e.call(this, t) || this;
+                    if (void 0 === o) {
+                      o = je.a.TRILINEAR_SAMPLINGMODE;
+                    }
+                    var a = e(t) || this;
                     return (
                       (a.name = t),
                       (a.url = i),
@@ -130458,7 +131837,7 @@ and limitations under the License.
                 })(Ks),
                 tc = (function (e) {
                   function t(t, i, n, r, o) {
-                    var a = e.call(this, t) || this;
+                    var a = e(t) || this;
                     return (
                       (a.name = t),
                       (a.url = i),
@@ -130494,7 +131873,7 @@ and limitations under the License.
                       void 0 === o && (o = true),
                       void 0 === a && (a = false),
                       void 0 === s && (s = false));
-                    var c = e.call(this, t) || this;
+                    var c = e(t) || this;
                     return (
                       (c.name = t),
                       (c.url = i),
@@ -130531,7 +131910,7 @@ and limitations under the License.
                 nc = (function (e) {
                   function t(t, i, n, r, o) {
                     (void 0 === r && (r = false), void 0 === o && (o = true));
-                    var a = e.call(this, t) || this;
+                    var a = e(t) || this;
                     return (
                       (a.name = t),
                       (a.url = i),
@@ -130592,7 +131971,9 @@ and limitations under the License.
                       return (this._tasks.push(i), i);
                     }),
                     (e.prototype.addTextureTask = function (e, t, i, n, r) {
-                      void 0 === r && (r = je.a.TRILINEAR_SAMPLINGMODE);
+                      if (void 0 === r) {
+                        r = je.a.TRILINEAR_SAMPLINGMODE;
+                      }
                       var o = new ec(e, t, i, n, r);
                       return (this._tasks.push(o), o);
                     }),
@@ -130625,7 +132006,9 @@ and limitations under the License.
                       }),
                     (e.prototype.removeTask = function (e) {
                       var t = this._tasks.indexOf(e);
-                      t > -1 && this._tasks.splice(t, 1);
+                      if (t > -1) {
+                        this._tasks.splice(t, 1);
+                      }
                     }),
                     (e.prototype._decreaseWaitingTasksCount = function (e) {
                       this._waitingTasksCount--;
@@ -130649,7 +132032,9 @@ and limitations under the License.
                       }
                       if (0 === this._waitingTasksCount) {
                         try {
-                          this.onFinish && this.onFinish(this._tasks);
+                          if (this.onFinish) {
+                            this.onFinish(this._tasks);
+                          }
                           for (
                             var t = this._tasks.slice(), i = 0, n = t;
                             i < n.length;
@@ -130657,7 +132042,9 @@ and limitations under the License.
                           )
                             if ((e = n[i]).taskState === js.DONE) {
                               var r = this._tasks.indexOf(e);
-                              r > -1 && this._tasks.splice(r, 1);
+                              if (r > -1) {
+                                this._tasks.splice(r, 1);
+                              }
                             }
                           this.onTasksDoneObservable.notifyObservers(
                             this._tasks,
@@ -130715,11 +132102,14 @@ and limitations under the License.
                           ),
                           this
                         );
-                      this.useDefaultLoadingScreen &&
+                      if (this.useDefaultLoadingScreen) {
                         this._scene.getEngine().displayLoadingUI();
+                      }
                       for (var e = 0; e < this._tasks.length; e++) {
                         var t = this._tasks[e];
-                        t.taskState === js.INIT && this._runTask(t);
+                        if (t.taskState === js.INIT) {
+                          this._runTask(t);
+                        }
                       }
                       return this;
                     }),
@@ -130807,7 +132197,8 @@ and limitations under the License.
                         n < this._meshes.length;
                         n++
                       ) {
-                        var r, o;
+                        var r;
+                        var o;
                         if (
                           this._meshes[n] &&
                           (o = (r = this._meshes[n]).getBoundingInfo())
@@ -130815,7 +132206,9 @@ and limitations under the License.
                           var s = o.boundingBox.centerWorld
                             .subtract(e)
                             .lengthSquared();
-                          s < i && ((this._centerMesh = r), (i = s));
+                          if (s < i) {
+                            ((this._centerMesh = r), (i = s));
+                          }
                         }
                       }
                     }),
@@ -130827,7 +132220,9 @@ and limitations under the License.
                       return (e.unshift(this._centerMesh), e);
                     }),
                     (e.prototype.explode = function (e) {
-                      void 0 === e && (e = 1);
+                      if (void 0 === e) {
+                        e = 1;
+                      }
                       for (var t = 0; t < this._meshes.length; t++)
                         this._meshes[t] &&
                           this._meshesOrigins[t] &&
@@ -130875,47 +132270,49 @@ and limitations under the License.
                     }),
                     (e.prototype.monitorElementForDragNDrop = function (e) {
                       var t = this;
-                      e &&
+                      if (e) {
                         ((this._elementToMonitor = e),
-                        (this._dragEnterHandler = function (e) {
-                          t.drag(e);
-                        }),
-                        (this._dragOverHandler = function (e) {
-                          t.drag(e);
-                        }),
-                        (this._dropHandler = function (e) {
-                          t.drop(e);
-                        }),
-                        this._elementToMonitor.addEventListener(
-                          "dragenter",
-                          this._dragEnterHandler,
-                          false,
-                        ),
-                        this._elementToMonitor.addEventListener(
-                          "dragover",
-                          this._dragOverHandler,
-                          false,
-                        ),
-                        this._elementToMonitor.addEventListener(
-                          "drop",
-                          this._dropHandler,
-                          false,
-                        ));
+                          (this._dragEnterHandler = function (e) {
+                            t.drag(e);
+                          }),
+                          (this._dragOverHandler = function (e) {
+                            t.drag(e);
+                          }),
+                          (this._dropHandler = function (e) {
+                            t.drop(e);
+                          }),
+                          this._elementToMonitor.addEventListener(
+                            "dragenter",
+                            this._dragEnterHandler,
+                            false,
+                          ),
+                          this._elementToMonitor.addEventListener(
+                            "dragover",
+                            this._dragOverHandler,
+                            false,
+                          ),
+                          this._elementToMonitor.addEventListener(
+                            "drop",
+                            this._dropHandler,
+                            false,
+                          ));
+                      }
                     }),
                     (e.prototype.dispose = function () {
-                      this._elementToMonitor &&
+                      if (this._elementToMonitor) {
                         (this._elementToMonitor.removeEventListener(
                           "dragenter",
                           this._dragEnterHandler,
                         ),
-                        this._elementToMonitor.removeEventListener(
-                          "dragover",
-                          this._dragOverHandler,
-                        ),
-                        this._elementToMonitor.removeEventListener(
-                          "drop",
-                          this._dropHandler,
-                        ));
+                          this._elementToMonitor.removeEventListener(
+                            "dragover",
+                            this._dragOverHandler,
+                          ),
+                          this._elementToMonitor.removeEventListener(
+                            "drop",
+                            this._dropHandler,
+                          ));
+                      }
                     }),
                     (e.prototype.renderFunction = function () {
                       if (
@@ -130925,7 +132322,9 @@ and limitations under the License.
                       ) {
                         if (this._textureLoadingCallback) {
                           var e = this._currentScene.getWaitingItemsCount();
-                          e > 0 && this._textureLoadingCallback(e);
+                          if (e > 0) {
+                            this._textureLoadingCallback(e);
+                          }
                         }
                         this._currentScene.render();
                       }
@@ -130956,14 +132355,16 @@ and limitations under the License.
                               })
                             : c.isDirectory && r._traverseFolder(c, t, i, n);
                         }
-                        --i.count && n();
+                        if (--i.count) {
+                          n();
+                        }
                       });
                     }),
                     (e.prototype._processFiles = function (t) {
                       for (var i = 0; i < t.length; i++) {
-                        var n = t[i].correctName.toLowerCase(),
-                          r = n.split(".").pop();
-                        this.onProcessFileCallback(t[i], n, r) &&
+                        var n = t[i].correctName.toLowerCase();
+                        var r = n.split(".").pop();
+                        if (this.onProcessFileCallback(t[i], n, r)) {
                           (("babylon" !== r &&
                             "stl" !== r &&
                             "obj" !== r &&
@@ -130972,7 +132373,8 @@ and limitations under the License.
                             -1 !== n.indexOf(".binary.babylon") ||
                             -1 !== n.indexOf(".incremental.babylon") ||
                             (this._sceneFileToLoad = t[i]),
-                          (e.FilesToLoad[n] = t[i]));
+                            (e.FilesToLoad[n] = t[i]));
+                        }
                       }
                     }),
                     (e.prototype.loadFiles = function (e) {
@@ -131002,9 +132404,9 @@ and limitations under the License.
                           o < this._filesToLoad.length;
                           o++
                         ) {
-                          var a = this._filesToLoad[o],
-                            s = a.name.toLowerCase(),
-                            c = void 0;
+                          var a = this._filesToLoad[o];
+                          var s = a.name.toLowerCase();
+                          var c = void 0;
                           if (((a.correctName = s), r)) {
                             var u = r[o];
                             u.getAsEntry
@@ -131018,11 +132420,7 @@ and limitations under the License.
                           (this._processFiles(i), this._processReload());
                         else
                           for (
-                            var l = {
-                                count: n.length,
-                              },
-                              h = 0,
-                              f = n;
+                            var l = { count: n.length }, h = 0, f = n;
                             h < f.length;
                             h++
                           ) {
@@ -131051,7 +132449,9 @@ and limitations under the License.
                               this._sceneFileToLoad,
                               this._engine,
                               function (t) {
-                                e._progressCallback && e._progressCallback(t);
+                                if (e._progressCallback) {
+                                  e._progressCallback(t);
+                                }
                               },
                             )
                             .then(function (t) {
@@ -131069,12 +132469,13 @@ and limitations under the License.
                                 }));
                             })
                             .catch(function (t) {
-                              e._errorCallback &&
+                              if (e._errorCallback) {
                                 e._errorCallback(
                                   e._sceneFileToLoad,
                                   e._currentScene,
                                   t.message,
                                 );
+                              }
                             }))
                         : g.a.Error("Please provide a valid .babylon file.");
                     }),
@@ -131102,7 +132503,7 @@ and limitations under the License.
                     (void 0 === t && (t = 0),
                       void 0 === i && (i = 1024),
                       void 0 === n && (n = 0.5));
-                    var r = e.call(this, t) || this;
+                    var r = e(t) || this;
                     return (
                       (r.priority = t),
                       (r.maximumSize = i),
@@ -131123,8 +132524,9 @@ and limitations under the License.
                         var r = e.textures[n];
                         if (r.canRescale && !r.getContext) {
                           var o = r.getSize();
-                          Math.max(o.width, o.height) > this.maximumSize &&
+                          if (Math.max(o.width, o.height) > this.maximumSize) {
                             (r.scale(this.step), (i = false));
+                          }
                         }
                       }
                       return i;
@@ -131137,7 +132539,7 @@ and limitations under the License.
                     (void 0 === t && (t = 0),
                       void 0 === i && (i = 2),
                       void 0 === n && (n = 0.25));
-                    var r = e.call(this, t) || this;
+                    var r = e(t) || this;
                     return (
                       (r.priority = t),
                       (r.maximumScale = i),
@@ -131178,7 +132580,7 @@ and limitations under the License.
                 })(lc),
                 dc = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -131193,7 +132595,7 @@ and limitations under the License.
                 })(lc),
                 pc = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -131211,7 +132613,7 @@ and limitations under the License.
                 })(lc),
                 mc = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -131229,7 +132631,7 @@ and limitations under the License.
                 })(lc),
                 gc = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -131246,7 +132648,7 @@ and limitations under the License.
                 })(lc),
                 _c = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -131264,7 +132666,7 @@ and limitations under the License.
                 })(lc),
                 vc = (function (e) {
                   function t() {
-                    return (null !== e && e.apply(this, arguments)) || this;
+                    return (null !== e && e()) || this;
                   }
                   return (
                     h.d(t, e),
@@ -131282,18 +132684,18 @@ and limitations under the License.
                 })(lc),
                 yc = (function (e) {
                   function t() {
-                    var t = (null !== e && e.apply(this, arguments)) || this;
+                    var t = (null !== e && e()) || this;
                     return (
                       (t._canBeMerged = function (e) {
                         if (!(e instanceof me.a)) return false;
                         var t = e;
                         return !(
-                          t.isDisposed() ||
-                          !t.isVisible ||
-                          !t.isEnabled() ||
-                          t.instances.length > 0 ||
-                          t.skeleton ||
-                          t.hasLODLevels
+                          e.isDisposed() ||
+                          !e.isVisible ||
+                          !e.isEnabled() ||
+                          e.instances.length > 0 ||
+                          e.skeleton ||
+                          e.hasLODLevels
                         );
                       }),
                       t
@@ -131320,27 +132722,32 @@ and limitations under the License.
                         a < o;
                         a++
                       ) {
-                        var s = new Array(),
-                          c = r[a];
+                        var s = new Array();
+                        var c = r[a];
                         if (this._canBeMerged(c)) {
                           s.push(c);
                           for (var u = a + 1; u < o; u++) {
                             var l = r[u];
-                            this._canBeMerged(l) &&
+                            if (
+                              this._canBeMerged(l) &&
                               l.material === c.material &&
-                              l.checkCollisions === c.checkCollisions &&
+                              l.checkCollisions === c.checkCollisions
+                            ) {
                               (s.push(l), o--, r.splice(u, 1), u--);
+                            }
+                          }
+                          if (!(s.length < 2)) {
+                            me.a.MergeMeshes(s, void 0, true);
                           }
-                          s.length < 2 || me.a.MergeMeshes(s, void 0, true);
                         }
                       }
                       var h = e;
                       return (
-                        h.createOrUpdateSelectionOctree &&
+                        e.createOrUpdateSelectionOctree &&
                           (null != n
-                            ? n && h.createOrUpdateSelectionOctree()
+                            ? n && e.createOrUpdateSelectionOctree()
                             : t.UpdateSelectionTree &&
-                              h.createOrUpdateSelectionOctree()),
+                              e.createOrUpdateSelectionOctree()),
                         true
                       );
                     }),
@@ -131361,7 +132768,9 @@ and limitations under the License.
                       return (this.optimizations.push(e), this);
                     }),
                     (e.prototype.addCustomOptimization = function (e, t, i) {
-                      void 0 === i && (i = 0);
+                      if (void 0 === i) {
+                        i = 0;
+                      }
                       var n = new gc(i);
                       return (
                         (n.onApply = e),
@@ -131518,19 +132927,20 @@ and limitations under the License.
                     }),
                     (e.prototype.start = function () {
                       var e = this;
-                      this._isRunning ||
+                      if (!this._isRunning) {
                         ((this._isRunning = true),
-                        this._scene.executeWhenReady(function () {
-                          setTimeout(function () {
-                            e._checkCurrentState();
-                          }, e._trackerDuration);
-                        }));
+                          this._scene.executeWhenReady(function () {
+                            setTimeout(function () {
+                              e._checkCurrentState();
+                            }, e._trackerDuration);
+                          }));
+                      }
                     }),
                     (e.prototype._checkCurrentState = function () {
                       var e = this;
                       if (this._isRunning) {
-                        var t = this._scene,
-                          i = this._options;
+                        var t = this._scene;
+                        var i = this._options;
                         if (
                           ((this._currentFrameRate = Math.round(
                             t.getEngine().getFps(),
@@ -131550,12 +132960,13 @@ and limitations under the License.
                           o++
                         ) {
                           var a = i.optimizations[o];
-                          a.priority === this._currentPriorityLevel &&
+                          if (a.priority === this._currentPriorityLevel) {
                             ((r = false),
-                            (n = n && a.apply(t, this)),
-                            this.onNewOptimizationAppliedObservable.notifyObservers(
-                              a,
-                            ));
+                              (n = n && a.apply(t, this)),
+                              this.onNewOptimizationAppliedObservable.notifyObservers(
+                                a,
+                              ));
+                          }
                         }
                         if (r)
                           return (
@@ -131604,10 +133015,10 @@ and limitations under the License.
                 })(),
                 Tc = [],
                 Ac = function (e, t) {
-                  Tc[e.id] ||
-                    e.doNotSerialize ||
+                  if (!(Tc[e.id] || e.doNotSerialize)) {
                     (t.vertexData.push(e.serializeVerticeData()),
-                    (Tc[e.id] = true));
+                      (Tc[e.id] = true));
+                  }
                 },
                 xc = function (e, t) {
                   var i = {},
@@ -131650,23 +133061,28 @@ and limitations under the License.
                         t.isPhysicsEnabled())
                       ) {
                         var a = t.getPhysicsEngine();
-                        a &&
+                        if (a) {
                           ((o.physicsEnabled = true),
-                          (o.physicsGravity = a.gravity.asArray()),
-                          (o.physicsEngine = a.getPhysicsPluginName()));
+                            (o.physicsGravity = a.gravity.asArray()),
+                            (o.physicsEngine = a.getPhysicsPluginName()));
+                        }
                       }
                       (t.metadata && (o.metadata = t.metadata),
                         (o.morphTargetManagers = []));
                       for (var s = 0, c = t.meshes; s < c.length; s++) {
                         var u = (g = c[s]).morphTargetManager;
-                        u && o.morphTargetManagers.push(u.serialize());
+                        if (u) {
+                          o.morphTargetManagers.push(u.serialize());
+                        }
                       }
                       for (o.lights = [], i = 0; i < t.lights.length; i++)
                         (n = t.lights[i]).doNotSerialize ||
                           o.lights.push(n.serialize());
                       for (o.cameras = [], i = 0; i < t.cameras.length; i++) {
                         var l = t.cameras[i];
-                        l.doNotSerialize || o.cameras.push(l.serialize());
+                        if (!l.doNotSerialize) {
+                          o.cameras.push(l.serialize());
+                        }
                       }
                       if (
                         (t.activeCamera &&
@@ -131706,7 +133122,9 @@ and limitations under the License.
                         i++
                       ) {
                         var d = t.skeletons[i];
-                        d.doNotSerialize || o.skeletons.push(d.serialize());
+                        if (!d.doNotSerialize) {
+                          o.skeletons.push(d.serialize());
+                        }
                       }
                       for (
                         o.transformNodes = [], i = 0;
@@ -131727,16 +133145,23 @@ and limitations under the License.
                       var p = t.getGeometries();
                       for (i = 0; i < p.length; i++) {
                         var m = p[i];
-                        m.isReady() && Ac(m, o.geometries);
+                        if (m.isReady()) {
+                          Ac(m, o.geometries);
+                        }
                       }
                       for (o.meshes = [], i = 0; i < t.meshes.length; i++) {
                         var g;
                         if ((g = t.meshes[i]) instanceof me.a) {
                           var v = g;
-                          v.doNotSerialize ||
-                            (v.delayLoadState !== _.a.DELAYLOADSTATE_LOADED &&
-                              v.delayLoadState !== _.a.DELAYLOADSTATE_NONE) ||
-                            o.meshes.push(xc(v, o));
+                          if (
+                            !(
+                              g.doNotSerialize ||
+                              (g.delayLoadState !== _.a.DELAYLOADSTATE_LOADED &&
+                                g.delayLoadState !== _.a.DELAYLOADSTATE_NONE)
+                            )
+                          ) {
+                            o.meshes.push(xc(g, o));
+                          }
                         }
                       }
                       for (
@@ -131747,8 +133172,9 @@ and limitations under the License.
                         o.particleSystems.push(
                           t.particleSystems[i].serialize(),
                         );
-                      t.actionManager &&
-                        (o.actions = t.actionManager.serialize("scene"));
+                      if (t.actionManager) {
+                        o.actions = t.actionManager.serialize("scene");
+                      }
                       for (
                         var y = 0, b = t._serializableComponents;
                         y < b.length;
@@ -131769,9 +133195,9 @@ and limitations under the License.
                         for (var o = 0; o < t.length; ++o)
                           (n &&
                             t[o].getDescendants().forEach(function (e) {
-                              e instanceof me.a &&
-                                t.indexOf(e) < 0 &&
+                              if (e instanceof me.a && t.indexOf(e) < 0) {
                                 t.push(e);
+                              }
                             }),
                             i &&
                               t[o].parent &&
@@ -131799,11 +133225,12 @@ and limitations under the License.
                                     );
                                     for (
                                       var i = function (e) {
-                                          e &&
-                                            (t.materials.some(function (t) {
+                                          if (e) {
+                                            t.materials.some(function (t) {
                                               return t.id === e.id;
                                             }) ||
-                                              t.materials.push(e.serialize()));
+                                              t.materials.push(e.serialize());
+                                          }
                                         },
                                         n = 0,
                                         r = e.material.subMaterials;
@@ -131850,7 +133277,9 @@ and limitations under the License.
                   function e() {}
                   return (
                     (e.CreateResizedCopy = function (e, t, i, n) {
-                      void 0 === n && (n = true);
+                      if (void 0 === n) {
+                        n = true;
+                      }
                       var r = e.getScene(),
                         o = r.getEngine(),
                         a = new li(
@@ -131900,12 +133329,13 @@ and limitations under the License.
                             t.setTexture("textureSampler", e);
                           };
                           var t = a.getInternalTexture();
-                          t &&
+                          if (t) {
                             (r.postProcessManager.directRender([s], t),
-                            o.unBindFramebuffer(t),
-                            a.disposeFramebufferObjects(),
-                            s.dispose(),
-                            (t.isReady = true));
+                              o.unBindFramebuffer(t),
+                              a.disposeFramebufferObjects(),
+                              s.dispose(),
+                              (t.isReady = true));
+                          }
                         }),
                         a
                       );
@@ -131956,11 +133386,14 @@ and limitations under the License.
                       configurable: true,
                     }),
                     (e.prototype.stopRecording = function () {
-                      this._canvas &&
+                      if (
+                        this._canvas &&
                         this._mediaRecorder &&
-                        this.isRecording &&
+                        this.isRecording
+                      ) {
                         ((this._canvas.isRecording = false),
-                        this._mediaRecorder.stop());
+                          this._mediaRecorder.stop());
+                      }
                     }),
                     (e.prototype.startRecording = function (e, t) {
                       var n = this;
@@ -131999,7 +133432,9 @@ and limitations under the License.
                         (this._reject = null));
                     }),
                     (e.prototype._handleDataAvailable = function (e) {
-                      e.data.size > 0 && this._recordedChunks.push(e.data);
+                      if (e.data.size > 0) {
+                        this._recordedChunks.push(e.data);
+                      }
                     }),
                     (e.prototype._handleError = function (e) {
                       if ((this.stopRecording(), !this._reject))
@@ -132050,12 +133485,14 @@ and limitations under the License.
                       var s = Ee.h._ScreenshotCanvas.getContext("2d"),
                         c = e.getRenderWidth() / e.getRenderHeight(),
                         u = o,
-                        l = u / c;
-                      l > a && (u = (l = a) * c);
-                      var h = Math.max(0, o - u) / 2,
+                        l = o / c;
+                      if (l > a) {
+                        u = (l = a) * c;
+                      }
+                      var h = Math.max(0, o - o) / 2,
                         f = Math.max(0, a - l) / 2,
                         d = e.getRenderingCanvas();
-                      (s && d && s.drawImage(d, h, f, u, l),
+                      (s && d && s.drawImage(d, h, f, o, l),
                         Ee.h.EncodeScreenshotCanvasData(n, r));
                     }),
                     (e.CreateScreenshotUsingRenderTarget = function (
@@ -132103,8 +133540,9 @@ and limitations under the License.
                       }
                       var l = t.getScene(),
                         h = null;
-                      l.activeCamera !== t &&
+                      if (l.activeCamera !== t) {
                         ((h = l.activeCamera), (l.activeCamera = t));
+                      }
                       var f = e.getRenderingCanvas();
                       if (f) {
                         var d = {
@@ -133819,8 +135257,8 @@ and limitations under the License.
                     var r = t.split("||");
                     for (var o in r)
                       if (r.hasOwnProperty(o)) {
-                        var a = e._SimplifyNegation(r[o].trim()),
-                          s = a.split("&&");
+                        var a = e._SimplifyNegation(r[o].trim());
+                        var s = a.split("&&");
                         if (s.length > 1)
                           for (var c = 0; c < s.length; ++c) {
                             var u = e._SimplifyNegation(s[c].trim());
@@ -134081,9 +135519,9 @@ and limitations under the License.
                               if (null != e)
                                 if (void 0 !== e._state) {
                                   var t = e;
-                                  (a._children.push(t),
-                                    (t._parent = a),
-                                    (a = t));
+                                  (a._children.push(e),
+                                    (e._parent = a),
+                                    (a = e));
                                 } else a._result = e;
                             } else a._reject(n._reason);
                           }),
@@ -134119,9 +135557,9 @@ and limitations under the License.
                         )
                           if (void 0 !== t._state) {
                             var i = t;
-                            ((i._parent = this),
-                              i._moveChildren(this._children),
-                              (e = i._result));
+                            ((t._parent = this),
+                              t._moveChildren(this._children),
+                              (e = t._result));
                           } else e = t;
                         this._result = e;
                         for (var n = 0, o = this._children; n < o.length; n++)
@@ -134172,8 +135610,9 @@ and limitations under the License.
                           );
                         },
                         function (e) {
-                          t.rootPromise._state !== r.Rejected &&
+                          if (t.rootPromise._state !== r.Rejected) {
                             t.rootPromise._reject(e);
+                          }
                         },
                       );
                     }),
@@ -134197,7 +135636,9 @@ and limitations under the License.
                               return (i && (i._resolve(e), (i = null)), null);
                             },
                             function (e) {
-                              i && (i._reject(e), (i = null));
+                              if (i) {
+                                (i._reject(e), (i = null));
+                              }
                             },
                           );
                       return i;
@@ -134243,7 +135684,9 @@ and limitations under the License.
                     configurable: true,
                   }),
                   (e.prototype._handlesSpectorRebuildCallback = function (e) {
-                    e && this.program && e(this.program);
+                    if (e && this.program) {
+                      e(this.program);
+                    }
                   }),
                   e
                 );
@@ -134496,11 +135939,12 @@ and limitations under the License.
                           var n = this._particleSystems.data[i];
                           if (0 !== (t && t.layerMask & n.layerMask)) {
                             var r = n.emitter;
-                            (r.position && e && -1 === e.indexOf(r)) ||
+                            if (!(r.position && e && -1 === e.indexOf(r))) {
                               this._scene._activeParticles.addCount(
                                 n.render(),
                                 false,
                               );
+                            }
                           }
                         }
                         this._scene.onAfterParticlesRenderingObservable.notifyObservers(
@@ -134519,7 +135963,9 @@ and limitations under the License.
                         );
                         for (var t = 0; t < this._spriteManagers.length; t++) {
                           var i = this._spriteManagers.data[t];
-                          0 !== (e && e.layerMask & i.layerMask) && i.render();
+                          if (0 !== (e && e.layerMask & i.layerMask)) {
+                            i.render();
+                          }
                         }
                         this._scene.onAfterSpritesRenderingObservable.notifyObservers(
                           this._scene,
@@ -134556,7 +136002,7 @@ and limitations under the License.
               };
               var l = (function (e) {
                 function t(t, i) {
-                  var n = e.call(this, t, i.getScene()) || this;
+                  var n = e(t, i.getScene()) || this;
                   return (
                     (n._indexInSourceMeshInstanceArray = -1),
                     i.addInstance(n),
@@ -134621,11 +136067,14 @@ and limitations under the License.
                       return this._sourceMesh.renderingGroupId;
                     },
                     set: function (e) {
-                      this._sourceMesh &&
-                        e !== this._sourceMesh.renderingGroupId &&
+                      if (
+                        this._sourceMesh &&
+                        e !== this._sourceMesh.renderingGroupId
+                      ) {
                         o.a.Warn(
                           "Note - setting renderingGroupId of an instanced mesh has no effect on the scene",
                         );
+                      }
                     },
                     enumerable: true,
                     configurable: true,
@@ -134733,12 +136182,15 @@ and limitations under the License.
                     return false;
                   }),
                   (t.prototype._postActivate = function () {
-                    this._edgesRenderer &&
+                    if (
+                      this._edgesRenderer &&
                       this._edgesRenderer.isEnabled &&
-                      this._sourceMesh._renderingGroup &&
+                      this._sourceMesh._renderingGroup
+                    ) {
                       this._sourceMesh._renderingGroup._edgesRenderers.push(
                         this._edgesRenderer,
                       );
+                    }
                   }),
                   (t.prototype.getWorldMatrix = function () {
                     if (
@@ -134757,7 +136209,7 @@ and limitations under the License.
                         r.t.Matrix[0]
                       );
                     }
-                    return e.prototype.getWorldMatrix.call(this);
+                    return e.prototype.getWorldMatrix();
                   }),
                   Object.defineProperty(t.prototype, "isAnInstance", {
                     get: function () {
@@ -134810,14 +136262,16 @@ and limitations under the License.
                     )
                       for (var r = 0; r < this.getScene().meshes.length; r++) {
                         var o = this.getScene().meshes[r];
-                        o.parent === this && o.clone(o.name, n);
+                        if (o.parent === this) {
+                          o.clone(o.name, n);
+                        }
                       }
                     return (n.computeWorldMatrix(true), n);
                   }),
                   (t.prototype.dispose = function (t, i) {
                     (void 0 === i && (i = false),
                       this._sourceMesh.removeInstance(this),
-                      e.prototype.dispose.call(this, t, i));
+                      e.prototype.dispose(t, i));
                   }),
                   t
                 );
@@ -134860,15 +136314,16 @@ and limitations under the License.
             },
             function (e, t) {
               var i;
-              i = (function () {
-                return this;
-              })();
+              i = this;
               try {
-                i = i || new Function("return this")();
+                i = i || this;
               } catch (e) {
-                "object" ==
-                  ("undefined" == typeof window ? "undefined" : c(window)) &&
-                  (i = window);
+                if (
+                  "object" ==
+                  ("undefined" == typeof window ? "undefined" : c(window))
+                ) {
+                  i = window;
+                }
               }
               e.exports = i;
             },
@@ -134948,8 +136403,10 @@ and limitations under the License.
                   },
                   f = (function (t) {
                     function i(i) {
-                      void 0 === i && (i = new h());
-                      var n = t.call(this, null) || this;
+                      if (void 0 === i) {
+                        i = new h();
+                      }
+                      var n = t(null) || this;
                       (void 0 === i.deterministicLockstep &&
                         (i.deterministicLockstep = false),
                         void 0 === i.lockstepMaxSteps &&
@@ -135027,7 +136484,9 @@ and limitations under the License.
                         return ((t.references = 1), t);
                       }),
                       (i.prototype.clear = function (e, t, i, n) {
-                        void 0 === n && (n = false);
+                        if (void 0 === n) {
+                          n = false;
+                        }
                       }),
                       (i.prototype.getRenderWidth = function (e) {
                         return (
@@ -135055,9 +136514,7 @@ and limitations under the License.
                         n,
                         r,
                       ) {
-                        return {
-                          __SPECTOR_rebuildProgram: null,
-                        };
+                        return { __SPECTOR_rebuildProgram: null };
                       }),
                       (i.prototype.getUniforms = function (e, t) {
                         return [];
@@ -135110,17 +136567,18 @@ and limitations under the License.
                       }),
                       (i.prototype.bindBuffers = function (e, t, i) {}),
                       (i.prototype.wipeCaches = function (e) {
-                        this.preventCacheWipeBetweenFrames ||
+                        if (!this.preventCacheWipeBetweenFrames) {
                           (this.resetTextureCache(),
-                          (this._currentEffect = null),
-                          e &&
-                            ((this._currentProgram = null),
-                            this._stencilState.reset(),
-                            this._depthCullingState.reset(),
-                            this._alphaState.reset()),
-                          (this._cachedVertexBuffers = null),
-                          (this._cachedIndexBuffer = null),
-                          (this._cachedEffectForVertexBuffers = null));
+                            (this._currentEffect = null),
+                            e &&
+                              ((this._currentProgram = null),
+                              this._stencilState.reset(),
+                              this._depthCullingState.reset(),
+                              this._alphaState.reset()),
+                            (this._cachedVertexBuffers = null),
+                            (this._cachedIndexBuffer = null),
+                            (this._cachedEffectForVertexBuffers = null));
+                        }
                       }),
                       (i.prototype.draw = function (e, t, i, n) {}),
                       (i.prototype.drawElementsType = function (e, t, i, n) {}),
@@ -135243,7 +136701,9 @@ and limitations under the License.
                         n,
                         r,
                       ) {
-                        void 0 === n && (n = false);
+                        if (void 0 === n) {
+                          n = false;
+                        }
                       }),
                       (i.prototype.areAllEffectsReady = function () {
                         return true;
@@ -135260,7 +136720,9 @@ and limitations under the License.
                         t,
                         i,
                       ) {
-                        void 0 === i && (i = 0);
+                        if (void 0 === i) {
+                          i = 0;
+                        }
                       }),
                       (i.prototype.updateDynamicVertexBuffer = function (
                         e,
@@ -135276,7 +136738,9 @@ and limitations under the License.
                         );
                       }),
                       (i.prototype._bindTexture = function (e, t) {
-                        e < 0 || this._bindTextureDirectly(0, t);
+                        if (!(e < 0)) {
+                          this._bindTextureDirectly(0, t);
+                        }
                       }),
                       (i.prototype._releaseBuffer = function (e) {
                         return (e.references--, 0 === e.references);
@@ -136971,7 +138435,6 @@ and limitations under the License.
   function (exp, t, getterFunc) {
     "use strict";
     getterFunc(87);
-
     var vec3Math = getterFunc(16);
     var r = getterFunc(32);
     var o = getterFunc(88);
@@ -136985,7 +138448,6 @@ and limitations under the License.
     var d = getterFunc(473);
     var p = getterFunc(474);
     var m = getterFunc(494);
-
     exp.exports = _;
     var g = {
       playerHeight: 1.8,
@@ -137034,9 +138496,7 @@ and limitations under the License.
         (this.playerBody = a),
         i.addComponent(this.playerEntity, i.names.receivesInputs),
         i.addComponent(this.playerEntity, i.names.fadeOnZoom));
-      (i.addComponent(this.playerEntity, i.names.movement, {
-        airJumps: 0,
-      }),
+      (i.addComponent(this.playerEntity, i.names.movement, { airJumps: 0 }),
         (this.playerEyeOffset = 0.9 * e.playerHeight),
         (this.blockTestDistance = e.blockTestDistance || 10));
       var v = this.world,
@@ -137087,8 +138547,8 @@ and limitations under the License.
                     i = e.pick(null, null, null, true);
                   if (i) {
                     for (var n = E, r = 0; r < 3; r++) {
-                      var o = 0 | i.normal[r],
-                        a = Math.floor(i.position[r]);
+                      var o = 0 | i.normal[r];
+                      var a = Math.floor(i.position[r]);
                       ((n.position[r] = a),
                         (n.normal[r] = o),
                         (n.adjacent[r] = a + o),
@@ -137108,8 +138568,9 @@ and limitations under the License.
                         (e.targetedBlock = null),
                       10 != n.blockID || e.addMode || (e.targetedBlock = null));
                   } else e.targetedBlock = null;
-                  t != T &&
+                  if (t != T) {
                     (e.emit("targetBlockChanged", e.targetedBlock), (T = t));
+                  }
                 })(this),
                 A("targets"),
                 this.emit("tick", e),
@@ -137220,11 +138681,9 @@ and limitations under the License.
     // cloneVec3(vec3) i = 413
     exp.exports = function (oldVec3) {
       var newVec3 = new Float32Array(3);
-
       newVec3[0] = oldVec3[0];
       newVec3[1] = oldVec3[1];
       newVec3[2] = oldVec3[2];
-
       return newVec3;
     };
   },
@@ -137233,14 +138692,11 @@ and limitations under the License.
     exp.exports = function (vec3_0, vec3_1) {
       var vec3_0_copy = createVec3Values(vec3_0[0], vec3_0[1], vec3_0[2]);
       var vec3_1_copy = createVec3Values(vec3_1[0], vec3_1[1], vec3_1[2]);
-
       r(vec3_0_copy, vec3_0_copy);
       r(vec3_1_copy, vec3_1_copy);
-
       var s = multSum(vec3_0_copy, vec3_1_copy);
       return s > 1 ? 0 : Math.acos(s);
     };
-
     var createVec3Values = getterFunc(175);
     var r = getterFunc(176);
     var multSum = getterFunc(177);
@@ -137250,7 +138706,6 @@ and limitations under the License.
       e[0] = t[0];
       e[1] = t[1];
       e[2] = t[2];
-
       return e;
     };
   },
@@ -137529,8 +138984,12 @@ and limitations under the License.
   function (e, t, i) {
     e.exports = function (e, t, i, r, o, a) {
       var s, c;
-      t || (t = 3);
-      i || (i = 0);
+      if (!t) {
+        t = 3;
+      }
+      if (!i) {
+        i = 0;
+      }
       c = r ? Math.min(r * t + i, e.length) : e.length;
       for (s = i; s < c; s += t)
         ((n[0] = e[s]),
@@ -137599,15 +139058,16 @@ and limitations under the License.
           i)),
         (this.canvas = (function (e) {
           var t = e.querySelector("canvas");
-          t ||
+          if (!t) {
             (((t = document.createElement("canvas")).style.position =
               "absolute"),
-            (t.style.left = "0px"),
-            (t.style.top = "0px"),
-            (t.style.height = "100%"),
-            (t.style.width = "100%"),
-            (t.id = "noa-canvas"),
-            e.insertBefore(t, e.firstChild));
+              (t.style.left = "0px"),
+              (t.style.top = "0px"),
+              (t.style.height = "100%"),
+              (t.style.width = "100%"),
+              (t.id = "noa-canvas"),
+              e.insertBefore(t, e.firstChild));
+          }
           return t;
         })(this.element)),
         (this._shell = (function (e, t) {
@@ -137636,7 +139096,9 @@ and limitations under the License.
             i
               ? ((e.hasPointerLock = true), e.emit("gainedPointerLock"))
               : ((e.hasPointerLock = false), e.emit("lostPointerLock"));
-            i && (e.pointerInGame = true);
+            if (i) {
+              e.pointerInGame = true;
+            }
           })(o);
         };
       (document.addEventListener("pointerlockchange", a, false),
@@ -137744,7 +139206,7 @@ and limitations under the License.
       return _(m[e]);
     }
     function y() {
-      (r.call(this),
+      (r(),
         (this._curKeyState = new Array(g.length)),
         (this._pressCount = new Array(g.length)),
         (this._releaseCount = new Array(g.length)),
@@ -137795,8 +139257,7 @@ and limitations under the License.
     }
     function T(e) {
       var t = e.element;
-      e._wantFullscreen &&
-        !e._fullscreenActive &&
+      if (e._wantFullscreen && !e._fullscreenActive) {
         (
           t.requestFullscreen ||
           t.requestFullScreen ||
@@ -137806,8 +139267,8 @@ and limitations under the License.
           t.mozRequestFullScreen ||
           function () {}
         ).call(t);
-      e._wantPointerLock &&
-        !e._pointerLockActive &&
+      }
+      if (e._wantPointerLock && !e._pointerLockActive) {
         (
           t.requestPointerLock ||
           t.webkitRequestPointerLock ||
@@ -137816,6 +139277,7 @@ and limitations under the License.
           t.oRequestPointerLock ||
           function () {}
         ).call(t);
+      }
     }
     ((b.keyNames = g),
       (b.bind = function (e) {
@@ -137863,8 +139325,8 @@ and limitations under the License.
           return this._paused;
         },
         set: function (e) {
-          !!e !== this._paused &&
-            (this._paused
+          if (!!e !== this._paused) {
+            this._paused
               ? ((this._paused = false),
                 (this._lastTick =
                   p() - Math.floor(this._frameTime * this._tickRate)),
@@ -137880,7 +139342,8 @@ and limitations under the License.
                   1,
                   (p() - this._lastTick) / this._tickRate,
                 )),
-                clearInterval(this._tickInterval)));
+                clearInterval(this._tickInterval));
+          }
         },
       }));
     var A =
@@ -137914,9 +139377,10 @@ and limitations under the License.
       document.mozExitPointerLock ||
       function () {};
     function S(e, t, i) {
-      e._curKeyState[t] !== i &&
+      if (e._curKeyState[t] !== i) {
         (i ? e._pressCount[t]++ : e._releaseCount[t]++,
-        (e._curKeyState[t] = i));
+          (e._curKeyState[t] = i));
+      }
     }
     function C(e, t) {
       (!(function (e) {
@@ -137979,7 +139443,9 @@ and limitations under the License.
         if ((P(e, t), t.metaKey)) w(e, t);
         else {
           var i = v(t.keyCode || t.char || t.which || t.charCode);
-          i >= 0 && S(e, i, true);
+          if (i >= 0) {
+            S(e, i, true);
+          }
         }
     }
     (Object.defineProperty(b, "pointerLock", {
@@ -138045,7 +139511,9 @@ and limitations under the License.
     e.exports = function (e) {
       var t = !!(e = e || {}).fullscreen,
         i = t;
-      void 0 !== n(e.pointerLock) && (i = !!e.pointerLock);
+      if (void 0 !== n(e.pointerLock)) {
+        i = !!e.pointerLock;
+      }
       var r = new y();
       return (
         (r._tickRate = e.tickRate || 30),
@@ -138078,8 +139546,9 @@ and limitations under the License.
             var s = function (e, t) {
               var i = 0 | e.element.clientWidth,
                 n = 0 | e.element.clientHeight;
-              (i === e._width && n === e._height) ||
+              if (!(i === e._width && n === e._height)) {
                 ((e._width = i), (e._height = n), e.emit("resize", i, n));
+              }
             }.bind(void 0, r);
             ("undefined" != typeof MutationObserver
               ? new MutationObserver(s).observe(r.element, {
@@ -138094,7 +139563,9 @@ and limitations under the License.
                 function (e, t) {
                   P(e, t);
                   var i = v(t.keyCode || t.char || t.which || t.charCode);
-                  i >= 0 && S(e, i, false);
+                  if (i >= 0) {
+                    S(e, i, false);
+                  }
                 }.bind(void 0, r),
                 false,
               ),
@@ -138120,9 +139591,9 @@ and limitations under the License.
                 function (e, t) {
                   if ((P(e, t), e._pointerLockActive)) {
                     var i =
-                        t.movementX || t.mozMovementX || t.webkitMovementX || 0,
-                      n =
-                        t.movementY || t.mozMovementY || t.webkitMovementY || 0;
+                      t.movementX || t.mozMovementX || t.webkitMovementX || 0;
+                    var n =
+                      t.movementY || t.mozMovementY || t.webkitMovementY || 0;
                     ((e.mouseX += i), (e.mouseY += n));
                   } else
                     ((e.mouseX = t.clientX - e.element.offsetLeft),
@@ -138352,7 +139823,7 @@ and limitations under the License.
         n(i, 106, "<num-*>"),
         n(i, 107, "<num-+>"),
         n(i, 108, "<num-enter>"),
-        n(i, 109, "<num--\x3e"),
+        n(i, 109, "<num-->"),
         n(i, 110, "<num-.>"),
         n(i, 111, "<num-/>"),
         n(i, 144, "<num-lock>"),
@@ -138543,7 +140014,9 @@ and limitations under the License.
         "wheel" == n
           ? o
           : function (e) {
-              !e && (e = window.event);
+              if (!e) {
+                e = window.event;
+              }
               var t = {
                 originalEvent: e,
                 target: e.target || e.srcElement,
@@ -138615,13 +140088,11 @@ and limitations under the License.
   },
   function (e, t, getterFunc) {
     "use strict";
-
     var n = getterFunc(32);
     var vec3Math = getterFunc(16);
     var o = getterFunc(87);
     var a = getterFunc(187);
     var s = getterFunc(43).removeUnorderedListItem;
-
     if (!BABYLON)
       throw new Error("Babylon.js reference not found! Abort! Abort!");
     e.exports = function (e, t, i) {
@@ -138718,8 +140189,8 @@ and limitations under the License.
               t++;
               var o = performance.now();
               if ((o - r > i && (i = o - r), (r = o), !(o - n < 1e3))) {
-                var a = Math.round((t / (o - n)) * 1e3),
-                  s = Math.round((1 / i) * 1e3);
+                var a = Math.round((t / (o - n)) * 1e3);
+                var s = Math.round((1 / i) * 1e3);
                 ((e.innerHTML = a + "<br>" + s), (t = 0), (i = 0), (n = o));
               }
             };
@@ -138745,13 +140216,15 @@ and limitations under the License.
           e._cameraHolder.position.copyFromFloats(t[0], t[1], t[2]);
           var i = e.zoomDistance,
             n = e._cameraZoomSpeed;
-          i > 0 &&
+          if (
+            i > 0 &&
             (i = (function (e) {
-              m ||
+              if (!m) {
                 ((m = new o([0, 0, 0], [0.4, 0.4, 0.4])),
-                (g = function (t, i, n) {
-                  return e.noa.world.getBlockSolidity(t, i, n);
-                }));
+                  (g = function (t, i, n) {
+                    return e.noa.world.getBlockSolidity(t, i, n);
+                  }));
+              }
               var t = e._cameraHolder.position;
               (vec3Math.set(_, t.x - 0.2, t.y - 0.2, t.z - 0.2),
                 m.setPosition(_));
@@ -138769,8 +140242,10 @@ and limitations under the License.
                   true,
                 )
               );
-            })(e)) < e._currentZoom &&
-            (e._currentZoom = i);
+            })(e)) < e._currentZoom
+          ) {
+            e._currentZoom = i;
+          }
           ((e._currentZoom += n * (i - e._currentZoom)),
             (e._camera.position.z = -e._currentZoom));
           var s = e.getCameraPosition(),
@@ -138787,14 +140262,12 @@ and limitations under the License.
                 (e._scene.fogDensity = e.fogWorld),
                 (e._scene.clearColor = e._scene.fogColor));
             else {
-              var i = e.noa.registry.getBlockFaceMaterialAccessor(),
-                n = i(t, 1),
-                r = e.noa.registry.getMaterialData(n),
-                o = r.color,
-                a = r.alpha;
-              o &&
-                a &&
-                a < 1 &&
+              var i = e.noa.registry.getBlockFaceMaterialAccessor();
+              var n = i(t, 1);
+              var r = e.noa.registry.getMaterialData(n);
+              var o = r.color;
+              var a = r.alpha;
+              if (o && a && a < 1) {
                 (17 == t &&
                   ((e._camScreenMat.diffuseColor = new u(0.8, 0, 0)),
                   (e._camScreenMat.alpha = 0.8),
@@ -138802,13 +140275,14 @@ and limitations under the License.
                   (e._scene.fogColor = new BABYLON.Color3(0.1, 0, 0)),
                   (e._scene.fogDensity = e.fogLava),
                   (e._scene.clearColor = e._scene.fogColor)),
-                (7 != t && 41 != t) ||
-                  ((e._camScreenMat.diffuseColor = new u(0, 0, 0.8)),
-                  (e._camScreenMat.alpha = 0.5),
-                  e._camScreen.setEnabled(true),
-                  (e._scene.fogColor = new BABYLON.Color3(0, 0, 0.1)),
-                  (e._scene.fogDensity = e.fogWater),
-                  (e._scene.clearColor = e._scene.fogColor)));
+                  (7 != t && 41 != t) ||
+                    ((e._camScreenMat.diffuseColor = new u(0, 0, 0.8)),
+                    (e._camScreenMat.alpha = 0.5),
+                    e._camScreen.setEnabled(true),
+                    (e._scene.fogColor = new BABYLON.Color3(0, 0, 0.1)),
+                    (e._scene.fogDensity = e.fogWater),
+                    (e._scene.clearColor = e._scene.fogColor)));
+              }
             }
             e._camLocBlock = t;
           })(e, c);
@@ -138835,41 +140309,41 @@ and limitations under the License.
         var o = (function (e) {
           var t = e._highlightMesh;
           if (!t) {
-            var i = BABYLON.Mesh.CreateBox("highlight", 1.005, e._scene),
-              n = e.makeDynamicStandardMaterial("highlightMat");
+            var i = BABYLON.Mesh.CreateBox("highlight", 1.005, e._scene);
+            var n = e.makeDynamicStandardMaterial("highlightMat");
             ((n.disableLighting = true),
               (n.backFaceCulling = false),
               (n.emissiveColor = new u(1, 1, 1)),
               (n.alpha = 0.2),
               (i.material = n),
               (t = e._highlightMesh = i));
-            var r = 0.5,
-              o = BABYLON.Mesh.CreateLines(
-                "hightlightLines",
-                [
-                  new c(r, r, r),
-                  new c(r, -r, r),
-                  new c(-r, -r, r),
-                  new c(-r, r, r),
-                  new c(r, r, r),
-                  new c(r, r, -r),
-                  new c(r, -r, -r),
-                  new c(-r, -r, -r),
-                  new c(-r, r, -r),
-                  new c(r, r, -r),
-                  new c(r, r, r),
-                  new c(r, -r, r),
-                  new c(r, -r, -r),
-                  new c(r, r, -r),
-                  new c(r, r, r),
-                  new c(-r, r, r),
-                  new c(-r, -r, r),
-                  new c(-r, -r, -r),
-                  new c(-r, r, -r),
-                  new c(-r, r, r),
-                ],
-                e._scene,
-              );
+            var r = 0.5;
+            var o = BABYLON.Mesh.CreateLines(
+              "hightlightLines",
+              [
+                new c(r, r, r),
+                new c(r, -r, r),
+                new c(-r, -r, r),
+                new c(-r, r, r),
+                new c(r, r, r),
+                new c(r, r, -r),
+                new c(r, -r, -r),
+                new c(-r, -r, -r),
+                new c(-r, r, -r),
+                new c(r, r, -r),
+                new c(r, r, r),
+                new c(r, -r, r),
+                new c(r, -r, -r),
+                new c(r, r, -r),
+                new c(r, r, r),
+                new c(-r, r, r),
+                new c(-r, -r, r),
+                new c(-r, -r, -r),
+                new c(-r, r, -r),
+                new c(-r, r, r),
+              ],
+              e._scene,
+            );
             ((o.color = new u(0, 0, 0)),
               (o.parent = i),
               e.addDynamicMesh(t),
@@ -138903,73 +140377,73 @@ and limitations under the License.
             },
             i = e._previewMesh;
           if (!i) {
-            var n = BABYLON.Mesh.CreatePlane("preview0", 1, e._scene),
-              r = e.makeDynamicStandardMaterial("previewMat0");
+            var n = BABYLON.Mesh.CreatePlane("preview0", 1, e._scene);
+            var r = e.makeDynamicStandardMaterial("previewMat0");
             ((r.diffuseTexture = new BABYLON.Texture(null, e._scene)),
               (n.material = r));
-            var o = BABYLON.Mesh.CreatePlane("preview1", 1, e._scene),
-              r = e.makeDynamicStandardMaterial("previewMat1");
+            var o = BABYLON.Mesh.CreatePlane("preview1", 1, e._scene);
+            var r = e.makeDynamicStandardMaterial("previewMat1");
             ((r.diffuseTexture = new BABYLON.Texture(null, e._scene)),
               (o.material = r),
               (o.parent = n),
               (o.rotation.y = Math.PI),
               (o.position = new BABYLON.Vector3(0, 0, 1)));
-            var a = BABYLON.Mesh.CreatePlane("preview2", 1, e._scene),
-              r = e.makeDynamicStandardMaterial("previewMat2");
+            var a = BABYLON.Mesh.CreatePlane("preview2", 1, e._scene);
+            var r = e.makeDynamicStandardMaterial("previewMat2");
             ((r.diffuseTexture = new BABYLON.Texture(null, e._scene)),
               (a.material = r),
               (a.parent = n),
               (a.rotation.y = 0.5 * Math.PI),
               (a.position = new BABYLON.Vector3(-0.5, 0, 0.5)));
-            var s = BABYLON.Mesh.CreatePlane("preview3", 1, e._scene),
-              r = e.makeDynamicStandardMaterial("previewMat3");
+            var s = BABYLON.Mesh.CreatePlane("preview3", 1, e._scene);
+            var r = e.makeDynamicStandardMaterial("previewMat3");
             ((r.diffuseTexture = new BABYLON.Texture(null, e._scene)),
               (s.material = r),
               (s.parent = n),
               (s.rotation.y = -0.5 * Math.PI),
               (s.position = new BABYLON.Vector3(0.5, 0, 0.5)));
-            var l = BABYLON.Mesh.CreatePlane("preview4", 1, e._scene),
-              r = e.makeDynamicStandardMaterial("previewMat4");
+            var l = BABYLON.Mesh.CreatePlane("preview4", 1, e._scene);
+            var r = e.makeDynamicStandardMaterial("previewMat4");
             ((r.diffuseTexture = new BABYLON.Texture(null, e._scene)),
               (l.material = r),
               (l.parent = n),
               (l.rotation.x = -0.5 * Math.PI),
               (l.rotation.y = Math.PI),
               (l.position = new BABYLON.Vector3(0, -0.5, 0.5)));
-            var h = BABYLON.Mesh.CreatePlane("preview5", 1, e._scene),
-              r = e.makeDynamicStandardMaterial("previewMat5");
+            var h = BABYLON.Mesh.CreatePlane("preview5", 1, e._scene);
+            var r = e.makeDynamicStandardMaterial("previewMat5");
             ((r.diffuseTexture = new BABYLON.Texture(null, e._scene)),
               (h.material = r),
               (h.parent = n),
               (h.rotation.x = 0.5 * Math.PI),
               (h.position = new BABYLON.Vector3(0, 0.5, 0.5)));
-            var f = 0.5,
-              d = BABYLON.Mesh.CreateLines(
-                "previewLines",
-                [
-                  new c(f, f, f),
-                  new c(f, -f, f),
-                  new c(-f, -f, f),
-                  new c(-f, f, f),
-                  new c(f, f, f),
-                  new c(f, f, -f),
-                  new c(f, -f, -f),
-                  new c(-f, -f, -f),
-                  new c(-f, f, -f),
-                  new c(f, f, -f),
-                  new c(f, f, f),
-                  new c(f, -f, f),
-                  new c(f, -f, -f),
-                  new c(f, f, -f),
-                  new c(f, f, f),
-                  new c(-f, f, f),
-                  new c(-f, -f, f),
-                  new c(-f, -f, -f),
-                  new c(-f, f, -f),
-                  new c(-f, f, f),
-                ],
-                e._scene,
-              );
+            var f = 0.5;
+            var d = BABYLON.Mesh.CreateLines(
+              "previewLines",
+              [
+                new c(f, f, f),
+                new c(f, -f, f),
+                new c(-f, -f, f),
+                new c(-f, f, f),
+                new c(f, f, f),
+                new c(f, f, -f),
+                new c(f, -f, -f),
+                new c(-f, -f, -f),
+                new c(-f, f, -f),
+                new c(f, f, -f),
+                new c(f, f, f),
+                new c(f, -f, f),
+                new c(f, -f, -f),
+                new c(f, f, -f),
+                new c(f, f, f),
+                new c(-f, f, f),
+                new c(-f, -f, f),
+                new c(-f, -f, -f),
+                new c(-f, f, -f),
+                new c(-f, f, f),
+              ],
+              e._scene,
+            );
             ((d.color = new u(0, 0, 0)),
               (d.position = new BABYLON.Vector3(0, 0, 0.5)),
               (d.parent = n));
@@ -139083,8 +140557,8 @@ and limitations under the License.
       }),
       (h.prototype.disposeChunkForRendering = function (e) {
         (this.removeTerrainMesh(e),
-          s(this._octree.blocks, e.octreeBlock),
-          (e.octreeBlock.entries.length = 0),
+          s(this._octree.blocks, null),
+          (null.entries.length = 0),
           (e.octreeBlock = null));
       }),
       (h.prototype.addTerrainMesh = function (e, t) {
@@ -139097,14 +140571,15 @@ and limitations under the License.
       }),
       (h.prototype.removeTerrainMesh = function (e) {
         var t = this._meshedChunks[e.id];
-        t &&
+        if (t) {
           (s(e.octreeBlock.entries, t),
-          t.getChildren().map(function (t) {
-            s(e.octreeBlock.entries, t);
-          }),
-          t.dispose(),
-          delete this._meshedChunks[e.id],
-          this._numMeshedChunks--);
+            t.getChildren().map(function (t) {
+              s(e.octreeBlock.entries, t);
+            }),
+            t.dispose(),
+            delete this._meshedChunks[e.id],
+            this._numMeshedChunks--);
+        }
       }));
     var m,
       g,
@@ -139112,7 +140587,9 @@ and limitations under the License.
       v = vec3Math.create();
     var y = function (e, t) {
       var i = e._highlightMesh;
-      i && (i.material.alpha = 0.05 + 0.25 * Math.abs(Math.sin(0.005 * t)));
+      if (i) {
+        i.material.alpha = 0.05 + 0.25 * Math.abs(Math.sin(0.005 * t));
+      }
     };
     var b = function (e, t) {
       var i = e._previewMesh;
@@ -139144,14 +140621,21 @@ and limitations under the License.
           for (var t in e.entries) i.push(e.entries[t]);
         }),
         e.forEach(function (e) {
-          (e._isDisposed && a(e, "disposed mesh in scene"),
-          0 !== e.getIndices().length) &&
+          if (
+            (e._isDisposed && a(e, "disposed mesh in scene"),
+            0 !== e.getIndices().length)
+          ) {
             (s(e, t, i) && a(e, "non-empty mesh missing from octree"),
-            e.material
-              ? (e.material.subMaterials || [e.material]).forEach(function (e) {
-                  s(e, n) && a(e, "mesh material not in scene");
-                })
-              : a(e, "non-empty scene mesh with no material"));
+              e.material
+                ? (e.material.subMaterials || [e.material]).forEach(
+                    function (e) {
+                      if (s(e, n)) {
+                        a(e, "mesh material not in scene");
+                      }
+                    },
+                  )
+                : a(e, "non-empty scene mesh with no material"));
+          }
         }));
       var o = [];
       function a(e, t) {
@@ -139170,15 +140654,19 @@ and limitations under the License.
                 e.material.subMaterials.includes(t) &&
                 (i = true));
           }),
-            i || o.push(t.name));
+            false || o.push(t.name));
         }),
         o.length &&
           console.warn("Materials unused by any mesh: ", o.join(", ")),
         t.forEach(function (t) {
-          s(t, e) && a(t, "octree/dynamic mesh not in scene");
+          if (s(t, e)) {
+            a(t, "octree/dynamic mesh not in scene");
+          }
         }),
         i.forEach(function (t) {
-          s(t, e) && a(t, "octree block mesh not in scene");
+          if (s(t, e)) {
+            a(t, "octree block mesh not in scene");
+          }
         }),
         "done."
       );
@@ -139264,8 +140752,8 @@ and limitations under the License.
           var p = l.value;
           if (p.size) p.isInvalid && r++;
           else {
-            var m = h(p),
-              g = f(e, m[0], m[1], m[2]);
+            var m = h(p);
+            var g = f(e, m[0], m[1], m[2]);
             (g.isInvalid && r++, g.isFull && o++, g.isEmpty && a++);
           }
         }
@@ -139273,14 +140761,16 @@ and limitations under the License.
         ((c = true), (u = e));
       } finally {
         try {
-          s || null == d.return || d.return();
+          if (!(s || null == d.return)) {
+            d.return();
+          }
         } finally {
           if (c) throw u;
         }
       }
       var _ = (i.length + "        ").substr(0, 6),
         v = n ? [", ", o, " full, ", a, " empty"].join("") : "";
-      console.log(t, _, r, "invalid" + v);
+      console.log(t, _, 0, "invalid" + v);
     }
     function l(e, t, i) {
       return e + "|" + t + "|" + i;
@@ -139375,10 +140865,11 @@ and limitations under the License.
     }
     function _(e, t, i, n, r, o, a, s) {
       var c = f(e, t, i, n);
-      c &&
+      if (c) {
         (c.set(r, o, a, s),
-        y(c.id, e._chunkIDsToMeshFirst),
-        e.emit("chunkChanged", c));
+          y(c.id, e._chunkIDsToMeshFirst),
+          e.emit("chunkChanged", c));
+      }
     }
     function v(e, t) {
       var i = Object.keys(t);
@@ -139392,11 +140883,15 @@ and limitations under the License.
       );
     }
     function y(e, t) {
-      t.indexOf(e) >= 0 || t.push(e);
+      if (!(t.indexOf(e) >= 0)) {
+        t.push(e);
+      }
     }
     function b(e, t) {
       var i = t.indexOf(e);
-      i >= 0 && t.splice(i, 1);
+      if (i >= 0) {
+        t.splice(i, 1);
+      }
     }
     ((c.prototype = Object.create(o.prototype)),
       (c.prototype.getBlockID = function (e, t, i) {
@@ -139515,13 +141010,15 @@ and limitations under the License.
             )
               for (var h = i - r; h <= i + r; ++h)
                 for (var d = n - r; d <= n + r; ++d) {
-                  var p = u - t,
-                    m = h - i,
-                    g = d - n,
-                    _ = p * p + m * m + g * g;
+                  var p = u - t;
+                  var m = h - i;
+                  var g = d - n;
+                  var _ = p * p + m * m + g * g;
                   if (!(_ > c) && !f(e, u, h, d)) {
                     var y = l(u, h, d);
-                    o.indexOf(y) > -1 || (a.push(y), s.push(_));
+                    if (!(o.indexOf(y) > -1)) {
+                      (a.push(y), s.push(_));
+                    }
                   }
                 }
             e._chunkIDsToAdd = v(a, s);
@@ -139536,12 +141033,12 @@ and limitations under the License.
               c < o.length;
               c++
             ) {
-              var u = o[c],
-                l = h(u),
-                d = l[0] - t,
-                p = l[1] - i,
-                m = l[2] - n,
-                g = d * d + p * p + m * m;
+              var u = o[c];
+              var l = h(u);
+              var d = l[0] - t;
+              var p = l[1] - i;
+              var m = l[2] - n;
+              var g = d * d + p * p + m * m;
               if (g < r) {
                 var _ = f(e, l[0], l[1], l[2]);
                 if (!_.isInvalid) continue;
@@ -139568,16 +141065,16 @@ and limitations under the License.
         E(this, "received");
         var n = h(e),
           r = f(this, n[0], n[1], n[2]);
-        r &&
-          !r.isInvalid &&
+        if (r && !r.isInvalid) {
           ((r.array = t),
-          i && (r.userData = i),
-          r.initData(),
-          y(e, this._chunkIDsInMemory),
-          b(e, this._chunkIDsToCreate),
-          this.noa.rendering.prepareChunkForRendering(r),
-          y(e, this._chunkIDsToMesh),
-          this.emit("chunkAdded", r));
+            i && (r.userData = i),
+            r.initData(),
+            y(e, this._chunkIDsInMemory),
+            b(e, this._chunkIDsToCreate),
+            this.noa.rendering.prepareChunkForRendering(r),
+            y(e, this._chunkIDsToMesh),
+            this.emit("chunkAdded", r));
+        }
       }),
       (c.prototype.invalidateAllChunks = function () {
         var e = this._chunkIDsInMemory.concat(this._chunkIDsToCreate),
@@ -139597,7 +141094,9 @@ and limitations under the License.
           ((i = true), (n = e));
         } finally {
           try {
-            t || null == o.return || o.return();
+            if (!(t || null == o.return)) {
+              o.return();
+            }
           } finally {
             if (i) throw n;
           }
@@ -139694,13 +141193,9 @@ and limitations under the License.
         var s = a[i];
         if (s) {
           var u = e.size;
-          n < 0 ||
-            r < 0 ||
-            o < 0 ||
-            n >= u ||
-            r >= u ||
-            o >= u ||
+          if (!(n < 0 || r < 0 || o < 0 || n >= u || r >= u || o >= u)) {
             s(e.x + n, e.y + r, e.z + o);
+          }
         }
       }
     }
@@ -139709,7 +141204,7 @@ and limitations under the License.
     }
     function v(e) {
       var t = e;
-      return (o[e] && (t |= f), a[e] && (t |= d), s[e] && (t |= p), t);
+      return (o[e] && (t |= f), a[e] && (t |= d), s[e] && (t |= p), e);
     }
     function y(e) {
       var t = e.array,
@@ -139753,8 +141248,9 @@ and limitations under the License.
           (e && this.noa.rendering.addTerrainMesh(this, e),
             (this._terrainDirty = false));
         }
-        this._objectsDirty &&
+        if (this._objectsDirty) {
           (l.buildObjectMesh(this), (this._objectsDirty = false));
+        }
       }),
       (m.prototype.initData = function () {
         y(this);
@@ -139959,16 +141455,16 @@ and limitations under the License.
             return !(i || n < 1) && void 0;
           });
           for (var s = null, c = Object.keys(r), u = 0; u < c.length; ++u) {
-            var l = r[c[u]],
-              h = l.id,
-              f = o(h, a),
-              d = n(l, "chunk_inner_" + i.id + " " + h, [f]);
+            var l = r[c[u]];
+            var h = l.id;
+            var f = o(h, a);
+            var d = n(l, "chunk_inner_" + i.id + " " + h, [f]);
             if (s) d.parent = s;
             else {
               s = d;
-              var p = i.i * i.size,
-                m = i.j * i.size,
-                g = i.k * i.size;
+              var p = i.i * i.size;
+              var m = i.j * i.size;
+              var g = i.k * i.size;
               ((s.position.x = p), (s.position.y = m), (s.position.z = g));
             }
             (d.freezeWorldMatrix(), d.freezeNormals());
@@ -139988,14 +141484,14 @@ and limitations under the License.
               if (!n && 1 == o) return e.rendering.flatMaterial;
               var a = e.rendering.flatMaterial.clone("terrain" + t);
               if (n) {
-                var s = e.rendering.getScene(),
-                  c = new BABYLON.Texture(
-                    n,
-                    s,
-                    true,
-                    false,
-                    BABYLON.Texture.NEAREST_SAMPLINGMODE,
-                  );
+                var s = e.rendering.getScene();
+                var c = new BABYLON.Texture(
+                  n,
+                  s,
+                  true,
+                  false,
+                  BABYLON.Texture.NEAREST_SAMPLINGMODE,
+                );
                 if (12 == t) {
                   var u = i(463)(e);
                   c = u.texture;
@@ -140009,12 +141505,16 @@ and limitations under the License.
                     }
                     a.useAlphaFromDiffuseTexture = true;
                   }
-                  (34 != t && 36 != t) || (a.backFaceCulling = false);
+                  if (!(34 != t && 36 != t)) {
+                    a.backFaceCulling = false;
+                  }
                 } else
                   ((a.ambientTexture = c),
                     12 == t && (a.backFaceCulling = false));
               }
-              r.alpha < 1 && (a.alpha = r.alpha);
+              if (r.alpha < 1) {
+                a.alpha = r.alpha;
+              }
               return a;
             })(t)),
           r[o]
@@ -140047,17 +141547,17 @@ and limitations under the License.
           var b = m;
           m += v;
           for (var E = 0; E < s; E++, d++, b += _) {
-            var T = p[b],
-              A = p[b + g],
-              x = f(T, A, E, y);
+            var T = p[b];
+            var A = p[b + g];
+            var x = f(T, A, E, y);
             if (x) {
               if (
                 ((l[d] = x > 0 ? r(T & t, 2 * i) : -r(A & t, 2 * i + 1)),
                 0 != l[d])
               ) {
-                var S = a[0] + e + x,
-                  C = a[1] + E,
-                  P = a[2] + y;
+                var S = a[0] + e + x;
+                var C = a[1] + E;
+                var P = a[2] + y;
                 (1 == i && ((S = a[0] + y), (C = a[1] + e + x), (P = a[2] + E)),
                   2 == i &&
                     ((S = a[0] + E), (C = a[1] + y), (P = a[2] + e + x)),
@@ -140067,8 +141567,8 @@ and limitations under the License.
                   noa.getBrightness(S, C, P) < 1 && (l[d] += 512 * x));
               }
               if (o) {
-                var R = x > 0 ? e : e - 1,
-                  M = x > 0 ? e - 1 : e;
+                var R = x > 0 ? e : e - 1;
+                var M = x > 0 ? e - 1 : e;
                 h[d] = o(n, R, M, E, y);
               }
             }
@@ -140079,19 +141579,22 @@ and limitations under the License.
         var h,
           f = [],
           p = n && o === r[0];
-        n && (h = p ? v : y);
+        if (n) {
+          h = p ? v : y;
+        }
         for (var m = 0; m < 3; ++m) {
-          var g = (m + 1) % 3,
-            _ = (m + 2) % 3,
-            b = e
-              .transpose(m, g, _)
-              .lo(1, 1, 1)
-              .hi(e.shape[m] - 2, e.shape[g] - 2, e.shape[_] - 2),
-            E = b.shape[0] - 1,
-            T = b.shape[1],
-            A = b.shape[2];
-          c.length < T * A &&
+          var g = (m + 1) % 3;
+          var _ = (m + 2) % 3;
+          var b = e
+            .transpose(m, g, _)
+            .lo(1, 1, 1)
+            .hi(e.shape[m] - 2, e.shape[g] - 2, e.shape[_] - 2);
+          var E = b.shape[0] - 1;
+          var T = b.shape[1];
+          var A = b.shape[2];
+          if (c.length < T * A) {
             ((c = new Int16Array(T * A)), (u = new Uint16Array(T * A)));
+          }
           for (var x = 0; x <= E; ++x)
             (l(x, m, b, t, h, s),
               a("built masks"),
@@ -140150,17 +141653,21 @@ and limitations under the License.
               var w = b[y];
               (w >= 512 && (w -= 512), w <= -512 && (w += 512));
               var I = Math.abs(w);
-              l[I] || (l[I] = new n(I));
-              var D = l[I],
-                L = D.colors,
-                F = h(I);
+              if (!l[I]) {
+                l[I] = new n(I);
+              }
+              var D = l[I];
+              var L = D.colors;
+              var F = h(I);
               ((F[0] = 1),
                 (F[1] = 1),
                 (F[2] = 1),
                 w != R && ((F[0] = 0.6), (F[1] = 0.6), (F[2] = 0.6)));
-              var B = A(L, F, M, f, d),
-                N = 0;
-              (36 == I || 12 == I) && 1 == t && w > 0 && (N = 0.07);
+              var B = A(L, F, M, f, d);
+              var N = 0;
+              if ((36 == I || 12 == I) && 1 == t && w > 0) {
+                N = 0.07;
+              }
               var k = [0, 0, 0];
               ((k[t] = e), (k[i] = P), (k[r] = x));
               var U = [0, 0, 0];
@@ -140194,9 +141701,9 @@ and limitations under the License.
                 : B
                   ? D.indices.push(j, j + 2, j + 1, j, j + 3, j + 2)
                   : D.indices.push(j + 3, j + 1, j, j + 3, j + 2, j + 1);
-              var H = 0 === t ? z : 0,
-                W = 1 === t ? z : 0,
-                X = 2 === t ? z : 0;
+              var H = 0 === t ? z : 0;
+              var W = 1 === t ? z : 0;
+              var X = 2 === t ? z : 0;
               D.normals.push(H, W, X, H, W, X, H, W, X, H, W, X);
               for (var Y = 0; Y < C; ++Y)
                 for (var K = 0; K < S; ++K) b[y + K + Y * o] = 0;
@@ -140235,21 +141742,21 @@ and limitations under the License.
           c = 1,
           u = 1,
           l = r,
-          h = l & e.get(t, n, o);
+          h = r & e.get(t, n, o);
         return (
-          e.get(t, n + 1, o) & l && (++c, ++u),
-          e.get(t, n - 1, o) & l && (++a, ++s),
-          e.get(t, n, o + 1) & l && (++s, ++u),
-          e.get(t, n, o - 1) & l && (++a, ++c),
+          e.get(t, n + 1, o) & r && (++c, ++u),
+          e.get(t, n - 1, o) & r && (++a, ++s),
+          e.get(t, n, o + 1) & r && (++s, ++u),
+          e.get(t, n, o - 1) & r && (++a, ++c),
           h
-            ? ((u = 3 == u || e.get(t, n + 1, o + 1) & l ? 3 : 2),
-              (s = 3 == s || e.get(t, n - 1, o + 1) & l ? 3 : 2),
-              (c = 3 == c || e.get(t, n + 1, o - 1) & l ? 3 : 2),
-              (a = 3 == a || e.get(t, n - 1, o - 1) & l ? 3 : 2))
-            : (1 === u && e.get(t, n + 1, o + 1) & l && (u = 2),
-              1 === s && e.get(t, n - 1, o + 1) & l && (s = 2),
-              1 === c && e.get(t, n + 1, o - 1) & l && (c = 2),
-              1 === a && e.get(t, n - 1, o - 1) & l && (a = 2)),
+            ? ((u = 3 == u || e.get(t, n + 1, o + 1) & r ? 3 : 2),
+              (s = 3 == s || e.get(t, n - 1, o + 1) & r ? 3 : 2),
+              (c = 3 == c || e.get(t, n + 1, o - 1) & r ? 3 : 2),
+              (a = 3 == a || e.get(t, n - 1, o - 1) & r ? 3 : 2))
+            : (1 === u && e.get(t, n + 1, o + 1) & r && (u = 2),
+              1 === s && e.get(t, n - 1, o + 1) & r && (s = 2),
+              1 === c && e.get(t, n + 1, o - 1) & r && (c = 2),
+              1 === a && e.get(t, n - 1, o - 1) & r && (a = 2)),
           (u << 6) | (c << 4) | (s << 2) | a
         );
       }
@@ -140259,44 +141766,44 @@ and limitations under the License.
           c = 1,
           u = 1,
           l = r,
-          h = l & e.get(t, n, o);
+          h = r & e.get(t, n, o);
         return (
-          e.get(t, n + 1, o) & l && (++c, ++u),
-          e.get(t, n - 1, o) & l && (++a, ++s),
-          e.get(t, n, o + 1) & l && (++s, ++u),
-          e.get(t, n, o - 1) & l && (++a, ++c),
+          e.get(t, n + 1, o) & r && (++c, ++u),
+          e.get(t, n - 1, o) & r && (++a, ++s),
+          e.get(t, n, o + 1) & r && (++s, ++u),
+          e.get(t, n, o - 1) & r && (++a, ++c),
           h
-            ? ((u = 3 == u || e.get(t, n + 1, o + 1) & l ? 3 : 2),
-              (s = 3 == s || e.get(t, n - 1, o + 1) & l ? 3 : 2),
-              (c = 3 == c || e.get(t, n + 1, o - 1) & l ? 3 : 2),
-              (a = 3 == a || e.get(t, n - 1, o - 1) & l ? 3 : 2))
+            ? ((u = 3 == u || e.get(t, n + 1, o + 1) & r ? 3 : 2),
+              (s = 3 == s || e.get(t, n - 1, o + 1) & r ? 3 : 2),
+              (c = 3 == c || e.get(t, n + 1, o - 1) & r ? 3 : 2),
+              (a = 3 == a || e.get(t, n - 1, o - 1) & r ? 3 : 2))
             : (1 === u &&
-                (e.get(t, n + 1, o + 1) & l
+                (e.get(t, n + 1, o + 1) & r
                   ? (u = 2)
-                  : (e.get(i, n, o + 1) & l &&
-                      e.get(i, n + 1, o) & l &&
-                      e.get(i, n + 1, o + 1) & l) ||
+                  : (e.get(i, n, o + 1) & r &&
+                      e.get(i, n + 1, o) & r &&
+                      e.get(i, n + 1, o + 1) & r) ||
                     (u = 0)),
               1 === c &&
-                (e.get(t, n + 1, o - 1) & l
+                (e.get(t, n + 1, o - 1) & r
                   ? (c = 2)
-                  : (e.get(i, n, o - 1) & l &&
-                      e.get(i, n + 1, o) & l &&
-                      e.get(i, n + 1, o - 1) & l) ||
+                  : (e.get(i, n, o - 1) & r &&
+                      e.get(i, n + 1, o) & r &&
+                      e.get(i, n + 1, o - 1) & r) ||
                     (c = 0)),
               1 === s &&
-                (e.get(t, n - 1, o + 1) & l
+                (e.get(t, n - 1, o + 1) & r
                   ? (s = 2)
-                  : (e.get(i, n, o + 1) & l &&
-                      e.get(i, n - 1, o) & l &&
-                      e.get(i, n - 1, o + 1) & l) ||
+                  : (e.get(i, n, o + 1) & r &&
+                      e.get(i, n - 1, o) & r &&
+                      e.get(i, n - 1, o + 1) & r) ||
                     (s = 0)),
               1 === a &&
-                (e.get(t, n - 1, o - 1) & l
+                (e.get(t, n - 1, o - 1) & r
                   ? (a = 2)
-                  : (e.get(i, n, o - 1) & l &&
-                      e.get(i, n - 1, o) & l &&
-                      e.get(i, n - 1, o - 1) & l) ||
+                  : (e.get(i, n, o - 1) & r &&
+                      e.get(i, n - 1, o) & r &&
+                      e.get(i, n - 1, o - 1) & r) ||
                     (a = 0))),
           (u << 6) | (c << 4) | (s << 2) | a
         );
@@ -140344,7 +141851,9 @@ and limitations under the License.
           c = new ImageData(o, 16, 16),
           u = 0;
         e.on("tick", function (e) {
-          ++u % 2 != 1 && l.redraw();
+          if (++u % 2 != 1) {
+            l.redraw();
+          }
         });
         var l = {
           texture: a,
@@ -140367,8 +141876,8 @@ and limitations under the License.
                   l++
                 )
                   for (var h = a - 1; h <= a + 1; h++) {
-                    var f = (l + c) & 15,
-                      d = (h + u) & 15;
+                    var f = (l + c) & 15;
+                    var d = (h + u) & 15;
                     s += t[f + 16 * d];
                   }
                 ((i[e + 16 * a] =
@@ -140385,14 +141894,14 @@ and limitations under the License.
                   Math.random() < 0.005 && (r[e + 16 * a] = 1.5));
               }
             var p = i;
-            ((i = t), (t = p));
+            ((i = t), (t = i));
             for (var m = 0; m < 256; m++) {
               var s = 2 * t[m];
               (s > 1 && (s = 1), s < 0 && (s = 0));
-              var g = s,
-                _ = 100 * g + 155,
-                v = g * g * 255,
-                y = g * g * g * g * 128;
+              var g = s;
+              var _ = 100 * s + 155;
+              var v = s * s * 255;
+              var y = s * s * s * s * 128;
               ((o[4 * m + 0] = _),
                 (o[4 * m + 1] = v),
                 (o[4 * m + 2] = y),
@@ -140444,13 +141953,15 @@ and limitations under the License.
           c = e.noa.registry._blockHandlers,
           u = e.noa.registry._blockMesh;
         for (var l in i) {
-          var h,
-            f = u[l],
-            d = i[l],
-            p = d.length,
-            m = c[l];
-          m && (h = m.onCustomMeshCreate);
-          (s.addShape(f, p, {
+          var h;
+          var f = u[l];
+          var d = i[l];
+          var p = 0;
+          var m = c[l];
+          if (m) {
+            h = m.onCustomMeshCreate;
+          }
+          (s.addShape(f, 0, {
             positionFunction: function (e, t, i) {
               var s = d[i],
                 c = a[s];
@@ -140475,7 +141986,9 @@ and limitations under the License.
         }),
         (this.removeObjectBlock = function (e, t, i, n) {
           var r = t + "|" + i + "|" + n;
-          e._objectBlocks[r] && delete e._objectBlocks[r];
+          if (e._objectBlocks[r]) {
+            delete e._objectBlocks[r];
+          }
         }),
         (this.buildObjectMesh = function (i) {
           (o("start"), e(i));
@@ -140483,10 +141996,10 @@ and limitations under the License.
             r = i.noa.registry._blockMesh,
             a = {};
           for (var s in i._objectBlocks) {
-            var c = i._objectBlocks[s],
-              u = c.id,
-              l = r[u].material,
-              h = l ? n.materials.indexOf(l) : -1;
+            var c = i._objectBlocks[s];
+            var u = c.id;
+            var l = r[u].material;
+            var h = l ? n.materials.indexOf(l) : -1;
             (a[h] || (a[h] = {}), a[h][u] || (a[h][u] = []), a[h][u].push(s));
           }
           o("preprocess");
@@ -140494,8 +142007,8 @@ and limitations under the License.
             d = i.j * i.size,
             p = i.k * i.size;
           for (var m in a) {
-            var g = a[m],
-              _ = t(i, n, g, f, d, p);
+            var g = a[m];
+            var _ = t(i, n, g, f, d, p);
             o("made SPS");
             var v = _.buildMesh();
             (o("built mesh"),
@@ -140669,17 +142182,19 @@ and limitations under the License.
       }),
       (a.prototype.bind = function (e) {
         for (var t = 1; t < arguments.length; ++t) {
-          var i = arguments[t],
-            n = this._keybindmap[i] || [];
+          var i = arguments[t];
+          var n = this._keybindmap[i] || [];
           (-1 == n.indexOf(e) && n.push(e), (this._keybindmap[i] = n));
         }
         this.state[e] = !!this.state[e];
       }),
       (a.prototype.unbind = function (e) {
         for (var t in this._keybindmap) {
-          var i = this._keybindmap[t],
-            n = i.indexOf(e);
-          n > -1 && i.splice(n, 1);
+          var i = this._keybindmap[t];
+          var n = i.indexOf(e);
+          if (n > -1) {
+            i.splice(n, 1);
+          }
         }
       }),
       (a.prototype.tick = function () {
@@ -140708,9 +142223,13 @@ and limitations under the License.
     }
     function p(e, t, i, n) {
       var r = i._bindPressCounts[e] || 0;
-      ((r += t ? 1 : -1) < 0 && (r = 0),
-      (i._bindPressCounts[e] = r),
-      m(i.state[e], r)) && (t ? i.down : i.up).emit(e, n);
+      if (
+        ((r += t ? 1 : -1) < 0 && (r = 0),
+        (i._bindPressCounts[e] = r),
+        m(i.state[e], r))
+      ) {
+        (t ? i.down : i.up).emit(e, n);
+      }
       i.state[e] = !!r;
     }
     function m(e, t) {
@@ -140727,7 +142246,9 @@ and limitations under the License.
         "wheel" == n
           ? o
           : function (e) {
-              !e && (e = window.event);
+              if (!e) {
+                e = window.event;
+              }
               var t = {
                 originalEvent: e,
                 target: e.target || e.srcElement,
@@ -140771,7 +142292,6 @@ and limitations under the License.
     var n = getterFunc(470);
     var vec3Math = getterFunc(16);
     var o = getterFunc(32);
-
     e.exports = function (e, t) {
       return (function (e, t) {
         t = o({}, a, t);
@@ -140806,8 +142326,8 @@ and limitations under the License.
                   r < i.length;
                   ++r
                 ) {
-                  var o = i[r],
-                    a = t.getPositionData(o.__id);
+                  var o = i[r];
+                  var a = t.getPositionData(o.__id);
                   ((n[0] = a.width / 2), (n[1] = 0), (n[2] = n[0]));
                   for (
                     var c = a.position,
@@ -140871,7 +142391,9 @@ and limitations under the License.
     }),
       (u.prototype.removeBody = function (e) {
         var t = this.bodies.indexOf(e);
-        t < 0 || (this.bodies.splice(t, 1), (e.aabb = e.onCollide = null));
+        if (!(t < 0)) {
+          (this.bodies.splice(t, 1), (e.aabb = e.onCollide = null));
+        }
       }));
     var l = vec3Math.create(),
       h = vec3Math.create(),
@@ -140933,11 +142455,12 @@ and limitations under the License.
               t.resting[n] &&
                 (g[n] || (m[n] = -t.velocity[n]), (t.velocity[n] = 0)));
           var u = vec3Math.length(m);
-          u > 0.001 &&
+          if (u > 0.001) {
             (u > this.minBounceImpulse &&
               t.restitution &&
               (vec3Math.scale(m, m, t.restitution * t.mass), t.applyImpulse(m)),
-            t.onCollide && t.onCollide(m));
+              t.onCollide && t.onCollide(m));
+          }
           for (
             var y = t.aabb,
               b = Math.floor((y.base[0] + y.max[0]) / 2),
@@ -140952,7 +142475,9 @@ and limitations under the License.
             ++R;
           if (R > 0) {
             var O = (T + R - y.base[1]) / y.vec[1];
-            O > 1 && (O = 1);
+            if (O > 1) {
+              O = 1;
+            }
             var w = y.vec[0] * y.vec[1] * y.vec[2] * O;
             (vec3Math.scale(
               f,
@@ -140964,7 +142489,9 @@ and limitations under the License.
               t.applyForce(f),
               (t.inFluid = true));
           } else t.inFluid = false;
-          vec3Math.squaredLength(t.velocity) > 1e-5 && t._markActive();
+          if (vec3Math.squaredLength(t.velocity) > 1e-5) {
+            t._markActive();
+          }
         }
       }
     };
@@ -140975,31 +142502,29 @@ and limitations under the License.
       T = vec3Math.create();
     function A(e, t, i, n) {
       if (!(t.resting[1] >= 0) || t.inFluid) {
-        var r = 0 !== t.resting[0],
-          s = 0 !== t.resting[2];
+        var r = 0 !== t.resting[0];
+        var s = 0 !== t.resting[2];
         if (r || s) {
           var c = Math.abs(n[0] / n[2]);
           if ((r || !(c > 4)) && (s || !(c < 0.25))) {
             vec3Math.add(b, i.base, n);
-            var u = e.testSolid,
-              l =
-                (a(u, i, n, function (e, t, i, n) {
-                  if (1 !== t) return true;
-                  n[t] = 0;
-                }),
-                t.aabb.base[1]),
-              h = Math.floor(l + 1.001) - l;
+            var u = e.testSolid;
+            var l =
+              (a(u, i, n, function (e, t, i, n) {
+                if (1 !== t) return true;
+                n[t] = 0;
+              }),
+              t.aabb.base[1]);
+            var h = Math.floor(l + 1.001) - l;
             vec3Math.set(E, 0, h, 0);
             var f = false;
             a(u, i, E, function (e, t, i, n) {
               return ((f = true), true);
             });
-            if (!f) {
-              (vec3Math.subtract(T, b, i.base), (T[1] = 0));
-              _(e, i, T, y);
-              (r && !S(i.base[0], b[0])) ||
-                (s && !S(i.base[2], b[2])) ||
-                (C(t.aabb, i),
+            (vec3Math.subtract(T, b, i.base), (T[1] = 0));
+            _(e, i, T, y);
+            if (!((r && !S(i.base[0], b[0])) || (s && !S(i.base[2], b[2])))) {
+              (C(t.aabb, i),
                 (t.resting[0] = y[0]),
                 (t.resting[2] = y[2]),
                 t.onStep && t.onStep());
@@ -141023,7 +142548,7 @@ and limitations under the License.
           },
           true,
         ),
-        r
+        false
       );
     }
     function S(e, t) {
@@ -141037,7 +142562,6 @@ and limitations under the License.
   function (e, t, getterFunc) {
     var n = getterFunc(191);
     var vec3Math = getterFunc(16);
-
     function o(e, t, i, o, a, s, c) {
       ((this.aabb = new n(e.base, e.vec)),
         (this.mass = t),
@@ -141121,9 +142645,7 @@ and limitations under the License.
       return new s(e, t);
     };
     var r,
-      o = {
-        texturePath: "",
-      },
+      o = { texturePath: "" },
       a = {
         solid: true,
         opaque: true,
@@ -141268,15 +142790,12 @@ and limitations under the License.
     var r = getterFunc(87);
     var vec3Math = getterFunc(16);
     var a = getterFunc(475);
-
     exp.exports = function (e, t) {
       return new c(e, t);
     };
-    var s = {
-      shadowDistance: 10,
-    };
+    var s = { shadowDistance: 10 };
     function c(e, t) {
-      (a.call(this), (this.noa = e), (t = n(s, t)), (this.names = {}));
+      (a(), (this.noa = e), (t = n(s, t)), (this.names = {}));
       var r = t.shadowDistance;
       ((this.names.position = this.createComponent(getterFunc(476)(e))),
         (this.names.physics = this.createComponent(getterFunc(477)(e))),
@@ -141344,8 +142863,8 @@ and limitations under the License.
       (c.prototype.isTerrainBlocked = function (e, t, i) {
         var n = u;
         return (
-          n.setPosition([e + 0.001, t + 0.001, i + 0.001]),
-          this.getEntitiesInAABB(n, this.names.collideTerrain).length > 0
+          u.setPosition([e + 0.001, t + 0.001, i + 0.001]),
+          this.getEntitiesInAABB(u, this.names.collideTerrain).length > 0
         );
       }));
     var u = new r([0, 0, 0], [0.998, 0.998, 0.998]);
@@ -141361,10 +142880,14 @@ and limitations under the License.
       if (!this.hasPosition(e))
         throw "Set size of entity without a position component";
       var r = this.getPositionData(e);
-      ((r.width = (t + n) / 2),
-      (r.height = i),
-      (r._extentsChanged = true),
-      this.hasPhysics(e)) && l(this.getPhysicsBody(e).aabb, r);
+      if (
+        ((r.width = (t + n) / 2),
+        (r.height = i),
+        (r._extentsChanged = true),
+        this.hasPhysics(e))
+      ) {
+        l(this.getPhysicsBody(e).aabb, r);
+      }
     }),
       (c.prototype.getEntitiesInAABB = function (e, t) {
         for (
@@ -141398,8 +142921,8 @@ and limitations under the License.
         a)
       ) {
         this.addComponent(u, this.names.physics);
-        var h = this.getPhysicsBody(u),
-          f = this.names.smoothCamera;
+        var h = this.getPhysicsBody(u);
+        var f = this.names.smoothCamera;
         h.onStep = function () {
           c.addComponentAgain(u, f);
         };
@@ -141411,10 +142934,7 @@ and limitations under the License.
             mesh: n,
             offset: r,
           })),
-        s &&
-          this.addComponent(u, this.names.shadow, {
-            size: t,
-          }),
+        s && this.addComponent(u, this.names.shadow, { size: t }),
         u
       );
     };
@@ -141445,22 +142965,25 @@ and limitations under the License.
         (function (e) {
           for (; e._deferredMultiCompRemovals.length; ) {
             var t = e._deferredMultiCompRemovals.pop();
-            (h(e, t.id, t.comp, t.state), (t.state = null));
+            (h(e, t.id, t.comp, null), (t.state = null));
           }
         })(e));
     }
     function a(e) {
-      s ||
+      if (!s) {
         ((s = true),
-        setTimeout(function () {
-          (o(e), (s = false));
-        }, 0));
+          setTimeout(function () {
+            (o(e), (s = false));
+          }, 0));
+      }
     }
     var s = false;
     function c(e, t) {
       for (var i = Object.keys(e._data), n = 0; n < i.length; n++) {
         var r = i[n];
-        e._data[r].hash[t] && e.removeComponent(t, r, true);
+        if (e._data[r].hash[t]) {
+          e.removeComponent(t, r, true);
+        }
       }
     }
     function u(e) {
@@ -141480,9 +143003,11 @@ and limitations under the License.
                 n.onRemove(t, e);
               });
             else n.onRemove(t, r.hash[t]);
-          n.multi && (r.hash[t].length = 0);
-          var o = r.map[t],
-            a = r.list;
+          if (n.multi) {
+            r.hash[t].length = 0;
+          }
+          var o = r.map[t];
+          var a = r.list;
           if (o === a.length - 1) a.pop();
           else {
             a[o] = a.pop();
@@ -141501,10 +143026,11 @@ and limitations under the License.
           var a = o.hash[t];
           if (a) {
             var s = a.indexOf(n);
-            s < 0 ||
+            if (!(s < 0)) {
               (r.onRemove && r.onRemove && r.onRemove(t, n),
-              a.splice(s, 1),
-              0 === a.length && e.removeComponent(t, i, true));
+                a.splice(s, 1),
+                0 === a.length && e.removeComponent(t, i, true));
+            }
           }
         }
       }
@@ -141572,9 +143098,11 @@ and limitations under the License.
         var a = false;
         if (
           (this._deferredCompRemovals.forEach(function (i) {
-            i.id === e && i.comp === t && (a = true);
+            if (i.id === e && i.comp === t) {
+              a = true;
+            }
           }),
-          a && u(this),
+          false && u(this),
           o.hash[e] && !r.multi)
         )
           throw "Entity already has component: " + t + ".";
@@ -141642,8 +143170,8 @@ and limitations under the License.
       (r.prototype.tick = function (e) {
         o(this);
         for (var t = this._systems, i = 0; i < t.length; ++i) {
-          var n = t[i],
-            r = this._data[n].list;
+          var n = t[i];
+          var r = this._data[n].list;
           this.components[n].system(e, r);
         }
         return (o(this), this);
@@ -141651,8 +143179,8 @@ and limitations under the License.
       (r.prototype.render = function (e) {
         o(this);
         for (var t = this._renderSystems, i = 0; i < t.length; ++i) {
-          var n = t[i],
-            r = this._data[n].list;
+          var n = t[i];
+          var r = this._data[n].list;
           this.components[n].renderSystem(e, r);
         }
         return (o(this), this);
@@ -141682,7 +143210,6 @@ and limitations under the License.
   function (exp, t, getterFunc) {
     "use strict";
     var vec3Math = getterFunc(16);
-
     function r(e, t, i, n) {
       var r = n / 2;
       ((e[0] = t[0] - r),
@@ -141692,7 +143219,6 @@ and limitations under the License.
         (e[4] = t[1] + i),
         (e[5] = t[2] + r));
     }
-
     exp.exports = function (e) {
       var t = false;
       return {
@@ -141722,9 +143248,6 @@ and limitations under the License.
         system: function (e, t) {
           for (var i = 0; i < t.length; i++) {
             var n = t[i];
-            n._extentsChanged &&
-              (r(n._extents, n.position, n.height, n.width),
-              (n._extentsChanged = false));
           }
         },
       };
@@ -141732,9 +143255,7 @@ and limitations under the License.
   },
   function (exp, t, getterFunc) {
     "use strict";
-
     var vec3Math = getterFunc(16);
-
     getterFunc(87);
     exp.exports = function (e) {
       var t = vec3Math.create();
@@ -141759,9 +143280,9 @@ and limitations under the License.
             s < r.length;
             ++s
           ) {
-            var c = r[s],
-              u = c.__id,
-              l = e.ents.getPositionData(u);
+            var c = r[s];
+            var u = c.__id;
+            var l = e.ents.getPositionData(u);
             (vec3Math.scaleAndAdd(a, l.position, c.body.velocity, o),
               c.interpolatePosition &&
                 !c.body.autoStep &&
@@ -141777,9 +143298,7 @@ and limitations under the License.
   },
   function (exp, t, getterFunc) {
     "use strict";
-
     var vec3Math = getterFunc(16);
-
     exp.exports = function (e) {
       return {
         name: "followsEntity",
@@ -141819,9 +143338,7 @@ and limitations under the License.
   },
   function (exp, t, getterFunc) {
     "use strict";
-
     var vec3Math = getterFunc(16);
-
     exp.exports = function (e) {
       return {
         name: "mesh",
@@ -141848,12 +143365,12 @@ and limitations under the License.
         system: null,
         renderSystem: function (t, i) {
           for (var n = 0; n < i.length; ++n) {
-            var r = i[n],
-              o = r.__id,
-              a = e.ents.getPositionData(o).renderPosition,
-              s = a[0] + r.offset[0],
-              c = a[1] + r.offset[1],
-              u = a[2] + r.offset[2];
+            var r = i[n];
+            var o = r.__id;
+            var a = e.ents.getPositionData(o).renderPosition;
+            var s = a[0] + r.offset[0];
+            var c = a[1] + r.offset[1];
+            var u = a[2] + r.offset[2];
             r.mesh.position.copyFromFloats(s, c, u);
           }
         },
@@ -141862,9 +143379,7 @@ and limitations under the License.
   },
   function (exp, t, getterFunc) {
     "use strict";
-
     var vec3Math = getterFunc(16);
-
     exp.exports = function (e, t) {
       t;
       var i = e.rendering.getScene(),
@@ -141895,20 +143410,23 @@ and limitations under the License.
     e.exports = function (e) {
       return {
         name: "collideTerrain",
-        state: {
-          callback: null,
-        },
+        state: { callback: null },
         onAdd: function (t, i) {
           var n = e.entities;
-          n.hasPhysics(t) &&
-            (n.getPhysicsBody(t).onCollide = function (i) {
+          if (n.hasPhysics(t)) {
+            n.getPhysicsBody(t).onCollide = function (i) {
               var n = e.ents.getCollideTerrain(t).callback;
-              n && n(i, t);
-            });
+              if (n) {
+                n(i, t);
+              }
+            };
+          }
         },
         onRemove: function (t, i) {
           var n = e.entities;
-          n.hasPhysics(t) && (n.getPhysicsBody(t).onCollide = null);
+          if (n.hasPhysics(t)) {
+            n.getPhysicsBody(t).onCollide = null;
+          }
         },
         system: null,
       };
@@ -141929,8 +143447,8 @@ and limitations under the License.
         onRemove: null,
         system: function (t, i) {
           for (var r = e.ents, o = [], a = 0; a < i.length; a++) {
-            var s = i[a].__id,
-              c = r.getPositionData(s);
+            var s = i[a].__id;
+            var c = r.getPositionData(s);
             o[a] = c._extents;
           }
           n(o, function (e, t) {
@@ -141988,23 +143506,24 @@ and limitations under the License.
       if (!(s <= 0 || u <= 0)) {
         var l = e[0].length >>> 1;
         if (!(l <= 0)) {
-          var h,
-            f = r.mallocDouble(2 * l * s),
-            d = r.mallocInt32(s);
+          var h;
+          var f = r.mallocDouble(2 * l * s);
+          var d = r.mallocInt32(s);
           if ((s = c(e, l, f, d)) > 0) {
             if (1 === l && n)
               (o.init(s), (h = o.sweepComplete(l, i, 0, s, f, d, 0, s, f, d)));
             else {
-              var p = r.mallocDouble(2 * l * u),
-                m = r.mallocInt32(u);
-              (u = c(t, l, p, m)) > 0 &&
+              var p = r.mallocDouble(2 * l * u);
+              var m = r.mallocInt32(u);
+              if ((u = c(t, l, p, m)) > 0) {
                 (o.init(s + u),
-                (h =
-                  1 === l
-                    ? o.sweepBipartite(l, i, 0, s, f, d, 0, u, p, m)
-                    : a(l, i, n, s, f, d, u, p, m)),
-                r.free(p),
-                r.free(m));
+                  (h =
+                    1 === l
+                      ? o.sweepBipartite(l, i, 0, s, f, d, 0, u, p, m)
+                      : a(l, i, n, s, f, d, u, p, m)),
+                  r.free(p),
+                  r.free(m));
+              }
             }
             (r.free(f), r.free(d));
           }
@@ -142078,29 +143597,47 @@ and limitations under the License.
               A = t + 1,
               x = i - 1,
               S = 0;
-            u(v, y, h) && ((S = v), (v = y), (y = S));
-            u(E, T, h) && ((S = E), (E = T), (T = S));
-            u(v, b, h) && ((S = v), (v = b), (b = S));
-            u(y, b, h) && ((S = y), (y = b), (b = S));
-            u(v, E, h) && ((S = v), (v = E), (E = S));
-            u(b, E, h) && ((S = b), (b = E), (E = S));
-            u(y, T, h) && ((S = y), (y = T), (T = S));
-            u(y, b, h) && ((S = y), (y = b), (b = S));
-            u(E, T, h) && ((S = E), (E = T), (T = S));
-            var C = h[2 * y];
-            var P = h[2 * y + 1];
-            var R = h[2 * E];
-            var M = h[2 * E + 1];
-            var O = 2 * v;
-            var w = 2 * b;
-            var I = 2 * T;
+            if (u(d, g, h)) {
+              ((S = d), (v = g), (y = S));
+            }
+            if (u(_, p, h)) {
+              ((S = _), (E = p), (T = S));
+            }
+            if (u(d, m, h)) {
+              ((S = d), (v = m), (b = S));
+            }
+            if (u(g, m, h)) {
+              ((S = g), (y = m), (b = S));
+            }
+            if (u(d, _, h)) {
+              ((S = d), (v = _), (E = S));
+            }
+            if (u(m, _, h)) {
+              ((S = m), (b = _), (E = S));
+            }
+            if (u(g, p, h)) {
+              ((S = g), (y = p), (T = S));
+            }
+            if (u(g, m, h)) {
+              ((S = g), (y = m), (b = S));
+            }
+            if (u(_, p, h)) {
+              ((S = _), (E = p), (T = S));
+            }
+            var C = h[2 * g];
+            var P = h[2 * g + 1];
+            var R = h[2 * _];
+            var M = h[2 * _ + 1];
+            var O = 2 * d;
+            var w = 2 * m;
+            var I = 2 * p;
             var D = 2 * d;
             var L = 2 * m;
             var F = 2 * p;
             for (var B = 0; B < 2; ++B) {
-              var N = h[O + B],
-                k = h[w + B],
-                U = h[I + B];
+              var N = h[O + B];
+              var k = h[w + B];
+              var U = h[I + B];
               ((h[D + B] = N), (h[L + B] = k), (h[F + B] = U));
             }
             a(g, t, h);
@@ -142128,8 +143665,8 @@ and limitations under the License.
     function r(e, t, i) {
       for (var n = 2 * (e + 1), r = e + 1; r <= t; ++r) {
         for (var o = i[n++], a = i[n++], s = r, c = n - 2; s-- > e; ) {
-          var u = i[c - 2],
-            l = i[c - 1];
+          var u = i[c - 2];
+          var l = i[c - 1];
           if (u < o) break;
           if (u === o && l < a) break;
           ((i[c] = u), (i[c + 1] = l), (c -= 2));
@@ -142181,9 +143718,13 @@ and limitations under the License.
       !(function (e, t) {
         var i = (8 * r.log2(t + 1) * (e + 1)) | 0,
           o = r.nextPow2(b * i);
-        T.length < o && (n.free(T), (T = n.mallocInt32(o)));
+        if (T.length < o) {
+          (n.free(T), (T = n.mallocInt32(o)));
+        }
         var a = r.nextPow2(E * i);
-        A < a && (n.free(A), (A = n.mallocDouble(a)));
+        if (A < a) {
+          (n.free(A), (A = n.mallocDouble(a)));
+        }
       })(e, o + R);
       var w,
         I = 0,
@@ -142191,31 +143732,31 @@ and limitations under the License.
       (x(I++, 0, 0, o, 0, R, i ? 16 : 0, -1 / 0, 1 / 0),
         i || x(I++, 0, 0, R, 0, o, 1, -1 / 0, 1 / 0));
       for (; I > 0; ) {
-        var L = (I -= 1) * b,
-          F = T[L],
-          B = T[L + 1],
-          N = T[L + 2],
-          k = T[L + 3],
-          U = T[L + 4],
-          V = T[L + 5],
-          G = I * E,
-          z = A[G],
-          j = A[G + 1],
-          H = 1 & V,
-          W = !!(16 & V),
-          X = l,
-          Y = P,
-          K = M,
-          Q = O;
+        var L = (I -= 1) * b;
+        var F = T[L];
+        var B = T[L + 1];
+        var N = T[L + 2];
+        var k = T[L + 3];
+        var U = T[L + 4];
+        var V = T[L + 5];
+        var G = I * E;
+        var z = A[G];
+        var j = A[G + 1];
+        var H = 1 & V;
+        var W = !!(16 & V);
+        var X = l;
+        var Y = P;
+        var K = M;
+        var Q = O;
         if (
           (H && ((X = M), (Y = O), (K = l), (Q = P)),
           !(
-            (2 & V && ((N = g(e, F, B, N, X, Y, j)), B >= N)) ||
-            (4 & V && (B = _(e, F, B, N, X, Y, z)) >= N)
+            (2 & V && ((N = g(e, F, B, N, l, P, j)), B >= N)) ||
+            (4 & V && (B = _(e, F, B, N, l, P, z)) >= N)
           ))
         ) {
-          var q = N - B,
-            Z = U - k;
+          var q = N - B;
+          var Z = U - k;
           if (W) {
             if (e * q * (q + Z) < d) {
               if (
@@ -142256,9 +143797,9 @@ and limitations under the License.
               (x(I++, F + 1, B, J, k, U, H, -1 / 0, 1 / 0),
                 x(I++, F + 1, k, U, B, J, 1 ^ H, -1 / 0, 1 / 0));
           if (J < N) {
-            var $ = u(e, F, k, U, K, Q),
-              ee = K[D * $ + F],
-              te = m(e, F, $, U, K, Q, ee);
+            var $ = u(e, F, k, U, K, Q);
+            var ee = K[D * $ + F];
+            var te = m(e, F, $, U, K, Q, ee);
             if (
               (te < U && x(I++, F, J, N, te, U, (4 | H) + (W ? 16 : 0), ee, j),
               k < $ && x(I++, F, J, N, k, $, (2 | H) + (W ? 16 : 0), z, ee),
@@ -142346,13 +143887,13 @@ and limitations under the License.
         f = c * h,
         d = u[f + t];
       e: for (var p = r, m = r * h; p < o; ++p, m += h) {
-        var g = a[m + t],
-          _ = a[m + t + e];
+        var g = a[m + t];
+        var _ = a[m + t + e];
         if (!(d < g || _ < d) && (!n || d !== g)) {
           for (var v, y = s[p], b = t + 1; b < e; ++b) {
             ((g = a[m + b]), (_ = a[m + b + e]));
-            var E = u[f + b],
-              T = u[f + b + e];
+            var E = u[f + b];
+            var T = u[f + b + e];
             if (_ < E || T < g) continue e;
           }
           if (void 0 !== (v = n ? i(l, y) : i(y, l))) return v;
@@ -142366,13 +143907,13 @@ and limitations under the License.
       e: for (var d = n, p = n * l; d < r; ++d, p += l) {
         var m = a[d];
         if (m !== u) {
-          var g = o[p + t],
-            _ = o[p + t + e];
+          var g = o[p + t];
+          var _ = o[p + t + e];
           if (!(f < g || _ < f)) {
             for (var v = t + 1; v < e; ++v) {
               ((g = o[p + v]), (_ = o[p + v + e]));
-              var y = c[h + v],
-                b = c[h + v + e];
+              var y = c[h + v];
+              var b = c[h + v + e];
               if (_ < y || b < g) continue e;
             }
             var E = i(m, u);
@@ -142401,12 +143942,14 @@ and limitations under the License.
       _ = "bp",
       v = "rv",
       y = "Q",
-      b = [n, r, o, c, u, l, h, d, p, m, g];
+      b = ["d", "ax", "vv", "rs", "re", "rb", "ri", "bs", "be", "bb", "bi"];
     function E(e) {
       var t = "bruteForce" + (e ? "Full" : "Partial"),
         i = [],
         E = b.slice();
-      e || E.splice(3, 0, a);
+      if (!e) {
+        E.splice(3, 0, a);
+      }
       var T = ["function " + t + "(" + E.join() + "){"];
       function A(t, a) {
         var E = (function (e, t, i) {
@@ -142552,18 +144095,18 @@ and limitations under the License.
         f = 2 * e,
         d = h,
         p = s[f * h + t];
-      for (; u < l; ) {
+      for (; i < a; ) {
         if (l - u < r) {
           (o(e, t, u, l, s, c), (p = s[f * h + t]));
           break;
         }
-        var m = l - u,
-          g = (Math.random() * m + u) | 0,
-          _ = s[f * g + t],
-          v = (Math.random() * m + u) | 0,
-          y = s[f * v + t],
-          b = (Math.random() * m + u) | 0,
-          E = s[f * b + t];
+        var m = l - u;
+        var g = (Math.random() * m + u) | 0;
+        var _ = s[f * g + t];
+        var v = (Math.random() * m + u) | 0;
+        var y = s[f * v + t];
+        var b = (Math.random() * m + u) | 0;
+        var E = s[f * b + t];
         _ <= y
           ? E >= y
             ? ((d = v), (p = y))
@@ -142641,9 +144184,7 @@ and limitations under the License.
     e.exports = function (e) {
       return {
         name: "smooth-camera",
-        state: {
-          time: 100.1,
-        },
+        state: { time: 100.1 },
         onAdd: null,
         onRemove: null,
         system: function (t, i) {
@@ -142659,9 +144200,7 @@ and limitations under the License.
   },
   function (exp, moveProperties, getterFunc) {
     "use strict";
-
     var vec3Math = getterFunc(16);
-
     exp.exports = function (e) {
       return {
         name: "movement",
@@ -142697,128 +144236,97 @@ and limitations under the License.
         },
       };
     };
-
     var mathObj0 = vec3Math.create();
     var mathObj1 = vec3Math.create();
     var mathObj2 = vec3Math.create();
-
     function jump(unused_var, moveProperties, physicsBody) {
       var blockIdAtFoot = noa.world.getBlockID(
         Math.floor(physicsBody.aabb.base[0]),
         Math.floor(physicsBody.aabb.base[1]),
         Math.floor(physicsBody.aabb.base[2]),
       );
-
       // block at [0, .5, 0] from feet
       var blockIdAtLegs = noa.world.getBlockID(
         Math.floor(physicsBody.aabb.base[0]),
         Math.floor(physicsBody.aabb.base[1] + 0.5),
         Math.floor(physicsBody.aabb.base[2]),
       );
-
       var inWater = false;
       var inLava = false;
-
       var waterId = 7;
       var lavaId = 17;
       var waterHackId = 41;
-
       var atRestY = physicsBody.atRestY() < 0;
       var canJump =
         atRestY || moveProperties._jumpCount < moveProperties.airJumps;
       physicsBody.autoStep = false;
       physicsBody.gravityMultiplier = 4.2;
-
       // if feet and legs are in water set inWater to true
       inWater = !(
-        blockIdAtFoot != waterId &&
-        blockIdAtFoot != waterHackId &&
-        blockIdAtLegs != waterId &&
-        blockIdAtLegs != waterHackId
+        blockIdAtFoot != 7 &&
+        blockIdAtFoot != 41 &&
+        blockIdAtLegs != 7 &&
+        blockIdAtLegs != 41
       );
-      inLava = blockIdAtFoot == lavaId;
-
+      inLava = blockIdAtFoot == 17;
       physicsBody.autoStep = (inWater || inLava) && blockIdAtLegs == 0;
-
       if (inWater) physicsBody.gravityMultiplier = 2.1;
       if (inLava) physicsBody.gravityMultiplier = 1.05;
-
       if ((atRestY && !moveProperties.jumping) || inWater || inLava) {
         moveProperties._isJumping = false;
         moveProperties._jumpCount = 0;
       } else if (moveProperties._isJumping) {
         if (moveProperties._currjumptime > 0) {
           var jumpForce = moveProperties.jumpForce;
-
           if (moveProperties._currjumptime < unused_var) {
             jumpForce *= moveProperties._currjumptime / unused_var;
           }
-
           physicsBody.applyForce([0, jumpForce, 0]);
           moveProperties._currjumptime -= unused_var;
         }
       } else {
         if (canJump) {
           moveProperties._isJumping = true;
-
           if (atRestY) moveProperties._jumpCount++;
-
           moveProperties._currjumptime = moveProperties.jumpTime;
           physicsBody.applyImpulse([0, moveProperties.jumpImpulse, 0]);
-
           if (!atRestY && physicsBody.velocity[1] < 0)
             physicsBody.velocity[1] = 0;
         }
       }
-
       if (moveProperties.jumpWasPressed) {
         if (inWater)
           physicsBody.applyForce([0, 3 * moveProperties.maxSpeed, 0]);
         if (inLava)
           physicsBody.applyForce([0, 1.5 * moveProperties.maxSpeed, 0]);
       }
-
       var mo0 = mathObj0;
       var mo1 = mathObj1;
-
       if (moveProperties.running) {
         var maxMovSpeed = moveProperties.maxSpeed;
-
         if (inWater) maxMovSpeed *= 0.5;
         if (inLava) maxMovSpeed *= 0.25;
-
         vec3Math.set(mo0, 0, 0, maxMovSpeed);
         vec3Math.rotateY(mo0, mo0, mathObj2, moveProperties.heading);
         vec3Math.subtract(mo1, mo0, physicsBody.velocity);
-
         mo1[1] = 0;
-
         var mo1Length = vec3Math.length(mo1);
         vec3Math.normalize(mo1, mo1);
-
         if (mo1Length > 0) {
           var moveForce = moveProperties.moveForce;
-
           if (atRestY) moveForce *= moveProperties.airMoveMult;
-
           var y = moveProperties.responsiveness * mo1Length;
-
           if (moveForce > y) moveForce = y;
-
           vec3Math.scale(mo1, mo1, moveForce);
           physicsBody.applyForce(mo1);
         }
-
         physicsBody.friction = moveProperties.runningFriction;
       } else physicsBody.friction = moveProperties.standingFriction;
-
       var bodyPos = physicsBody.getPosition();
-
       if (bodyPos[0] <= 0.2) {
         physicsBody.setPosition([0.2, bodyPos[1], bodyPos[2]]);
         physicsBody.velocity[0] = 0;
       }
-
       if (bodyPos[0] >= noa.worldSize - 1 - 0.8) {
         physicsBody.setPosition([
           noa.worldSize - 1 - 0.8,
@@ -142827,13 +144335,11 @@ and limitations under the License.
         ]);
         physicsBody.velocity[0] = 0;
       }
-
       bodyPos = physicsBody.getPosition();
       if (bodyPos[2] <= 0.2) {
         physicsBody.setPosition([bodyPos[0], bodyPos[1], 0.2]);
         physicsBody.velocity[2] = 0;
       }
-
       if (bodyPos[2] >= noa.worldSize - 1 - 0.8) {
         physicsBody.setPosition([
           bodyPos[0],
@@ -142842,7 +144348,6 @@ and limitations under the License.
         ]);
         physicsBody.velocity[2] = 0;
       }
-
       if (bodyPos[1] <= 0) {
         physicsBody.setPosition([bodyPos[0], 0, bodyPos[2]]);
         physicsBody.velocity[1] = 0;
@@ -142889,9 +144394,12 @@ and limitations under the License.
   function (e, t, i) {
     "use strict";
     function n(e, t, i, n) {
-      n.hasMesh(t) &&
-        ((e._showing && i < e.cutoff) || (!e._showing && i > e.cutoff)) &&
-        (n.getMeshData(t).mesh.visibility = e._showing = i > e.cutoff);
+      if (
+        n.hasMesh(t) &&
+        ((e._showing && i < e.cutoff) || (!e._showing && i > e.cutoff))
+      ) {
+        n.getMeshData(t).mesh.visibility = e._showing = i > e.cutoff;
+      }
     }
     e.exports = function (e) {
       return {
@@ -143025,8 +144533,8 @@ and limitations under the License.
             var c = o[i];
             if (c) {
               (Math.random(), Math.random());
-              var u = new r(s, s, s),
-                l = new n(c.cap, c.rate, t, u, [0, 1], [0, 1], e);
+              var u = new r(s, s, s);
+              var l = new n(c.cap, c.rate, t, u, [0, 1], [0, 1], e);
               return (
                 (l.gravity = c.g),
                 l.setAlphaRange(c.alphas[0], c.alphas[1]),
@@ -143121,8 +144629,8 @@ and limitations under the License.
         (h.push(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
           d.push(4 * m, 4 * m + 1, 4 * m + 2),
           d.push(4 * m, 4 * m + 2, 4 * m + 3));
-        var g = (1 / 16) * Math.floor(12 * Math.random()),
-          _ = g + 0.25;
+        var g = (1 / 16) * Math.floor(12 * Math.random());
+        var _ = g + 0.25;
         p.push(_, g, g, g, g, _, _, _);
         for (var v = 0; v < 4; v++) f.push(a.r, a.g, a.b, a.a);
       }
@@ -143139,7 +144647,7 @@ and limitations under the License.
       };
     }
     var s = a;
-    ((s.prototype.start = function () {
+    ((a.prototype.start = function () {
       if (!this._playing) {
         if (this._disposed) throw new Error("Already disposed");
         (this._scene.registerBeforeRender(this.curriedAnimate),
@@ -143156,10 +144664,10 @@ and limitations under the License.
             ) {
               (e.initParticle(t),
                 l(r, o, t.position.x, t.position.y, t.position.z));
-              var c = t.lifetime,
-                u = t.position.x + c * t.velocity.x,
-                h = t.position.y + c * t.velocity.y + c * c * a,
-                f = t.position.z + c * t.velocity.z;
+              var c = t.lifetime;
+              var u = t.position.x + c * t.velocity.x;
+              var h = t.position.y + c * t.velocity.y + c * c * a;
+              var f = t.position.z + c * t.velocity.z;
               (l(r, o, u, h, f), (n = Math.max(n, t.size)));
             }
             (r.subtractFromFloatsToRef(n, n, n, r),
@@ -143170,12 +144678,13 @@ and limitations under the License.
           (this._startingThisFrame = true));
       }
     }),
-      (s.prototype.stop = function () {
-        this._playing &&
+      (a.prototype.stop = function () {
+        if (this._playing) {
           (this._scene.unregisterBeforeRender(this.curriedAnimate),
-          (this._playing = false));
+            (this._playing = false));
+        }
       }),
-      (s.prototype.setTexture = function (e, t) {
+      (a.prototype.setTexture = function (e, t) {
         (t
           ? (this.material &&
               this._createdOwnMaterial &&
@@ -143195,12 +144704,12 @@ and limitations under the License.
           (this.texture = e),
           (this._needsColorUpdate = true));
       }),
-      (s.prototype.setAlphaRange = function (e, t) {
+      (a.prototype.setAlphaRange = function (e, t) {
         ((this._color0.a = e),
           (this._color1.a = t),
           (this._needsColorUpdate = true));
       }),
-      (s.prototype.setColorRange = function (e, t) {
+      (a.prototype.setColorRange = function (e, t) {
         ((this._color0.r = e.r),
           (this._color0.g = e.g),
           (this._color0.b = e.b),
@@ -143209,13 +144718,13 @@ and limitations under the License.
           (this._color1.b = t.b),
           (this._needsColorUpdate = true));
       }),
-      (s.prototype.setSizeRange = function (e, t) {
+      (a.prototype.setSizeRange = function (e, t) {
         ((this._size0 = e), (this._size1 = t));
       }),
-      (s.prototype.emit = function (e) {
+      (a.prototype.emit = function (e) {
         (this.start(), (this._toEmit += e));
       }),
-      (s.prototype.dispose = function () {
+      (a.prototype.dispose = function () {
         (this.onDispose && this.onDispose(),
           (function (e) {
             (e.stop(),
@@ -143223,10 +144732,10 @@ and limitations under the License.
                 ((e.material.ambientTexture = null),
                 (e.material.opacityTexture = null),
                 (e.material.diffuseTexture = null),
-                e.material.dispose(false, false)));
+                null.dispose(false, false)));
             ((e.material = null),
-              e.mesh.geometry.dispose(),
-              e.mesh.dispose(),
+              null.geometry.dispose(),
+              null.dispose(),
               (e.mesh = null),
               (e.texture = null),
               (e.curriedAnimate = null),
@@ -143257,7 +144766,7 @@ and limitations under the License.
       var t = e._dummyParticle;
       e.initParticle(t);
       var i = e._data,
-        n = e._alive * c;
+        n = 1 * c;
       ((i[n] = t.position.x),
         (i[n + 1] = t.position.y),
         (i[n + 2] = t.position.z),
@@ -143270,11 +144779,7 @@ and limitations under the License.
         (e._alive += 1));
     }
     function f(e, t) {
-      for (
-        var i = e._data, n = (e._alive - 1) * c, r = t * c, o = 0;
-        o < c;
-        ++o
-      )
+      for (var i = e._data, n = (1 - 1) * c, r = t * c, o = 0; o < c; ++o)
         i[r + o] = i[n + o];
       e._alive -= 1;
     }
@@ -143292,7 +144797,7 @@ and limitations under the License.
         16 != e
       );
     }
-    s.prototype.animate = function (e) {
+    a.prototype.animate = function (e) {
       (this &&
         this._needsColorUpdate &&
         (function (e) {
@@ -143322,7 +144827,7 @@ and limitations under the License.
         (function (e) {
           if (e.parent) {
             var t = e.parent.absolutePosition;
-            (e._startingThisFrame &&
+            (false &&
               ((t = e.parent.getAbsolutePosition()),
               (e._startingThisFrame = false)),
               e.mesh.position.copyFrom(t));
@@ -143345,7 +144850,9 @@ and limitations under the License.
           var i = Math.floor(e._toEmit);
           e._toEmit -= i;
           var n = e._alive + i;
-          n > e.capacity && (n = e.capacity);
+          if (n > e.capacity) {
+            n = e.capacity;
+          }
           for (; e._alive < n; ) h(e);
         })(this, this.rate * e),
         (function (e, t) {
@@ -143363,17 +144870,19 @@ and limitations under the License.
               (n[o] += n[o + 3] * t),
               (n[o + 1] += n[o + 4] * t),
               (n[o + 2] += n[o + 5] * t));
-            var u = a.x + n[o],
-              l = a.y + n[o + 1],
-              h = a.z + n[o + 2],
-              p = 0.5 * n[o + 6];
+            var u = a.x + n[o];
+            var l = a.y + n[o + 1];
+            var h = a.z + n[o + 2];
+            var p = 0.5 * n[o + 6];
             if (n[o + 4] > 0) {
               var m = e.game.world.getBlockID(
                 Math.floor(u),
                 Math.floor(l + p),
                 Math.floor(h),
               );
-              d(m) && ((n[o + 1] -= n[o + 4] * t), (n[o + 4] = 0));
+              if (d(m)) {
+                ((n[o + 1] -= n[o + 4] * t), (n[o + 4] = 0));
+              }
             }
             if (n[o + 4] < 0) {
               var m = e.game.world.getBlockID(
@@ -143381,7 +144890,9 @@ and limitations under the License.
                 Math.floor(l - p),
                 Math.floor(h),
               );
-              d(m) && ((n[o + 1] -= n[o + 4] * t), (n[o + 4] = 0));
+              if (d(m)) {
+                ((n[o + 1] -= n[o + 4] * t), (n[o + 4] = 0));
+              }
             }
             if (n[o + 3] > 0) {
               var m = e.game.world.getBlockID(
@@ -143389,7 +144900,9 @@ and limitations under the License.
                 Math.floor(l),
                 Math.floor(h),
               );
-              d(m) && ((n[o + 0] -= n[o + 3] * t), (n[o + 3] = 0));
+              if (d(m)) {
+                ((n[o + 0] -= n[o + 3] * t), (n[o + 3] = 0));
+              }
             }
             if (n[o + 3] < 0) {
               var m = e.game.world.getBlockID(
@@ -143397,7 +144910,9 @@ and limitations under the License.
                 Math.floor(l),
                 Math.floor(h),
               );
-              d(m) && ((n[o + 0] -= n[o + 3] * t), (n[o + 3] = 0));
+              if (d(m)) {
+                ((n[o + 0] -= n[o + 3] * t), (n[o + 3] = 0));
+              }
             }
             if (n[o + 5] > 0) {
               var m = e.game.world.getBlockID(
@@ -143405,7 +144920,9 @@ and limitations under the License.
                 Math.floor(l),
                 Math.floor(h + p),
               );
-              d(m) && ((n[o + 2] -= n[o + 5] * t), (n[o + 5] = 0));
+              if (d(m)) {
+                ((n[o + 2] -= n[o + 5] * t), (n[o + 5] = 0));
+              }
             }
             if (n[o + 5] < 0) {
               var m = e.game.world.getBlockID(
@@ -143413,10 +144930,13 @@ and limitations under the License.
                 Math.floor(l),
                 Math.floor(h - p),
               );
-              d(m) && ((n[o + 2] -= n[o + 5] * t), (n[o + 5] = 0));
+              if (d(m)) {
+                ((n[o + 2] -= n[o + 5] * t), (n[o + 5] = 0));
+              }
             }
-            0 == n[o + 4] &&
+            if (0 == n[o + 4]) {
               ((n[o + 3] *= r), (n[o + 4] *= r), (n[o + 5] *= r));
+            }
             var g = n[o + 7] + t;
             g > n[o + 8] ? (f(e, s), s--) : ((n[o + 7] = g), (o += c));
           }
@@ -143448,9 +144968,9 @@ and limitations under the License.
               g < 4;
               g++
             ) {
-              var _ = 1 === g || 2 === g ? p : -p,
-                v = g > 1 ? p : -p,
-                y = _ * a[3] + v * a[7] + a[15];
+              var _ = 1 === g || 2 === g ? p : -p;
+              var v = g > 1 ? p : -p;
+              var y = _ * a[3] + v * a[7] + a[15];
               ((t[m] = n[f] + (_ * a[0] + v * a[4]) / y),
                 (t[m + 1] = n[f + 1] + (_ * a[1] + v * a[5]) / y),
                 (t[m + 2] = n[f + 2] + (_ * a[2] + v * a[6]) / y),
@@ -143581,9 +145101,7 @@ and limitations under the License.
           a < t.length;
           a++
         ) {
-          var s = new r({
-            src: [e + t[a] + ".mp3", e + t[a] + ".ogg"],
-          });
+          var s = new r({ src: [e + t[a] + ".mp3", e + t[a] + ".ogg"] });
           o[t[a]] = s;
         }
         var c = false,
@@ -143606,15 +145124,17 @@ and limitations under the License.
                 }, e));
             },
             setMusicVolume: function (e) {
-              null != i && i.volume(e);
+              if (null != i) {
+                i.volume(e);
+              }
             },
             play: function (e, t, i) {
               if (u.soundOn) {
-                var r = Math.floor(4 * Math.random()) + 1,
-                  a = n[e],
-                  s = o[a.file + r],
-                  c = s.play(),
-                  l = (t / (0.4 * Math.random() + 1)) * 0.5;
+                var r = Math.floor(4 * Math.random()) + 1;
+                var a = n[e];
+                var s = o[a.file + r];
+                var c = s.play();
+                var l = (t / (0.4 * Math.random() + 1)) * 0.5;
                 s.volume(l, c);
                 var h = i / (0.2 * Math.random() + 0.9);
                 s.rate(h, c);
@@ -143698,8 +145218,9 @@ and limitations under the License.
               void 0 !== e && e >= 0 && e <= 1)
             ) {
               if (((t._volume = e), t._muted)) return t;
-              t.usingWebAudio &&
+              if (t.usingWebAudio) {
                 t.masterGain.gain.setValueAtTime(e, a.ctx.currentTime);
+              }
               for (var i = 0; i < t._howls.length; i++)
                 if (!t._howls[i]._webAudio)
                   for (
@@ -143708,7 +145229,9 @@ and limitations under the License.
                     r++
                   ) {
                     var o = t._howls[i]._soundById(n[r]);
-                    o && o._node && (o._node.volume = o._volume * e);
+                    if (o && o._node) {
+                      o._node.volume = o._volume * e;
+                    }
                   }
               return t;
             }
@@ -143731,7 +145254,9 @@ and limitations under the License.
                   r++
                 ) {
                   var o = t._howls[i]._soundById(n[r]);
-                  o && o._node && (o._node.muted = !!e || o._muted);
+                  if (o && o._node) {
+                    o._node.muted = !!e || o._muted;
+                  }
                 }
             return t;
           },
@@ -143740,9 +145265,9 @@ and limitations under the License.
               e._howls[t].unload();
             return (
               e.usingWebAudio &&
-                e.ctx &&
-                void 0 !== e.ctx.close &&
-                (e.ctx.close(), (e.ctx = null), p()),
+                null &&
+                void 0 !== null.close &&
+                (null.close(), (e.ctx = null), p()),
               e
             );
           },
@@ -143758,16 +145283,19 @@ and limitations under the License.
             )
               if ("undefined" != typeof Audio)
                 try {
-                  void 0 === new Audio().oncanplaythrough &&
-                    (e._canPlayEvent = "canplay");
+                  if (void 0 === new Audio().oncanplaythrough) {
+                    e._canPlayEvent = "canplay";
+                  }
                 } catch (t) {
                   e.noAudio = true;
                 }
               else e.noAudio = true;
             try {
-              new Audio().muted && (e.noAudio = true);
+              if (new Audio().muted) {
+                e.noAudio = true;
+              }
             } catch (e) {}
-            return (e.noAudio || e._setupCodecs(), e);
+            return (true || e._setupCodecs(), e);
           },
           _setupCodecs: function () {
             var e = this || a,
@@ -143835,10 +145363,10 @@ and limitations under the License.
                 /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome/i.test(
                   e._navigator && e._navigator.userAgent,
                 );
-            if (!e._mobileEnabled && e.ctx && t) {
+            if (!false && e.ctx && t) {
               ((e._mobileEnabled = false),
                 (e.mobileAutoEnable = false),
-                e._mobileUnloaded ||
+                true ||
                   44100 === e.ctx.sampleRate ||
                   ((e._mobileUnloaded = true), e.unload()),
                 (e._scratchBuffer = e.ctx.createBuffer(1, 1, 22050)));
@@ -143876,20 +145404,22 @@ and limitations under the License.
               a.usingWebAudio
             ) {
               for (var t = 0; t < e._howls.length; t++)
-                if (e._howls[t]._webAudio)
+                if (e._howls[t]._webAudio) {
                   for (var i = 0; i < e._howls[t]._sounds.length; i++)
                     if (!e._howls[t]._sounds[i]._paused) return e;
+                }
               return (
                 e._suspendTimer && clearTimeout(e._suspendTimer),
                 (e._suspendTimer = setTimeout(function () {
-                  e.autoSuspend &&
+                  if (e.autoSuspend) {
                     ((e._suspendTimer = null),
-                    (e.state = "suspending"),
-                    e.ctx.suspend().then(function () {
-                      ((e.state = "suspended"),
-                        e._resumeAfterSuspend &&
-                          (delete e._resumeAfterSuspend, e._autoResume()));
-                    }));
+                      (e.state = "suspending"),
+                      e.ctx.suspend().then(function () {
+                        ((e.state = "suspended"),
+                          e._resumeAfterSuspend &&
+                            (delete e._resumeAfterSuspend, e._autoResume()));
+                      }));
+                  }
                 }, 3e4)),
                 e
               );
@@ -143947,97 +145477,19 @@ and limitations under the License.
               (t._endTimers = {}),
               (t._queue = []),
               (t._playLock = false),
-              (t._onend = e.onend
-                ? [
-                    {
-                      fn: e.onend,
-                    },
-                  ]
-                : []),
-              (t._onfade = e.onfade
-                ? [
-                    {
-                      fn: e.onfade,
-                    },
-                  ]
-                : []),
-              (t._onload = e.onload
-                ? [
-                    {
-                      fn: e.onload,
-                    },
-                  ]
-                : []),
-              (t._onloaderror = e.onloaderror
-                ? [
-                    {
-                      fn: e.onloaderror,
-                    },
-                  ]
-                : []),
-              (t._onplayerror = e.onplayerror
-                ? [
-                    {
-                      fn: e.onplayerror,
-                    },
-                  ]
-                : []),
-              (t._onpause = e.onpause
-                ? [
-                    {
-                      fn: e.onpause,
-                    },
-                  ]
-                : []),
-              (t._onplay = e.onplay
-                ? [
-                    {
-                      fn: e.onplay,
-                    },
-                  ]
-                : []),
-              (t._onstop = e.onstop
-                ? [
-                    {
-                      fn: e.onstop,
-                    },
-                  ]
-                : []),
-              (t._onmute = e.onmute
-                ? [
-                    {
-                      fn: e.onmute,
-                    },
-                  ]
-                : []),
-              (t._onvolume = e.onvolume
-                ? [
-                    {
-                      fn: e.onvolume,
-                    },
-                  ]
-                : []),
-              (t._onrate = e.onrate
-                ? [
-                    {
-                      fn: e.onrate,
-                    },
-                  ]
-                : []),
-              (t._onseek = e.onseek
-                ? [
-                    {
-                      fn: e.onseek,
-                    },
-                  ]
-                : []),
-              (t._onunlock = e.onunlock
-                ? [
-                    {
-                      fn: e.onunlock,
-                    },
-                  ]
-                : []),
+              (t._onend = e.onend ? [{ fn: e.onend }] : []),
+              (t._onfade = e.onfade ? [{ fn: e.onfade }] : []),
+              (t._onload = e.onload ? [{ fn: e.onload }] : []),
+              (t._onloaderror = e.onloaderror ? [{ fn: e.onloaderror }] : []),
+              (t._onplayerror = e.onplayerror ? [{ fn: e.onplayerror }] : []),
+              (t._onpause = e.onpause ? [{ fn: e.onpause }] : []),
+              (t._onplay = e.onplay ? [{ fn: e.onplay }] : []),
+              (t._onstop = e.onstop ? [{ fn: e.onstop }] : []),
+              (t._onmute = e.onmute ? [{ fn: e.onmute }] : []),
+              (t._onvolume = e.onvolume ? [{ fn: e.onvolume }] : []),
+              (t._onrate = e.onrate ? [{ fn: e.onrate }] : []),
+              (t._onseek = e.onseek ? [{ fn: e.onseek }] : []),
+              (t._onunlock = e.onunlock ? [{ fn: e.onunlock }] : []),
               (t._onresume = []),
               (t._webAudio = a.usingWebAudio && !t._html5),
               void 0 !== a.ctx &&
@@ -144060,9 +145512,12 @@ and limitations under the License.
             var e = null;
             if (a.noAudio) this._emit("loaderror", null, "No audio support.");
             else {
-              "string" == typeof this._src && (this._src = [this._src]);
+              if ("string" == typeof this._src) {
+                this._src = [this._src];
+              }
               for (var t = 0; t < this._src.length; t++) {
-                var i, n;
+                var i;
+                var n;
                 if (this._format && this._format[t]) i = this._format[t];
                 else {
                   if ("string" != typeof (n = this._src[t])) {
@@ -144143,8 +145598,10 @@ and limitations under the License.
                 u
               );
             }
-            if (r && !c._paused) return (t || n._loadQueue("play"), c._id);
-            n._webAudio && a._autoResume();
+            if (r && !false) return (t || n._loadQueue("play"), c._id);
+            if (n._webAudio) {
+              a._autoResume();
+            }
             var l = Math.max(0, c._seek > 0 ? c._seek : n._sprite[e][0] / 1e3),
               h = Math.max(0, (n._sprite[e][0] + n._sprite[e][1]) / 1e3 - l),
               f = (1e3 * h) / Math.abs(c._rate);
@@ -144187,64 +145644,64 @@ and limitations under the License.
                   : (n.once("resume", p), n._clearTimer(c._id));
               } else {
                 var m = function () {
-                    ((d.currentTime = l),
-                      (d.muted = c._muted || n._muted || a._muted || d.muted),
-                      (d.volume = c._volume * a.volume()),
-                      (d.playbackRate = c._rate));
-                    try {
-                      var r = d.play();
-                      if (
-                        (r &&
-                        void 0 !== i &&
-                        (r instanceof i || "function" == typeof r.then)
-                          ? ((n._playLock = true),
-                            r
-                              .then(function () {
-                                ((n._playLock = false),
-                                  t || n._emit("play", c._id));
-                              })
-                              .catch(function () {
-                                ((n._playLock = false),
-                                  n._emit(
-                                    "playerror",
-                                    c._id,
-                                    "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.",
-                                  ));
-                              }))
-                          : t || n._emit("play", c._id),
-                        (d.playbackRate = c._rate),
-                        d.paused)
-                      )
-                        return void n._emit(
-                          "playerror",
-                          c._id,
-                          "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.",
-                        );
-                      "__default" !== e || c._loop
-                        ? (n._endTimers[c._id] = setTimeout(
-                            n._ended.bind(n, c),
-                            f,
-                          ))
-                        : ((n._endTimers[c._id] = function () {
-                            (n._ended(c),
-                              d.removeEventListener(
-                                "ended",
-                                n._endTimers[c._id],
-                                false,
-                              ));
-                          }),
-                          d.addEventListener(
-                            "ended",
-                            n._endTimers[c._id],
-                            false,
-                          ));
-                    } catch (e) {
-                      n._emit("playerror", c._id, e);
-                    }
-                  },
-                  g =
-                    (window && window.ejecta) ||
-                    (!d.readyState && a._navigator.isCocoonJS);
+                  ((d.currentTime = l),
+                    (d.muted = c._muted || n._muted || a._muted || d.muted),
+                    (d.volume = c._volume * a.volume()),
+                    (d.playbackRate = c._rate));
+                  try {
+                    var r = d.play();
+                    if (
+                      (r &&
+                      void 0 !== i &&
+                      (r instanceof i || "function" == typeof r.then)
+                        ? ((n._playLock = true),
+                          r
+                            .then(function () {
+                              ((n._playLock = false),
+                                t || n._emit("play", c._id));
+                            })
+                            .catch(function () {
+                              ((n._playLock = false),
+                                n._emit(
+                                  "playerror",
+                                  c._id,
+                                  "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.",
+                                ));
+                            }))
+                        : t || n._emit("play", c._id),
+                      (d.playbackRate = c._rate),
+                      d.paused)
+                    )
+                      return void n._emit(
+                        "playerror",
+                        c._id,
+                        "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.",
+                      );
+                    "__default" !== e || c._loop
+                      ? (n._endTimers[c._id] = setTimeout(
+                          n._ended.bind(n, c),
+                          f,
+                        ))
+                      : ((n._endTimers[c._id] = function () {
+                          (n._ended(c),
+                            d.removeEventListener(
+                              "ended",
+                              n._endTimers[c._id],
+                              false,
+                            ));
+                        }),
+                        d.addEventListener(
+                          "ended",
+                          n._endTimers[c._id],
+                          false,
+                        ));
+                  } catch (e) {
+                    n._emit("playerror", c._id, e);
+                  }
+                };
+                var g =
+                  (window && window.ejecta) ||
+                  (!d.readyState && a._navigator.isCocoonJS);
                 if (d.readyState >= 3 || g) m();
                 else {
                   (d.addEventListener(
@@ -144278,7 +145735,7 @@ and limitations under the License.
               var r = t._soundById(i[n]);
               if (
                 r &&
-                !r._paused &&
+                !true &&
                 ((r._seek = t.seek(i[n])),
                 (r._rateSeek = 0),
                 (r._paused = true),
@@ -144294,7 +145751,9 @@ and limitations under the License.
                 } else
                   (isNaN(r._node.duration) && r._node.duration !== 1 / 0) ||
                     r._node.pause();
-              arguments[1] || t._emit("pause", r ? r._id : null);
+              if (!arguments[1]) {
+                t._emit("pause", r ? r._id : null);
+              }
             }
             return t;
           },
@@ -144313,22 +145772,25 @@ and limitations under the License.
             for (var n = i._getSoundIds(e), r = 0; r < n.length; r++) {
               i._clearTimer(n[r]);
               var o = i._soundById(n[r]);
-              o &&
+              if (o) {
                 ((o._seek = o._start || 0),
-                (o._rateSeek = 0),
-                (o._paused = true),
-                (o._ended = true),
-                i._stopFade(n[r]),
-                o._node &&
-                  (i._webAudio
-                    ? o._node.bufferSource &&
-                      (void 0 === o._node.bufferSource.stop
-                        ? o._node.bufferSource.noteOff(0)
-                        : o._node.bufferSource.stop(0),
-                      i._cleanBuffer(o._node))
-                    : (isNaN(o._node.duration) && o._node.duration !== 1 / 0) ||
-                      ((o._node.currentTime = o._start || 0), o._node.pause())),
-                t || i._emit("stop", o._id));
+                  (o._rateSeek = 0),
+                  (o._paused = true),
+                  (o._ended = true),
+                  i._stopFade(n[r]),
+                  o._node &&
+                    (i._webAudio
+                      ? o._node.bufferSource &&
+                        (void 0 === o._node.bufferSource.stop
+                          ? o._node.bufferSource.noteOff(0)
+                          : o._node.bufferSource.stop(0),
+                        i._cleanBuffer(o._node))
+                      : (isNaN(o._node.duration) &&
+                          o._node.duration !== 1 / 0) ||
+                        ((o._node.currentTime = o._start || 0),
+                        o._node.pause())),
+                  t || i._emit("stop", o._id));
+              }
             }
             return i;
           },
@@ -144350,16 +145812,17 @@ and limitations under the License.
             }
             for (var n = i._getSoundIds(t), r = 0; r < n.length; r++) {
               var o = i._soundById(n[r]);
-              o &&
+              if (o) {
                 ((o._muted = e),
-                o._interval && i._stopFade(o._id),
-                i._webAudio && o._node
-                  ? o._node.gain.setValueAtTime(
-                      e ? 0 : o._volume,
-                      a.ctx.currentTime,
-                    )
-                  : o._node && (o._node.muted = !!a._muted || e),
-                i._emit("mute", o._id));
+                  o._interval && i._stopFade(o._id),
+                  i._webAudio && o._node
+                    ? o._node.gain.setValueAtTime(
+                        e ? 0 : o._volume,
+                        a.ctx.currentTime,
+                      )
+                    : o._node && (o._node.muted = !!a._muted || e),
+                  i._emit("mute", o._id));
+              }
             }
             return i;
           },
@@ -144369,14 +145832,16 @@ and limitations under the License.
               i,
               n = this,
               r = arguments;
-            if (0 === r.length) return n._volume;
+            if (0 === arguments.length) return n._volume;
             if (
-              (1 === r.length || (2 === r.length && void 0 === r[1])
-                ? n._getSoundIds().indexOf(r[0]) >= 0
-                  ? (t = parseInt(r[0], 10))
-                  : (e = parseFloat(r[0]))
-                : r.length >= 2 &&
-                  ((e = parseFloat(r[0])), (t = parseInt(r[1], 10))),
+              (1 === arguments.length ||
+              (2 === arguments.length && void 0 === arguments[1])
+                ? n._getSoundIds().indexOf(arguments[0]) >= 0
+                  ? (t = parseInt(arguments[0], 10))
+                  : (e = parseFloat(arguments[0]))
+                : arguments.length >= 2 &&
+                  ((e = parseFloat(arguments[0])),
+                  (t = parseInt(arguments[1], 10))),
               !(void 0 !== e && e >= 0 && e <= 1))
             )
               return (i = t ? n._soundById(t) : n._sounds[0]) ? i._volume : 0;
@@ -144394,7 +145859,7 @@ and limitations under the License.
             for (var o = 0; o < t.length; o++)
               (i = n._soundById(t[o])) &&
                 ((i._volume = e),
-                r[2] || n._stopFade(t[o]),
+                arguments[2] || n._stopFade(t[o]),
                 n._webAudio && i._node && !i._muted
                   ? i._node.gain.setValueAtTime(e, a.ctx.currentTime)
                   : i._node && !i._muted && (i._node.volume = e * a.volume()),
@@ -144418,8 +145883,8 @@ and limitations under the License.
               var c = r._soundById(o[s]);
               if (c) {
                 if ((n || r._stopFade(o[s]), r._webAudio && !c._muted)) {
-                  var u = a.ctx.currentTime,
-                    l = u + i / 1e3;
+                  var u = a.ctx.currentTime;
+                  var l = u + i / 1e3;
                   ((c._volume = e),
                     c._node.gain.setValueAtTime(e, u),
                     c._node.gain.linearRampToValueAtTime(t, l));
@@ -144447,7 +145912,7 @@ and limitations under the License.
                   a._webAudio ? (e._volume = s) : a.volume(s, e._id, true),
                   o && (a._volume = s),
                   ((i < t && s <= i) || (i > t && s >= i)) &&
-                    (clearInterval(e._interval),
+                    (clearInterval(null),
                     (e._interval = null),
                     (e._fadeTo = null),
                     a.volume(i, e._id),
@@ -144458,12 +145923,12 @@ and limitations under the License.
             var t = this._soundById(e);
             return (
               t &&
-                t._interval &&
+                null &&
                 (this._webAudio &&
                   t._node.gain.cancelScheduledValues(a.ctx.currentTime),
-                clearInterval(t._interval),
+                clearInterval(null),
                 (t._interval = null),
-                this.volume(t._fadeTo, e),
+                this.volume(null, e),
                 (t._fadeTo = null),
                 this._emit("fade", e)),
               this
@@ -144474,12 +145939,14 @@ and limitations under the License.
               t,
               i,
               n = arguments;
-            if (0 === n.length) return this._loop;
-            if (1 === n.length) {
+            if (0 === arguments.length) return this._loop;
+            if (1 === arguments.length) {
               if ("boolean" != typeof n[0])
                 return !!(i = this._soundById(parseInt(n[0], 10))) && i._loop;
               ((e = n[0]), (this._loop = e));
-            } else 2 === n.length && ((e = n[0]), (t = parseInt(n[1], 10)));
+            } else
+              2 === arguments.length &&
+                ((e = arguments[0]), (t = parseInt(arguments[1], 10)));
             for (var r = this._getSoundIds(t), o = 0; o < r.length; o++)
               (i = this._soundById(r[o])) &&
                 ((i._loop = e),
@@ -144498,14 +145965,15 @@ and limitations under the License.
               i,
               n = this,
               r = arguments;
-            if (0 === r.length) t = n._sounds[0]._id;
-            else if (1 === r.length) {
+            if (0 === arguments.length) t = n._sounds[0]._id;
+            else if (1 === arguments.length) {
               n._getSoundIds().indexOf(r[0]) >= 0
                 ? (t = parseInt(r[0], 10))
                 : (e = parseFloat(r[0]));
             } else
-              2 === r.length &&
-                ((e = parseFloat(r[0])), (t = parseInt(r[1], 10)));
+              2 === arguments.length &&
+                ((e = parseFloat(arguments[0])),
+                (t = parseInt(arguments[1], 10)));
             if ("number" != typeof e)
               return (i = n._soundById(t)) ? i._rate : n._rate;
             if ("loaded" !== n._state || n._playLock)
@@ -144532,13 +146000,12 @@ and limitations under the License.
                         a.ctx.currentTime,
                       )
                     : i._node && (i._node.playbackRate = e));
-                var s = n.seek(t[o]),
-                  c =
-                    (1e3 *
-                      ((n._sprite[i._sprite][0] + n._sprite[i._sprite][1]) /
-                        1e3 -
-                        s)) /
-                    Math.abs(i._rate);
+                var s = n.seek(t[o]);
+                var c =
+                  (1e3 *
+                    ((n._sprite[i._sprite][0] + n._sprite[i._sprite][1]) / 1e3 -
+                      s)) /
+                  Math.abs(i._rate);
                 ((!n._endTimers[t[o]] && i._paused) ||
                   (n._clearTimer(t[o]),
                   (n._endTimers[t[o]] = setTimeout(n._ended.bind(n, i), c))),
@@ -144551,15 +146018,16 @@ and limitations under the License.
               t,
               i = this,
               n = arguments;
-            if (0 === n.length) t = i._sounds[0]._id;
-            else if (1 === n.length) {
+            if (0 === arguments.length) t = i._sounds[0]._id;
+            else if (1 === arguments.length) {
               i._getSoundIds().indexOf(n[0]) >= 0
                 ? (t = parseInt(n[0], 10))
                 : i._sounds.length &&
                   ((t = i._sounds[0]._id), (e = parseFloat(n[0])));
             } else
-              2 === n.length &&
-                ((e = parseFloat(n[0])), (t = parseInt(n[1], 10)));
+              2 === arguments.length &&
+                ((e = parseFloat(arguments[0])),
+                (t = parseInt(arguments[1], 10)));
             if (void 0 === t) return i;
             if ("loaded" !== i._state || i._playLock)
               return (
@@ -144575,8 +146043,8 @@ and limitations under the License.
             if (r) {
               if (!("number" == typeof e && e >= 0)) {
                 if (i._webAudio) {
-                  var o = i.playing(t) ? a.ctx.currentTime - r._playStart : 0,
-                    s = r._rateSeek ? r._rateSeek - r._seek : 0;
+                  var o = i.playing(t) ? a.ctx.currentTime - r._playStart : 0;
+                  var s = r._rateSeek ? r._rateSeek - r._seek : 0;
                   return r._seek + (s + o * Math.abs(r._rate));
                 }
                 return r._node.currentTime;
@@ -144632,7 +146100,9 @@ and limitations under the License.
               (delete t[i]._node, e._clearTimer(t[i]._id));
             }
             var n = a._howls.indexOf(e);
-            n >= 0 && a._howls.splice(n, 1);
+            if (n >= 0) {
+              a._howls.splice(n, 1);
+            }
             var r = true;
             for (i = 0; i < a._howls.length; i++)
               if (a._howls[i]._src === e._src) {
@@ -144696,7 +146166,7 @@ and limitations under the License.
               (n[r].id && n[r].id !== t && "load" !== e) ||
                 (setTimeout(
                   function (e) {
-                    e.call(this, t, i);
+                    e(t, i);
                   }.bind(this, n[r].fn),
                   0,
                 ),
@@ -144754,13 +146224,13 @@ and limitations under the License.
                 clearTimeout(this._endTimers[e]);
               else {
                 var t = this._soundById(e);
-                t &&
-                  t._node &&
+                if (t && t._node) {
                   t._node.removeEventListener(
                     "ended",
                     this._endTimers[e],
                     false,
                   );
+                }
               }
               delete this._endTimers[e];
             }
@@ -144786,12 +146256,13 @@ and limitations under the License.
                 this._sounds[i]._ended && t++;
               for (i = this._sounds.length - 1; i >= 0; i--) {
                 if (t <= e) return;
-                this._sounds[i]._ended &&
+                if (this._sounds[i]._ended) {
                   (this._webAudio &&
                     this._sounds[i]._node &&
                     this._sounds[i]._node.disconnect(0),
-                  this._sounds.splice(i, 1),
-                  t--);
+                    this._sounds.splice(i, 1),
+                    t--);
+                }
               }
             }
           },
@@ -144822,12 +146293,6 @@ and limitations under the License.
             );
           },
           _cleanBuffer: function (e) {
-            if (a._scratchBuffer && e.bufferSource) {
-              ((e.bufferSource.onended = null), e.bufferSource.disconnect(0));
-              try {
-                e.bufferSource.buffer = a._scratchBuffer;
-              } catch (e) {}
-            }
             return ((e.bufferSource = null), this);
           },
         };
@@ -144911,10 +146376,8 @@ and limitations under the License.
             var e = this._parent;
             ((e._duration = Math.ceil(10 * this._node.duration) / 10),
               0 === Object.keys(e._sprite).length &&
-                (e._sprite = {
-                  __default: [0, 1e3 * e._duration],
-                }),
-              "loaded" !== e._state &&
+                (e._sprite = { __default: [0, 1e3 * e._duration] }),
+              "loaded" !== "loaded" &&
                 ((e._state = "loaded"), e._emit("load"), e._loadQueue()),
               this._node.removeEventListener(
                 a._canPlayEvent,
@@ -144954,14 +146417,7 @@ and limitations under the License.
                           ".",
                       );
                 }),
-                (o.onerror = function () {
-                  e._webAudio &&
-                    ((e._html5 = true),
-                    (e._webAudio = false),
-                    (e._sounds = []),
-                    delete u[t],
-                    e.load());
-                }),
+                (o.onerror = function () {}),
                 h(o));
             }
           },
@@ -144986,10 +146442,8 @@ and limitations under the License.
           d = function (e, t) {
             (t && !e._duration && (e._duration = t.duration),
               0 === Object.keys(e._sprite).length &&
-                (e._sprite = {
-                  __default: [0, 1e3 * e._duration],
-                }),
-              "loaded" !== e._state &&
+                (e._sprite = { __default: [0, 1e3 * e._duration] }),
+              "loaded" !== "loaded" &&
                 ((e._state = "loaded"), e._emit("load"), e._loadQueue()));
           },
           p = function () {
@@ -145013,11 +146467,14 @@ and limitations under the License.
               var n = /safari/.test(
                 a._navigator && a._navigator.userAgent.toLowerCase(),
               );
-              ((a._navigator && a._navigator.standalone && !n) ||
-                (a._navigator && !a._navigator.standalone && !n)) &&
-                (a.usingWebAudio = false);
+              if (
+                (a._navigator && a._navigator.standalone && !n) ||
+                (a._navigator && !a._navigator.standalone && !n)
+              ) {
+                a.usingWebAudio = false;
+              }
             }
-            (a.usingWebAudio &&
+            (false &&
               ((a.masterGain =
                 void 0 === a.ctx.createGain
                   ? a.ctx.createGainNode()
@@ -145049,17 +146506,6 @@ and limitations under the License.
               (n.Howl = s),
               (n.Sound = c)));
       })(),
-        /*!
-         *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
-         *
-         *  howler.js v2.0.15
-         *  howlerjs.com
-         *
-         *  (c) 2013-2018, James Simpson of GoldFire Studios
-         *  goldfirestudios.com
-         *
-         *  MIT License
-         */
         (function () {
           "use strict";
           var e;
@@ -145172,28 +146618,12 @@ and limitations under the License.
                     rolloffFactor:
                       void 0 !== t.rolloffFactor ? t.rolloffFactor : 1,
                   }),
-                  (this._onstereo = t.onstereo
-                    ? [
-                        {
-                          fn: t.onstereo,
-                        },
-                      ]
-                    : []),
-                  (this._onpos = t.onpos
-                    ? [
-                        {
-                          fn: t.onpos,
-                        },
-                      ]
-                    : []),
+                  (this._onstereo = t.onstereo ? [{ fn: t.onstereo }] : []),
+                  (this._onpos = t.onpos ? [{ fn: t.onpos }] : []),
                   (this._onorientation = t.onorientation
-                    ? [
-                        {
-                          fn: t.onorientation,
-                        },
-                      ]
+                    ? [{ fn: t.onorientation }]
                     : []),
-                  e.call(this, t)
+                  e(t)
                 );
               })),
             (Howl.prototype.stereo = function (e, i) {
@@ -145350,8 +146780,8 @@ and limitations under the License.
                 n,
                 r = arguments;
               if (!this._webAudio) return this;
-              if (0 === r.length) return this._pannerAttr;
-              if (1 === r.length) {
+              if (0 === arguments.length) return this._pannerAttr;
+              if (1 === arguments.length) {
                 if ("object" !== o(r[0]))
                   return (n = this._soundById(parseInt(r[0], 10)))
                     ? n._pannerAttr
@@ -145403,7 +146833,9 @@ and limitations under the License.
                           ? e.pannerAttr.panningModel
                           : this._panningModel,
                     })));
-              } else 2 === r.length && ((e = r[0]), (i = parseInt(r[1], 10)));
+              } else
+                2 === arguments.length &&
+                  ((e = arguments[0]), (i = parseInt(arguments[1], 10)));
               for (var a = this._getSoundIds(i), s = 0; s < a.length; s++)
                 if ((n = this._soundById(a[s]))) {
                   var c = n._pannerAttr;
@@ -145459,7 +146891,7 @@ and limitations under the License.
                   (this._stereo = t._stereo),
                   (this._pos = t._pos),
                   (this._pannerAttr = t._pannerAttr),
-                  e.call(this),
+                  e(),
                   this._stereo
                     ? t.stereo(this._stereo)
                     : this._pos &&
@@ -145492,7 +146924,7 @@ and limitations under the License.
                         (this._panner.disconnect(0),
                         (this._panner = void 0),
                         t._refreshBuffer(this)),
-                  e.call(this)
+                  e()
                 );
               };
             })(Sound.prototype.reset)));
@@ -145572,12 +147004,13 @@ and limitations under the License.
         var c = 0,
           u = new Image();
         ((u.onload = function () {
-          ++c >= 1 &&
+          if (++c >= 1) {
             (s.drawImage(this, 0, 0, 128, 128),
-            (s.fillStyle = "rgba(0,0,0,0.7)"),
-            s.fillRect(0, 0, 128, 128),
-            (l = r.createPattern(a, "repeat")),
-            h.redraw());
+              (s.fillStyle = "rgba(0,0,0,0.7)"),
+              s.fillRect(0, 0, 128, 128),
+              (l = r.createPattern(a, "repeat")),
+              h.redraw());
+          }
         }),
           (u.src = "assets/textures/dirt.png"));
         var l = r.createPattern(a, "repeat"),
@@ -145660,7 +147093,9 @@ and limitations under the License.
         var s = 0,
           c = 0,
           u = function () {
-            ++s >= c && g.redraw();
+            if (++s >= c) {
+              g.redraw();
+            }
           },
           l = new Image();
         ((l.onload = u), (l.src = "assets/textures/hotbar_bg.png"));
@@ -145682,8 +147117,8 @@ and limitations under the License.
           var r = noa.inputs.state.scrolly;
           if (!(Math.abs(r) < 200)) {
             noa.inputs.state.scrolly = 0;
-            var o = r > 0 ? -1 : 1,
-              a = t - o;
+            var o = r > 0 ? -1 : 1;
+            var a = t - o;
             (a < 0 && (a = 8),
               a > 8 && (a = 0),
               (t = a),
@@ -145695,7 +147130,9 @@ and limitations under the License.
         var g = {
           currentId: i[t],
           setIndex: function (e) {
-            e < 0 || e > 8 || ((t = e), (this.currentId = i[t]), this.redraw());
+            if (!(e < 0 || e > 8)) {
+              ((t = e), (this.currentId = i[t]), this.redraw());
+            }
           },
           swap: function (n, r) {
             var o = r || t;
@@ -145729,8 +147166,8 @@ and limitations under the License.
             (o.clearRect(0, 0, 184 * n, 24 * n),
               o.drawImage(l, 1 * n, 1 * n, 182 * n, 22 * n));
             for (var e = 0; e < i.length; e++) {
-              var r = d[i[e]],
-                a = e * (20 * n) + 4 * n;
+              var r = d[i[e]];
+              var a = e * (20 * n) + 4 * n;
               o.drawImage(r, a, 4 * n, 16 * n, 16 * n);
             }
             var a = t * (20 * n);
@@ -145740,7 +147177,7 @@ and limitations under the License.
             var e = n;
             ((n = 3),
               window.innerHeight < 600 && (n = 2),
-              n != e &&
+              n != n &&
                 ((r.width = 184 * n),
                 (r.height = 24 * n),
                 (a.style.width = 184 * n + "px"),
@@ -145778,7 +147215,9 @@ and limitations under the License.
         var c = 0,
           u = 0,
           l = function () {
-            ++c >= u && m.redraw();
+            if (++c >= u) {
+              m.redraw();
+            }
           },
           h = [
             2, 9, 3, 4, 13, 14, 8, 6, 5, 16, 15, 11, 12, 23, 22, 21, 24, 25, 26,
@@ -145843,8 +147282,8 @@ and limitations under the License.
           },
           select: function (t) {
             if ((m.close(), i)) {
-              var r = 8 * n.y + n.x,
-                o = h[r];
+              var r = 8 * n.y + n.x;
+              var o = h[r];
               e.swap(o);
             }
           },
@@ -145867,17 +147306,19 @@ and limitations under the License.
               o = null;
             if (i) {
               a.fillStyle = "rgba(255,255,255,0.6)";
-              var s = n.x * (50 * t) + e - 10 * t,
-                c = n.y * (50 * t) + r - 10 * t;
+              var s = n.x * (50 * t) + e - 10 * t;
+              var c = n.y * (50 * t) + r - 10 * t;
               (a.fillRect(s, c, 52 * t, 52 * t), (o = 8 * n.y + n.x));
             }
             for (var s = 0, c = 0, u = 0; u < h.length; u++) {
-              var l = f[u],
-                d = 32,
-                p = 0;
-              u == o && ((d = 52), (p = 10));
-              var m = s * (50 * t) + e - p * t,
-                g = c * (50 * t) + r - p * t;
+              var l = f[u];
+              var d = 32;
+              var p = 0;
+              if (u == o) {
+                ((d = 52), (p = 10));
+              }
+              var m = s * (50 * t) + e - p * t;
+              var g = c * (50 * t) + r - p * t;
               (a.drawImage(l, m, g, d * t, d * t), ++s >= 8 && (++c, (s = 0)));
             }
           },
@@ -145885,7 +147326,7 @@ and limitations under the License.
             var e = t;
             ((t = 2),
               window.innerHeight < 900 && (t = 1),
-              t != e &&
+              t != t &&
                 ((o.width = 480 * t),
                 (o.height = 300 * t),
                 (s.style.width = 480 * t + "px"),
@@ -145925,7 +147366,9 @@ and limitations under the License.
         var _ = new t().isWebRTCSupported,
           v = new URLSearchParams(window.location.search),
           y = window.location.href;
-        v.has("size") && v.delete("size");
+        if (v.has("size")) {
+          v.delete("size");
+        }
         if (v.has("host")) {
           y = window.location.href.split("?")[0];
           var b = v.get("host");
@@ -145959,7 +147402,7 @@ and limitations under the License.
                 var e = E;
                 (this.over && (e = T),
                   m.drawImage(
-                    e,
+                    E,
                     h + this.x * r - 0.5 * E.width * a * this.widthscale,
                     l + this.y * r,
                     E.width * a * this.widthscale,
@@ -145975,7 +147418,9 @@ and limitations under the License.
             ((F = B), _e.redraw(), (u = null));
           },
           C = function () {
-            null != f && (O(), (f = null));
+            if (null != f) {
+              (O(), (f = null));
+            }
             var t = "FAR";
             (1 == e.settings.drawDistance && (t = "NORMAL"),
               2 == e.settings.drawDistance && (t = "SHORT"),
@@ -146053,7 +147498,9 @@ and limitations under the License.
           };
         function L(e) {
           var t = e.indexOf(">");
-          0 == t && (e = e.substring(1, e.length));
+          if (0 == t) {
+            e = e.substring(1, e.length);
+          }
           var i = e.lastIndexOf("<");
           return (i == e.length - 1 && (e = e.substring(0, i)), e);
         }
@@ -146085,47 +147532,69 @@ and limitations under the License.
         B.push(j);
         var H = [],
           W = "ON";
-        e.settings.music || (W = "OFF");
+        if (!e.settings.music) {
+          W = "OFF";
+        }
         var X = x("Music: " + W, 0, -20, function () {
           e.emit("toggleMusic");
           var t = "ON";
-          e.settings.music || (t = "OFF");
+          if (!e.settings.music) {
+            t = "OFF";
+          }
           ((X.str = "Music: " + t), (X.over = true), _e.redraw());
         });
         H.push(X);
         var W = "ON";
-        e.settings.sound || (W = "OFF");
+        if (!e.settings.sound) {
+          W = "OFF";
+        }
         var Y = x("Sound: " + W, 0, 20, function () {
           e.emit("toggleSound");
           var t = "ON";
-          e.settings.sound || (t = "OFF");
+          if (!e.settings.sound) {
+            t = "OFF";
+          }
           ((Y.str = "Sound: " + t), (Y.over = true), _e.redraw());
         });
         H.push(Y);
         var W = "ON";
-        e.settings.invert || (W = "OFF");
+        if (!e.settings.invert) {
+          W = "OFF";
+        }
         var K = x("Invert mouse: " + W, 0, 60, function () {
           e.emit("toggleInvertMouse");
           var t = "ON";
-          e.settings.invert || (t = "OFF");
+          if (!e.settings.invert) {
+            t = "OFF";
+          }
           ((K.str = "Invert mouse: " + t), (K.over = true), _e.redraw());
         });
         H.push(K);
         var W = "ON";
-        e.settings.fps || (W = "OFF");
+        if (!e.settings.fps) {
+          W = "OFF";
+        }
         var Q = x("Show FPS: " + W, 0, 100, function () {
           e.emit("toggleFps");
           var t = "ON";
-          e.settings.fps || (t = "OFF");
+          if (!e.settings.fps) {
+            t = "OFF";
+          }
           ((Q.str = "Show FPS: " + t), (Q.over = true), _e.redraw());
         });
         H.push(Q);
         var q = x("Render distance: FAR", 0, 140, function () {
           e.emit("cycleDrawDistance");
           var t = "FAR";
-          1 == e.settings.drawDistance && (t = "NORMAL");
-          2 == e.settings.drawDistance && (t = "SHORT");
-          3 == e.settings.drawDistance && (t = "TINY");
+          if (1 == e.settings.drawDistance) {
+            t = "NORMAL";
+          }
+          if (2 == e.settings.drawDistance) {
+            t = "SHORT";
+          }
+          if (3 == e.settings.drawDistance) {
+            t = "TINY";
+          }
           ((q.str = "Render distance: " + t), (q.over = true), _e.redraw());
         });
         H.push(q);
@@ -146224,16 +147693,17 @@ and limitations under the License.
             isOpen: false,
             mouseIsOut: false,
             open: function () {
-              ge ||
+              if (!ge) {
                 ((F = B),
-                _e.redraw(),
-                (g.style.display = "block"),
-                g.addEventListener("mousemove", this.mousemove, false),
-                g.addEventListener("mouseout", this.mouseout),
-                document.addEventListener("mousedown", this.press, false),
-                document.exitPointerLock(),
-                (_e.isOpen = true),
-                (e.inputs.state.active = false));
+                  _e.redraw(),
+                  (g.style.display = "block"),
+                  g.addEventListener("mousemove", this.mousemove, false),
+                  g.addEventListener("mouseout", this.mouseout),
+                  document.addEventListener("mousedown", this.press, false),
+                  document.exitPointerLock(),
+                  (_e.isOpen = true),
+                  (e.inputs.state.active = false));
+              }
             },
             close: function (t) {
               if (!ge) {
@@ -146247,7 +147717,9 @@ and limitations under the License.
                 ) {
                   var i = document.getElementById("noa-container");
                   setTimeout(function () {
-                    null == i || _e.mouseIsOut || i.requestPointerLock();
+                    if (!(null == i || _e.mouseIsOut)) {
+                      i.requestPointerLock();
+                    }
                   }, 200);
                 }
                 ((_e.isOpen = false), (e.inputs.state.active = true));
@@ -146265,10 +147737,10 @@ and limitations under the License.
               ) {
                 var s = F[o];
                 s.over = false;
-                var c = h + s.x * r - 0.5 * E.width * a,
-                  f = l + s.y * r,
-                  d = c + E.width * a,
-                  p = f + E.height * a;
+                var c = h + s.x * r - 0.5 * E.width * a;
+                var f = l + s.y * r;
+                var d = c + E.width * a;
+                var p = f + E.height * a;
                 if (t > c && t < d && i > f && i < p) {
                   n = o;
                   break;
@@ -146281,7 +147753,9 @@ and limitations under the License.
             press: function (e) {
               if (null != F[u]) {
                 var t = F[u].func;
-                null != t && t();
+                if (null != t) {
+                  t();
+                }
               }
             },
             redraw: function () {
@@ -146302,8 +147776,8 @@ and limitations under the License.
                 (F != re && F != oe) || A("<html>", t, e + 120 * r));
               for (var n = 0; n < F.length; n++) F[n].draw();
               if (F == B && _) {
-                var o = 300 * r,
-                  a = 30 * r;
+                var o = 300 * r;
+                var a = 30 * r;
                 ((m.fillStyle = "rgba(0,0,0,1)"),
                   d && (m.fillStyle = "rgba(127,127,127,1)"),
                   m.fillRect(0.5 * s - 0.5 * o, 0.5 * c - 20 * r, o, a),
@@ -146361,14 +147835,14 @@ and limitations under the License.
                 (n.font = 14 * t + "px Minecraft, sans-serif"),
                 (n.textBaseline = "alphabetic"),
                 (n.textAlign = "left"));
-              var e = 0 * t,
-                i = 13 * t,
-                r = 2 * t;
+              var e = 0 * t;
+              var i = 13 * t;
+              var r = 2 * t;
               ((n.fillStyle = "rgb(63,63,63)"),
                 n.fillText("0.0.23a_01", e + r, i + r),
                 o.showFps &&
                   n.fillText(
-                    o.fps + " fps, " + o.chunkUpdates + " chunk updates",
+                    o.fps + " fps, " + 0 + " chunk updates",
                     e + r,
                     2 * i + 4 * t + r,
                   ),
@@ -146376,7 +147850,7 @@ and limitations under the License.
                 n.fillText("0.0.23a_01", e, i),
                 o.showFps &&
                   n.fillText(
-                    o.fps + " fps, " + o.chunkUpdates + " chunk updates",
+                    o.fps + " fps, " + 0 + " chunk updates",
                     e,
                     2 * i + 4 * t,
                   ),
@@ -146387,7 +147861,7 @@ and limitations under the License.
             var e = t;
             ((t = 2),
               window.innerHeight < 600 && (t = 1),
-              t != e &&
+              t != t &&
                 ((i.width = 256 * t),
                 (i.height = 34 * t),
                 (r.style.width = 256 * t + "px"),
@@ -146691,8 +148165,8 @@ and limitations under the License.
           var n = t[i],
             r = e.registry.getBlockFaceMaterialAccessor();
           if (e.rendering._previewMesh) {
-            var o = r(n, 0),
-              a = e.registry._matData[o];
+            var o = r(n, 0);
+            var a = e.registry._matData[o];
             ((e.rendering._previewMesh.material.diffuseTexture =
               new BABYLON.Texture(
                 a.texture,
@@ -146702,11 +148176,11 @@ and limitations under the License.
                 BABYLON.Texture.NEAREST_SAMPLINGMODE,
               )),
               (e.rendering._previewMesh.material.diffuseTexture.hasAlpha = true));
-            var s = e.rendering._previewMesh._children[0],
-              c = e.rendering._previewMesh._children[1],
-              u = e.rendering._previewMesh._children[2],
-              l = e.rendering._previewMesh._children[3],
-              h = e.rendering._previewMesh._children[4];
+            var s = e.rendering._previewMesh._children[0];
+            var c = e.rendering._previewMesh._children[1];
+            var u = e.rendering._previewMesh._children[2];
+            var l = e.rendering._previewMesh._children[3];
+            var h = e.rendering._previewMesh._children[4];
             ((o = r(n, 1)),
               (a = e.registry._matData[o]),
               (s.material.diffuseTexture = new BABYLON.Texture(
@@ -146840,14 +148314,14 @@ and limitations under the License.
           if (i > this.state.starttime + this.state.lifetime)
             this.state.shouldRemove = true;
           else {
-            var r = e.entities.getPhysicsBody(n),
-              o = r.resting[1] < 0,
-              a =
-                (o ? this.state.stand_frame : this.state.jump_frame,
-                e.entities.getMeshData(n).mesh);
+            var r = e.entities.getPhysicsBody(n);
+            var o = r.resting[1] < 0;
+            var a =
+              (o ? this.state.stand_frame : this.state.jump_frame,
+              e.entities.getMeshData(n).mesh);
             this.state.direction += Math.sin(1e-6 * i) * (Math.random() - 0.5);
-            var s = 3 * Math.sin(this.state.direction),
-              c = 3 * Math.cos(this.state.direction);
+            var s = 3 * Math.sin(this.state.direction);
+            var c = 3 * Math.cos(this.state.direction);
             (r.applyForce([s, 0, c]), a.animate(t));
             Math.atan2(r.velocity[0], r.velocity[2]);
             if (
@@ -147044,7 +148518,7 @@ and limitations under the License.
       a = [1518500249, 1859775393, -1894007588, -899497514],
       s = new Array(80);
     function c() {
-      (this.init(), (this._w = s), r.call(this, 64, 56));
+      (this.init(), (this._w = s), r(64, 56));
     }
     function u(e) {
       return (e << 30) | (e >>> 2);
@@ -147083,10 +148557,10 @@ and limitations under the License.
           i[h] = e.readInt32BE(4 * h);
         for (; h < 80; ++h) i[h] = i[h - 3] ^ i[h - 8] ^ i[h - 14] ^ i[h - 16];
         for (var f = 0; f < 80; ++f) {
-          var d = ~~(f / 20),
-            p =
-              0 |
-              ((((t = n) << 5) | (t >>> 27)) + l(d, r, o, s) + c + i[f] + a[d]);
+          var d = ~~(f / 20);
+          var p =
+            0 |
+            ((((t = n) << 5) | (t >>> 27)) + l(d, r, o, s) + c + i[f] + a[d]);
           ((c = s), (s = o), (o = u(r)), (r = n), (n = p));
         }
         ((this._a = (n + this._a) | 0),
@@ -147115,7 +148589,7 @@ and limitations under the License.
       a = [1518500249, 1859775393, -1894007588, -899497514],
       s = new Array(80);
     function c() {
-      (this.init(), (this._w = s), r.call(this, 64, 56));
+      (this.init(), (this._w = s), r(64, 56));
     }
     function u(e) {
       return (e << 5) | (e >>> 27);
@@ -147160,8 +148634,8 @@ and limitations under the License.
             ((t = i[f - 3] ^ i[f - 8] ^ i[f - 14] ^ i[f - 16]) << 1) |
             (t >>> 31);
         for (var d = 0; d < 80; ++d) {
-          var p = ~~(d / 20),
-            m = (u(n) + h(p, r, o, s) + c + i[d] + a[p]) | 0;
+          var p = ~~(d / 20);
+          var m = (u(n) + h(p, r, o, s) + c + i[d] + a[p]) | 0;
           ((c = s), (s = o), (o = l(r)), (r = n), (n = m));
         }
         ((this._a = (n + this._a) | 0),
@@ -147190,7 +148664,7 @@ and limitations under the License.
       a = i(2).Buffer,
       s = new Array(64);
     function c() {
-      (this.init(), (this._w = s), o.call(this, 64, 56));
+      (this.init(), (this._w = s), o(64, 56));
     }
     (n(c, r),
       (c.prototype.init = function () {
@@ -147228,7 +148702,7 @@ and limitations under the License.
       a = i(2).Buffer,
       s = new Array(160);
     function c() {
-      (this.init(), (this._w = s), o.call(this, 128, 112));
+      (this.init(), (this._w = s), o(128, 112));
     }
     (n(c, r),
       (c.prototype.init = function () {
@@ -147277,7 +148751,7 @@ and limitations under the License.
       a = r.alloc(128),
       s = 64;
     function c(e, t) {
-      (o.call(this, "digest"),
+      (o("digest"),
         "string" == typeof t && (t = r.from(t)),
         (this._alg = e),
         (this._key = t),
@@ -147327,24 +148801,14 @@ and limitations under the License.
         f = [];
       function d(e, t, i, n, r) {
         return l
-          .importKey(
-            "raw",
-            e,
-            {
-              name: "PBKDF2",
-            },
-            false,
-            ["deriveBits"],
-          )
+          .importKey("raw", e, { name: "PBKDF2" }, false, ["deriveBits"])
           .then(function (e) {
             return l.deriveBits(
               {
                 name: "PBKDF2",
                 salt: t,
                 iterations: i,
-                hash: {
-                  name: r,
-                },
+                hash: { name: r },
               },
               e,
               n << 3,
@@ -147355,7 +148819,9 @@ and limitations under the License.
           });
       }
       e.exports = function (e, i, p, m, g, _) {
-        "function" == typeof g && ((_ = g), (g = void 0));
+        if ("function" == typeof g) {
+          ((_ = g), (g = void 0));
+        }
         var v = h[(g = g || "sha1").toLowerCase()];
         if (!v || "function" != typeof t.Promise)
           return r.nextTick(function () {
@@ -147475,7 +148941,7 @@ and limitations under the License.
         "des-ecb": r.DES,
       };
     function c(e) {
-      n.call(this);
+      n();
       var t,
         i = e.mode.toLowerCase(),
         r = s[i];
@@ -147673,10 +149139,11 @@ and limitations under the License.
           i = 0,
           n = ((this.bufferOff + e.length) / this.blockSize) | 0,
           r = new Array(n * this.blockSize);
-        0 !== this.bufferOff &&
+        if (0 !== this.bufferOff) {
           ((t += this._buffer(e, t)),
-          this.bufferOff === this.buffer.length &&
-            (i += this._flushBuffer(r, i)));
+            this.bufferOff === this.buffer.length &&
+              (i += this._flushBuffer(r, i)));
+        }
         for (
           var o = e.length - ((e.length - t) % this.blockSize);
           t < o;
@@ -147740,7 +149207,7 @@ and limitations under the License.
       ((this.tmp = new Array(2)), (this.keys = null));
     }
     function u(e) {
-      s.call(this, e);
+      s(e);
       var t = new c();
       ((this._desState = t), this.deriveKeys(t, e.key));
     }
@@ -147787,23 +149254,23 @@ and limitations under the License.
       }),
       (u.prototype._encrypt = function (e, t, i, n, r) {
         for (var o = t, s = i, c = 0; c < e.keys.length; c += 2) {
-          var u = e.keys[c],
-            l = e.keys[c + 1];
+          var u = e.keys[c];
+          var l = e.keys[c + 1];
           (a.expand(s, e.tmp, 0), (u ^= e.tmp[0]), (l ^= e.tmp[1]));
-          var h = a.substitute(u, l),
-            f = s;
-          ((s = (o ^ a.permute(h)) >>> 0), (o = f));
+          var h = a.substitute(u, l);
+          var f = s;
+          ((s = (o ^ a.permute(h)) >>> 0), (o = s));
         }
         a.rip(s, o, n, r);
       }),
       (u.prototype._decrypt = function (e, t, i, n, r) {
         for (var o = i, s = t, c = e.keys.length - 2; c >= 0; c -= 2) {
-          var u = e.keys[c],
-            l = e.keys[c + 1];
+          var u = e.keys[c];
+          var l = e.keys[c + 1];
           (a.expand(o, e.tmp, 0), (u ^= e.tmp[0]), (l ^= e.tmp[1]));
-          var h = a.substitute(u, l),
-            f = o;
-          ((o = (s ^ a.permute(h)) >>> 0), (s = f));
+          var h = a.substitute(u, l);
+          var f = o;
+          ((o = (s ^ a.permute(h)) >>> 0), (s = o));
         }
         a.rip(o, s, n, r);
       }));
@@ -147819,7 +149286,7 @@ and limitations under the License.
     }
     ((t.instantiate = function (e) {
       function t(t) {
-        (e.call(this, t), this._cbcInit());
+        (e(t), this._cbcInit());
       }
       r(t, e);
       for (var i = Object.keys(o), n = 0; n < i.length; n++) {
@@ -147843,10 +149310,10 @@ and limitations under the License.
           a = r.iv;
         if ("encrypt" === this.type) {
           for (var s = 0; s < this.blockSize; s++) a[s] ^= e[t + s];
-          o._update.call(this, a, 0, i, n);
+          o._update(a, 0, i, n);
           for (s = 0; s < this.blockSize; s++) a[s] = i[n + s];
         } else {
-          o._update.call(this, e, t, i, n);
+          o._update(e, t, i, n);
           for (s = 0; s < this.blockSize; s++) i[n + s] ^= a[s];
           for (s = 0; s < this.blockSize; s++) a[s] = e[t + s];
         }
@@ -147896,7 +149363,7 @@ and limitations under the License.
             ];
     }
     function u(e) {
-      a.call(this, e);
+      a(e);
       var t = new c(this.type, this.options.key);
       this._edeState = t;
     }
@@ -147923,7 +149390,7 @@ and limitations under the License.
       c = i(89),
       u = i(90);
     function l(e, t, i) {
-      (s.call(this),
+      (s(),
         (this._cache = new f()),
         (this._cipher = new c.AES(t)),
         (this._prev = o.from(i)),
@@ -148173,7 +149640,7 @@ and limitations under the License.
       c = i(89),
       u = i(90);
     function l(e, t, i) {
-      (s.call(this),
+      (s(),
         (this._cache = new h()),
         (this._last = void 0),
         (this._cipher = new c.AES(t)),
@@ -148501,7 +149968,7 @@ and limitations under the License.
         s = i(584),
         c = i(201);
       function u(e) {
-        r.Writable.call(this);
+        r.Writable();
         var t = c[e];
         if (!t) throw new Error("Unknown message digest");
         ((this._hashType = t.hash),
@@ -148510,7 +149977,7 @@ and limitations under the License.
           (this._signType = t.sign));
       }
       function l(e) {
-        r.Writable.call(this);
+        r.Writable();
         var t = c[e];
         if (!t) throw new Error("Unknown message digest");
         ((this._hash = n(t.hash)),
@@ -148724,9 +150191,7 @@ and limitations under the License.
         name: "Fedor Indutny",
         email: "fedor@indutny.com",
       },
-      bugs: {
-        url: "https://github.com/indutny/elliptic/issues",
-      },
+      bugs: { url: "https://github.com/indutny/elliptic/issues" },
       dependencies: {
         "bn.js": "^4.4.0",
         brorand: "^1.0.1",
@@ -148781,12 +150246,12 @@ and limitations under the License.
       r = i(11),
       o = i(25),
       a = i(214);
-    ((n.assert = o),
-      (n.toArray = a.toArray),
-      (n.zero2 = a.zero2),
-      (n.toHex = a.toHex),
-      (n.encode = a.encode),
-      (n.getNAF = function (e, t) {
+    ((t.assert = o),
+      (t.toArray = a.toArray),
+      (t.zero2 = a.zero2),
+      (t.toHex = a.toHex),
+      (t.encode = a.encode),
+      (t.getNAF = function (e, t) {
         for (var i = [], n = 1 << (t + 1), r = e.clone(); r.cmpn(1) >= 0; ) {
           var o;
           if (r.isOdd()) {
@@ -148804,15 +150269,15 @@ and limitations under the License.
         }
         return i;
       }),
-      (n.getJSF = function (e, t) {
+      (t.getJSF = function (e, t) {
         var i = [[], []];
         ((e = e.clone()), (t = t.clone()));
         for (var n = 0, r = 0; e.cmpn(-n) > 0 || t.cmpn(-r) > 0; ) {
-          var o,
-            a,
-            s,
-            c = (e.andln(3) + n) & 3,
-            u = (t.andln(3) + r) & 3;
+          var o;
+          var a;
+          var s;
+          var c = (e.andln(3) + n) & 3;
+          var u = (t.andln(3) + r) & 3;
           (3 === c && (c = -1),
             3 === u && (u = -1),
             (o =
@@ -148836,16 +150301,16 @@ and limitations under the License.
         }
         return i;
       }),
-      (n.cachedProperty = function (e, t, i) {
+      (t.cachedProperty = function (e, t, i) {
         var n = "_" + t;
         e.prototype[t] = function () {
-          return void 0 !== this[n] ? this[n] : (this[n] = i.call(this));
+          return void 0 !== this[n] ? this[n] : (this[n] = i());
         };
       }),
-      (n.parseBytes = function (e) {
+      (t.parseBytes = function (e) {
         return "string" == typeof e ? n.toArray(e, "hex") : e;
       }),
-      (n.intFromLE = function (e) {
+      (t.intFromLE = function (e) {
         return new r(e, "hex", "le");
       }));
   },
@@ -148952,9 +150417,9 @@ and limitations under the License.
           ((s[h] = f.wnd), (c[h] = f.points));
         }
         for (h = n - 1; h >= 1; h -= 2) {
-          var d = h - 1,
-            p = h;
-          if (1 === s[d] && 1 === s[p]) {
+          var d = h - 1;
+          var p = h;
+          if (1 === s[d] && 1 === s[h]) {
             var m = [t[d], null, null, t[p]];
             0 === t[d].y.cmp(t[p].y)
               ? ((m[1] = t[d].add(t[p])),
@@ -148964,21 +150429,21 @@ and limitations under the License.
                   (m[2] = t[d].add(t[p].neg())))
                 : ((m[1] = t[d].toJ().mixedAdd(t[p])),
                   (m[2] = t[d].toJ().mixedAdd(t[p].neg())));
-            var g = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
-              _ = a(i[d], i[p]);
+            var g = [-3, -1, -5, -7, 0, 7, 5, 1, 3];
+            var _ = a(i[d], i[p]);
             ((l = Math.max(_[0].length, l)),
               (u[d] = new Array(l)),
               (u[p] = new Array(l)));
             for (var v = 0; v < l; v++) {
-              var y = 0 | _[0][v],
-                b = 0 | _[1][v];
+              var y = 0 | _[0][v];
+              var b = 0 | _[1][v];
               ((u[d][v] = g[3 * (y + 1) + (b + 1)]), (u[p][v] = 0), (c[d] = m));
             }
           } else
             ((u[d] = o(i[d], s[d])),
-              (u[p] = o(i[p], s[p])),
+              (u[h] = o(i[h], s[h])),
               (l = Math.max(u[d].length, l)),
-              (l = Math.max(u[p].length, l)));
+              (l = Math.max(u[h].length, l)));
         }
         var E = this.jpoint(null, null, null),
           T = this._wnafT4;
@@ -148992,13 +150457,14 @@ and limitations under the License.
           }
           if ((h >= 0 && A++, (E = E.dblp(A)), h < 0)) break;
           for (v = 0; v < n; v++) {
-            var S,
-              C = T[v];
-            0 !== C &&
+            var S;
+            var C = T[v];
+            if (0 !== C) {
               (C > 0
                 ? (S = c[v][(C - 1) >> 1])
                 : C < 0 && (S = c[v][(-C - 1) >> 1].neg()),
-              (E = "affine" === S.type ? E.mixedAdd(S) : E.add(S)));
+                (E = "affine" === S.type ? E.mixedAdd(S) : E.add(S)));
+            }
           }
         }
         for (h = 0; h < n; h++) c[h] = null;
@@ -149106,7 +150572,7 @@ and limitations under the License.
       s = n.base,
       c = r.utils.assert;
     function u(e) {
-      (s.call(this, "short", e),
+      (s("short", e),
         (this.a = new o(e.a, 16).toRed(this.red)),
         (this.b = new o(e.b, 16).toRed(this.red)),
         (this.tinv = this.two.redInvm()),
@@ -149117,7 +150583,7 @@ and limitations under the License.
         (this._endoWnafT2 = new Array(4)));
     }
     function l(e, t, i, n) {
-      (s.BasePoint.call(this, e, "affine"),
+      (s.BasePoint(e, "affine"),
         null === t && null === i
           ? ((this.x = null), (this.y = null), (this.inf = true))
           : ((this.x = new o(t, 16)),
@@ -149130,7 +150596,7 @@ and limitations under the License.
             (this.inf = false)));
     }
     function h(e, t, i, n) {
-      (s.BasePoint.call(this, e, "jacobian"),
+      (s.BasePoint(e, "jacobian"),
         null === t && null === i && null === n
           ? ((this.x = this.curve.one),
             (this.y = this.curve.one),
@@ -149147,7 +150613,8 @@ and limitations under the License.
       (e.exports = u),
       (u.prototype._getEndomorphism = function (e) {
         if (this.zeroA && this.g && this.n && 1 === this.p.modn(3)) {
-          var t, i;
+          var t;
+          var i;
           if (e.beta) t = new o(e.beta, 16).toRed(this.red);
           else {
             var n = this._getEndoRoots(this.p);
@@ -149222,7 +150689,7 @@ and limitations under the License.
               b: r,
             },
             {
-              a: a,
+              a,
               b: s,
             },
           ]
@@ -149244,7 +150711,9 @@ and limitations under the License.
         };
       }),
       (u.prototype.pointFromX = function (e, t) {
-        (e = new o(e, 16)).red || (e = e.toRed(this.red));
+        if (!(e = new o(e, 16)).red) {
+          e = e.toRed(this.red);
+        }
         var i = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),
           n = i.redSqrt();
         if (0 !== n.redSqr().redSub(i).cmp(this.zero))
@@ -149266,9 +150735,9 @@ and limitations under the License.
           o < e.length;
           o++
         ) {
-          var a = this._endoSplit(t[o]),
-            s = e[o],
-            c = s._getBeta();
+          var a = this._endoSplit(t[o]);
+          var s = e[o];
+          var c = s._getBeta();
           (a.k1.negative && (a.k1.ineg(), (s = s.neg(true))),
             a.k2.negative && (a.k2.ineg(), (c = c.neg(true))),
             (n[2 * o] = s),
@@ -149293,10 +150762,10 @@ and limitations under the License.
           if (e && e.beta) return e.beta;
           var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
           if (e) {
-            var i = this.curve,
-              n = function (e) {
-                return i.point(e.x.redMul(i.endo.beta), e.y);
-              };
+            var i = this.curve;
+            var n = function (e) {
+              return i.point(e.x.redMul(i.endo.beta), e.y);
+            };
             ((e.beta = t),
               (t.precomputed = {
                 beta: null,
@@ -149332,7 +150801,9 @@ and limitations under the License.
           : [this.x, this.y];
       }),
       (l.fromJSON = function (e, t, i) {
-        "string" == typeof t && (t = JSON.parse(t));
+        if ("string" == typeof t) {
+          t = JSON.parse(t);
+        }
         var n = e.point(t[0], t[1], i);
         if (!t[2]) return n;
         function r(t) {
@@ -149373,7 +150844,9 @@ and limitations under the License.
         if (this.neg().eq(e)) return this.curve.point(null, null);
         if (0 === this.x.cmp(e.x)) return this.curve.point(null, null);
         var t = this.y.redSub(e.y);
-        0 !== t.cmpn(0) && (t = t.redMul(this.x.redSub(e.x).redInvm()));
+        if (0 !== t.cmpn(0)) {
+          t = t.redMul(this.x.redSub(e.x).redInvm());
+        }
         var i = t.redSqr().redISub(this.x).redISub(e.x),
           n = t.redMul(this.x.redSub(i)).redISub(this.y);
         return this.curve.point(i, n);
@@ -149431,10 +150904,10 @@ and limitations under the License.
         if (this.inf) return this;
         var t = this.curve.point(this.x, this.y.redNeg());
         if (e && this.precomputed) {
-          var i = this.precomputed,
-            n = function (e) {
-              return e.neg();
-            };
+          var i = this.precomputed;
+          var n = function (e) {
+            return e.neg();
+          };
           t.precomputed = {
             naf: i.naf && {
               wnd: i.naf.wnd,
@@ -149529,14 +151002,14 @@ and limitations under the License.
           c = s.redSqr().redSqr(),
           u = a.redAdd(a);
         for (i = 0; i < e; i++) {
-          var l = o.redSqr(),
-            h = u.redSqr(),
-            f = h.redSqr(),
-            d = l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),
-            p = o.redMul(h),
-            m = d.redSqr().redISub(p.redAdd(p)),
-            g = p.redISub(m),
-            _ = d.redMul(g);
+          var l = o.redSqr();
+          var h = u.redSqr();
+          var f = h.redSqr();
+          var d = l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c));
+          var p = o.redMul(h);
+          var m = d.redSqr().redISub(p.redAdd(p));
+          var g = p.redISub(m);
+          var _ = d.redMul(g);
           _ = _.redIAdd(_).redISub(f);
           var v = u.redMul(s);
           (i + 1 < e && (c = c.redMul(f)), (o = m), (s = v), (u = _));
@@ -149555,27 +151028,27 @@ and limitations under the License.
       (h.prototype._zeroDbl = function () {
         var e, t, i;
         if (this.zOne) {
-          var n = this.x.redSqr(),
-            r = this.y.redSqr(),
-            o = r.redSqr(),
-            a = this.x.redAdd(r).redSqr().redISub(n).redISub(o);
+          var n = this.x.redSqr();
+          var r = this.y.redSqr();
+          var o = r.redSqr();
+          var a = this.x.redAdd(r).redSqr().redISub(n).redISub(o);
           a = a.redIAdd(a);
-          var s = n.redAdd(n).redIAdd(n),
-            c = s.redSqr().redISub(a).redISub(a),
-            u = o.redIAdd(o);
+          var s = n.redAdd(n).redIAdd(n);
+          var c = s.redSqr().redISub(a).redISub(a);
+          var u = o.redIAdd(o);
           ((u = (u = u.redIAdd(u)).redIAdd(u)),
             (e = c),
             (t = s.redMul(a.redISub(c)).redISub(u)),
             (i = this.y.redAdd(this.y)));
         } else {
-          var l = this.x.redSqr(),
-            h = this.y.redSqr(),
-            f = h.redSqr(),
-            d = this.x.redAdd(h).redSqr().redISub(l).redISub(f);
+          var l = this.x.redSqr();
+          var h = this.y.redSqr();
+          var f = h.redSqr();
+          var d = this.x.redAdd(h).redSqr().redISub(l).redISub(f);
           d = d.redIAdd(d);
-          var p = l.redAdd(l).redIAdd(l),
-            m = p.redSqr(),
-            g = f.redIAdd(f);
+          var p = l.redAdd(l).redIAdd(l);
+          var m = p.redSqr();
+          var g = f.redIAdd(f);
           ((g = (g = g.redIAdd(g)).redIAdd(g)),
             (e = m.redISub(d).redISub(d)),
             (t = p.redMul(d.redISub(e)).redISub(g)),
@@ -149586,26 +151059,26 @@ and limitations under the License.
       (h.prototype._threeDbl = function () {
         var e, t, i;
         if (this.zOne) {
-          var n = this.x.redSqr(),
-            r = this.y.redSqr(),
-            o = r.redSqr(),
-            a = this.x.redAdd(r).redSqr().redISub(n).redISub(o);
+          var n = this.x.redSqr();
+          var r = this.y.redSqr();
+          var o = r.redSqr();
+          var a = this.x.redAdd(r).redSqr().redISub(n).redISub(o);
           a = a.redIAdd(a);
-          var s = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),
-            c = s.redSqr().redISub(a).redISub(a);
+          var s = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a);
+          var c = s.redSqr().redISub(a).redISub(a);
           e = c;
           var u = o.redIAdd(o);
           ((u = (u = u.redIAdd(u)).redIAdd(u)),
             (t = s.redMul(a.redISub(c)).redISub(u)),
             (i = this.y.redAdd(this.y)));
         } else {
-          var l = this.z.redSqr(),
-            h = this.y.redSqr(),
-            f = this.x.redMul(h),
-            d = this.x.redSub(l).redMul(this.x.redAdd(l));
+          var l = this.z.redSqr();
+          var h = this.y.redSqr();
+          var f = this.x.redMul(h);
+          var d = this.x.redSub(l).redMul(this.x.redAdd(l));
           d = d.redAdd(d).redIAdd(d);
-          var p = f.redIAdd(f),
-            m = (p = p.redIAdd(p)).redAdd(p);
+          var p = f.redIAdd(f);
+          var m = (p = p.redIAdd(p)).redAdd(p);
           ((e = d.redSqr().redISub(m)),
             (i = this.y.redAdd(this.z).redSqr().redISub(h).redISub(l)));
           var g = h.redSqr();
@@ -149702,7 +151175,7 @@ and limitations under the License.
       a = n.base,
       s = i(17).utils;
     function c(e) {
-      (a.call(this, "mont", e),
+      (a("mont", e),
         (this.a = new r(e.a, 16).toRed(this.red)),
         (this.b = new r(e.b, 16).toRed(this.red)),
         (this.i4 = new r(4).toRed(this.red).redInvm()),
@@ -149710,7 +151183,7 @@ and limitations under the License.
         (this.a24 = this.i4.redMul(this.a.redAdd(this.two))));
     }
     function u(e, t, i) {
-      (a.BasePoint.call(this, e, "projective"),
+      (a.BasePoint(e, "projective"),
         null === t && null === i
           ? ((this.x = this.curve.one), (this.z = this.curve.zero))
           : ((this.x = new r(t, 16)),
@@ -149821,7 +151294,7 @@ and limitations under the License.
       ((this.twisted = 1 != (0 | e.a)),
         (this.mOneA = this.twisted && -1 == (0 | e.a)),
         (this.extended = this.mOneA),
-        s.call(this, "edwards", e),
+        s("edwards", e),
         (this.a = new o(e.a, 16).umod(this.red.m)),
         (this.a = this.a.toRed(this.red)),
         (this.c = new o(e.c, 16).toRed(this.red)),
@@ -149832,7 +151305,7 @@ and limitations under the License.
         (this.oneC = 1 == (0 | e.c)));
     }
     function l(e, t, i, n, r) {
-      (s.BasePoint.call(this, e, "projective"),
+      (s.BasePoint(e, "projective"),
         null === t && null === i && null === n
           ? ((this.x = this.curve.zero),
             (this.y = this.curve.one),
@@ -149865,7 +151338,9 @@ and limitations under the License.
         return this.point(e, t, i, n);
       }),
       (u.prototype.pointFromX = function (e, t) {
-        (e = new o(e, 16)).red || (e = e.toRed(this.red));
+        if (!(e = new o(e, 16)).red) {
+          e = e.toRed(this.red);
+        }
         var i = e.redSqr(),
           n = this.c2.redSub(this.a.redMul(i)),
           r = this.one.redSub(this.c2.redMul(this.d).redMul(i)),
@@ -149877,7 +151352,9 @@ and limitations under the License.
         return (((t && !c) || (!t && c)) && (s = s.redNeg()), this.point(e, s));
       }),
       (u.prototype.pointFromY = function (e, t) {
-        (e = new o(e, 16)).red || (e = e.toRed(this.red));
+        if (!(e = new o(e, 16)).red) {
+          e = e.toRed(this.red);
+        }
         var i = e.redSqr(),
           n = i.redSub(this.c2),
           r = i.redMul(this.d).redMul(this.c2).redSub(this.a),
@@ -149961,8 +151438,8 @@ and limitations under the License.
               (t = a.redMul(u.redSub(o))),
               (i = a.redSqr().redSub(a).redSub(a)));
           else {
-            var s = this.z.redSqr(),
-              c = a.redSub(s).redISub(s);
+            var s = this.z.redSqr();
+            var c = a.redSub(s).redISub(s);
             ((e = n.redSub(r).redISub(o).redMul(c)),
               (t = a.redMul(u.redSub(o))),
               (i = a.redMul(c)));
@@ -150123,7 +151600,7 @@ and limitations under the License.
         },
       });
     }
-    ((r.PresetCurve = c),
+    ((t.PresetCurve = c),
       u("p192", {
         type: "short",
         prime: "p192",
@@ -150276,7 +151753,7 @@ and limitations under the License.
       h = [1518500249, 1859775393, 2400959708, 3395469782];
     function f() {
       if (!(this instanceof f)) return new f();
-      (l.call(this),
+      (l(),
         (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
         (this.W = new Array(80)));
     }
@@ -150296,8 +151773,8 @@ and limitations under the License.
           f = this.h[3],
           d = this.h[4];
         for (n = 0; n < i.length; n++) {
-          var p = ~~(n / 20),
-            m = c(a(r, 5), u(p, o, l, f), d, i[n], h[p]);
+          var p = ~~(n / 20);
+          var m = c(a(r, 5), u(p, o, l, f), d, i[n], h[p]);
           ((d = f), (f = l), (l = a(o, 30)), (o = r), (r = m));
         }
         ((this.h[0] = s(this.h[0], r)),
@@ -150318,7 +151795,7 @@ and limitations under the License.
       r = i(216);
     function o() {
       if (!(this instanceof o)) return new o();
-      (r.call(this),
+      (r(),
         (this.h = [
           3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
           1694076839, 3204075428,
@@ -150342,7 +151819,7 @@ and limitations under the License.
       r = i(217);
     function o() {
       if (!(this instanceof o)) return new o();
-      (r.call(this),
+      (r(),
         (this.h = [
           3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
           355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
@@ -150372,7 +151849,7 @@ and limitations under the License.
       u = r.BlockHash;
     function l() {
       if (!(this instanceof l)) return new l();
-      (u.call(this),
+      (u(),
         (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
         (this.endian = "little"));
     }
@@ -151321,10 +152798,7 @@ and limitations under the License.
       ("string" == typeof e &&
         (s(a.curves.hasOwnProperty(e), "Unknown curve " + e),
         (e = a.curves[e])),
-        e instanceof a.curves.PresetCurve &&
-          (e = {
-            curve: e,
-          }),
+        e instanceof a.curves.PresetCurve && (e = { curve: e }),
         (this.curve = e.curve.curve),
         (this.n = this.curve.n),
         (this.nh = this.n.ushrn(1)),
@@ -151344,7 +152818,9 @@ and limitations under the License.
         return c.fromPublic(this, e, t);
       }),
       (l.prototype.genKeyPair = function (e) {
-        e || (e = {});
+        if (!e) {
+          e = {};
+        }
         for (
           var t = new o({
               hash: this.hash,
@@ -151396,8 +152872,8 @@ and limitations under the License.
           ) {
             var m = this.g.mul(p);
             if (!m.isInfinity()) {
-              var g = m.getX(),
-                _ = g.umod(this.n);
+              var g = m.getX();
+              var _ = g.umod(this.n);
               if (0 !== _.cmpn(0)) {
                 var v = p.invm(this.n).mul(_.mul(t.getPrivate()).iadd(e));
                 if (0 !== (v = v.umod(this.n)).cmpn(0)) {
@@ -151643,13 +153119,14 @@ and limitations under the License.
       o = r.assert;
     function a(e, t) {
       if (e instanceof a) return e;
-      this._importDER(e, t) ||
+      if (!this._importDER(e, t)) {
         (o(e.r && e.s, "Signature without r or s"),
-        (this.r = new n(e.r, 16)),
-        (this.s = new n(e.s, 16)),
-        void 0 === e.recoveryParam
-          ? (this.recoveryParam = null)
-          : (this.recoveryParam = e.recoveryParam));
+          (this.r = new n(e.r, 16)),
+          (this.s = new n(e.s, 16)),
+          void 0 === e.recoveryParam
+            ? (this.recoveryParam = null)
+            : (this.recoveryParam = e.recoveryParam));
+      }
     }
     function s() {
       this.place = 0;
@@ -151806,18 +153283,10 @@ and limitations under the License.
         e.isPoint(t.pub) ? (this._pub = t.pub) : (this._pubBytes = o(t.pub)));
     }
     ((s.fromPublic = function (e, t) {
-      return t instanceof s
-        ? t
-        : new s(e, {
-            pub: t,
-          });
+      return t instanceof s ? t : new s(e, { pub: t });
     }),
       (s.fromSecret = function (e, t) {
-        return t instanceof s
-          ? t
-          : new s(e, {
-              secret: t,
-            });
+        return t instanceof s ? t : new s(e, { secret: t });
       }),
       (s.prototype.secret = function () {
         return this._secret;
@@ -152023,9 +153492,7 @@ and limitations under the License.
     });
     t.ECPrivateKey = h;
     var f = n.define("ECParameters", function () {
-      this.choice({
-        namedCurve: this.objid(),
-      });
+      this.choice({ namedCurve: this.objid() });
     });
     t.signature = n.define("signature", function () {
       this.seq().obj(this.key("r").int(), this.key("s").int());
@@ -152059,7 +153526,7 @@ and limitations under the License.
         return (
           r(t, e),
           (t.prototype._initNamed = function (t) {
-            e.call(this, t);
+            e(t);
           }),
           new t(this)
         );
@@ -152187,16 +153654,22 @@ and limitations under the License.
           i[t] = e[t];
         }),
         forEach(globals, function (t) {
-          e[t] && (i[t] = e[t]);
+          if (e[t]) {
+            i[t] = e[t];
+          }
         }));
       var o = Object_keys(i),
         a = n.call(i, this.code);
       return (
         forEach(Object_keys(i), function (t) {
-          (t in e || -1 === indexOf(o, t)) && (e[t] = i[t]);
+          if (t in e || -1 === indexOf(o, t)) {
+            e[t] = i[t];
+          }
         }),
         forEach(globals, function (t) {
-          t in e || defineProp(e, t, i[t]);
+          if (!(t in e)) {
+            defineProp(e, t, i[t]);
+          }
         }),
         document.body.removeChild(t),
         a
@@ -152464,7 +153937,7 @@ and limitations under the License.
       (l.prototype._init = function (e) {
         var t = this._baseState;
         (s(null === t.parent),
-          e.call(this),
+          e(),
           (t.children = t.children.filter(function (e) {
             return e._baseState.parent === this;
           }, this)),
@@ -152492,7 +153965,9 @@ and limitations under the License.
               var t = {};
               return (
                 Object.keys(e).forEach(function (i) {
-                  i == (0 | i) && (i |= 0);
+                  if (i == (0 | i)) {
+                    i |= 0;
+                  }
                   var n = e[i];
                   t[n] = i;
                 }),
@@ -152741,7 +154216,7 @@ and limitations under the License.
             }
             return true;
           }, this),
-          r ? n : e.error("Choice not matched")
+          false ? null : e.error("Choice not matched")
         );
       }),
       (l.prototype._createEncoderBuffer = function (e) {
@@ -152802,8 +154277,8 @@ and limitations under the License.
             ? (a = this._getUse(o.use, i)._encode(e, t))
             : ((s = this._encodePrimitive(o.tag, e)), (c = true));
         if (!o.any && null === o.choice) {
-          var l = null !== o.implicit ? o.implicit : o.tag,
-            h = null === o.implicit ? "universal" : "context";
+          var l = null !== o.implicit ? o.implicit : o.tag;
+          var h = null === o.implicit ? "universal" : "context";
           null === l
             ? null === o.use && t.error("Tag could be omitted only for .use()")
             : null === o.use && (a = this._encodeComposite(l, c, h, s));
@@ -152891,14 +154366,14 @@ and limitations under the License.
   },
   function (e, t, i) {
     var n = t;
-    ((n.der = i(220)), (n.pem = i(578)));
+    ((t.der = i(220)), (t.pem = i(578)));
   },
   function (e, t, i) {
     var n = i(1),
       r = i(9).Buffer,
       o = i(220);
     function a(e) {
-      (o.call(this, e), (this.enc = "pem"));
+      (o(e), (this.enc = "pem"));
     }
     (n(a, o),
       (e.exports = a),
@@ -152929,24 +154404,24 @@ and limitations under the License.
         var h = i.slice(s + 1, c).join("");
         h.replace(/[^a-z0-9\+\/=]+/gi, "");
         var f = new r(h, "base64");
-        return o.prototype.decode.call(this, f, t);
+        return o.prototype.decode(f, t);
       }));
   },
   function (e, t, i) {
     var n = t;
-    ((n.der = i(221)), (n.pem = i(580)));
+    ((t.der = i(221)), (t.pem = i(580)));
   },
   function (e, t, i) {
     var n = i(1),
       r = i(221);
     function o(e) {
-      (r.call(this, e), (this.enc = "pem"));
+      (r(e), (this.enc = "pem"));
     }
     (n(o, r),
       (e.exports = o),
       (o.prototype.encode = function (e, t) {
         for (
-          var i = r.prototype.encode.call(this, e).toString("base64"),
+          var i = r.prototype.encode(e).toString("base64"),
             n = ["-----BEGIN " + t.label + "-----"],
             o = 0;
           o < i.length;
@@ -152987,9 +154462,7 @@ and limitations under the License.
         this.seqof(c);
       }),
       l = n.define("Name", function () {
-        this.choice({
-          rdnSequence: this.use(u),
-        });
+        this.choice({ rdnSequence: this.use(u) });
       }),
       h = n.define("Validity", function () {
         this.seq().obj(
@@ -153057,12 +154530,12 @@ and limitations under the License.
           u = e.toString(),
           l = u.match(n);
         if (l) {
-          var h = "aes" + l[1],
-            f = new t(l[2], "hex"),
-            d = new t(l[3].replace(/[\r\n]/g, ""), "base64"),
-            p = a(i, f.slice(0, 8), parseInt(l[1], 10)).key,
-            m = [],
-            g = s.createDecipheriv(h, p, f);
+          var h = "aes" + l[1];
+          var f = new t(l[2], "hex");
+          var d = new t(l[3].replace(/[\r\n]/g, ""), "base64");
+          var p = a(i, f.slice(0, 8), parseInt(l[1], 10)).key;
+          var m = [];
+          var g = s.createDecipheriv(h, p, f);
           (m.push(g.update(d)), m.push(g.final()), (c = t.concat(m)));
         } else {
           var _ = u.match(o);
@@ -153192,15 +154665,14 @@ and limitations under the License.
       };
       function a(e) {
         ((this.curveType = o[e]),
-          this.curveType ||
-            (this.curveType = {
-              name: e,
-            }),
+          this.curveType || (this.curveType = { name: e }),
           (this.curve = new n.ec(this.curveType.name)),
           (this.keys = void 0));
       }
       function s(e, i, n) {
-        Array.isArray(e) || (e = e.toArray());
+        if (!Array.isArray(e)) {
+          e = e.toArray();
+        }
         var r = new t(e);
         if (n && r.length < n) {
           var o = new t(n - r.length);
@@ -153367,8 +154839,9 @@ and limitations under the License.
               ((e = l.from(e)), (t = l.from(t)));
               var i = 0,
                 n = e.length;
-              e.length !== t.length &&
+              if (e.length !== t.length) {
                 (i++, (n = Math.min(e.length, t.length)));
+              }
               var r = -1;
               for (; ++r < n; ) i += e[r] ^ t[r];
               return i;
@@ -153376,9 +154849,9 @@ and limitations under the License.
           )
             throw new Error("decryption error");
           var d = a;
-          for (; 0 === f[d]; ) d++;
+          for (; 0 === f[a]; ) d++;
           if (1 !== f[d++]) throw new Error("decryption error");
-          return f.slice(d);
+          return f.slice(a);
         })(d, f);
       if (1 === h)
         return (function (e, t, i) {
@@ -153391,10 +154864,15 @@ and limitations under the License.
               break;
             }
           var a = t.slice(2, r - 1);
-          (("0002" !== n.toString("hex") && !i) ||
-            ("0001" !== n.toString("hex") && i)) &&
+          if (
+            ("0002" !== n.toString("hex") && !i) ||
+            ("0001" !== n.toString("hex") && i)
+          ) {
+            o++;
+          }
+          if (a.length < 8) {
             o++;
-          a.length < 8 && o++;
+          }
           if (o) throw new Error("decryption error");
           return t.slice(r);
         })(0, f, i);
@@ -153430,8 +154908,8 @@ and limitations under the License.
       }
       function d(e, t, i, r) {
         if (n.browser) {
-          var o = e.buffer,
-            s = new Uint8Array(o, t, i);
+          var o = e.buffer;
+          var s = new Uint8Array(o, t, i);
           return (
             u.getRandomValues(s),
             r
@@ -153460,7 +154938,9 @@ and limitations under the License.
             return (h(i, t.length), f(n, i, t.length), d(t, i, n, r));
           }),
           (t.randomFillSync = function (t, i, n) {
-            void 0 === i && (i = 0);
+            if (void 0 === i) {
+              i = 0;
+            }
             if (!(s.isBuffer(t) || t instanceof e.Uint8Array))
               throw new TypeError(
                 '"buf" argument must be a Buffer or Uint8Array',
